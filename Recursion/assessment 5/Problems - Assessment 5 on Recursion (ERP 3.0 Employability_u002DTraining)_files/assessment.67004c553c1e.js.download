(()=>{var e,t,n,r,i,o,a,s={47778:(e,t,n)=>{"use strict";n(46629),n(39398),n(898),n(35212),n(51473),n(18469),n(81024),n(57148),n(54529),n(29888),n(76065),n.g._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),n.g._babelPolyfill=!0},67412:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function u(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function d(e){return e.length}function p(e){return e.length}function h(e,t){return t.push(e),e}var v=1,m=1,y=0,g=0,b=0,_="";function w(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:v,column:m,length:a,return:""}}function E(e,t){return a(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=g>0?l(_,--g):0,m--,10===b&&(m=1,v--),b}function T(){return b=g<y?l(_,g++):0,m++,10===b&&(m=1,v++),b}function C(){return l(_,g)}function O(){return g}function I(e,t){return f(_,e,t)}function k(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return v=m=1,y=d(_=e),g=0,[]}function P(e){return _="",e}function R(e){return s(I(g-1,D(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(b=C())&&b<33;)T();return k(e)>2||k(b)>3?"":" "}function x(e,t){for(;--t&&T()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return I(e,O()+(t<6&&32==C()&&32==T()))}function D(e){for(;T();)switch(b){case e:return g;case 34:case 39:34!==e&&39!==e&&D(b);break;case 40:41===e&&D(e);break;case 92:T()}return g}function L(e,t){for(;T()&&e+b!==57&&(e+b!==84||47!==C()););return"/*"+I(t,g-1)+"*"+o(47===e?e:T())}function M(e){for(;!k(C());)T();return I(e,g)}var j="-ms-",U="-moz-",F="-webkit-",B="comm",V="rule",H="decl",z="@keyframes";function G(e,t){for(var n="",r=p(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@import":case H:return e.return=e.return||e.value;case B:return"";case z:return e.return=e.value+"{"+G(e.children,r)+"}";case V:e.value=e.props.join(",")}return d(n=G(e.children,r))?e.return=e.value+"{"+n+"}":""}function q(e,t){switch(function(e,t){return(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3)}(e,t)){case 5103:return F+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return F+e+U+e+j+e+e;case 6828:case 4268:return F+e+j+e+e;case 6165:return F+e+j+"flex-"+e+e;case 5187:return F+e+u(e,/(\w+).+(:[^]+)/,F+"box-$1$2"+j+"flex-$1$2")+e;case 5443:return F+e+j+"flex-item-"+u(e,/flex-|-self/,"")+e;case 4675:return F+e+j+"flex-line-pack"+u(e,/align-content|flex-|-self/,"")+e;case 5548:return F+e+j+u(e,"shrink","negative")+e;case 5292:return F+e+j+u(e,"basis","preferred-size")+e;case 6060:return F+"box-"+u(e,"-grow","")+F+e+j+u(e,"grow","positive")+e;case 4554:return F+u(e,/([^-])(transform)/g,"$1"+F+"$2")+e;case 6187:return u(u(u(e,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),e,"")+e;case 5495:case 3959:return u(e,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return u(u(e,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+j+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+e+e;case 4095:case 3583:case 4068:case 2532:return u(e,/(.+)-inline(.+)/,F+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return u(e,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+U+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?q(u(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,d(e)-3-(~c(e,"!important")&&10))){case 107:return u(e,":",":"+F)+e;case 101:return u(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+F+(45===l(e,14)?"inline-":"")+"box$3$1"+F+"$2$3$1"+j+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return F+e+j+u(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return F+e+j+u(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return F+e+j+u(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return F+e+j+e+e}return e}function $(e){return P(K("",null,null,null,[""],e=A(e),0,[0],e))}function K(e,t,n,r,i,a,s,l,f){for(var p=0,v=0,m=s,y=0,g=0,b=0,_=1,w=1,E=1,I=0,k="",A=i,P=a,D=r,j=k;w;)switch(b=I,I=T()){case 40:if(108!=b&&58==j.charCodeAt(m-1)){-1!=c(j+=u(R(I),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:j+=R(I);break;case 9:case 10:case 13:case 32:j+=N(b);break;case 92:j+=x(O()-1,7);continue;case 47:switch(C()){case 42:case 47:h(Y(L(T(),O()),t,n),f);break;default:j+="/"}break;case 123*_:l[p++]=d(j)*E;case 125*_:case 59:case 0:switch(I){case 0:case 125:w=0;case 59+v:g>0&&d(j)-m&&h(g>32?J(j+";",r,n,m-1):J(u(j," ","")+";",r,n,m-2),f);break;case 59:j+=";";default:if(h(D=Q(j,t,n,p,v,i,l,k,A=[],P=[],m),a),123===I)if(0===v)K(j,t,D,D,A,a,m,l,P);else switch(y){case 100:case 109:case 115:K(e,D,D,r&&h(Q(e,D,D,0,0,i,l,k,i,A=[],m),P),i,P,m,l,r?A:P);break;default:K(j,D,D,D,[""],P,0,l,P)}}p=v=g=0,_=E=1,k=j="",m=s;break;case 58:m=1+d(j),g=b;default:if(_<1)if(123==I)--_;else if(125==I&&0==_++&&125==S())continue;switch(j+=o(I),I*_){case 38:E=v>0?1:(j+="\f",-1);break;case 44:l[p++]=(d(j)-1)*E,E=1;break;case 64:45===C()&&(j+=R(T())),y=C(),v=m=d(k=j+=M(O())),I++;break;case 45:45===b&&2==d(j)&&(_=0)}}return a}function Q(e,t,n,r,o,a,c,l,d,h,v){for(var m=o-1,y=0===o?a:[""],g=p(y),b=0,_=0,E=0;b<r;++b)for(var S=0,T=f(e,m+1,m=i(_=c[b])),C=e;S<g;++S)(C=s(_>0?y[S]+" "+T:u(T,/&\f/g,y[S])))&&(d[E++]=C);return w(e,t,n,0===o?V:l,d,h,v)}function Y(e,t,n){return w(e,t,n,B,o(b),f(e,2,-2),0)}function J(e,t,n,r){return w(e,t,n,H,f(e,0,r),f(e,r+1,-1),r)}var Z=function(e,t,n){for(var r=0,i=0;r=i,i=C(),38===r&&12===i&&(t[n]=1),!k(i);)T();return I(e,g)},X=function(e,t){return P(function(e,t){var n=-1,r=44;do{switch(k(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=Z(g-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=T());return e}(A(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],o=X(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case H:e.return=q(e.value,e.length);break;case z:return G([E(e,{value:u(e.value,"@","@"+F)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return G([E(e,{props:[u(t,/:(read-\w+)/,":"+U+"$1")]})],r);case"::placeholder":return G([E(e,{props:[u(t,/:(plac\w+)/,":"+F+"input-$1")]}),E(e,{props:[u(t,/:(plac\w+)/,":"+U+"$1")]}),E(e,{props:[u(t,/:(plac\w+)/,j+"input-$1")]})],r)}return""}))}}];const ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,a,s={},u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;u.push(e)}));var c,l,f,d,h=[W,(d=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],v=(l=[te,ne].concat(i,h),f=p(l),function(e,t,n,r){for(var i="",o=0;o<f;o++)i+=l[o](e,t,n,r)||"";return i});a=function(e,t,n,r){c=n,G($(e?e+"{"+t.styles+"}":t.styles),v),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return m.sheet.hydrate(u),m}},49399:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(57736),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const o=(0,r.Z)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},57736:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},60664:(e,t,n)=>{"use strict";n.d(t,{O:()=>v});const r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};const i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function o(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},l=o((function(e){return u(e)?e:e.replace(a,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(s,(function(e,t,n){return p={name:t,styles:n,next:p},t}))}return 1===i[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)p={name:r.name,styles:r.styles,next:p},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":c(a)&&(r+=l(o)+":"+f(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=d(e,t,a);switch(o){case"animation":case"animationName":r+=l(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)c(a[u])&&(r+=l(o)+":"+f(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=p,o=n(e);return p=i,d(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var p,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";p=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=d(n,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=d(n,t,e[s]),i&&(o+=a[s]);h.lastIndex=0;for(var u,c="";null!==(u=h.exec(o));)c+="-"+u[1];return{name:r(o)+c,styles:o,next:p}}},25983:(e,t,n)=>{"use strict";n.d(t,{My:()=>o,fp:()=>r,hC:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0);o=o.next}while(void 0!==o)}}},44458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(10634),a=n(36276),s=n(50615),u=n(19431),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",d="[DEFAULT]",p=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),h=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var f=l.value;this._addComponent(f)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=d),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=d),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){h.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m="7.20.0";var y=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=p[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void h.warn(u.join(" "))}c(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(e,t)},apps:null,SDK_VERSION:m,INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||d,!a.contains(t,e))throw l.create("no-app",{appName:e});return t[e]}function c(s){var u,c,f=s.name;if(n.has(f))return h.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===s.type?r[f]:null;if(n.set(f,s),"PUBLIC"===s.type){var d=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[f])throw l.create("invalid-app-argument",{appName:f});return e[f]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),r[f]=d,e.prototype[f]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,f).apply(this,s.multipleInstances?e:[])}}try{for(var p=o.__values(Object.keys(t)),v=p.next();!v.done;v=p.next()){var m=v.value;t[m]._addComponent(s)}}catch(e){u={error:e}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[f]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=y.initializeApp;y.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),_.apply(void 0,e)};var w=y;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion(f,"0.6.11",t),e.registerVersion("fire-js","")}(w),t.default=w,t.firebase=w},50615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10634),i=n(36276),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:a,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService(a)}catch(e){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService(l);c.resolve(f)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spread(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return e===a?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=u,t.Provider=s},81313:(e,t,n)=>{"use strict";var r=n(5806);var i=n(10634),o=n(44458),a=n(19431),s=n(36276),u=n(57758),c=n(50615);var l=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(o),f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(t,e),t}(Error),p=new a.Logger("@firebase/firestore");function h(){return p.logLevel}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(p.logLevel<=a.LogLevel.DEBUG){var r=t.map(g);p.debug.apply(p,i.__spreadArrays(["Firestore (7.20.0): "+e],r))}}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(p.logLevel<=a.LogLevel.ERROR){var r=t.map(g);p.error.apply(p,i.__spreadArrays(["Firestore (7.20.0): "+e],r))}}function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(p.logLevel<=a.LogLevel.WARN){var r=t.map(g);p.warn.apply(p,i.__spreadArrays(["Firestore (7.20.0): "+e],r))}}function g(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function b(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (7.20.0) INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function _(e,t){e||b()}function w(e,t){return e}function E(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function S(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function T(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var C=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&b(),void 0===n?n=e.length-t:n>e.length-t&&b(),this.segments=e,this.offset=t,this.t=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.i(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.o(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.u=function(e){return e=void 0===e?1:e,this.o(this.segments,this.offset+e,this.length-e)},e.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},e.prototype.l=function(){return this.segments[this.offset]},e.prototype._=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.m=function(){return 0===this.length},e.prototype.T=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.I=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},e.i=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.prototype.R=function(){return this.A().join("/")},t.prototype.toString=function(){return this.R()},t.P=function(e){if(e.indexOf("//")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.g=function(){return new t([])},t}(C),I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.V=function(e){return I.test(e)},t.prototype.R=function(){return this.A().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.V(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.R()},t.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},t.v=function(){return new t(["__name__"])},t.S=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new d(f.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new d(f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new d(f.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.g=function(){return new t([])},t}(C),A=function(){function e(e){this.path=e}return e.D=function(t){return new e(O.P(t))},e.C=function(t){return new e(O.P(t).u(5))},e.prototype.N=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===O.i(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.i=function(e,t){return O.i(e.path,t.path)},e.F=function(e){return e.length%2==0},e.$=function(t){return new e(new O(t.slice()))},e}();function P(e,t){if(0!==t.length)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+K(t.length,"argument")+".")}function R(e,t,n){if(t.length!==n)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function N(e,t,n){if(t.length<n)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires at least "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function x(e,t,n,r){if(t.length<n||t.length>r)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+K(t.length,"argument")+".")}function D(e,t,n,r){B(e,t,$(n)+" argument",r)}function L(e,t,n,r){void 0!==r&&D(e,t,n,r)}function M(e,t,n,r){B(e,t,n+" option",r)}function j(e,t,n,r){void 0!==r&&M(e,t,n,r)}function U(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(H(u))}var c=H(r);throw new d(f.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function F(e,t,n,r){if(!t.some((function(e){return e===r})))throw new d(f.INVALID_ARGUMENT,"Invalid value "+H(r)+" provided to function "+e+"() for its "+$(n)+" argument. Acceptable values: "+t.join(", "));return r}function B(e,t,n,r){if(!("object"===t?V(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=H(r);throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function V(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function H(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":b()}function z(e,t,n){if(void 0===n)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+$(t)+" argument, but it was undefined.")}function G(e,t,n){S(t,(function(t,r){if(n.indexOf(t)<0)throw new d(f.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function W(e,t,n,r){var i=H(r);return new d(f.INVALID_ARGUMENT,"Function "+e+"() requires its "+$(n)+" argument to be a "+t+", but it was: "+i)}function q(e,t,n){if(n<=0)throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires its "+$(t)+" argument to be a positive number, but it was: "+n+".")}function $(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function K(e,t){return e+" "+t+(1===e?"":"s")}function Q(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Y=function(){function e(){}return e.k=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Q(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function J(e,t){return e<t?-1:e>t?1:0}function Z(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function X(e){return e+"\0"}var ee=function(){function e(e){this.M=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.M,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.M)},e.prototype.O=function(){return 2*this.M.length},e.prototype.L=function(e){return J(this.M,e.M)},e.prototype.isEqual=function(e){return this.M===e.M},e}();ee.B=new ee("");var te=function(){function e(e){this.q=e}return e.fromBase64String=function(t){try{return new e(ee.fromBase64String(t))}catch(t){throw new d(f.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(ee.fromUint8Array(t))},e.prototype.toBase64=function(){return this.q.toBase64()},e.prototype.toUint8Array=function(){return this.q.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.q.isEqual(e.q)},e}();function ne(){if("undefined"==typeof Uint8Array)throw new d(f.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function re(){if("undefined"==typeof atob)throw new d(f.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.fromBase64String=function(e){R("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,e),re();try{return new t(ee.fromBase64String(e))}catch(e){throw new d(f.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(R("Blob.fromUint8Array",arguments,1),ne(),!(e instanceof Uint8Array))throw W("Blob.fromUint8Array","Uint8Array",1,e);return new t(ee.fromUint8Array(e))},t.prototype.toBase64=function(){return R("Blob.toBase64",arguments,0),re(),e.prototype.toBase64.call(this)},t.prototype.toUint8Array=function(){return R("Blob.toUint8Array",arguments,0),ne(),e.prototype.toUint8Array.call(this)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(te),oe=function(e,t,n,r,i){this.U=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},ae=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.L=function(e){return J(this.projectId,e.projectId)||J(this.database,e.database)},e}(),se=function(){function e(e,t){this.j=e,this.K=t,this.G={}}return e.prototype.get=function(e){var t=this.j(e),n=this.G[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.K(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.j(e),r=this.G[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.K(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.G[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.j(e),n=this.G[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.K(n[r][0],e))return 1===n.length?delete this.G[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){S(this.G,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.m=function(){return T(this.G)},e}(),ue=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.H=function(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ce=function(){function e(e){this.timestamp=e}return e.Y=function(t){return new e(t)},e.min=function(){return new e(new ue(0,0))},e.prototype.L=function(e){return this.timestamp.H(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.X=function(){return this.timestamp},e}();function le(e){return null==e}function fe(e){return-0===e&&1/e==-1/0}function de(e){return"number"==typeof e&&Number.isInteger(e)&&!fe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var pe=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Z=null};function he(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new pe(e,t,n,r,i,o,a)}function ve(e){var t=w(e);if(null===t.Z){var n=t.path.R();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.R()+e.op.toString()+ot(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.R()+t.dir;var t})).join(","),le(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ur(t.startAt)),t.endAt&&(n+="|ub:",n+=ur(t.endAt)),t.Z=n}return t.Z}function me(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!pr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!tt(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lr(e.startAt,t.startAt)&&lr(e.endAt,t.endAt)}function ye(e){return A.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ge,be,_e=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ce.min()),void 0===o&&(o=ce.min()),void 0===a&&(a=ee.B),this.target=e,this.targetId=t,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.nt=function(t){return new e(this.target,this.targetId,this.tt,t,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.st=function(t,n){return new e(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.it=function(t){return new e(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,t,this.resumeToken)},e}(),we=function(e){this.count=e};function Ee(e){switch(e){case f.OK:return b();case f.CANCELLED:case f.UNKNOWN:case f.DEADLINE_EXCEEDED:case f.RESOURCE_EXHAUSTED:case f.INTERNAL:case f.UNAVAILABLE:case f.UNAUTHENTICATED:return!1;case f.INVALID_ARGUMENT:case f.NOT_FOUND:case f.ALREADY_EXISTS:case f.PERMISSION_DENIED:case f.FAILED_PRECONDITION:case f.ABORTED:case f.OUT_OF_RANGE:case f.UNIMPLEMENTED:case f.DATA_LOSS:return!0;default:return b()}}function Se(e){if(void 0===e)return m("GRPC error has no .code"),f.UNKNOWN;switch(e){case ge.OK:return f.OK;case ge.CANCELLED:return f.CANCELLED;case ge.UNKNOWN:return f.UNKNOWN;case ge.DEADLINE_EXCEEDED:return f.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return f.RESOURCE_EXHAUSTED;case ge.INTERNAL:return f.INTERNAL;case ge.UNAVAILABLE:return f.UNAVAILABLE;case ge.UNAUTHENTICATED:return f.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return f.INVALID_ARGUMENT;case ge.NOT_FOUND:return f.NOT_FOUND;case ge.ALREADY_EXISTS:return f.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return f.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return f.FAILED_PRECONDITION;case ge.ABORTED:return f.ABORTED;case ge.OUT_OF_RANGE:return f.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return f.UNIMPLEMENTED;case ge.DATA_LOSS:return f.DATA_LOSS;default:return b()}}(be=ge||(ge={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var Te=function(){function e(e,t){this.i=e,this.root=t||Oe.EMPTY}return e.prototype.rt=function(t,n){return new e(this.i,this.root.rt(t,n,this.i).copy(null,null,Oe.ot,null,null))},e.prototype.remove=function(t){return new e(this.i,this.root.remove(t,this.i).copy(null,null,Oe.ot,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.m();){var n=this.i(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.m();){var r=this.i(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.m=function(){return this.root.m()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.at=function(){return this.root.at()},e.prototype.ct=function(){return this.root.ct()},e.prototype.ut=function(e){return this.root.ut(e)},e.prototype.forEach=function(e){this.ut((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.ut((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.ht=function(e){return this.root.ht(e)},e.prototype.lt=function(){return new Ce(this.root,null,this.i,!1)},e.prototype._t=function(e){return new Ce(this.root,e,this.i,!1)},e.prototype.ft=function(){return new Ce(this.root,null,this.i,!0)},e.prototype.dt=function(e){return new Ce(this.root,e,this.i,!0)},e}(),Ce=function(){function e(e,t,n,r){this.wt=r,this.Tt=[];for(var i=1;!e.m();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.wt?e.left:e.right;else{if(0===i){this.Tt.push(e);break}this.Tt.push(e),e=this.wt?e.right:e.left}}return e.prototype.Et=function(){var e=this.Tt.pop(),t={key:e.key,value:e.value};if(this.wt)for(e=e.left;!e.m();)this.Tt.push(e),e=e.right;else for(e=e.right;!e.m();)this.Tt.push(e),e=e.left;return t},e.prototype.It=function(){return this.Tt.length>0},e.prototype.At=function(){if(0===this.Tt.length)return null;var e=this.Tt[this.Tt.length-1];return{key:e.key,value:e.value}},e}(),Oe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.m=function(){return!1},e.prototype.ut=function(e){return this.left.ut(e)||e(this.key,this.value)||this.right.ut(e)},e.prototype.ht=function(e){return this.right.ht(e)||e(this.key,this.value)||this.left.ht(e)},e.prototype.min=function(){return this.left.m()?this:this.left.min()},e.prototype.at=function(){return this.min().key},e.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},e.prototype.rt=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.rt(e,t,n))).Rt()},e.prototype.Pt=function(){if(this.left.m())return e.EMPTY;var t=this;return t.left.gt()||t.left.left.gt()||(t=t.yt()),(t=t.copy(null,null,null,t.left.Pt(),null)).Rt()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.m()||i.left.gt()||i.left.left.gt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.gt()&&(i=i.Vt()),i.right.m()||i.right.gt()||i.right.left.gt()||(i=i.bt()),0===n(t,i.key)){if(i.right.m())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.Rt()},e.prototype.gt=function(){return this.color},e.prototype.Rt=function(){var e=this;return e.right.gt()&&!e.left.gt()&&(e=e.vt()),e.left.gt()&&e.left.left.gt()&&(e=e.Vt()),e.left.gt()&&e.right.gt()&&(e=e.St()),e},e.prototype.yt=function(){var e=this.St();return e.right.left.gt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.Vt())).vt()).St()),e},e.prototype.bt=function(){var e=this.St();return e.left.left.gt()&&(e=(e=e.Vt()).St()),e},e.prototype.vt=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.Vt=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.St=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.Dt=function(){var e=this.Ct();return Math.pow(2,e)<=this.size+1},e.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw b();if(this.right.gt())throw b();var e=this.left.Ct();if(e!==this.right.Ct())throw b();return e+(this.gt()?0:1)},e}();Oe.EMPTY=null,Oe.RED=!0,Oe.ot=!1,Oe.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw b()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw b()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.rt=function(e,t,n){return new Oe(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.m=function(){return!0},e.prototype.ut=function(e){return!1},e.prototype.ht=function(e){return!1},e.prototype.at=function(){return null},e.prototype.ct=function(){return null},e.prototype.gt=function(){return!1},e.prototype.Dt=function(){return!0},e.prototype.Ct=function(){return 0},e}());var Ie=function(){function e(e){this.i=e,this.data=new Te(this.i)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.at()},e.prototype.last=function(){return this.data.ct()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ut((function(t,n){return e(t),!1}))},e.prototype.Nt=function(e,t){for(var n=this.data._t(e[0]);n.It();){var r=n.Et();if(this.i(r.key,e[1])>=0)return;t(r.key)}},e.prototype.Ft=function(e,t){var n;for(n=void 0!==t?this.data._t(t):this.data.lt();n.It();)if(!e(n.Et().key))return},e.prototype.$t=function(e){var t=this.data._t(e);return t.It()?t.Et().key:null},e.prototype.lt=function(){return new ke(this.data.lt())},e.prototype._t=function(e){return new ke(this.data._t(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).rt(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.m=function(){return this.data.m()},e.prototype.xt=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.lt(),r=t.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.i(i,o))return!1}return!0},e.prototype.A=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.i);return n.data=t,n},e}(),ke=function(){function e(e){this.kt=e}return e.prototype.Et=function(){return this.kt.Et().key},e.prototype.It=function(){return this.kt.It()},e}(),Ae=new Te(A.i);function Pe(){return Ae}function Re(){return Pe()}var Ne=new Te(A.i);function xe(){return Ne}var De=new Te(A.i),Le=new Ie(A.i);function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Le,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var je=new Ie(J);function Ue(){return je}var Fe=function(){function e(e){this.i=e?function(t,n){return e(t,n)||A.i(t.key,n.key)}:function(e,t){return A.i(e.key,t.key)},this.Mt=xe(),this.Ot=new Te(this.i)}return e.Lt=function(t){return new e(t.i)},e.prototype.has=function(e){return null!=this.Mt.get(e)},e.prototype.get=function(e){return this.Mt.get(e)},e.prototype.first=function(){return this.Ot.at()},e.prototype.last=function(){return this.Ot.ct()},e.prototype.m=function(){return this.Ot.m()},e.prototype.indexOf=function(e){var t=this.Mt.get(e);return t?this.Ot.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.Ot.ut((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.Mt.rt(e.key,e),t.Ot.rt(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.Mt.remove(e),this.Ot.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.Ot.lt(),r=t.Ot.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.i=this.i,r.Mt=t,r.Ot=n,r},e}(),Be=function(){function e(){this.Bt=new Te(A.i)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Bt.get(t);n?0!==e.type&&3===n.type?this.Bt=this.Bt.rt(t,e):3===e.type&&1!==n.type?this.Bt=this.Bt.rt(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Bt=this.Bt.rt(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Bt=this.Bt.rt(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Bt=this.Bt.remove(t):1===e.type&&2===n.type?this.Bt=this.Bt.rt(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Bt=this.Bt.rt(t,{type:2,doc:e.doc}):b():this.Bt=this.Bt.rt(t,e)},e.prototype.qt=function(){var e=[];return this.Bt.ut((function(t,n){e.push(n)})),e},e}(),Ve=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=a,this.jt=s}return e.Kt=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Fe.Lt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Wt===e.Wt&&this.Qt.isEqual(e.Qt)&&$n(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Ut.isEqual(e.Ut)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),He=function(){function e(e,t,n,r,i){this.et=e,this.Gt=t,this.zt=n,this.Ht=r,this.Yt=i}return e.Jt=function(t,n){var r=new Map;return r.set(t,ze.Xt(t,n)),new e(ce.min(),r,Ue(),Pe(),Me())},e}(),ze=function(){function e(e,t,n,r,i){this.resumeToken=e,this.Zt=t,this.te=n,this.ee=r,this.ne=i}return e.Xt=function(t,n){return new e(ee.B,n,Me(),Me(),Me())},e}(),Ge=function(e,t,n,r){this.se=e,this.removedTargetIds=t,this.key=n,this.ie=r},We=function(e,t){this.targetId=e,this.re=t},qe=function(e,t,n,r){void 0===n&&(n=ee.B),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},$e=function(){function e(){this.oe=0,this.ae=Ye(),this.ce=ee.B,this.ue=!1,this.he=!0}return Object.defineProperty(e.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),e.prototype.fe=function(e){e.O()>0&&(this.he=!0,this.ce=e)},e.prototype.de=function(){var e=Me(),t=Me(),n=Me();return this.ae.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:b()}})),new ze(this.ce,this.ue,e,t,n)},e.prototype.we=function(){this.he=!1,this.ae=Ye()},e.prototype.me=function(e,t){this.he=!0,this.ae=this.ae.rt(e,t)},e.prototype.Te=function(e){this.he=!0,this.ae=this.ae.remove(e)},e.prototype.Ee=function(){this.oe+=1},e.prototype.Ie=function(){this.oe-=1},e.prototype.Ae=function(){this.he=!0,this.ue=!0},e}(),Ke=function(){function e(e){this.Re=e,this.Pe=new Map,this.ge=Pe(),this.ye=Qe(),this.Ve=new Ie(J)}return e.prototype.pe=function(e){for(var t=0,n=e.se;t<n.length;t++){var r=n[t];e.ie instanceof Pn?this.be(r,e.ie):e.ie instanceof Rn&&this.ve(r,e.key,e.ie)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){var a=o[i];this.ve(a,e.key,e.ie)}},e.prototype.Se=function(e){var t=this;this.De(e,(function(n){var r=t.Ce(n);switch(e.state){case 0:t.Ne(n)&&r.fe(e.resumeToken);break;case 1:r.Ie(),r.le||r.we(),r.fe(e.resumeToken);break;case 2:r.Ie(),r.le||t.removeTarget(n);break;case 3:t.Ne(n)&&(r.Ae(),r.fe(e.resumeToken));break;case 4:t.Ne(n)&&(t.Fe(n),r.fe(e.resumeToken));break;default:b()}}))},e.prototype.De=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Pe.forEach((function(e,r){n.Ne(r)&&t(r)}))},e.prototype.$e=function(e){var t=e.targetId,n=e.re.count,r=this.xe(t);if(r){var i=r.target;if(ye(i))if(0===n){var o=new A(i.path);this.ve(t,o,new Rn(o,ce.min()))}else _(1===n);else this.ke(t)!==n&&(this.Fe(t),this.Ve=this.Ve.add(t))}},e.prototype.Me=function(e){var t=this,n=new Map;this.Pe.forEach((function(r,i){var o=t.xe(i);if(o){if(r.Zt&&ye(o.target)){var a=new A(o.target.path);null!==t.ge.get(a)||t.Oe(i,a)||t.ve(i,a,new Rn(a,e))}r._e&&(n.set(i,r.de()),r.we())}}));var r=Me();this.ye.forEach((function(e,n){var i=!0;n.Ft((function(e){var n=t.xe(e);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new He(e,n,this.Ve,this.ge,r);return this.ge=Pe(),this.ye=Qe(),this.Ve=new Ie(J),i},e.prototype.be=function(e,t){if(this.Ne(e)){var n=this.Oe(e,t.key)?2:0;this.Ce(e).me(t.key,n),this.ge=this.ge.rt(t.key,t),this.ye=this.ye.rt(t.key,this.Le(t.key).add(e))}},e.prototype.ve=function(e,t,n){if(this.Ne(e)){var r=this.Ce(e);this.Oe(e,t)?r.me(t,1):r.Te(t),this.ye=this.ye.rt(t,this.Le(t).delete(e)),n&&(this.ge=this.ge.rt(t,n))}},e.prototype.removeTarget=function(e){this.Pe.delete(e)},e.prototype.ke=function(e){var t=this.Ce(e).de();return this.Re.Be(e).size+t.te.size-t.ne.size},e.prototype.Ee=function(e){this.Ce(e).Ee()},e.prototype.Ce=function(e){var t=this.Pe.get(e);return t||(t=new $e,this.Pe.set(e,t)),t},e.prototype.Le=function(e){var t=this.ye.get(e);return t||(t=new Ie(J),this.ye=this.ye.rt(e,t)),t},e.prototype.Ne=function(e){var t=null!==this.xe(e);return t||v("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.xe=function(e){var t=this.Pe.get(e);return t&&t.le?null:this.Re.qe(e)},e.prototype.Fe=function(e){var t=this;this.Pe.set(e,new $e),this.Re.Be(e).forEach((function(n){t.ve(e,n,null)}))},e.prototype.Oe=function(e,t){return this.Re.Be(e).has(t)},e}();function Qe(){return new Te(A.i)}function Ye(){return new Te(A.i)}function Je(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ze(e){var t=at(e.mapValue.fields.__local_write_time__.timestampValue);return new ue(t.seconds,t.nanos)}var Xe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function et(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Je(e)?4:10:b()}function tt(e,t){var n=et(e);if(n!==et(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ze(e).isEqual(Ze(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=at(e.timestampValue),r=at(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ut(e.bytesValue).isEqual(ut(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return st(e.geoPointValue.latitude)===st(t.geoPointValue.latitude)&&st(e.geoPointValue.longitude)===st(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return st(e.integerValue)===st(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=st(e.doubleValue),r=st(t.doubleValue);return n===r?fe(n)===fe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],tt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(E(n)!==E(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tt(n[i],r[i])))return!1;return!0}(e,t);default:return b()}}function nt(e,t){return void 0!==(e.values||[]).find((function(e){return tt(e,t)}))}function rt(e,t){var n=et(e),r=et(t);if(n!==r)return J(n,r);switch(n){case 0:return 0;case 1:return J(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=st(e.integerValue||e.doubleValue),r=st(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return it(e.timestampValue,t.timestampValue);case 4:return it(Ze(e),Ze(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ut(e),r=ut(t);return n.L(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=J(n[i],r[i]);if(0!==o)return o}return J(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=J(st(e.latitude),st(t.latitude));return 0!==n?n:J(st(e.longitude),st(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=rt(n[i],r[i]);if(o)return o}return J(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=J(r[a],o[a]);if(0!==s)return s;var u=rt(n[r[a]],i[o[a]]);if(0!==u)return u}return J(r.length,o.length)}(e.mapValue,t.mapValue);default:throw b()}}function it(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return J(e,t);var n=at(e),r=at(t),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function ot(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=at(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ut(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,A.C(r).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=e(a)}return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):b();var n,r}(e)}function at(e){if(_(!!e),"string"==typeof e){var t=0,n=Xe.exec(e);if(_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:st(e.seconds),nanos:st(e.nanos)}}function st(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ut(e){return"string"==typeof e?ee.fromBase64String(e):ee.fromUint8Array(e)}function ct(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.R()}}function lt(e){return!!e&&"integerValue"in e}function ft(e){return!!e&&"arrayValue"in e}function dt(e){return!!e&&"nullValue"in e}function pt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ht(e){return!!e&&"mapValue"in e}var vt={asc:"ASCENDING",desc:"DESCENDING"},mt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yt=function(e,t){this.U=e,this.Ue=t};function gt(e){return{integerValue:""+e}}function bt(e,t){if(e.Ue){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fe(t)?"-0":t}}function _t(e,t){return de(t)?gt(t):bt(e,t)}function wt(e,t){return e.Ue?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Et(e,t){return e.Ue?t.toBase64():t.toUint8Array()}function St(e,t){return wt(e,t.X())}function Tt(e){return _(!!e),ce.Y(function(e){var t=at(e);return new ue(t.seconds,t.nanos)}(e))}function Ct(e,t){return function(e){return new O(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).R()}function Ot(e){var t=O.P(e);return _($t(t)),t}function It(e,t){return Ct(e.U,t.path)}function kt(e,t){var n=Ot(t);return _(n.get(1)===e.U.projectId),_(!n.get(3)&&!e.U.database||n.get(3)===e.U.database),new A(Nt(n))}function At(e,t){return Ct(e.U,t)}function Pt(e){var t=Ot(e);return 4===t.length?O.g():Nt(t)}function Rt(e){return new O(["projects",e.U.projectId,"databases",e.U.database]).R()}function Nt(e){return _(e.length>4&&"documents"===e.get(4)),e.u(5)}function xt(e,t,n){return{name:It(e,t),fields:n.proto.mapValue.fields}}function Dt(e,t){var n;if(t instanceof gn)n={update:xt(e,t.key,t.value)};else if(t instanceof Tn)n={delete:It(e,t.key)};else if(t instanceof bn)n={update:xt(e,t.key,t.data),updateMask:qt(t.Qe)};else if(t instanceof wn)n={transform:{document:It(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zt)return{fieldPath:t.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xt)return{fieldPath:t.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:t.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof rn)return{fieldPath:t.field.R(),increment:n.We};throw b()}(0,e)}))}};else{if(!(t instanceof Cn))return b();n={verify:It(e,t.key)}}return t.Ke.je||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:St(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:b()}(e,t.Ke)),n}function Lt(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ln.updateTime(Tt(e.updateTime)):void 0!==e.exists?ln.exists(e.exists):ln.Ge()}(t.currentDocument):ln.Ge();if(t.update){t.update.name;var r=kt(e,t.update.name),i=new On({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new sn(t.map((function(e){return k.S(e)})))}(t.updateMask);return new bn(r,i,o,n)}return new gn(r,i,n)}if(t.delete){var a=kt(e,t.delete);return new Tn(a,n)}if(t.transform){var s=kt(e,t.transform.document),u=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)_("REQUEST_TIME"===t.setToServerValue),n=new Zt;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Xt(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tn(i)}else"increment"in t?n=new rn(e,t.increment):b();var o=k.S(t.fieldPath);return new un(o,n)}(e,t)}));return _(!0===n.exists),new wn(s,u)}if(t.verify){var c=kt(e,t.verify);return new Cn(c,n)}return b()}function Mt(e,t){return{documents:[At(e,t.path)]}}function jt(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=At(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=At(e,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(pt(e.value))return{unaryFilter:{field:Ht(e.field),op:"IS_NAN"}};if(dt(e.value))return{unaryFilter:{field:Ht(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pt(e.value))return{unaryFilter:{field:Ht(e.field),op:"IS_NOT_NAN"}};if(dt(e.value))return{unaryFilter:{field:Ht(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ht(e.field),op:Vt(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ht(e.field),direction:Bt(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.Ue||le(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ut(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ut(t.endAt)),n}function Ut(e){return{before:e.before,values:e.position}}function Ft(e){var t=!!e.before,n=e.values||[];return new sr(n,t)}function Bt(e){return vt[e]}function Vt(e){return mt[e]}function Ht(e){return{fieldPath:e.R()}}function zt(e){return k.S(e.fieldPath)}function Gt(e){return Zn.create(zt(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return b()}}(e.fieldFilter.op),e.fieldFilter.value)}function Wt(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zt(e.unaryFilter.field);return Zn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zt(e.unaryFilter.field);return Zn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zt(e.unaryFilter.field);return Zn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zt(e.unaryFilter.field);return Zn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return b()}}function qt(e){var t=[];return e.fields.forEach((function(e){return t.push(e.R())})),{fieldPaths:t}}function $t(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Kt=function(){this.ze=void 0};function Qt(e,t,n){return e instanceof Zt?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xt?en(e,t):e instanceof tn?nn(e,t):function(e,t){var n=Jt(e,t),r=on(n)+on(e.We);return lt(n)&&lt(e.We)?gt(r):bt(e.serializer,r)}(e,t)}function Yt(e,t,n){return e instanceof Xt?en(e,t):e instanceof tn?nn(e,t):n}function Jt(e,t){return e instanceof rn?lt(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t}(Kt),Xt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return i.__extends(t,e),t}(Kt);function en(e,t){for(var n=an(t),r=function(e){n.some((function(t){return tt(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tn=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return i.__extends(t,e),t}(Kt);function nn(e,t){for(var n=an(t),r=function(e){n=n.filter((function(t){return!tt(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var rn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).serializer=t,r.We=n,r}return i.__extends(t,e),t}(Kt);function on(e){return st(e.integerValue||e.doubleValue)}function an(e){return ft(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var sn=function(){function e(e){this.fields=e,e.sort(k.i)}return e.prototype.He=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].T(e))return!0;return!1},e.prototype.isEqual=function(e){return Z(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),un=function(e,t){this.field=e,this.transform=t},cn=function(e,t){this.version=e,this.transformResults=t},ln=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.Ge=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function fn(e,t){return void 0!==e.updateTime?t instanceof Pn&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof Pn}var dn=function(){};function pn(e,t,n){return e instanceof gn?function(e,t,n){return new Pn(e.key,n.version,e.value,{hasCommittedMutations:!0})}(e,0,n):e instanceof bn?function(e,t,n){if(!fn(e.Ke,t))return new Nn(e.key,n.version);var r=_n(e,t);return new Pn(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof wn?function(e,t,n){if(_(null!=n.transformResults),!fn(e.Ke,t))return new Nn(e.key,n.version);var r=En(e,t),i=function(e,t,n){var r=[];_(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof Pn&&(s=t.field(o.field)),r.push(Yt(a,s,n[i]))}return r}(e.fieldTransforms,t,n.transformResults),o=n.version,a=Sn(e,r.data(),i);return new Pn(e.key,o,a,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new Rn(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function hn(e,t,n,r){return e instanceof gn?function(e,t){if(!fn(e.Ke,t))return t;var n=yn(t);return new Pn(e.key,n,e.value,{Ye:!0})}(e,t):e instanceof bn?function(e,t){if(!fn(e.Ke,t))return t;var n=yn(t),r=_n(e,t);return new Pn(e.key,n,r,{Ye:!0})}(e,t):e instanceof wn?function(e,t,n,r){if(!fn(e.Ke,t))return t;var i=En(e,t),o=function(e,t,n,r){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Pn&&(c=n.field(s.field)),null===c&&r instanceof Pn&&(c=r.field(s.field)),i.push(Qt(u,c,t))}return i}(e.fieldTransforms,n,t,r),a=Sn(e,i.data(),o);return new Pn(e.key,i.version,a,{Ye:!0})}(e,t,r,n):function(e,t){return fn(e.Ke,t)?new Rn(e.key,ce.min()):t}(e,t)}function vn(e,t){return e instanceof wn?function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t instanceof Pn?t.field(o.field):void 0,s=Jt(o.transform,a||null);null!=s&&(n=null==n?(new In).set(o.field,s):n.set(o.field,s))}return n?n.Je():null}(e,t):null}function mn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.Ke.isEqual(t.Ke)&&(0===e.type?e.value.isEqual(t.value):1===e.type?e.data.isEqual(t.data)&&e.Qe.isEqual(t.Qe):2!==e.type||Z(e.fieldTransforms,e.fieldTransforms,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xt&&t instanceof Xt||e instanceof tn&&t instanceof tn?Z(e.elements,t.elements,tt):e instanceof rn&&t instanceof rn?tt(e.We,t.We):e instanceof Zt&&t instanceof Zt}(e.transform,t.transform)}(e,t)})))}function yn(e){return e instanceof Pn?e.version:ce.min()}var gn=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Ke=r,i.type=0,i}return i.__extends(t,e),t}(dn),bn=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.Qe=r,o.Ke=i,o.type=1,o}return i.__extends(t,e),t}(dn);function _n(e,t){return function(e,t){var n=new In(t);return e.Qe.fields.forEach((function(t){if(!t.m()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.Je()}(e,t instanceof Pn?t.data():On.empty())}var wn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Ke=ln.exists(!0),r}return i.__extends(t,e),t}(dn);function En(e,t){return t}function Sn(e,t,n){for(var r=new In(t),i=0;i<e.fieldTransforms.length;i++){var o=e.fieldTransforms[i];r.set(o.field,n[i])}return r.Je()}var Tn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ke=n,r.type=3,r}return i.__extends(t,e),t}(dn),Cn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ke=n,r.type=4,r}return i.__extends(t,e),t}(dn),On=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.m())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!ht(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e._()])||null},e.prototype.isEqual=function(e){return tt(this.proto,e.proto)},e}(),In=function(){function e(e){void 0===e&&(e=On.empty()),this.Xe=e,this.Ze=new Map}return e.prototype.set=function(e,t){return this.tn(e,t),this},e.prototype.delete=function(e){return this.tn(e,null),this},e.prototype.tn=function(e,t){for(var n=this.Ze,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===et(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e._(),t)},e.prototype.Je=function(){var e=this.en(k.g(),this.Ze);return null!=e?new On(e):this.Xe},e.prototype.en=function(e,t){var n=this,r=!1,i=this.Xe.field(e),o=ht(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.en(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function kn(e){var t=[];return S(e.fields||{},(function(e,n){var r=new k([e]);if(ht(n)){var i=kn(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new sn(t)}var An=function(e,t){this.key=e,this.version=t},Pn=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).nn=r,o.Ye=!!i.Ye,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(t,e),t.prototype.field=function(e){return this.nn.field(e)},t.prototype.data=function(){return this.nn},t.prototype.sn=function(){return this.nn.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Ye===e.Ye&&this.hasCommittedMutations===e.hasCommittedMutations&&this.nn.isEqual(e.nn)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(An),Rn=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(An),Nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(An);function xn(e,t){if(!(e instanceof t))throw t.name===e.constructor.name?new d(f.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass '"+t.name+"' from a different Firestore SDK?"):new d(f.INVALID_ARGUMENT,"Expected type '"+t.name+"', but was '"+e.constructor.name+"'");return e}var Dn=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.rn=n,this.filters=r,this.limit=i,this.on=o,this.startAt=a,this.endAt=s,this.an=null,this.cn=null,this.startAt,this.endAt};function Ln(e,t,n,r,i,o,a,s){return new Dn(e,t,n,r,i,o,a,s)}function Mn(e){return new Dn(e)}function jn(e){return!le(e.limit)&&"F"===e.on}function Un(e){return!le(e.limit)&&"L"===e.on}function Fn(e){return e.rn.length>0?e.rn[0].field:null}function Bn(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.un())return r.field}return null}function Vn(e){return null!==e.collectionGroup}function Hn(e){var t=xn(e,Dn);if(null===t.an){t.an=[];var n=Bn(t),r=Fn(t);if(null!==n&&null===r)n.p()||t.an.push(new fr(n)),t.an.push(new fr(k.v(),"asc"));else{for(var i=!1,o=0,a=t.rn;o<a.length;o++){var s=a[o];t.an.push(s),s.field.p()&&(i=!0)}if(!i){var u=t.rn.length>0?t.rn[t.rn.length-1].dir:"asc";t.an.push(new fr(k.v(),u))}}}return t.an}function zn(e){var t=xn(e,Dn);if(!t.cn)if("F"===t.on)t.cn=he(t.path,t.collectionGroup,Hn(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Hn(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new fr(o.field,a))}var s=t.endAt?new sr(t.endAt.position,!t.endAt.before):null,u=t.startAt?new sr(t.startAt.position,!t.startAt.before):null;t.cn=he(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.cn}function Gn(e,t,n){return new Dn(e.path,e.collectionGroup,e.rn.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wn(e,t){return new Dn(e.path,e.collectionGroup,e.rn.slice(),e.filters.slice(),e.limit,e.on,t,e.endAt)}function qn(e,t){return new Dn(e.path,e.collectionGroup,e.rn.slice(),e.filters.slice(),e.limit,e.on,e.startAt,t)}function $n(e,t){return me(zn(e),zn(t))&&e.on===t.on}function Kn(e){return ve(zn(e))+"|lt:"+e.on}function Qn(e){return"Query(target="+function(e){var t=e.path.R();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.R()+" "+t.op+" "+ot(t.value);var t})).join(", ")+"]"),le(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return(t=e).field.R()+" ("+t.dir+")";var t})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ur(e.startAt)),e.endAt&&(t+=", endAt: "+ur(e.endAt)),"Target("+t+")"}(zn(e))+"; limitType="+e.on+")"}function Yn(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.N(e.collectionGroup)&&e.path.T(n):A.F(e.path)?e.path.isEqual(n):e.path.I(n)}(e,t)&&function(e,t){for(var n=0,r=e.rn;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!cr(e.startAt,Hn(e),t)||e.endAt&&cr(e.endAt,Hn(e),t))}(e,t)}function Jn(e){return function(t,n){for(var r=!1,i=0,o=Hn(e);i<o.length;i++){var a=o[i],s=dr(a,t,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var Zn=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return i.__extends(t,e),t.create=function(e,n,r){if(e.p())return"in"===n||"not-in"===n?this.hn(e,n,r):new Xn(e,n,r);if(dt(r)){if("=="!==n&&"!="!==n)throw new d(f.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(pt(r)){if("=="!==n&&"!="!==n)throw new d(f.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return"array-contains"===n?new rr(e,r):"in"===n?new ir(e,r):"not-in"===n?new or(e,r):"array-contains-any"===n?new ar(e,r):new t(e,n,r)},t.hn=function(e,t,n){return"in"===t?new er(e,n):new tr(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this.ln(rt(t,this.value)):null!==t&&et(this.value)===et(t)&&this.ln(rt(t,this.value))},t.prototype.ln=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return b()}},t.prototype.un=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},t}((function(){})),Xn=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=A.C(r.referenceValue),i}return i.__extends(t,e),t.prototype.matches=function(e){var t=A.i(e.key,this.key);return this.ln(t)},t}(Zn),er=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=nr("in",n),r}return i.__extends(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Zn),tr=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=nr("not-in",n),r}return i.__extends(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Zn);function nr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return A.C(e.referenceValue)}))}var rr=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return ft(t)&&nt(t.arrayValue,this.value)},t}(Zn),ir=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&nt(this.value.arrayValue,t)},t}(Zn),or=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&!nt(this.value.arrayValue,t)},t}(Zn),ar=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!ft(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return nt(t.value.arrayValue,e)}))},t}(Zn),sr=function(e,t){this.position=e,this.before=t};function ur(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ot(e)})).join(",")}function cr(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.p()?A.i(A.C(a.referenceValue),n.key):rt(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function lr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!tt(e.position[n],t.position[n]))return!1;return!0}var fr=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function dr(e,t,n){var r=e.field.p()?A.i(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?rt(r,i):b()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return b()}}function pr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var hr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},vr=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this._n=e,this.fn=t,this.dn=n,this.wn=r,this.mn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return e.prototype.reset=function(){this.Tn=0},e.prototype.An=function(){this.Tn=this.mn},e.prototype.Rn=function(e){var t=this;this.cancel();var n=Math.floor(this.Tn+this.Pn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&v("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this._n.gn(this.fn,i,(function(){return t.In=Date.now(),e()})),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},e.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},e.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},e.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},e}(),mr=function(){function e(e){var t=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,e((function(e){t.vn=!0,t.result=e,t.pn&&t.pn(e)}),(function(e){t.vn=!0,t.error=e,t.bn&&t.bn(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Sn&&b(),this.Sn=!0,this.vn?this.error?this.Dn(n,this.error):this.Cn(t,this.result):new e((function(e,i){r.pn=function(n){r.Cn(t,n).next(e,i)},r.bn=function(t){r.Dn(n,t).next(e,i)}}))},e.prototype.Nn=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.Fn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.Cn=function(t,n){return t?this.Fn((function(){return t(n)})):e.resolve(n)},e.prototype.Dn=function(t,n){return t?this.Fn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.$n=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.xn=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.$n(r)},e}(),yr=function(){function e(t,n,r){this.name=t,this.version=n,this.kn=r,12.2===e.Mn(s.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return v("SimpleDb","Removing database:",e),Sr(window.indexedDB.deleteDatabase(e)).Nn()},e.On=function(){if("undefined"==typeof indexedDB)return!1;if(e.Ln())return!0;var t=s.getUA(),n=e.Mn(t),r=0<n&&n<10,i=e.Bn(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Ln=function(){var e;return void 0!==r&&"YES"===(null===(e={DJANGO_PROD:!0,NODE_ENV:"production",STATIC_PATH:"https://cdn.hackerearth.com/static/"})||void 0===e?void 0:e.qn)},e.Un=function(e,t){return e.store(t)},e.Mn=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Bn=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Qn=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(v("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,n){var r=indexedDB.open(t.name,t.version);r.onsuccess=function(t){var n=t.target.result;e(n)},r.onblocked=function(){n(new br("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var t=e.target.error;"VersionError"===t.name?n(new d(f.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new br(t))},r.onupgradeneeded=function(e){v("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;t.kn.createOrUpgrade(n,r.transaction,e.oldVersion,t.version).next((function(){v("SimpleDb","Database upgrade to version "+t.version+" complete")}))}}))]);case 1:e.db=n.sent(),n.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(e){return t.Wn(e)}),this.db)]}}))}))},e.prototype.jn=function(e){this.Wn=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===e,o=0,a=function(){var e,a,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,s.Qn()];case 2:return s.db=i.sent(),e=wr.open(s.db,r?"readonly":"readwrite",t),a=n(e).catch((function(t){return e.abort(t),mr.reject(t)})).Nn(),u={},a.catch((function(){})),[4,e.Kn];case 3:return[2,(u.value=(i.sent(),a),u)];case 4:return c=i.sent(),l="FirebaseError"!==c.name&&o<3,v("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),gr=function(){function e(e){this.Gn=e,this.zn=!1,this.Hn=null}return Object.defineProperty(e.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Gn=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.zn=!0},e.prototype.Jn=function(e){this.Hn=e},e.prototype.delete=function(){return Sr(this.Gn.delete())},e}(),br=function(e){function t(t){var n=this;return(n=e.call(this,f.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",n}return i.__extends(t,e),t}(d);function _r(e){return"IndexedDbTransactionError"===e.name}var wr=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.Xn=new hr,this.transaction.oncomplete=function(){t.Xn.resolve()},this.transaction.onabort=function(){e.error?t.Xn.reject(new br(e.error)):t.Xn.resolve()},this.transaction.onerror=function(e){var n=Cr(e.target.error);t.Xn.reject(new br(n))}}return e.open=function(t,n,r){try{return new e(t.transaction(r,n))}catch(t){throw new br(t)}},Object.defineProperty(e.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.Xn.reject(e),this.aborted||(v("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Er(t)},e}(),Er=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(v("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(v("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Sr(n)},e.prototype.add=function(e){return v("SimpleDb","ADD",this.store.name,e,e),Sr(this.store.add(e))},e.prototype.get=function(e){var t=this;return Sr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),v("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return v("SimpleDb","DELETE",this.store.name,e),Sr(this.store.delete(e))},e.prototype.count=function(){return v("SimpleDb","COUNT",this.store.name),Sr(this.store.count())},e.prototype.Zn=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.ts(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.es=function(e,t){v("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.ns=!1;var r=this.cursor(n);return this.ts(r,(function(e,t,n){return n.delete()}))},e.prototype.ss=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.ts(r,t)},e.prototype.rs=function(e){var t=this.cursor({});return new mr((function(n,r){t.onerror=function(e){var t=Cr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.ts=function(e,t){var n=[];return new mr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new gr(i),a=t(i.primaryKey,i.value,o);if(a instanceof mr){var s=a.catch((function(e){return o.done(),mr.reject(e)}));n.push(s)}o.vn?r():null===o.Yn?i.continue():i.continue(o.Yn)}else r()}})).next((function(){return mr.$n(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.ns?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Sr(e){return new mr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Cr(e.target.error);n(t)}}))}var Tr=!1;function Cr(e){var t=yr.Mn(s.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new d("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tr||(Tr=!0,setTimeout((function(){throw r}),0)),r}}return e}function Or(){return"undefined"!=typeof window?window:null}function Ir(){return"undefined"!=typeof document?document:null}var kr=function(){function e(e,t,n,r,i){this.os=e,this.fn=t,this.cs=n,this.op=r,this.us=i,this.hs=new hr,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch((function(e){}))}return e.ls=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this._s=setTimeout((function(){return t.fs()}),e)},e.prototype.Vn=function(){return this.fs()},e.prototype.cancel=function(e){null!==this._s&&(this.clearTimeout(),this.hs.reject(new d(f.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.fs=function(){var e=this;this.os.ds((function(){return null!==e._s?(e.clearTimeout(),e.op().then((function(t){return e.hs.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},e}(),Ar=function(){function e(){var e=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new vr(this,"async_queue_retry"),this.ys=function(){var t=Ir();t&&v("AsyncQueue","Visibility state changed to  ",t.visibilityState),e.gs.yn()};var t=Ir();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(e.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),e.prototype.ds=function(e){this.enqueue(e)},e.prototype.ps=function(e){this.bs(),this.vs(e)},e.prototype.Ss=function(){if(!this.Es){this.Es=!0;var e=Ir();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.ys)}},e.prototype.enqueue=function(e){return this.bs(),this.Es?new Promise((function(e){})):this.vs(e)},e.prototype.Ds=function(e){var t=this;this.Ts.push(e),this.ds((function(){return t.Cs()}))},e.prototype.Cs=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!_r(e=n.sent()))throw e;return v("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Ts.length>0&&this.gs.Rn((function(){return t.Cs()})),n.label=5;case 5:return[2]}}))}))},e.prototype.vs=function(e){var t=this,n=this.ws.then((function(){return t.Rs=!0,e().catch((function(e){throw t.As=e,t.Rs=!1,m("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Rs=!1,e}))}));return this.ws=n,n},e.prototype.gn=function(e,t,n){var r=this;this.bs(),this.Ps.indexOf(e)>-1&&(t=0);var i=kr.ls(this,e,t,n,(function(e){return r.Ns(e)}));return this.Is.push(i),i},e.prototype.bs=function(){this.As&&b()},e.prototype.Fs=function(){},e.prototype.$s=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return[4,e=this.ws];case 1:t.sent(),t.label=2;case 2:if(e!==this.ws)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.xs=function(e){for(var t=0,n=this.Is;t<n.length;t++)if(n[t].fn===e)return!0;return!1},e.prototype.ks=function(e){var t=this;return this.$s().then((function(){t.Is.sort((function(e,t){return e.cs-t.cs}));for(var n=0,r=t.Is;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==e&&i.fn===e)break}return t.$s()}))},e.prototype.Ms=function(e){this.Ps.push(e)},e.prototype.Ns=function(e){var t=this.Is.indexOf(e);this.Is.splice(t,1)},e}();function Pr(e,t){if(m("AsyncQueue",t+": "+e),_r(e))return new d(f.UNAVAILABLE,t+": "+e);throw e}var Rr=function(){this.Os=void 0,this.listeners=[]},Nr=function(){this.Ls=new se((function(e){return Kn(e)}),$n),this.onlineState="Unknown",this.Bs=new Set};function xr(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=w(e),r=t.query,o=!1,(a=n.Ls.get(r))||(o=!0,a=new Rr),!o)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),s=a,[4,n.qs(r)];case 2:return s.Os=i.sent(),[3,4];case 3:return u=i.sent(),c=Pr(u,"Initialization of query '"+Qn(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.Ls.set(r,a),a.listeners.push(t),t.Us(n.onlineState),a.Os&&t.Qs(a.Os)&&Ur(n),[2]}}))}))}function Dr(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s;return i.__generator(this,(function(i){return n=w(e),r=t.query,o=!1,(a=n.Ls.get(r))&&(s=a.listeners.indexOf(t))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.Ls.delete(r),n.Ws(r))]:[2]}))}))}function Lr(e,t){for(var n=w(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.Ls.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Qs(a)&&(r=!0);u.Os=a}}r&&Ur(n)}function Mr(e,t,n){var r=w(e),i=r.Ls.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Ls.delete(t)}function jr(e,t){var n=w(e);n.onlineState=t;var r=!1;n.Ls.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Us(t)&&(r=!0)})),r&&Ur(n)}function Ur(e){e.Bs.forEach((function(e){e.next()}))}var Fr=function(){function e(e,t,n){this.query=e,this.js=t,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Qs=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Ve(e.query,e.docs,e.Ut,t,e.Qt,e.fromCache,e.Wt,!0)}var o=!1;return this.Ks?this.zs(e)&&(this.js.next(e),o=!0):this.Hs(e,this.onlineState)&&(this.Ys(e),o=!0),this.Gs=e,o},e.prototype.onError=function(e){this.js.error(e)},e.prototype.Us=function(e){this.onlineState=e;var t=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,e)&&(this.Ys(this.Gs),t=!0),t},e.prototype.Hs=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.Js&&n||e.docs.m()&&"Offline"!==t)},e.prototype.zs=function(e){if(e.docChanges.length>0)return!0;var t=this.Gs&&this.Gs.hasPendingWrites!==e.hasPendingWrites;return!(!e.Wt&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.Ys=function(e){e=Ve.Kt(e.query,e.docs,e.Qt,e.fromCache),this.Ks=!0,this.js.next(e)},e}(),Br=function(){function e(e){this.uid=e}return e.prototype.Xs=function(){return null!=this.uid},e.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();Br.UNAUTHENTICATED=new Br(null),Br.ti=new Br("google-credentials-uid"),Br.ei=new Br("first-party-uid");var Vr=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.ni=function(e){return n.si(e)},this.ii=function(e){return t.ri(e)})}return e.prototype.si=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.ii&&this.ii(e),e},e}();function Hr(e,t){return"firestore_clients_"+e+"_"+t}function zr(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.Xs()&&(r+="_"+t.uid),r}function Gr(e,t){return"firestore_targets_"+e+"_"+t}Vr.oi=-1;var Wr=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.ai=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new d(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(m("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.ci=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),qr=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.ai=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new d(r.error.code,r.error.message)),i?new e(t,r.state,o):(m("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.ci=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),$r=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.ai=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ue(),a=0;i&&a<r.activeTargetIds.length;++a)i=de(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(m("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Kr=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.ai=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(m("SharedClientState","Failed to parse online state: "+t),null)},e}(),Qr=function(){function e(){this.activeTargetIds=Ue()}return e.prototype.ui=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.hi=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.ci=function(){var e={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Yr=function(){function e(e,t,n,r,i){this.window=e,this._n=t,this.persistenceKey=n,this.li=r,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new Te(J),this.Ti=!1,this.Ei=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ii=Hr(this.persistenceKey,this.li),this.Ai=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.mi=this.mi.rt(this.li,new Qr),this.Ri=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.di)}return e.On=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,a,s,u,c,l,f,d=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this._i.Vi()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.li&&(o=this.getItem(Hr(this.persistenceKey,r)))&&(a=$r.ai(r,o))&&(this.mi=this.mi.rt(a.clientId,a));for(this.pi(),(s=this.storage.getItem(this.yi))&&(u=this.bi(s))&&this.vi(u),c=0,l=this.Ei;c<l.length;c++)f=l[c],this.wi(f);return this.Ei=[],this.window.addEventListener("unload",(function(){return d.Si()})),this.Ti=!0,[2]}}))}))},e.prototype.ri=function(e){this.setItem(this.Ai,JSON.stringify(e))},e.prototype.Di=function(){return this.Ci(this.mi)},e.prototype.Ni=function(e){var t=!1;return this.mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.Fi=function(e){this.$i(e,"pending")},e.prototype.xi=function(e,t,n){this.$i(e,t,n),this.ki(e)},e.prototype.Mi=function(e){var t="not-current";if(this.Ni(e)){var n=this.storage.getItem(Gr(this.persistenceKey,e));if(n){var r=qr.ai(e,n);r&&(t=r.state)}}return this.Oi.ui(e),this.pi(),t},e.prototype.Li=function(e){this.Oi.hi(e),this.pi()},e.prototype.Bi=function(e){return this.Oi.activeTargetIds.has(e)},e.prototype.qi=function(e){this.removeItem(Gr(this.persistenceKey,e))},e.prototype.Ui=function(e,t,n){this.Qi(e,t,n)},e.prototype.Wi=function(e,t,n){var r=this;t.forEach((function(e){r.ki(e)})),this.currentUser=e,n.forEach((function(e){r.Fi(e)}))},e.prototype.ji=function(e){this.Ki(e)},e.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return v("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){v("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){v("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.wi=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(v("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ii)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds((function(){return i.__awaiter(t,void 0,void 0,(function(){var e,t,r,o,a,s;return i.__generator(this,(function(i){if(this.Ti){if(null!==n.key)if(this.Ri.test(n.key)){if(null==n.newValue)return e=this.Gi(n.key),[2,this.zi(e,null)];if(t=this.Hi(n.key,n.newValue))return[2,this.zi(t.clientId,t)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(r=this.Yi(n.key,n.newValue)))return[2,this.Ji(r)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(o=this.Xi(n.key,n.newValue)))return[2,this.Zi(o)]}else if(n.key===this.yi){if(null!==n.newValue&&(a=this.bi(n.newValue)))return[2,this.vi(a)]}else n.key===this.Ai&&(s=function(e){var t=Vr.oi;if(null!=e)try{var n=JSON.parse(e);_("number"==typeof n),t=n}catch(e){m("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Vr.oi&&this.ni(s)}else this.Ei.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),e.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},e.prototype.$i=function(e,t,n){var r=new Wr(this.currentUser,e,t,n),i=zr(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ci())},e.prototype.ki=function(e){var t=zr(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Ki=function(e){var t={clientId:this.li,onlineState:e};this.storage.setItem(this.yi,JSON.stringify(t))},e.prototype.Qi=function(e,t,n){var r=Gr(this.persistenceKey,e),i=new qr(e,t,n);this.setItem(r,i.ci())},e.prototype.Gi=function(e){var t=this.Ri.exec(e);return t?t[1]:null},e.prototype.Hi=function(e,t){var n=this.Gi(e);return $r.ai(n,t)},e.prototype.Yi=function(e,t){var n=this.Pi.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wr.ai(new Br(i),r,t)},e.prototype.Xi=function(e,t){var n=this.gi.exec(e),r=Number(n[1]);return qr.ai(r,t)},e.prototype.bi=function(e){return Kr.ai(e)},e.prototype.Ji=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this._i.tr(e.batchId,e.state,e.error)]:(v("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.Zi=function(e){return this._i.er(e.targetId,e.state,e.error)},e.prototype.zi=function(e,t){var n=this,r=t?this.mi.rt(e,t):this.mi.remove(e),i=this.Ci(this.mi),o=this.Ci(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this._i.nr(a,s).then((function(){n.mi=r}))},e.prototype.vi=function(e){this.mi.get(e.clientId)&&this.fi(e.onlineState)},e.prototype.Ci=function(e){var t=Ue();return e.forEach((function(e,n){t=t.xt(n.activeTargetIds)})),t},e}(),Jr=function(){function e(){this.sr=new Qr,this.ir={},this.fi=null,this.ni=null}return e.prototype.Fi=function(e){},e.prototype.xi=function(e,t,n){},e.prototype.Mi=function(e){return this.sr.ui(e),this.ir[e]||"not-current"},e.prototype.Ui=function(e,t,n){this.ir[e]=t},e.prototype.Li=function(e){this.sr.hi(e)},e.prototype.Bi=function(e){return this.sr.activeTargetIds.has(e)},e.prototype.qi=function(e){delete this.ir[e]},e.prototype.Di=function(){return this.sr.activeTargetIds},e.prototype.Ni=function(e){return this.sr.activeTargetIds.has(e)},e.prototype.start=function(){return this.sr=new Qr,Promise.resolve()},e.prototype.Wi=function(e,t,n){},e.prototype.ji=function(e){},e.prototype.Si=function(){},e.prototype.ri=function(e){},e}(),Zr=function(){function e(e,t,n,r){this.batchId=e,this.rr=t,this.baseMutations=n,this.mutations=r}return e.prototype.ar=function(e,t,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=pn(o,t,r[i]))}return t},e.prototype.ur=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=hn(i,t,t,this.rr))}for(var o=t,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(e)&&(t=hn(u,t,o,this.rr))}return t},e.prototype.hr=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.ur(r.key,e.get(r.key));i&&(n=n.rt(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Me())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,(function(e,t){return mn(e,t)}))&&Z(this.baseMutations,e.baseMutations,(function(e,t){return mn(e,t)}))},e}(),Xr=function(){function e(e,t,n,r){this.batch=e,this.lr=t,this.cr=n,this._r=r}return e.from=function(t,n,r){_(t.mutations.length===r.length);for(var i=De,o=t.mutations,a=0;a<o.length;a++)i=i.rt(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),ei=function(){function e(){this.dr=new se((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.wr=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.mr},set:function(e){this.mr=e},enumerable:!1,configurable:!0}),e.prototype.Tr=function(e,t){this.Er(),this.readTime=t,this.dr.set(e.key,e)},e.prototype.Ir=function(e,t){this.Er(),t&&(this.readTime=t),this.dr.set(e,null)},e.prototype.Ar=function(e,t){this.Er();var n=this.dr.get(t);return void 0!==n?mr.resolve(n):this.Rr(e,t)},e.prototype.getEntries=function(e,t){return this.Pr(e,t)},e.prototype.apply=function(e){return this.Er(),this.wr=!0,this.gr(e)},e.prototype.Er=function(){},e}(),ti="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ni=function(){function e(){this.yr=[]}return e.prototype.Vr=function(e){this.yr.push(e)},e.prototype.pr=function(){this.yr.forEach((function(e){return e()}))},e}(),ri=function(){function e(e,t,n){this.br=e,this.vr=t,this.Sr=n}return e.prototype.Dr=function(e,t){var n=this;return this.vr.Cr(e,t).next((function(r){return n.Nr(e,t,r)}))},e.prototype.Nr=function(e,t,n){return this.br.Ar(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].ur(t,e);return e}))},e.prototype.Fr=function(e,t,n){var r=Re();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].ur(e,t);r=r.rt(e,t)})),r},e.prototype.$r=function(e,t){var n=this;return this.br.getEntries(e,t).next((function(t){return n.kr(e,t)}))},e.prototype.kr=function(e,t){var n=this;return this.vr.Mr(e,t).next((function(r){var i=n.Fr(e,t,r),o=Pe();return i.forEach((function(e,t){t||(t=new Rn(e,ce.min())),o=o.rt(e,t)})),o}))},e.prototype.Or=function(e,t,n){return function(e){return A.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Lr(e,t.path):Vn(t)?this.Br(e,t,n):this.qr(e,t,n)},e.prototype.Lr=function(e,t){return this.Dr(e,new A(t)).next((function(e){var t=xe();return e instanceof Pn&&(t=t.rt(e.key,e)),t}))},e.prototype.Br=function(e,t,n){var r=this,i=t.collectionGroup,o=xe();return this.Sr.Ur(e,i).next((function(a){return mr.forEach(a,(function(a){var s=function(e,t){return new Dn(t,null,e.rn.slice(),e.filters.slice(),e.limit,e.on,e.startAt,e.endAt)}(t,a.child(i));return r.qr(e,s,n).next((function(e){e.forEach((function(e,t){o=o.rt(e,t)}))}))})).next((function(){return o}))}))},e.prototype.qr=function(e,t,n){var r,i,o=this;return this.br.Or(e,t,n).next((function(n){return r=n,o.vr.Qr(e,t)})).next((function(t){return i=t,o.Wr(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),f=hn(u,l,l,o.rr);r=f instanceof Pn?r.rt(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){Yn(t,n)||(r=r.remove(e))})),r}))},e.prototype.Wr=function(e,t,n){for(var r=Me(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof bn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.br.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Pn&&(c=c.rt(e,t))})),c}))},e}(),ii=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.jr=n,this.Kr=r}return e.Gr=function(t,n){for(var r=Me(),i=Me(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}();function oi(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=J(n,i);return 0===a?J(r,o):a}var ai=function(){function e(e){this.zr=e,this.buffer=new Ie(oi),this.Hr=0}return e.prototype.Yr=function(){return++this.Hr},e.prototype.Jr=function(e){var t=[e,this.Yr()];if(this.buffer.size<this.zr)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();oi(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),si={Xr:!1,Zr:0,eo:0,no:0},ui=function(){function e(e,t,n){this.so=e,this.io=t,this.ro=n}return e.oo=function(t){return new e(t,e.ao,e.co)},e}();ui.uo=-1,ui.ho=1048576,ui.lo=41943040,ui.ao=10,ui.co=1e3,ui._o=new ui(ui.lo,ui.ao,ui.co),ui.fo=new ui(ui.uo,0,0);var ci=function(){function e(e,t){this.do=e,this.os=t,this.wo=!1,this.mo=null}return e.prototype.start=function(e){this.do.params.so!==ui.uo&&this.To(e)},e.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(e.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),e.prototype.To=function(e){var t=this,n=this.wo?3e5:6e4;v("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.mo=this.os.gn("lru_garbage_collection",n,(function(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:this.mo=null,this.wo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.Eo(this.do)];case 2:return n.sent(),[3,7];case 3:return _r(t=n.sent())?(v("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Oo(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.To(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),li=function(){function e(e,t){this.Io=e,this.params=t}return e.prototype.Ao=function(e,t){return this.Io.Ro(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.Po=function(e,t){var n=this;if(0===t)return mr.resolve(Vr.oi);var r=new ai(t);return this.Io.De(e,(function(e){return r.Jr(e.sequenceNumber)})).next((function(){return n.Io.yo(e,(function(e){return r.Jr(e)}))})).next((function(){return r.maxValue}))},e.prototype.Vo=function(e,t,n){return this.Io.Vo(e,t,n)},e.prototype.po=function(e,t){return this.Io.po(e,t)},e.prototype.bo=function(e,t){var n=this;return this.params.so===ui.uo?(v("LruGarbageCollector","Garbage collection skipped; disabled"),mr.resolve(si)):this.vo(e).next((function(r){return r<n.params.so?(v("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.so),si):n.So(e,t)}))},e.prototype.vo=function(e){return this.Io.vo(e)},e.prototype.So=function(e,t){var n,r,i,o,s,u,c,l=this,f=Date.now();return this.Ao(e,this.params.io).next((function(t){return t>l.params.ro?(v("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.ro+" from "+t),r=l.params.ro):r=t,o=Date.now(),l.Po(e,r)})).next((function(r){return n=r,s=Date.now(),l.Vo(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.po(e,n)})).next((function(e){return c=Date.now(),h()<=a.LogLevel.DEBUG&&v("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-f)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),mr.resolve({Xr:!0,Zr:r,eo:i,no:e})}))},e}();function fi(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=pi(t)),t=di(e.get(n),t);return pi(t)}function di(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function pi(e){return e+""}function hi(e){var t=e.length;if(_(t>=2),2===t)return _(""===e.charAt(0)&&""===e.charAt(1)),O.g();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&b(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:b()}o=a+2}return new O(r)}var vi=function(e){this.Do=e};function mi(e,t){if(t.document)return function(e,t,n){var r=kt(e,t.name),i=Tt(t.updateTime),o=new On({mapValue:{fields:t.fields}});return new Pn(r,i,o,{hasCommittedMutations:!!n})}(e.Do,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=A.$(t.noDocument.path),r=wi(t.noDocument.readTime);return new Rn(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=A.$(t.unknownDocument.path),o=wi(t.unknownDocument.version);return new Nn(i,o)}return b()}function yi(e,t,n){var r=gi(n),i=t.key.path.h().A();if(t instanceof Pn){var o=function(e,t){return{name:It(e,t.key),fields:t.sn().mapValue.fields,updateTime:wt(e,t.version.X())}}(e.Do,t),a=t.hasCommittedMutations;return new qi(null,null,o,a,r,i)}if(t instanceof Rn){var s=t.key.path.A(),u=_i(t.version),c=t.hasCommittedMutations;return new qi(null,new Gi(s,u),null,c,r,i)}if(t instanceof Nn){var l=t.key.path.A(),f=_i(t.version);return new qi(new Wi(l,f),null,null,!0,r,i)}return b()}function gi(e){var t=e.X();return[t.seconds,t.nanoseconds]}function bi(e){var t=new ue(e[0],e[1]);return ce.Y(t)}function _i(e){var t=e.X();return new Fi(t.seconds,t.nanoseconds)}function wi(e){var t=new ue(e.seconds,e.nanoseconds);return ce.Y(t)}function Ei(e,t){var n=(t.baseMutations||[]).map((function(t){return Lt(e.Do,t)})),r=t.mutations.map((function(t){return Lt(e.Do,t)})),i=ue.fromMillis(t.localWriteTimeMs);return new Zr(t.batchId,i,n,r)}function Si(e){var t,n,r=wi(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?wi(e.lastLimboFreeSnapshotVersion):ce.min();return void 0!==e.query.documents?(_(1===(n=e.query).documents.length),t=zn(Mn(Pt(n.documents[0])))):t=function(e){var t=Pt(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[Wt(t)]:void 0!==t.fieldFilter?[Gt(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):b():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new fr(zt(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return le(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ft(n.startAt));var l=null;return n.endAt&&(l=Ft(n.endAt)),zn(Ln(t,i,s,a,u,"F",c,l))}(e.query),new _e(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ee.fromBase64String(e.resumeToken))}function Ti(e,t){var n,r=_i(t.et),i=_i(t.lastLimboFreeSnapshotVersion);n=ye(t.target)?Mt(e.Do,t.target):jt(e.Do,t.target);var o=t.resumeToken.toBase64();return new Ki(t.targetId,ve(t.target),r,o,t.sequenceNumber,i,n)}var Ci=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.Sr=n,this.Co=r,this.No={}}return e.Fo=function(t,n,r,i){return _(""!==t.uid),new e(t.Xs()?t.uid:"",n,r,i)},e.prototype.$o=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ki(e).ss({index:Hi.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.xo=function(e,t,n,r){var i=this,o=Ai(e),a=ki(e);return a.add({}).next((function(s){_("number"==typeof s);for(var u=new Zr(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Dt(e.Do,t)})),i=n.mutations.map((function(t){return Dt(e.Do,t)}));return new Hi(t,n.batchId,n.rr.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],f=new Ie((function(e,t){return J(e.R(),t.R())})),d=0,p=r;d<p.length;d++){var h=p[d],v=zi.key(i.userId,h.key.path,s);f=f.add(h.key.path.h()),l.push(a.put(c)),l.push(o.put(v,zi.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Sr.ko(e,t))})),e.Vr((function(){i.No[s]=u.keys()})),mr.$n(l).next((function(){return u}))}))},e.prototype.Mo=function(e,t){var n=this;return ki(e).get(t).next((function(e){return e?(_(e.userId===n.userId),Ei(n.serializer,e)):null}))},e.prototype.Oo=function(e,t){var n=this;return this.No[t]?mr.resolve(this.No[t]):this.Mo(e,t).next((function(e){if(e){var r=e.keys();return n.No[t]=r,r}return null}))},e.prototype.Lo=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ki(e).ss({index:Hi.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(_(t.batchId>=r),o=Ei(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.Bo=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ki(e).ss({index:Hi.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.qo=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ki(e).Zn(Hi.userMutationsIndex,n).next((function(e){return e.map((function(e){return Ei(t.serializer,e)}))}))},e.prototype.Cr=function(e,t){var n=this,r=zi.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ai(e).ss({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=hi(u);if(s===n.userId&&t.path.isEqual(l))return ki(e).get(c).next((function(e){if(!e)throw b();_(e.userId===n.userId),o.push(Ei(n.serializer,e))}));a.done()})).next((function(){return o}))},e.prototype.Mr=function(e,t){var n=this,r=new Ie(J),i=[];return t.forEach((function(t){var o=zi.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Ai(e).ss({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=hi(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),mr.$n(i).next((function(){return n.Uo(e,r)}))},e.prototype.Qr=function(e,t){var n=this,r=t.path,i=r.length+1,o=zi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ie(J);return Ai(e).ss({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=hi(u);a===n.userId&&r.T(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Uo(e,s)}))},e.prototype.Uo=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ki(e).get(t).next((function(e){if(null===e)throw b();_(e.userId===n.userId),r.push(Ei(n.serializer,e))})))})),mr.$n(i).next((function(){return r}))},e.prototype.Qo=function(e,t){var n=this;return Ii(e.Wo,this.userId,t).next((function(r){return e.Vr((function(){n.jo(t.batchId)})),mr.forEach(r,(function(t){return n.Co.Ko(e,t)}))}))},e.prototype.jo=function(e){delete this.No[e]},e.prototype.Go=function(e){var t=this;return this.$o(e).next((function(n){if(!n)return mr.resolve();var r=IDBKeyRange.lowerBound(zi.prefixForUser(t.userId)),i=[];return Ai(e).ss({range:r},(function(e,n,r){if(e[0]===t.userId){var o=hi(e[1]);i.push(o)}else r.done()})).next((function(){_(0===i.length)}))}))},e.prototype.zo=function(e,t){return Oi(e,this.userId,t)},e.prototype.Ho=function(e){var t=this;return Pi(e).get(this.userId).next((function(e){return e||new Vi(t.userId,-1,"")}))},e}();function Oi(e,t,n){var r=zi.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ai(e).ss({range:o,ns:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Ii(e,t,n){var r=e.store(Hi.store),i=e.store(zi.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ss({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){_(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var d=f[l],p=zi.key(t,d.key.path,n.batchId);o.push(i.delete(p)),c.push(d.key)}return mr.$n(o).next((function(){return c}))}function ki(e){return lo.Un(e,Hi.store)}function Ai(e){return lo.Un(e,zi.store)}function Pi(e){return lo.Un(e,Vi.store)}var Ri=function(){function e(e,t){this.serializer=e,this.Sr=t}return e.prototype.Tr=function(e,t,n){return xi(e).put(Di(t),n)},e.prototype.Ir=function(e,t){var n=xi(e),r=Di(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Yo(e,r)}))},e.prototype.Ar=function(e,t){var n=this;return xi(e).get(Di(t)).next((function(e){return n.Jo(e)}))},e.prototype.Xo=function(e,t){var n=this;return xi(e).get(Di(t)).next((function(e){var t=n.Jo(e);return t?{Zo:t,size:Li(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Re();return this.ta(e,t,(function(e,t){var i=n.Jo(t);r=r.rt(e,i)})).next((function(){return r}))},e.prototype.ea=function(e,t){var n=this,r=Re(),i=new Te(A.i);return this.ta(e,t,(function(e,t){var o=n.Jo(t);o?(r=r.rt(e,o),i=i.rt(e,Li(t))):(r=r.rt(e,null),i=i.rt(e,0))})).next((function(){return{na:r,sa:i}}))},e.prototype.ta=function(e,t,n){if(t.m())return mr.resolve();var r=IDBKeyRange.bound(t.first().path.A(),t.last().path.A()),i=t.lt(),o=i.Et();return xi(e).ss({range:r},(function(e,t,r){for(var a=A.$(e);o&&A.i(o,a)<0;)n(o,null),o=i.Et();o&&o.isEqual(a)&&(n(o,t),o=i.It()?i.Et():null),o?r.Jn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},e.prototype.Or=function(e,t,n){var r=this,i=xe(),o=t.path.length+1,a={};if(n.isEqual(ce.min())){var s=t.path.A();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.A(),c=gi(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=qi.collectionReadTimeIndex}return xi(e).ss(a,(function(e,n,a){if(e.length===o){var s=mi(r.serializer,n);t.path.T(s.key.path)?s instanceof Pn&&Yn(t,s)&&(i=i.rt(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.ia=function(e,t){var n=this,r=Pe(),i=gi(t),o=xi(e),a=IDBKeyRange.lowerBound(i,!0);return o.ss({index:qi.readTimeIndex,range:a},(function(e,t){var o=mi(n.serializer,t);r=r.rt(o.key,o),i=t.readTime})).next((function(){return{ra:r,readTime:bi(i)}}))},e.prototype.oa=function(e){var t=xi(e),n=ce.min();return t.ss({index:qi.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=bi(t.readTime)),r.done()})).next((function(){return n}))},e.prototype.aa=function(t){return new e.ca(this,!!t&&t.ua)},e.prototype.ha=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Ni(e).get($i.key).next((function(e){return _(!!e),e}))},e.prototype.Yo=function(e,t){return Ni(e).put($i.key,t)},e.prototype.Jo=function(e){if(e){var t=mi(this.serializer,e);return t instanceof Rn&&t.version.isEqual(ce.min())?null:t}return null},e}();function Ni(e){return lo.Un(e,$i.store)}function xi(e){return lo.Un(e,qi.store)}function Di(e){return e.path.A()}function Li(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw b();t=e.noDocument}return JSON.stringify(t).length}Ri.ca=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).la=t,r.ua=n,r._a=new se((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return i.__extends(t,e),t.prototype.gr=function(e){var t=this,n=[],r=0,i=new Ie((function(e,t){return J(e.R(),t.R())}));return this.dr.forEach((function(o,a){var s=t._a.get(o);if(a){var u=yi(t.la.serializer,a,t.readTime);i=i.add(o.path.h());var c=Li(u);r+=c-s,n.push(t.la.Tr(e,o,u))}else if(r-=s,t.ua){var l=yi(t.la.serializer,new Rn(o,ce.min()),t.readTime);n.push(t.la.Tr(e,o,l))}else n.push(t.la.Ir(e,o))})),i.forEach((function(r){n.push(t.la.Sr.ko(e,r))})),n.push(this.la.updateMetadata(e,r)),mr.$n(n)},t.prototype.Rr=function(e,t){var n=this;return this.la.Xo(e,t).next((function(e){return null===e?(n._a.set(t,0),null):(n._a.set(t,e.size),e.Zo)}))},t.prototype.Pr=function(e,t){var n=this;return this.la.ea(e,t).next((function(e){var t=e.na;return e.sa.forEach((function(e,t){n._a.set(e,t)})),t}))},t}(ei);var Mi=function(){function e(){this.fa=new ji}return e.prototype.ko=function(e,t){return this.fa.add(t),mr.resolve()},e.prototype.Ur=function(e,t){return mr.resolve(this.fa.getEntries(t))},e}(),ji=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e._(),n=e.h(),r=this.index[t]||new Ie(O.i),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e._(),n=e.h(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ie(O.i)).A()},e}(),Ui=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;_(n<r&&n>=0&&r<=10);var o=new wr(t);n<1&&r>=1&&(function(e){e.createObjectStore(Bi.store)}(e),function(e){e.createObjectStore(Vi.store,{keyPath:Vi.keyPath}),e.createObjectStore(Hi.store,{keyPath:Hi.keyPath,autoIncrement:!0}).createIndex(Hi.userMutationsIndex,Hi.userMutationsKeyPath,{unique:!0}),e.createObjectStore(zi.store)}(e),Zi(e),function(e){e.createObjectStore(qi.store)}(e));var a=mr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Qi.store),e.deleteObjectStore(Ki.store),e.deleteObjectStore(Yi.store)}(e),Zi(e)),a=a.next((function(){return function(e){var t=e.store(Yi.store),n=new Yi(0,0,ce.min().X(),0);return t.put(Yi.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Hi.store).Zn().next((function(n){e.deleteObjectStore(Hi.store),e.createObjectStore(Hi.store,{keyPath:Hi.keyPath,autoIncrement:!0}).createIndex(Hi.userMutationsIndex,Hi.userMutationsKeyPath,{unique:!0});var r=t.store(Hi.store),i=n.map((function(e){return r.put(e)}));return mr.$n(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Xi.store,{keyPath:Xi.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore($i.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(qi.store);t.createIndex(qi.readTimeIndex,qi.readTimeIndexPath,{unique:!1}),t.createIndex(qi.collectionReadTimeIndex,qi.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(qi.store).ss((function(e,n){t+=Li(n)})).next((function(){var n=new $i(t);return e.store($i.store).put($i.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Vi.store),r=e.store(Hi.store);return n.Zn().next((function(n){return mr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Zn(Hi.userMutationsIndex,i).next((function(r){return mr.forEach(r,(function(r){_(r.userId===n.userId);var i=Ei(t.serializer,r);return Ii(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(Qi.store),n=e.store(qi.store);return e.store(Yi.store).get(Yi.key).next((function(e){var r=[];return n.ss((function(n,i){var o=new O(n),a=function(e){return[0,fi(e)]}(o);r.push(t.get(a).next((function(n){return n?mr.resolve():function(n){return t.put(new Qi(0,fi(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return mr.$n(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Ji.store,{keyPath:Ji.keyPath});var n=t.store(Ji.store),r=new ji,i=function(e){if(r.add(e)){var t=e._(),i=e.h();return n.put({collectionId:t,parent:fi(i)})}};return t.store(qi.store).ss({ns:!0},(function(e,t){var n=new O(e);return i(n.h())})).next((function(){return t.store(zi.store).ss({ns:!0},(function(e,t){e[0];var n=e[1],r=(e[2],hi(n));return i(r.h())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(Ki.store);return n.ss((function(e,r){var i=Si(r),o=Ti(t.serializer,i);return n.put(o)}))},e}(),Fi=function(e,t){this.seconds=e,this.nanoseconds=t},Bi=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Bi.store="owner",Bi.key="owner";var Vi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Vi.store="mutationQueues",Vi.keyPath="userId";var Hi=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Hi.store="mutations",Hi.keyPath="batchId",Hi.userMutationsIndex="userMutationsIndex",Hi.userMutationsKeyPath=["userId","batchId"];var zi=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,fi(t)]},e.key=function(e,t,n){return[e,fi(t),n]},e}();zi.store="documentMutations",zi.PLACEHOLDER=new zi;var Gi=function(e,t){this.path=e,this.readTime=t},Wi=function(e,t){this.path=e,this.version=t},qi=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};qi.store="remoteDocuments",qi.readTimeIndex="readTimeIndex",qi.readTimeIndexPath="readTime",qi.collectionReadTimeIndex="collectionReadTimeIndex",qi.collectionReadTimeIndexPath=["parentPath","readTime"];var $i=function(e){this.byteSize=e};$i.store="remoteDocumentGlobal",$i.key="remoteDocumentGlobalKey";var Ki=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Ki.store="targets",Ki.keyPath="targetId",Ki.queryTargetsIndexName="queryTargetsIndex",Ki.queryTargetsKeyPath=["canonicalId","targetId"];var Qi=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Qi.store="targetDocuments",Qi.keyPath=["targetId","path"],Qi.documentTargetsIndex="documentTargetsIndex",Qi.documentTargetsKeyPath=["path","targetId"];var Yi=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Yi.key="targetGlobalKey",Yi.store="targetGlobal";var Ji=function(e,t){this.collectionId=e,this.parent=t};function Zi(e){e.createObjectStore(Qi.store,{keyPath:Qi.keyPath}).createIndex(Qi.documentTargetsIndex,Qi.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.queryTargetsIndexName,Ki.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Yi.store)}Ji.store="collectionParents",Ji.keyPath=["collectionId","parent"];var Xi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Xi.store="clientMetadata",Xi.keyPath="clientId";var eo=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Vi.store,Hi.store,zi.store,qi.store,Ki.store,Bi.store,Yi.store,Qi.store],[Xi.store]),[$i.store]),[Ji.store]),to=function(){function e(){this.da=new ji}return e.prototype.ko=function(e,t){var n=this;if(!this.da.has(t)){var r=t._(),i=t.h();e.Vr((function(){n.da.add(t)}));var o={collectionId:r,parent:fi(i)};return no(e).put(o)}return mr.resolve()},e.prototype.Ur=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[X(t),""],!1,!0);return no(e).Zn(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(hi(o.parent))}return n}))},e}();function no(e){return lo.Un(e,Ji.store)}var ro=function(){function e(e){this.wa=e}return e.prototype.next=function(){return this.wa+=2,this.wa},e.ma=function(){return new e(0)},e.Ta=function(){return new e(-1)},e}(),io=function(){function e(e,t){this.Co=e,this.serializer=t}return e.prototype.Ea=function(e){var t=this;return this.Ia(e).next((function(n){var r=new ro(n.highestTargetId);return n.highestTargetId=r.next(),t.Aa(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.Ra=function(e){return this.Ia(e).next((function(e){return ce.Y(new ue(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.Pa=function(e){return this.Ia(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.ga=function(e,t,n){var r=this;return this.Ia(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.X()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Aa(e,i)}))},e.prototype.ya=function(e,t){var n=this;return this.Va(e,t).next((function(){return n.Ia(e).next((function(r){return r.targetCount+=1,n.pa(t,r),n.Aa(e,r)}))}))},e.prototype.ba=function(e,t){return this.Va(e,t)},e.prototype.va=function(e,t){var n=this;return this.Sa(e,t.targetId).next((function(){return oo(e).delete(t.targetId)})).next((function(){return n.Ia(e)})).next((function(t){return _(t.targetCount>0),t.targetCount-=1,n.Aa(e,t)}))},e.prototype.Vo=function(e,t,n){var r=this,i=0,o=[];return oo(e).ss((function(a,s){var u=Si(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.va(e,u)))})).next((function(){return mr.$n(o)})).next((function(){return i}))},e.prototype.De=function(e,t){return oo(e).ss((function(e,n){var r=Si(n);t(r)}))},e.prototype.Ia=function(e){return ao(e).get(Yi.key).next((function(e){return _(null!==e),e}))},e.prototype.Aa=function(e,t){return ao(e).put(Yi.key,t)},e.prototype.Va=function(e,t){return oo(e).put(Ti(this.serializer,t))},e.prototype.pa=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.Da=function(e){return this.Ia(e).next((function(e){return e.targetCount}))},e.prototype.Ca=function(e,t){var n=ve(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return oo(e).ss({range:r,index:Ki.queryTargetsIndexName},(function(e,n,r){var o=Si(n);me(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.Na=function(e,t,n){var r=this,i=[],o=so(e);return t.forEach((function(t){var a=fi(t.path);i.push(o.put(new Qi(n,a))),i.push(r.Co.Fa(e,n,t))})),mr.$n(i)},e.prototype.$a=function(e,t,n){var r=this,i=so(e);return mr.forEach(t,(function(t){var o=fi(t.path);return mr.$n([i.delete([n,o]),r.Co.xa(e,n,t)])}))},e.prototype.Sa=function(e,t){var n=so(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.ka=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=so(e),i=Me();return r.ss({range:n,ns:!0},(function(e,t,n){var r=hi(e[1]),o=new A(r);i=i.add(o)})).next((function(){return i}))},e.prototype.zo=function(e,t){var n=fi(t.path),r=IDBKeyRange.bound([n],[X(n)],!1,!0),i=0;return so(e).ss({index:Qi.documentTargetsIndex,ns:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.qe=function(e,t){return oo(e).get(t).next((function(e){return e?Si(e):null}))},e}();function oo(e){return lo.Un(e,Ki.store)}function ao(e){return lo.Un(e,Yi.store)}function so(e){return lo.Un(e,Qi.store)}var uo="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",co=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Wo=t,r.Ma=n,r}return i.__extends(t,e),t}(ni),lo=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this._n=o,this.window=a,this.document=s,this.Oa=c,this.La=l,this.Ba=null,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(e){return Promise.resolve()},!e.On())throw new d(f.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new ho(this,i),this.Ga=n+"main",this.serializer=new vi(u),this.za=new yr(this.Ga,10,new Ui(this.serializer)),this.Ha=new io(this.Co,this.serializer),this.Sr=new to,this.br=new Ri(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ya=this.window.localStorage:(this.Ya=null,!1===l&&m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.Un=function(e,t){if(e instanceof co)return yr.Un(e.Wo,t);throw b()},e.prototype.start=function(){var e=this;return this.Ja().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,uo);return e.Xa(),e.Za(),e.tc(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ha.Pa(t)}))})).then((function(t){e.Ba=new Vr(t,e.Oa)})).then((function(){e.qa=!0})).catch((function(t){return e.za&&e.za.close(),Promise.reject(t)}))},e.prototype.ec=function(e){var t=this;return this.Ka=function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Ti?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.nc=function(e){var t=this;this.za.jn((function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.sc=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this._n.ds((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Ti?[4,this.Ja()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Ja=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return po(t).put(new Xi(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.ic(t).next((function(t){t||(e.isPrimary=!1,e._n.Ds((function(){return e.Ka(!1)})))}))})).next((function(){return e.rc(t)})).next((function(n){return e.isPrimary&&!n?e.oc(t).next((function(){return!1})):!!n&&e.ac(t).next((function(){return!0}))}))})).catch((function(t){if(_r(t))return v("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return v("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e._n.Ds((function(){return e.Ka(t)})),e.isPrimary=t}))},e.prototype.ic=function(e){var t=this;return fo(e).get(Bi.key).next((function(e){return mr.resolve(t.cc(e))}))},e.prototype.uc=function(e){return po(e).delete(this.clientId)},e.prototype.hc=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.lc(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.Un(t,Xi.store);return n.Zn().next((function(e){var t=a._c(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return mr.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ya)for(n=0,r=t;n<r.length;n++)o=r[n],this.Ya.removeItem(this.fc(o.clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.tc=function(){var e=this;this.Wa=this._n.gn("client_metadata_refresh",4e3,(function(){return e.Ja().then((function(){return e.hc()})).then((function(){return e.tc()}))}))},e.prototype.cc=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.rc=function(e){var t=this;return this.La?mr.resolve(!0):fo(e).get(Bi.key).next((function(n){if(null!==n&&t.lc(n.leaseTimestampMs,5e3)&&!t.dc(n.ownerId)){if(t.cc(n)&&t.networkEnabled)return!0;if(!t.cc(n)){if(!n.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,uo);return!1}}return!(!t.networkEnabled||!t.inForeground)||po(e).Zn().next((function(e){return void 0===t._c(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&v("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.Si=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){switch(t.label){case 0:return this.qa=!1,this.wc(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.mc(),this.Tc(),[4,this.za.runTransaction("readwrite",[Bi.store,Xi.store],(function(t){var n=new co(t,Vr.oi);return e.oc(n).next((function(){return e.uc(n)}))}))];case 1:return t.sent(),this.za.close(),this.Ec(),[2]}}))}))},e.prototype._c=function(e,t){var n=this;return e.filter((function(e){return n.lc(e.updateTimeMs,t)&&!n.dc(e.clientId)}))},e.prototype.Vi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return po(t).Zn().next((function(t){return e._c(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),e.prototype.Ic=function(e){return Ci.Fo(e,this.serializer,this.Sr,this.Co)},e.prototype.Ac=function(){return this.Ha},e.prototype.Rc=function(){return this.br},e.prototype.Pc=function(){return this.Sr},e.prototype.runTransaction=function(e,t,n){var r=this;v("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.za.runTransaction(o,eo,(function(o){return i=new co(o,r.Ba?r.Ba.next():Vr.oi),"readwrite-primary"===t?r.ic(i).next((function(e){return!!e||r.rc(i)})).next((function(t){if(!t)throw m("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r._n.Ds((function(){return r.Ka(!1)})),new d(f.FAILED_PRECONDITION,ti);return n(i)})).next((function(e){return r.ac(i).next((function(){return e}))})):r.gc(i).next((function(){return n(i)}))})).then((function(e){return i.pr(),e}))},e.prototype.gc=function(e){var t=this;return fo(e).get(Bi.key).next((function(e){if(null!==e&&t.lc(e.leaseTimestampMs,5e3)&&!t.dc(e.ownerId)&&!t.cc(e)&&!(t.La||t.allowTabSynchronization&&e.allowTabSynchronization))throw new d(f.FAILED_PRECONDITION,uo)}))},e.prototype.ac=function(e){var t=new Bi(this.clientId,this.allowTabSynchronization,Date.now());return fo(e).put(Bi.key,t)},e.On=function(){return yr.On()},e.prototype.oc=function(e){var t=this,n=fo(e);return n.get(Bi.key).next((function(e){return t.cc(e)?(v("IndexedDbPersistence","Releasing primary lease."),n.delete(Bi.key)):mr.resolve()}))},e.prototype.lc=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(m("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Xa=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){e._n.ds((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ja()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},e.prototype.mc=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},e.prototype.Za=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ua=function(){t.wc(),t._n.ds((function(){return t.Si()}))},this.window.addEventListener("unload",this.Ua))},e.prototype.Tc=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},e.prototype.dc=function(e){var t;try{var n=null!==(null===(t=this.Ya)||void 0===t?void 0:t.getItem(this.fc(e)));return v("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return m("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.wc=function(){if(this.Ya)try{this.Ya.setItem(this.fc(this.clientId),String(Date.now()))}catch(e){m("Failed to set zombie client id.",e)}},e.prototype.Ec=function(){if(this.Ya)try{this.Ya.removeItem(this.fc(this.clientId))}catch(e){}},e.prototype.fc=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function fo(e){return lo.Un(e,Bi.store)}function po(e){return lo.Un(e,Xi.store)}var ho=function(){function e(e,t){this.db=e,this.do=new li(this,t)}return e.prototype.Ro=function(e){var t=this.yc(e);return this.db.Ac().Da(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.yc=function(e){var t=0;return this.yo(e,(function(e){t++})).next((function(){return t}))},e.prototype.De=function(e,t){return this.db.Ac().De(e,t)},e.prototype.yo=function(e,t){return this.Vc(e,(function(e,n){return t(n)}))},e.prototype.Fa=function(e,t,n){return vo(e,n)},e.prototype.xa=function(e,t,n){return vo(e,n)},e.prototype.Vo=function(e,t,n){return this.db.Ac().Vo(e,t,n)},e.prototype.Ko=function(e,t){return vo(e,t)},e.prototype.bc=function(e,t){return function(e,t){var n=!1;return Pi(e).rs((function(r){return Oi(e,r,t).next((function(e){return e&&(n=!0),mr.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.po=function(e,t){var n=this,r=this.db.Rc().aa(),i=[],o=0;return this.Vc(e,(function(a,s){if(s<=t){var u=n.bc(e,a).next((function(t){if(!t)return o++,r.Ar(e,a).next((function(){return r.Ir(a),so(e).delete([0,fi(a.path)])}))}));i.push(u)}})).next((function(){return mr.$n(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.nt(e.Ma);return this.db.Ac().ba(e,n)},e.prototype.vc=function(e,t){return vo(e,t)},e.prototype.Vc=function(e,t){var n,r=so(e),i=Vr.oi;return r.ss({index:Qi.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Vr.oi&&t(new A(hi(n)),i),i=s,n=a):i=Vr.oi})).next((function(){i!==Vr.oi&&t(new A(hi(n)),i)}))},e.prototype.vo=function(e){return this.db.Rc().ha(e)},e}();function vo(e,t){return so(e).put(function(e,t){return new Qi(0,fi(e.path),t)}(t,e.Ma))}function mo(e,t){var n=e.projectId;return e.W||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yo=function(){function e(e,t,n){this.persistence=e,this.Sc=t,this.Dc=new Te(J),this.Cc=new se((function(e){return ve(e)}),me),this.Nc=ce.min(),this.vr=e.Ic(n),this.Fc=e.Rc(),this.Ha=e.Ac(),this.$c=new ri(this.Fc,this.vr,this.persistence.Pc()),this.Sc.xc(this.$c)}return e.prototype.Eo=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.bo(n,t.Dc)}))},e}();function go(e,t){var n=w(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Fc.aa({ua:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=mr.resolve();return o.forEach((function(e){a=a.next((function(){return r.Ar(t,e)})).next((function(t){var o=t,a=n._r.get(e);_(null!==a),(!o||o.version.L(a)<0)&&(o=i.ar(e,o,n))&&r.Tr(o,n.lr)}))})),a.next((function(){return e.vr.Qo(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.vr.Go(e)})).next((function(){return n.$c.$r(e,r)}))}))}function bo(e){var t=w(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ha.Ra(e)}))}function _o(e,t){var n=w(e),r=t.et,i=n.Dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Fc.aa({ua:!0});i=n.Dc;var a=[];t.Gt.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.Ha.$a(e,t.ne,o).next((function(){return n.Ha.Na(e,t.te,o)})));var u=t.resumeToken;if(u.O()>0){var c=s.st(u,r).nt(e.Ma);i=i.rt(o,c),function(e,t,n){return _(t.resumeToken.O()>0),0===e.resumeToken.O()||t.et.J()-e.et.J()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(s,c,t)&&a.push(n.Ha.ba(e,c))}}}));var s=Pe(),u=Me();if(t.Ht.forEach((function(e,t){u=u.add(e)})),a.push(o.getEntries(e,u).next((function(i){t.Ht.forEach((function(u,c){var l=i.get(u);c instanceof Rn&&c.version.isEqual(ce.min())?(o.Ir(u,r),s=s.rt(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Tr(c,r),s=s.rt(u,c)):v("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),t.Yt.has(u)&&a.push(n.persistence.Co.vc(e,u))}))}))),!r.isEqual(ce.min())){var c=n.Ha.Ra(e).next((function(t){return n.Ha.ga(e,e.Ma,r)}));a.push(c)}return mr.$n(a).next((function(){return o.apply(e)})).next((function(){return n.$c.kr(e,s)}))})).then((function(e){return n.Dc=i,e}))}function wo(e,t){var n=w(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.vr.Lo(e,t)}))}function Eo(e,t){var n=w(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ha.Ca(e,t).next((function(i){return i?(r=i,mr.resolve(r)):n.Ha.Ea(e).next((function(i){return r=new _e(t,i,0,e.Ma),n.Ha.ya(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Dc.get(e.targetId);return(null===r||e.et.L(r.et)>0)&&(n.Dc=n.Dc.rt(e.targetId,e),n.Cc.set(t,e.targetId)),e}))}function So(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:r=w(e),o=r.Dc.get(t),a=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,(function(e){return r.persistence.Co.removeTarget(e,o)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!_r(s=i.sent()))throw s;return v("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.Dc=r.Dc.remove(t),r.Cc.delete(o.target),[2]}}))}))}function To(e,t,n){var r=w(e),i=ce.min(),o=Me();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=w(e),i=r.Cc.get(n);return void 0!==i?mr.resolve(r.Dc.get(i)):r.Ha.Ca(t,n)}(r,e,zn(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ha.ka(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Sc.Or(e,t,n?i:ce.min(),n?o:Me())})).next((function(e){return{documents:e,kc:o}}))}))}function Co(e,t){var n=w(e),r=w(n.Ha),i=n.Dc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.qe(e,t).next((function(e){return e?e.target:null}))}))}function Oo(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){if(e.code!==f.FAILED_PRECONDITION||e.message!==ti)throw e;return v("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Io=function(){function e(){this.Mc=new Ie(ko.Oc),this.Lc=new Ie(ko.Bc)}return e.prototype.m=function(){return this.Mc.m()},e.prototype.Fa=function(e,t){var n=new ko(e,t);this.Mc=this.Mc.add(n),this.Lc=this.Lc.add(n)},e.prototype.qc=function(e,t){var n=this;e.forEach((function(e){return n.Fa(e,t)}))},e.prototype.xa=function(e,t){this.Uc(new ko(e,t))},e.prototype.Qc=function(e,t){var n=this;e.forEach((function(e){return n.xa(e,t)}))},e.prototype.Wc=function(e){var t=this,n=new A(new O([])),r=new ko(n,e),i=new ko(n,e+1),o=[];return this.Lc.Nt([r,i],(function(e){t.Uc(e),o.push(e.key)})),o},e.prototype.jc=function(){var e=this;this.Mc.forEach((function(t){return e.Uc(t)}))},e.prototype.Uc=function(e){this.Mc=this.Mc.delete(e),this.Lc=this.Lc.delete(e)},e.prototype.Kc=function(e){var t=new A(new O([])),n=new ko(t,e),r=new ko(t,e+1),i=Me();return this.Lc.Nt([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.zo=function(e){var t=new ko(e,0),n=this.Mc.$t(t);return null!==n&&e.isEqual(n.key)},e}(),ko=function(){function e(e,t){this.key=e,this.Gc=t}return e.Oc=function(e,t){return A.i(e.key,t.key)||J(e.Gc,t.Gc)},e.Bc=function(e,t){return J(e.Gc,t.Gc)||A.i(e.key,t.key)},e}(),Ao=function(e,t){this.user=t,this.type="OAuth",this.zc={},this.zc.Authorization="Bearer "+e},Po=function(){function e(){this.Hc=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.Yc=function(){},e.prototype.Jc=function(e){this.Hc=e,e(Br.UNAUTHENTICATED)},e.prototype.Xc=function(){this.Hc=null},e}(),Ro=function(){function e(e){var t=this;this.Zc=null,this.currentUser=Br.UNAUTHENTICATED,this.tu=!1,this.eu=0,this.Hc=null,this.forceRefresh=!1,this.Zc=function(){t.eu++,t.currentUser=t.nu(),t.tu=!0,t.Hc&&t.Hc(t.currentUser)},this.eu=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Zc):(this.Zc(null),e.get().then((function(e){t.auth=e,t.Zc&&t.auth.addAuthTokenListener(t.Zc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.eu,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.eu!==t?(v("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_("string"==typeof n.accessToken),new Ao(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.Yc=function(){this.forceRefresh=!0},e.prototype.Jc=function(e){this.Hc=e,this.tu&&e(this.currentUser)},e.prototype.Xc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Zc),this.Zc=null,this.Hc=null},e.prototype.nu=function(){var e=this.auth&&this.auth.getUid();return _(null===e||"string"==typeof e),new Br(e)},e}(),No=function(){function e(e,t){this.su=e,this.iu=t,this.type="FirstParty",this.user=Br.ei}return Object.defineProperty(e.prototype,"zc",{get:function(){var e={"X-Goog-AuthUser":this.iu},t=this.su.auth.ru([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),xo=function(){function e(e,t){this.su=e,this.iu=t}return e.prototype.getToken=function(){return Promise.resolve(new No(this.su,this.iu))},e.prototype.Jc=function(e){e(Br.ei)},e.prototype.Xc=function(){},e.prototype.Yc=function(){},e}(),Do=function(){function e(e,t,n,r,i,o){this._n=e,this.ou=n,this.au=r,this.cu=i,this.listener=o,this.state=0,this.uu=0,this.hu=null,this.stream=null,this.gs=new vr(e,t)}return e.prototype.lu=function(){return 1===this.state||2===this.state||4===this.state},e.prototype._u=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.fu()},e.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.lu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.du=function(){this.state=0,this.gs.reset()},e.prototype.wu=function(){var e=this;this._u()&&null===this.hu&&(this.hu=this._n.gn(this.ou,6e4,(function(){return e.mu()})))},e.prototype.Tu=function(e){this.Eu(),this.stream.send(e)},e.prototype.mu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this._u()?[2,this.close(0)]:[2]}))}))},e.prototype.Eu=function(){this.hu&&(this.hu.cancel(),this.hu=null)},e.prototype.close=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Eu(),this.gs.cancel(),this.uu++,3!==e?this.gs.reset():t&&t.code===f.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):t&&t.code===f.UNAUTHENTICATED&&this.cu.Yc(),null!==this.stream&&(this.Iu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Au(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.Iu=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.Ru(this.uu),n=this.uu;this.cu.getToken().then((function(t){e.uu===n&&e.Pu(t)}),(function(n){t((function(){var t=new d(f.UNKNOWN,"Fetching auth token failed: "+n.message);return e.gu(t)}))}))},e.prototype.Pu=function(e){var t=this,n=this.Ru(this.uu);this.stream=this.yu(e),this.stream.Vu((function(){n((function(){return t.state=2,t.listener.Vu()}))})),this.stream.Au((function(e){n((function(){return t.gu(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.fu=function(){var e=this;this.state=4,this.gs.Rn((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.gu=function(e){return v("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.Ru=function(e){var t=this;return function(n){t._n.ds((function(){return t.uu===e?n():(v("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Lo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return i.__extends(t,e),t.prototype.yu=function(e){return this.au.pu("Listen",e)},t.prototype.onMessage=function(e){this.gs.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:b()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.Ue?(_(void 0===t||"string"==typeof t),ee.fromBase64String(t||"")):(_(void 0===t||t instanceof Uint8Array),ee.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?f.UNKNOWN:Se(e.code);return new d(t,e.message||"")}(a);n=new qe(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=kt(e,u.document.name),l=Tt(u.document.updateTime),p=new On({mapValue:{fields:u.document.fields}}),h=new Pn(c,l,p,{}),v=u.targetIds||[],m=u.removedTargetIds||[];n=new Ge(v,m,h.key,h)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var g=kt(e,y.document),w=y.readTime?Tt(y.readTime):ce.min(),E=new Rn(g,w),S=y.removedTargetIds||[];n=new Ge([],S,E.key,E)}else if("documentRemove"in t){t.documentRemove;var T=t.documentRemove;T.document;var C=kt(e,T.document),O=T.removedTargetIds||[];n=new Ge([],O,C,null)}else{if(!("filter"in t))return b();t.filter;var I=t.filter;I.targetId;var k=I.count||0,A=new we(k),P=I.targetId;n=new We(P,A)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ce.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ce.min():t.readTime?Tt(t.readTime):ce.min()}(e);return this.listener.bu(t,n)},t.prototype.vu=function(e){var t={};t.database=Rt(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=ye(r)?{documents:Mt(e,r)}:{query:jt(e,r)}).targetId=t.targetId,t.resumeToken.O()>0&&(n.resumeToken=Et(e,t.resumeToken)),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,t.tt);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Tu(t)},t.prototype.Su=function(e){var t={};t.database=Rt(this.serializer),t.removeTarget=e,this.Tu(t)},t}(Do),Mo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.Du=!1,a}return i.__extends(t,e),Object.defineProperty(t.prototype,"Cu",{get:function(){return this.Du},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.Du=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.Iu=function(){this.Du&&this.Nu([])},t.prototype.yu=function(e){return this.au.pu("Write",e)},t.prototype.onMessage=function(e){if(_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Du){this.gs.reset();var t=function(e,t){return e&&e.length>0?(_(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Tt(e.updateTime):Tt(t);n.isEqual(ce.min())&&(n=Tt(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new cn(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Tt(e.commitTime);return this.listener.Fu(n,t)}return _(!e.writeResults||0===e.writeResults.length),this.Du=!0,this.listener.$u()},t.prototype.xu=function(){var e={};e.database=Rt(this.serializer),this.Tu(e)},t.prototype.Nu=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Dt(t.serializer,e)}))};this.Tu(n)},t}(Do),jo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.au=n,i.serializer=r,i.ku=!1,i}return i.__extends(t,e),t.prototype.Mu=function(){if(this.ku)throw new d(f.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ou=function(e,t,n){var r=this;return this.Mu(),this.credentials.getToken().then((function(i){return r.au.Ou(e,t,n,i)})).catch((function(e){throw e.code===f.UNAUTHENTICATED&&r.credentials.Yc(),e}))},t.prototype.Lu=function(e,t,n){var r=this;return this.Mu(),this.credentials.getToken().then((function(i){return r.au.Lu(e,t,n,i)})).catch((function(e){throw e.code===f.UNAUTHENTICATED&&r.credentials.Yc(),e}))},t.prototype.terminate=function(){this.ku=!1},t}((function(){})),Uo=function(){function e(e,t){this.os=e,this.fi=t,this.state="Unknown",this.Bu=0,this.qu=null,this.Uu=!0}return e.prototype.Qu=function(){var e=this;0===this.Bu&&(this.Wu("Unknown"),this.qu=this.os.gn("online_state_timeout",1e4,(function(){return e.qu=null,e.ju("Backend didn't respond within 10 seconds."),e.Wu("Offline"),Promise.resolve()})))},e.prototype.Ku=function(e){"Online"===this.state?this.Wu("Unknown"):(this.Bu++,this.Bu>=1&&(this.Gu(),this.ju("Connection failed 1 times. Most recent error: "+e.toString()),this.Wu("Offline")))},e.prototype.set=function(e){this.Gu(),this.Bu=0,"Online"===e&&(this.Uu=!1),this.Wu(e)},e.prototype.Wu=function(e){e!==this.state&&(this.state=e,this.fi(e))},e.prototype.ju=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Uu?(m(t),this.Uu=!1):v("OnlineStateTracker",t)},e.prototype.Gu=function(){null!==this.qu&&(this.qu.cancel(),this.qu=null)},e}(),Fo=function(){function e(e,t,n,r,o){var a=this;this.zu=e,this.Hu=t,this.os=n,this.Yu=[],this.Ju=new Map,this.Xu=null,this.Zu=new Set,this.th={},this.eh=o,this.eh.nh((function(e){n.ds((function(){return i.__awaiter(a,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return Yo(this)?(v("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return(t=w(e)).Zu.add(4),[4,Ho(t)];case 1:return n.sent(),t.sh.du(),t.ih.du(),t.rh.set("Unknown"),t.Zu.delete(4),[4,Vo(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.rh=new Uo(n,r),this.ih=function(e,t,n){var r=w(e);return r.Mu(),new Lo(t,r.au,r.credentials,r.serializer,n)}(this.Hu,n,{Vu:Zo.bind(null,this),Au:Xo.bind(null,this),bu:ea.bind(null,this)}),this.sh=function(e,t,n){var r=w(e);return r.Mu(),new Mo(t,r.au,r.credentials,r.serializer,n)}(this.Hu,n,{Vu:aa.bind(null,this),Au:ca.bind(null,this),$u:sa.bind(null,this),Fu:ua.bind(null,this)})}return e.prototype.start=function(){return Bo(this)},e}();function Bo(e){var t=w(e);return t.Zu.delete(0),Vo(t)}function Vo(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return Yo(e)?(Qo(e)?Ko(e):e.rh.set("Unknown"),[4,ra(e)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}function Ho(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,e.sh.stop()];case 1:return t.sent(),[4,e.ih.stop()];case 2:return t.sent(),e.Yu.length>0&&(v("RemoteStore","Stopping write stream with "+e.Yu.length+" pending writes"),e.Yu=[]),Jo(e),[2]}}))}))}function zo(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return t=w(e),v("RemoteStore","RemoteStore shutting down."),t.Zu.add(5),[4,Ho(t)];case 1:return n.sent(),t.eh.Si(),t.rh.set("Unknown"),[2]}}))}))}function Go(e,t){var n=w(e);n.Ju.has(t.targetId)||(n.Ju.set(t.targetId,t),Qo(n)?Ko(n):n.ih._u()&&qo(n,t))}function Wo(e,t){var n=w(e);n.Ju.delete(t),n.ih._u()&&$o(n,t),0===n.Ju.size&&(n.ih._u()?n.ih.wu():Yo(n)&&n.rh.set("Unknown"))}function qo(e,t){e.Xu.Ee(t.targetId),e.ih.vu(t)}function $o(e,t){e.Xu.Ee(t),e.ih.Su(t)}function Ko(e){e.Xu=new Ke({Be:function(t){return e.th.Be(t)},qe:function(t){return e.Ju.get(t)||null}}),e.ih.start(),e.rh.Qu()}function Qo(e){return Yo(e)&&!e.ih.lu()&&e.Ju.size>0}function Yo(e){return 0===w(e).Zu.size}function Jo(e){e.Xu=null}function Zo(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.Ju.forEach((function(t,n){qo(e,t)})),[2]}))}))}function Xo(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){return Jo(e),Qo(e)?(e.rh.Ku(t),Ko(e)):e.rh.set("Unknown"),[2]}))}))}function ea(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a;return i.__generator(this,(function(s){switch(s.label){case 0:if(e.rh.set("Online"),!(t instanceof qe&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:n=t.cause,r=0,o=t.targetIds,i.label=1;case 1:return r<o.length?(a=o[r],e.Ju.has(a)?[4,e.th.oh(a,n)]:[3,3]):[3,5];case 2:i.sent(),e.Ju.delete(a),e.Xu.removeTarget(a),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),v("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ta(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ge?e.Xu.pe(t):t instanceof We?e.Xu.$e(t):e.Xu.Se(t),n.isEqual(ce.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,bo(e.zu)];case 8:return o=s.sent(),n.L(o)>=0?[4,function(e,t){var n=e.Xu.Me(t);return n.Gt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=e.Ju.get(r);i&&e.Ju.set(r,i.st(n.resumeToken,t))}})),n.zt.forEach((function(t){var n=e.Ju.get(t);if(n){e.Ju.set(t,n.st(ee.B,n.et)),$o(e,t);var r=new _e(n.target,t,1,n.sequenceNumber);qo(e,r)}})),e.th.ah(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return v("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,ta(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ta(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r=this;return i.__generator(this,(function(o){switch(o.label){case 0:if(!_r(t))throw t;return e.Zu.add(1),[4,Ho(e)];case 1:return o.sent(),e.rh.set("Offline"),n||(n=function(){return bo(e.zu)}),e.os.Ds((function(){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return v("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Zu.delete(1),[4,Vo(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function na(e,t){return t().catch((function(n){return ta(e,n,t)}))}function ra(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:t=w(e),n=t.Yu.length>0?t.Yu[t.Yu.length-1].batchId:-1,i.label=1;case 1:if(!function(e){return Yo(e)&&e.Yu.length<10}(t))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,wo(t.zu,n)];case 3:return null===(r=i.sent())?(0===t.Yu.length&&t.sh.wu(),[3,7]):(n=r.batchId,function(e,t){e.Yu.push(t),e.sh._u()&&e.sh.Cu&&e.sh.Nu(t.mutations)}(t,r),[3,6]);case 4:return o=i.sent(),[4,ta(t,o)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return ia(t)&&oa(t),[2]}}))}))}function ia(e){return Yo(e)&&!e.sh.lu()&&e.Yu.length>0}function oa(e){e.sh.start()}function aa(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.sh.xu(),[2]}))}))}function sa(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r;return i.__generator(this,(function(i){for(t=0,n=e.Yu;t<n.length;t++)r=n[t],e.sh.Nu(r.mutations);return[2]}))}))}function ua(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return r=e.Yu.shift(),o=Xr.from(r,t,n),[4,na(e,(function(){return e.th.uh(o)}))];case 1:return i.sent(),[4,ra(e)];case 2:return i.sent(),[2]}}))}))}function ca(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return t&&e.sh.Cu?[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return Ee(r=t.code)&&r!==f.ABORTED?(n=e.Yu.shift(),e.sh.du(),[4,na(e,(function(){return e.th.hh(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,ra(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ia(e)&&oa(e),[2]}}))}))}function la(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return n=w(e),t?(n.Zu.delete(2),[4,Vo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Zu.add(2),[4,Ho(n)]);case 3:r.sent(),n.rh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}var fa=function(e){this.key=e},da=function(e){this.key=e},pa=function(){function e(e,t){this.query=e,this.lh=t,this._h=null,this.Zt=!1,this.fh=Me(),this.Qt=Me(),this.dh=Jn(e),this.wh=new Fe(this.dh)}return Object.defineProperty(e.prototype,"mh",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.Th=function(e,t){var n=this,r=t?t.Eh:new Be,i=t?t.wh:this.wh,o=t?t.Qt:this.Qt,a=i,s=!1,u=jn(this.query)&&i.size===this.query.limit?i.last():null,c=Un(this.query)&&i.size===this.query.limit?i.first():null;if(e.ut((function(e,t){var l=i.get(e),f=t instanceof Pn?t:null;f&&(f=Yn(n.query,f)?f:null);var d=!!l&&n.Qt.has(l.key),p=!!f&&(f.Ye||n.Qt.has(f.key)&&f.hasCommittedMutations),h=!1;l&&f?l.data().isEqual(f.data())?d!==p&&(r.track({type:3,doc:f}),h=!0):n.Ih(l,f)||(r.track({type:2,doc:f}),h=!0,(u&&n.dh(f,u)>0||c&&n.dh(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),h=!0):l&&!f&&(r.track({type:1,doc:l}),h=!0,(u||c)&&(s=!0)),h&&(f?(a=a.add(f),o=p?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),jn(this.query)||Un(this.query))for(;a.size>this.query.limit;){var l=jn(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{wh:a,Eh:r,Ah:s,Qt:o}},e.prototype.Ih=function(e,t){return e.Ye&&t.hasCommittedMutations&&!t.Ye},e.prototype.gr=function(e,t,n){var r=this,i=this.wh;this.wh=e.wh,this.Qt=e.Qt;var o=e.Eh.qt();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}};return n(e)-n(t)}(e.type,t.type)||r.dh(e.doc,t.doc)})),this.Rh(n);var a=t?this.Ph():[],s=0===this.fh.size&&this.Zt?1:0,u=s!==this._h;return this._h=s,0!==o.length||u?{snapshot:new Ve(this.query,e.wh,i,o,e.Qt,0===s,u,!1),gh:a}:{gh:a}},e.prototype.Us=function(e){return this.Zt&&"Offline"===e?(this.Zt=!1,this.gr({wh:this.wh,Eh:new Be,Qt:this.Qt,Ah:!1},!1)):{gh:[]}},e.prototype.yh=function(e){return!this.lh.has(e)&&!!this.wh.has(e)&&!this.wh.get(e).Ye},e.prototype.Rh=function(e){var t=this;e&&(e.te.forEach((function(e){return t.lh=t.lh.add(e)})),e.ee.forEach((function(e){})),e.ne.forEach((function(e){return t.lh=t.lh.delete(e)})),this.Zt=e.Zt)},e.prototype.Ph=function(){var e=this;if(!this.Zt)return[];var t=this.fh;this.fh=Me(),this.wh.forEach((function(t){e.yh(t.key)&&(e.fh=e.fh.add(t.key))}));var n=[];return t.forEach((function(t){e.fh.has(t)||n.push(new da(t))})),this.fh.forEach((function(e){t.has(e)||n.push(new fa(e))})),n},e.prototype.Vh=function(e){this.lh=e.kc,this.fh=Me();var t=this.Th(e.documents);return this.gr(t,!0)},e.prototype.ph=function(){return Ve.Kt(this.query,this.wh,this.Qt,0===this._h)},e}(),ha=function(e,t,n){this.query=e,this.targetId=t,this.view=n},va=function(e){this.key=e,this.bh=!1},ma=function(){function e(e,t,n,r,i){this.zu=e,this.Sh=t,this.Dh=n,this.currentUser=r,this.Ch=i,this.Nh=null,this.Fh=new se((function(e){return Kn(e)}),$n),this.$h=new Map,this.xh=[],this.kh=new Te(A.i),this.Mh=new Map,this.Oh=new Io,this.Lh={},this.Bh=new Map,this.qh=ro.Ta(),this.onlineState="Unknown",this.Uh=void 0}return Object.defineProperty(e.prototype,"Qh",{get:function(){return!0===this.Uh},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e){this.Nh=e},e.prototype.Wh=function(e){},e}();function ya(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u;return i.__generator(this,(function(i){switch(i.label){case 0:return(n=za(e)).Wh("listen()"),(a=n.Fh.get(t))?(r=a.targetId,n.Dh.Mi(r),o=a.view.ph(),[3,4]):[3,1];case 1:return[4,Eo(n.zu,zn(t))];case 2:return s=i.sent(),u=n.Dh.Mi(s.targetId),r=s.targetId,[4,ga(n,t,r,"current"===u)];case 3:o=i.sent(),n.Qh&&Go(n.Sh,s),i.label=4;case 4:return[2,o]}}))}))}function ga(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c,l;return i.__generator(this,(function(f){switch(f.label){case 0:return e.jh=function(t,n,r){return function(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=t.view.Th(n)).Ah?[4,To(e.zu,t.query,!1).then((function(e){var n=e.documents;return t.view.Th(n,o)}))]:[3,2];case 1:o=i.sent(),i.label=2;case 2:return a=r&&r.Gt.get(t.targetId),s=t.view.gr(o,e.Qh,a),[2,(Aa(e,t.targetId,s.gh),s.snapshot)]}}))}))}(e,t,n,r)},[4,To(e.zu,t,!0)];case 1:return o=f.sent(),a=new pa(t,o.kc),s=a.Th(o.documents),u=ze.Xt(n,r&&"Offline"!==e.onlineState),c=a.gr(s,e.Qh,u),Aa(e,n,c.gh),l=new ha(t,n,a),[2,(e.Fh.set(t,l),e.$h.has(n)?e.$h.get(n).push(t):e.$h.set(n,[t]),c.snapshot)]}}))}))}function ba(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return(n=w(e)).Wh("unlisten()"),r=n.Fh.get(t),(o=n.$h.get(r.targetId)).length>1?[2,(n.$h.set(r.targetId,o.filter((function(e){return!$n(e,t)}))),void n.Fh.delete(t))]:n.Qh?(n.Dh.Li(r.targetId),n.Dh.Ni(r.targetId)?[3,2]:[4,So(n.zu,r.targetId,!1).then((function(){n.Dh.qi(r.targetId),Wo(n.Sh,r.targetId),Ia(n,r.targetId)})).catch(Oo)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return Ia(n,r.targetId),[4,So(n.zu,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}function _a(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:(n=w(e)).Wh("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,_o(n.zu,t)];case 2:return r=i.sent(),t.Gt.forEach((function(e,t){var r=n.Mh.get(t);r&&(_(e.te.size+e.ee.size+e.ne.size<=1),e.te.size>0?r.bh=!0:e.ee.size>0?_(r.bh):e.ne.size>0&&(_(r.bh),r.bh=!1))})),[4,Na(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Oo(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function wa(e,t,n){var r=w(e);if(r.Qh&&0===n||!r.Qh&&1===n){r.Wh("applyOnlineStateChange()");var i=[];r.Fh.forEach((function(e,n){var r=n.view.Us(t);r.snapshot&&i.push(r.snapshot)})),r.Nh.Kh(t),r.Nh.bu(i),r.onlineState=t,r.Qh&&r.Dh.ji(t)}}function Ea(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return(r=w(e)).Wh("rejectListens()"),r.Dh.Ui(t,"rejected",n),o=r.Mh.get(t),(a=o&&o.key)?(s=(s=new Te(A.i)).rt(a,new Rn(a,ce.min())),u=Me().add(a),c=new He(ce.min(),new Map,new Ie(J),s,u),[4,_a(r,c)]):[3,2];case 1:return i.sent(),r.kh=r.kh.remove(a),r.Mh.delete(t),Ra(r),[3,4];case 2:return[4,So(r.zu,t,!1).then((function(){return Ia(r,t,n)})).catch(Oo)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))}function Sa(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:(n=w(e)).Wh("applySuccessfulWrite()"),r=t.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,go(n.zu,t)];case 2:return o=i.sent(),Oa(n,r,null),Ca(n,r),n.Dh.xi(r,"acknowledged"),[4,Na(n,o)];case 3:return i.sent(),[3,6];case 4:return[4,Oo(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ta(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:(r=w(e)).Wh("rejectFailedWrite()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(e,t){var n=w(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.vr.Mo(e,t).next((function(t){return _(null!==t),r=t.keys(),n.vr.Qo(e,t)})).next((function(){return n.vr.Go(e)})).next((function(){return n.$c.$r(e,r)}))}))}(r.zu,t)];case 2:return o=i.sent(),Oa(r,t,n),Ca(r,t),r.Dh.xi(t,"rejected",n),[4,Na(r,o)];case 3:return i.sent(),[3,6];case 4:return[4,Oo(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ca(e,t){(e.Bh.get(t)||[]).forEach((function(e){e.resolve()})),e.Bh.delete(t)}function Oa(e,t,n){var r=w(e),i=r.Lh[r.currentUser.Zs()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Lh[r.currentUser.Zs()]=i}}function Ia(e,t,n){void 0===n&&(n=null),e.Dh.Li(t);for(var r=0,i=e.$h.get(t);r<i.length;r++){var o=i[r];e.Fh.delete(o),n&&e.Nh.Gh(o,n)}e.$h.delete(t),e.Qh&&e.Oh.Wc(t).forEach((function(t){e.Oh.zo(t)||ka(e,t)}))}function ka(e,t){var n=e.kh.get(t);null!==n&&(Wo(e.Sh,n),e.kh=e.kh.remove(t),e.Mh.delete(n),Ra(e))}function Aa(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fa?(e.Oh.Fa(o.key,t),Pa(e,o)):o instanceof da?(v("SyncEngine","Document no longer in limbo: "+o.key),e.Oh.xa(o.key,t),e.Oh.zo(o.key)||ka(e,o.key)):b()}}function Pa(e,t){var n=t.key;e.kh.get(n)||(v("SyncEngine","New document in limbo: "+n),e.xh.push(n),Ra(e))}function Ra(e){for(;e.xh.length>0&&e.kh.size<e.Ch;){var t=e.xh.shift(),n=e.qh.next();e.Mh.set(n,new va(t)),e.kh=e.kh.rt(t,n),Go(e.Sh,new _e(zn(Mn(t.path)),n,2,Vr.oi))}}function Na(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s;return i.__generator(this,(function(u){switch(u.label){case 0:return r=w(e),o=[],a=[],s=[],r.Fh.forEach((function(e,i){s.push(r.jh(i,t,n).then((function(e){if(e){r.Qh&&r.Dh.Ui(i.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=ii.Gr(i.targetId,e);a.push(t)}})))})),[4,Promise.all(s)];case 1:return u.sent(),r.Nh.bu(o),[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,f;return i.__generator(this,(function(i){switch(i.label){case 0:n=w(e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return mr.forEach(t,(function(t){return mr.forEach(t.jr,(function(r){return n.persistence.Co.Fa(e,t.targetId,r)})).next((function(){return mr.forEach(t.Kr,(function(r){return n.persistence.Co.xa(e,t.targetId,r)}))}))}))}))];case 2:return i.sent(),[3,4];case 3:if(!_r(r=i.sent()))throw r;return v("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,a=t;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.Dc.get(u),l=c.et,f=c.it(l),n.Dc=n.Dc.rt(u,f));return[2]}}))}))}(r.zu,a)];case 2:return u.sent(),[2]}}))}))}function xa(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(o){switch(o.label){case 0:return(n=w(e)).currentUser.isEqual(t)?[3,3]:(v("SyncEngine","User change. New user:",t.Zs()),[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return n=w(e),r=n.vr,o=n.$c,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var i;return n.vr.qo(e).next((function(a){return i=a,r=n.persistence.Ic(t),o=new ri(n.Fc,r,n.persistence.Pc()),r.qo(e)})).next((function(t){for(var n=[],r=[],a=Me(),s=0,u=i;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var d=f[l];a=a.add(d.key)}}for(var p=0,h=t;p<h.length;p++){var v=h[p];r.push(v.batchId);for(var m=0,y=v.mutations;m<y.length;m++){var g=y[m];a=a.add(g.key)}}return o.$r(e,a).next((function(e){return{zh:e,Hh:n,Yh:r}}))}))}))];case 1:return a=i.sent(),[2,(n.vr=r,n.$c=o,n.Sc.xc(n.$c),a)]}}))}))}(n.zu,t)]);case 1:return r=o.sent(),n.currentUser=t,function(e,t){e.Bh.forEach((function(e){e.forEach((function(e){e.reject(new d(f.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Bh.clear()}(n),n.Dh.Wi(t,r.Hh,r.Yh),[4,Na(n,r.zh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Da(e,t){var n=w(e),r=n.Mh.get(t);if(r&&r.bh)return Me().add(r.key);var i=Me(),o=n.$h.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Fh.get(u);i=i.xt(c.view.mh)}return i}function La(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,To((n=w(e)).zu,t.query,!0)];case 1:return r=i.sent(),o=t.view.Vh(r),[2,(n.Qh&&Aa(n,t.targetId,o.gh),o)]}}))}))}function Ma(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=w(e)).Wh("applyBatchState()"),[4,function(e,t){var n=w(e),r=w(n.vr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Oo(e,t).next((function(t){return t?n.$c.$r(e,t):mr.resolve(null)}))}))}(o.zu,t)];case 1:return null===(a=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,ra(o.Sh)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Oa(o,t,r||null),function(e,t){w(w(e).vr).jo(t)}(o.zu,t)):b(),i.label=4;case 4:return[4,Na(o,a)];case 5:return i.sent(),[3,7];case 6:v("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))}function ja(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:return za(n=w(e)),Ga(n),!0!==t||!0===n.Uh?[3,3]:(r=n.Dh.Di(),[4,Ua(n,r.A())]);case 1:return o=i.sent(),n.Uh=!0,[4,la(n.Sh,!0)];case 2:for(i.sent(),a=0,s=o;a<s.length;a++)u=s[a],Go(n.Sh,u);return[3,7];case 3:return!1!==t||!1===n.Uh?[3,7]:(c=[],l=Promise.resolve(),n.$h.forEach((function(e,t){n.Dh.Bi(t)?c.push(t):l=l.then((function(){return Ia(n,t),So(n.zu,t,!0)})),Wo(n.Sh,t)})),[4,l]);case 4:return i.sent(),[4,Ua(n,c)];case 5:return i.sent(),function(e){var t=w(e);t.Mh.forEach((function(e,n){Wo(t.Sh,n)})),t.Oh.jc(),t.Mh=new Map,t.kh=new Te(A.i)}(n),n.Uh=!1,[4,la(n.Sh,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function Ua(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,f,d,p,h,v,m;return i.__generator(this,(function(i){switch(i.label){case 0:n=w(e),r=[],o=[],a=0,s=t,i.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.$h.get(u))&&0!==l.length?[4,Eo(n.zu,zn(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),f=0,d=l,i.label=3;case 3:return f<d.length?(p=d[f],h=n.Fh.get(p),[4,La(n,h)]):[3,6];case 4:(v=i.sent()).snapshot&&o.push(v.snapshot),i.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Co(n.zu,u)];case 8:return m=i.sent(),[4,Eo(n.zu,m)];case 9:return c=i.sent(),[4,ga(n,Fa(m),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return a++,[3,1];case 13:return[2,(n.Nh.bu(o),r)]}}))}))}function Fa(e){return Ln(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ba(e){var t=w(e);return w(w(t.zu).persistence).Vi()}function Va(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=w(e)).Uh?(v("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.$h.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(e){var t=w(e),n=w(t.Fc);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ia(e,t.Nc)})).then((function(e){var n=e.ra,r=e.readTime;return t.Nc=r,n}))}(o.zu)];case 3:return a=i.sent(),s=He.Jt(t,"current"===n),[4,Na(o,a,s)];case 4:return i.sent(),[3,8];case 5:return[4,So(o.zu,t,!0)];case 6:return i.sent(),Ia(o,t,r),[3,8];case 7:b(),i.label=8;case 8:return[2]}}))}))}function Ha(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,u,c,l,f,d,p;return i.__generator(this,(function(h){switch(h.label){case 0:if(!(r=za(e)).Uh)return[3,10];o=0,a=t,h.label=1;case 1:return o<a.length?(s=a[o],r.$h.has(s)?(v("SyncEngine","Adding an already active target "+s),[3,5]):[4,Co(r.zu,s)]):[3,6];case 2:return u=h.sent(),[4,Eo(r.zu,u)];case 3:return c=h.sent(),[4,ga(r,Fa(u),c.targetId,!1)];case 4:h.sent(),Go(r.Sh,c),h.label=5;case 5:return o++,[3,1];case 6:l=function(e){return i.__generator(this,(function(t){switch(t.label){case 0:return r.$h.has(e)?[4,So(r.zu,e,!1).then((function(){Wo(r.Sh,e),Ia(r,e)})).catch(Oo)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},f=0,d=n,h.label=7;case 7:return f<d.length?(p=d[f],[5,l(p)]):[3,10];case 8:h.sent(),h.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function za(e){var t=w(e);return t.Sh.th.ah=_a.bind(null,t),t.Sh.th.Be=Da.bind(null,t),t.Sh.th.oh=Ea.bind(null,t),t}function Ga(e){var t=w(e);return t.Sh.th.uh=Sa.bind(null,t),t.Sh.th.hh=Ta.bind(null,t),t}var Wa=function(){function e(){}return e.prototype.xc=function(e){this.Jh=e},e.prototype.Or=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.rn.length||1===e.rn.length&&e.rn[0].field.p())}(t)||n.isEqual(ce.min())?this.Xh(e,t):this.Jh.$r(e,r).next((function(o){var s=i.Zh(t,o);return(jn(t)||Un(t))&&i.Ah(t.on,s,r,n)?i.Xh(e,t):(h()<=a.LogLevel.DEBUG&&v("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qn(t)),i.Jh.Or(e,t,n).next((function(e){return s.forEach((function(t){e=e.rt(t.key,t)})),e})))}))},e.prototype.Zh=function(e,t){var n=new Ie(Jn(e));return t.forEach((function(t,r){r instanceof Pn&&Yn(e,r)&&(n=n.add(r))})),n},e.prototype.Ah=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},e.prototype.Xh=function(e,t){return h()<=a.LogLevel.DEBUG&&v("IndexFreeQueryEngine","Using full collection scan to execute query:",Qn(t)),this.Jh.Or(e,t,ce.min())},e}(),qa=function(){function e(e,t){this.Sr=e,this.Co=t,this.vr=[],this.tl=1,this.el=new Ie(ko.Oc)}return e.prototype.$o=function(e){return mr.resolve(0===this.vr.length)},e.prototype.xo=function(e,t,n,r){var i=this.tl;this.tl++,this.vr.length>0&&this.vr[this.vr.length-1];var o=new Zr(i,t,n,r);this.vr.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.el=this.el.add(new ko(u.key,i)),this.Sr.ko(e,u.key.path.h())}return mr.resolve(o)},e.prototype.Mo=function(e,t){return mr.resolve(this.nl(t))},e.prototype.Lo=function(e,t){var n=t+1,r=this.sl(n),i=r<0?0:r;return mr.resolve(this.vr.length>i?this.vr[i]:null)},e.prototype.Bo=function(){return mr.resolve(0===this.vr.length?-1:this.tl-1)},e.prototype.qo=function(e){return mr.resolve(this.vr.slice())},e.prototype.Cr=function(e,t){var n=this,r=new ko(t,0),i=new ko(t,Number.POSITIVE_INFINITY),o=[];return this.el.Nt([r,i],(function(e){var t=n.nl(e.Gc);o.push(t)})),mr.resolve(o)},e.prototype.Mr=function(e,t){var n=this,r=new Ie(J);return t.forEach((function(e){var t=new ko(e,0),i=new ko(e,Number.POSITIVE_INFINITY);n.el.Nt([t,i],(function(e){r=r.add(e.Gc)}))})),mr.resolve(this.il(r))},e.prototype.Qr=function(e,t){var n=t.path,r=n.length+1,i=n;A.F(i)||(i=i.child(""));var o=new ko(new A(i),0),a=new Ie(J);return this.el.Ft((function(e){var t=e.key.path;return!!n.T(t)&&(t.length===r&&(a=a.add(e.Gc)),!0)}),o),mr.resolve(this.il(a))},e.prototype.il=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.nl(e);null!==r&&n.push(r)})),n},e.prototype.Qo=function(e,t){var n=this;_(0===this.rl(t.batchId,"removed")),this.vr.shift();var r=this.el;return mr.forEach(t.mutations,(function(i){var o=new ko(i.key,t.batchId);return r=r.delete(o),n.Co.Ko(e,i.key)})).next((function(){n.el=r}))},e.prototype.jo=function(e){},e.prototype.zo=function(e,t){var n=new ko(t,0),r=this.el.$t(n);return mr.resolve(t.isEqual(r&&r.key))},e.prototype.Go=function(e){return this.vr.length,mr.resolve()},e.prototype.rl=function(e,t){return this.sl(e)},e.prototype.sl=function(e){return 0===this.vr.length?0:e-this.vr[0].batchId},e.prototype.nl=function(e){var t=this.sl(e);return t<0||t>=this.vr.length?null:this.vr[t]},e}(),$a=function(){function e(e,t){this.Sr=e,this.ol=t,this.docs=new Te(A.i),this.size=0}return e.prototype.Tr=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ol(t);return this.docs=this.docs.rt(r,{Zo:t,size:a,readTime:n}),this.size+=a-o,this.Sr.ko(e,r.path.h())},e.prototype.Ir=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.Ar=function(e,t){var n=this.docs.get(t);return mr.resolve(n?n.Zo:null)},e.prototype.getEntries=function(e,t){var n=this,r=Re();return t.forEach((function(e){var t=n.docs.get(e);r=r.rt(e,t?t.Zo:null)})),mr.resolve(r)},e.prototype.Or=function(e,t,n){for(var r=xe(),i=new A(t.path.child("")),o=this.docs._t(i);o.It();){var a=o.Et(),s=a.key,u=a.value,c=u.Zo,l=u.readTime;if(!t.path.T(s.path))break;l.L(n)<=0||c instanceof Pn&&Yn(t,c)&&(r=r.rt(c.key,c))}return mr.resolve(r)},e.prototype.al=function(e,t){return mr.forEach(this.docs,(function(e){return t(e)}))},e.prototype.aa=function(t){return new e.ca(this)},e.prototype.ha=function(e){return mr.resolve(this.size)},e}();$a.ca=function(e){function t(t){var n=this;return(n=e.call(this)||this).la=t,n}return i.__extends(t,e),t.prototype.gr=function(e){var t=this,n=[];return this.dr.forEach((function(r,i){i?n.push(t.la.Tr(e,i,t.readTime)):t.la.Ir(r)})),mr.$n(n)},t.prototype.Rr=function(e,t){return this.la.Ar(e,t)},t.prototype.Pr=function(e,t){return this.la.getEntries(e,t)},t}(ei);var Ka=function(){function e(e){this.persistence=e,this.cl=new se((function(e){return ve(e)}),me),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.ul=0,this.hl=new Io,this.targetCount=0,this.ll=ro.ma()}return e.prototype.De=function(e,t){return this.cl.forEach((function(e,n){return t(n)})),mr.resolve()},e.prototype.Ra=function(e){return mr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Pa=function(e){return mr.resolve(this.ul)},e.prototype.Ea=function(e){return this.highestTargetId=this.ll.next(),mr.resolve(this.highestTargetId)},e.prototype.ga=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ul&&(this.ul=t),mr.resolve()},e.prototype.Va=function(e){this.cl.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ll=new ro(t),this.highestTargetId=t),e.sequenceNumber>this.ul&&(this.ul=e.sequenceNumber)},e.prototype.ya=function(e,t){return this.Va(t),this.targetCount+=1,mr.resolve()},e.prototype.ba=function(e,t){return this.Va(t),mr.resolve()},e.prototype.va=function(e,t){return this.cl.delete(t.target),this.hl.Wc(t.targetId),this.targetCount-=1,mr.resolve()},e.prototype.Vo=function(e,t,n){var r=this,i=0,o=[];return this.cl.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.cl.delete(a),o.push(r.Sa(e,s.targetId)),i++)})),mr.$n(o).next((function(){return i}))},e.prototype.Da=function(e){return mr.resolve(this.targetCount)},e.prototype.Ca=function(e,t){var n=this.cl.get(t)||null;return mr.resolve(n)},e.prototype.Na=function(e,t,n){return this.hl.qc(t,n),mr.resolve()},e.prototype.$a=function(e,t,n){this.hl.Qc(t,n);var r=this.persistence.Co,i=[];return r&&t.forEach((function(t){i.push(r.Ko(e,t))})),mr.$n(i)},e.prototype.Sa=function(e,t){return this.hl.Wc(t),mr.resolve()},e.prototype.ka=function(e,t){var n=this.hl.Kc(t);return mr.resolve(n)},e.prototype.zo=function(e,t){return mr.resolve(this.hl.zo(t))},e}(),Qa=function(){function e(e){var t=this;this._l={},this.Ba=new Vr(0),this.qa=!1,this.qa=!0,this.Co=e(this),this.Ha=new Ka(this),this.Sr=new Mi,this.br=new $a(this.Sr,(function(e){return t.Co.fl(e)}))}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Si=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),e.prototype.nc=function(){},e.prototype.sc=function(){},e.prototype.Pc=function(){return this.Sr},e.prototype.Ic=function(e){var t=this._l[e.Zs()];return t||(t=new qa(this.Sr,this.Co),this._l[e.Zs()]=t),t},e.prototype.Ac=function(){return this.Ha},e.prototype.Rc=function(){return this.br},e.prototype.runTransaction=function(e,t,n){var r=this;v("MemoryPersistence","Starting transaction:",e);var i=new Ya(this.Ba.next());return this.Co.dl(),n(i).next((function(e){return r.Co.wl(i).next((function(){return e}))})).Nn().then((function(e){return i.pr(),e}))},e.prototype.ml=function(e,t){return mr.xn(Object.values(this._l).map((function(n){return function(){return n.zo(e,t)}})))},e}(),Ya=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ma=t,n}return i.__extends(t,e),t}(ni),Ja=function(){function e(e){this.persistence=e,this.Tl=new Io,this.El=null}return e.Il=function(t){return new e(t)},Object.defineProperty(e.prototype,"Al",{get:function(){if(this.El)return this.El;throw b()},enumerable:!1,configurable:!0}),e.prototype.Fa=function(e,t,n){return this.Tl.Fa(n,t),this.Al.delete(n.toString()),mr.resolve()},e.prototype.xa=function(e,t,n){return this.Tl.xa(n,t),this.Al.add(n.toString()),mr.resolve()},e.prototype.Ko=function(e,t){return this.Al.add(t.toString()),mr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Tl.Wc(t.targetId).forEach((function(e){return n.Al.add(e.toString())}));var r=this.persistence.Ac();return r.ka(e,t.targetId).next((function(e){e.forEach((function(e){return n.Al.add(e.toString())}))})).next((function(){return r.va(e,t)}))},e.prototype.dl=function(){this.El=new Set},e.prototype.wl=function(e){var t=this,n=this.persistence.Rc().aa();return mr.forEach(this.Al,(function(r){var i=A.D(r);return t.Rl(e,i).next((function(e){e||n.Ir(i)}))})).next((function(){return t.El=null,n.apply(e)}))},e.prototype.vc=function(e,t){var n=this;return this.Rl(e,t).next((function(e){e?n.Al.delete(t.toString()):n.Al.add(t.toString())}))},e.prototype.fl=function(e){return 0},e.prototype.Rl=function(e,t){var n=this;return mr.xn([function(){return mr.resolve(n.Tl.zo(t))},function(){return n.persistence.Ac().zo(e,t)},function(){return n.persistence.ml(e,t)}])},e}(),Za=function(){function e(e){this.Pl=e.Pl,this.gl=e.gl}return e.prototype.Vu=function(e){this.yl=e},e.prototype.Au=function(e){this.Vl=e},e.prototype.onMessage=function(e){this.pl=e},e.prototype.close=function(){this.gl()},e.prototype.send=function(e){this.Pl(e)},e.prototype.bl=function(){this.yl()},e.prototype.vl=function(e){this.Vl(e)},e.prototype.Sl=function(e){this.pl(e)},e}(),Xa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},es=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n}return i.__extends(t,e),t.prototype.xl=function(e,t,n,r){return new Promise((function(i,o){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var t=a.getResponseJson();v("Connection","XHR received:",JSON.stringify(t)),i(t);break;case u.ErrorCode.TIMEOUT:v("Connection",'RPC "'+e+'" timed out'),o(new d(f.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(v("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(f).indexOf(t)>=0?t:f.UNKNOWN}(r.status);o(new d(s,r.message))}else o(new d(f.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new d(f.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{v("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.pu=function(e,t){var n=[this.Cl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=u.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.$l(i.initMessageHeaders,t),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");v("Connection","Creating WebChannel: "+o,i);var a=r.createWebChannel(o,i),c=!1,l=!1,p=new Za({Pl:function(e){l?v("Connection","Not sending because WebChannel is closed:",e):(c||(v("Connection","Opening WebChannel transport."),a.open(),c=!0),v("Connection","WebChannel sending:",e),a.send(e))},gl:function(){return a.close()}}),h=function(e,t){a.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u.WebChannel.EventType.OPEN,(function(){l||v("Connection","WebChannel transport opened.")})),h(u.WebChannel.EventType.CLOSE,(function(){l||(l=!0,v("Connection","WebChannel transport closed"),p.vl())})),h(u.WebChannel.EventType.ERROR,(function(e){l||(l=!0,y("Connection","WebChannel transport errored:",e),p.vl(new d(f.UNAVAILABLE,"The operation could not be completed")))})),h(u.WebChannel.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];_(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){v("Connection","WebChannel received error:",i);var o=i.status,s=function(e){var t=ge[e];if(void 0!==t)return Se(t)}(o),u=i.message;void 0===s&&(s=f.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,p.vl(new d(s,u)),a.close()}else v("Connection","WebChannel received:",n),p.Sl(n)}})),setTimeout((function(){p.bl()}),0),p},t}(function(){function e(e){this.Dl=e,this.U=e.U;var t=e.ssl?"https":"http";this.Cl=t+"://"+e.host,this.Nl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return e.prototype.Ou=function(e,t,n,r){var i=this.Fl(e,t);v("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.xl(e,i,o,n).then((function(e){return v("RestConnection","Received: ",e),e}),(function(t){throw y("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Lu=function(e,t,n,r){return this.Ou(e,t,n,r)},e.prototype.$l=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/7.20.0",e["Content-Type"]="text/plain",t)for(var n in t.zc)t.zc.hasOwnProperty(n)&&(e[n]=t.zc[n])},e.prototype.Fl=function(e,t){var n=Xa[e];return this.Cl+"/v1/"+t+":"+n},e}()),ts=function(){function e(){var e=this;this.kl=function(){return e.Ml()},this.Ol=function(){return e.Ll()},this.Bl=[],this.ql()}return e.prototype.nh=function(e){this.Bl.push(e)},e.prototype.Si=function(){window.removeEventListener("online",this.kl),window.removeEventListener("offline",this.Ol)},e.prototype.ql=function(){window.addEventListener("online",this.kl),window.addEventListener("offline",this.Ol)},e.prototype.Ml=function(){v("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Bl;e<t.length;e++)(0,t[e])(0)},e.prototype.Ll=function(){v("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Bl;e<t.length;e++)(0,t[e])(1)},e.On=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ns=function(){function e(){}return e.prototype.nh=function(e){},e.prototype.Si=function(){},e}();function rs(e){return new yt(e,!0)}var is="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",os=function(){function e(){}return e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Dh=this.Ul(e),this.persistence=this.Ql(e),[4,this.persistence.start()];case 1:return t.sent(),this.Wl=this.jl(e),this.zu=this.Kl(e),[2]}}))}))},e.prototype.jl=function(e){return null},e.prototype.Kl=function(e){return t=this.persistence,n=new Wa,r=e.Gl,new yo(t,n,r);var t,n,r},e.prototype.Ql=function(e){if(e.Hl.zl)throw new d(f.FAILED_PRECONDITION,is);return new Qa(Ja.Il)},e.prototype.Ul=function(e){return new Jr},e.prototype.terminate=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Wl&&this.Wl.stop(),[4,this.Dh.Si()];case 1:return e.sent(),[4,this.persistence.Si()];case 2:return e.sent(),[2]}}))}))},e.prototype.clearPersistence=function(e,t){throw new d(f.FAILED_PRECONDITION,is)},e}(),as=function(e){function t(t){var n=this;return(n=e.call(this)||this).Yl=t,n}return i.__extends(t,e),t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var n,r=this;return i.__generator(this,(function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),[4,this.Yl.initialize(this,t)];case 2:return o.sent(),n=this.Yl._i,this.Dh instanceof Yr?(this.Dh._i={tr:Ma.bind(null,n),er:Va.bind(null,n),nr:Ha.bind(null,n),Vi:Ba.bind(null,n)},[4,this.Dh.start()]):[3,4];case 3:o.sent(),o.label=4;case 4:return[4,this.persistence.ec((function(e){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,ja(this.Yl._i,e)];case 1:return t.sent(),this.Wl&&(e&&!this.Wl.Ti?this.Wl.start(this.zu):e||this.Wl.stop()),[2]}}))}))}))];case 5:return o.sent(),[2]}}))}))},t.prototype.Ul=function(e){if(e.Hl.zl&&e.Hl.synchronizeTabs){var t=Or();if(!Yr.On(t))throw new d(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mo(e.Dl.U,e.Dl.persistenceKey);return new Yr(t,e.os,n,e.clientId,e.Gl)}return new Jr},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){return t=w(e),n=w(t.Fc),[2,t.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return n.oa(e)})).then((function(e){t.Nc=e}))]}))}))}(this.zu)];case 2:return n.sent(),[2]}}))}))},t.prototype.jl=function(e){var t=this.persistence.Co.do;return new ci(t,e.os)},t.prototype.Ql=function(e){var t=mo(e.Dl.U,e.Dl.persistenceKey),n=rs(e.Dl.U);return new lo(e.Hl.synchronizeTabs,t,e.clientId,ui.oo(e.Hl.cacheSizeBytes),e.os,Or(),Ir(),n,this.Dh,e.Hl.La)},t.prototype.Ul=function(e){return new Jr},t.prototype.clearPersistence=function(e,t){return function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return yr.On()?(t=e+"main",[4,yr.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(mo(e,t))},t}(os)),ss=function(){function e(){}return e.prototype.initialize=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.zu?[3,2]:(this.zu=e.zu,this.Dh=e.Dh,this.Hu=this.Jl(t),this.Sh=this.Xl(t),this._i=this.Zl(t),this.t_=this.e_(t),this._i.subscribe({bu:Lr.bind(null,this.t_),Gh:Mr.bind(null,this.t_),Kh:jr.bind(null,this.t_)}),this.Dh.fi=function(e){return wa(n._i,e,1)},this.Sh.th.n_=xa.bind(null,this._i),[4,la(this.Sh,this._i.Qh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.e_=function(e){return new Nr},e.prototype.Jl=function(e){var t,n=rs(e.Dl.U),r=(t=e.Dl,new es(t));return function(e,t,n){return new jo(e,t,n)}(e.credentials,r,n)},e.prototype.Xl=function(e){var t,n,r,i,o,a=this;return t=this.zu,n=this.Hu,r=e.os,i=function(e){return wa(a._i,e,0)},o=ts.On()?new ts:new ns,new Fo(t,n,r,i,o)},e.prototype.Zl=function(e){return function(e,t,n,r,i,o){var a=new ma(e,t,n,r,i);return o&&(a.Uh=!0),a}(this.zu,this.Sh,this.Dh,e.Gl,e.Ch,!e.Hl.zl||!e.Hl.synchronizeTabs)},e.prototype.terminate=function(){return zo(this.Sh)},e}();function us(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var cs=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.s_(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.s_(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.i_=function(){this.muted=!0},e.prototype.s_=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),ls=function(e){!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new d(f.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,e);for(var t=0;t<e.length;++t)if(D("FieldPath","string",t,e[t]),0===e[t].length)throw new d(f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.r_=new k(e)},fs=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,t)||this}return i.__extends(t,e),t.documentId=function(){return new t(k.v().R())},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","FieldPath",1,e);return this.r_.isEqual(e.r_)},t}(ls),ds=new RegExp("[~\\*/\\[\\]]"),ps=function(){this.o_=this},hs=function(e){function t(t){var n=this;return(n=e.call(this)||this).a_=t,n}return i.__extends(t,e),t.prototype.c_=function(e){if(2!==e.u_)throw 1===e.u_?e.h_(this.a_+"() can only appear at the top level of your update data"):e.h_(this.a_+"() cannot be used with set() unless you pass {merge:true}");return e.Qe.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(ps);function vs(e,t,n){return new ks({u_:3,l_:t.settings.l_,methodName:e.a_,__:n},t.U,t.serializer,t.ignoreUndefinedProperties)}var ms=function(e){function t(t){var n=this;return(n=e.call(this)||this).a_=t,n}return i.__extends(t,e),t.prototype.c_=function(e){return new un(e.path,new Zt)},t.prototype.isEqual=function(e){return e instanceof t},t}(ps),ys=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).a_=t,r.f_=n,r}return i.__extends(t,e),t.prototype.c_=function(e){var t=vs(this,e,!0),n=this.f_.map((function(e){return Ds(e,t)})),r=new Xt(n);return new un(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ps),gs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).a_=t,r.f_=n,r}return i.__extends(t,e),t.prototype.c_=function(e){var t=vs(this,e,!0),n=this.f_.map((function(e){return Ds(e,t)})),r=new tn(n);return new un(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ps),bs=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).a_=t,r.d_=n,r}return i.__extends(t,e),t.prototype.c_=function(e){var t=new rn(e.serializer,_t(e.serializer,this.d_));return new un(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(ps),_s=function(e){function t(){return e.call(this)||this}return i.__extends(t,e),t.delete=function(){return P("FieldValue.delete",arguments),new ws(new hs("FieldValue.delete"))},t.serverTimestamp=function(){return P("FieldValue.serverTimestamp",arguments),new ws(new ms("FieldValue.serverTimestamp"))},t.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N("FieldValue.arrayUnion",arguments,1),new ws(new ys("FieldValue.arrayUnion",e))},t.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return N("FieldValue.arrayRemove",arguments,1),new ws(new gs("FieldValue.arrayRemove",e))},t.increment=function(e){return D("FieldValue.increment","number",1,e),R("FieldValue.increment",arguments,1),new ws(new bs("FieldValue.increment",e))},t}(ps),ws=function(e){function t(t){var n=this;return(n=e.call(this)||this).o_=t,n.a_=t.a_,n}return i.__extends(t,e),t.prototype.c_=function(e){return this.o_.c_(e)},t.prototype.isEqual=function(e){return e instanceof t&&this.o_.isEqual(e.o_)},t}(_s),Es=function(){function e(e,t){if(R("GeoPoint",arguments,2),D("GeoPoint","number",1,e),D("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new d(f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new d(f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.w_=e,this.m_=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.m_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.w_===e.w_&&this.m_===e.m_},e.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.m_}},e.prototype.H=function(e){return J(this.w_,e.w_)||J(this.m_,e.m_)},e}(),Ss=/^__.*__$/,Ts=function(e,t,n){this.T_=e,this.E_=t,this.I_=n},Cs=function(){function e(e,t,n){this.data=e,this.Qe=t,this.fieldTransforms=n}return e.prototype.A_=function(e,t){var n=[];return null!==this.Qe?n.push(new bn(e,this.data,this.Qe,t)):n.push(new gn(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new wn(e,this.fieldTransforms)),n},e}(),Os=function(){function e(e,t,n){this.data=e,this.Qe=t,this.fieldTransforms=n}return e.prototype.A_=function(e,t){var n=[new bn(e,this.data,this.Qe,t)];return this.fieldTransforms.length>0&&n.push(new wn(e,this.fieldTransforms)),n},e}();function Is(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}var ks=function(){function e(e,t,n,r,i,o){this.settings=e,this.U=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.R_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),e.prototype.P_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},e.prototype.g_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.P_({path:n,__:!1});return r.y_(e),r},e.prototype.V_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.P_({path:n,__:!1});return r.R_(),r},e.prototype.p_=function(e){return this.P_({path:void 0,__:!0})},e.prototype.h_=function(e){return Bs(e,this.settings.methodName,this.settings.b_||!1,this.path,this.settings.l_)},e.prototype.contains=function(e){return void 0!==this.Qe.find((function(t){return e.T(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.T(t.field)}))},e.prototype.R_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.y_(this.path.get(e))},e.prototype.y_=function(e){if(0===e.length)throw this.h_("Document fields must not be empty");if(Is(this.u_)&&Ss.test(e))throw this.h_('Document fields cannot begin and end with "__"')},e}(),As=function(){function e(e,t,n){this.U=e,this.ignoreUndefinedProperties=t,this.serializer=n||rs(e)}return e.prototype.v_=function(e,t,n,r){return void 0===r&&(r=!1),new ks({u_:e,methodName:t,l_:n,path:k.g(),__:!1,b_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},e}();function Ps(e,t,n,r,i,o){void 0===o&&(o={});var a=e.v_(o.merge||o.mergeFields?2:0,t,n,i);js("Data must be an object, but it was:",a,r);var s,u,c=Ls(r,a);if(o.merge)s=new sn(a.Qe),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],p=0,h=o.mergeFields;p<h.length;p++){var v=h[p],m=void 0;if(v instanceof ls)m=v.r_;else{if("string"!=typeof v)throw b();m=Fs(t,v,n)}if(!a.contains(m))throw new d(f.INVALID_ARGUMENT,"Field '"+m+"' is specified in your field mask but missing from your input data.");Vs(l,m)||l.push(m)}s=new sn(l),u=a.fieldTransforms.filter((function(e){return s.He(e.field)}))}else s=null,u=a.fieldTransforms;return new Cs(new On(c),s,u)}function Rs(e,t,n,r){var i=e.v_(1,t,n);js("Data must be an object, but it was:",i,r);var o=[],a=new In;S(r,(function(e,r){var s=Fs(t,e,n),u=i.V_(s);if(r instanceof ps&&r.o_ instanceof hs)o.push(s);else{var c=Ds(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new sn(o);return new Os(a.Je(),s,i.fieldTransforms)}function Ns(e,t,n,r,i,o){var a=e.v_(1,t,n),s=[Us(t,r,n)],u=[i];if(o.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Us(t,o[c])),u.push(o[c+1]);for(var l=[],p=new In,h=s.length-1;h>=0;--h)if(!Vs(l,s[h])){var v=s[h],m=u[h],y=a.V_(v);if(m instanceof ps&&m.o_ instanceof hs)l.push(v);else{var g=Ds(m,y);null!=g&&(l.push(v),p.set(v,g))}}var b=new sn(l);return new Os(p.Je(),b,a.fieldTransforms)}function xs(e,t,n,r){return void 0===r&&(r=!1),Ds(n,e.v_(r?4:3,t))}function Ds(e,t){if(Ms(e))return js("Unsupported field value:",t,e),Ls(e,t);if(e instanceof ps)return function(e,t){if(!Is(t.u_))throw t.h_(e.a_+"() can only be used with update() and set()");if(!t.path)throw t.h_(e.a_+"() is not currently supported inside arrays");var n=e.c_(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.Qe.push(t.path),e instanceof Array){if(t.settings.__&&4!==t.u_)throw t.h_("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Ds(o[i],t.p_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _t(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ue.fromDate(e);return{timestampValue:wt(t.serializer,n)}}if(e instanceof ue){var r=new ue(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wt(t.serializer,r)}}if(e instanceof Es)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof te)return{bytesValue:Et(t.serializer,e.q)};if(e instanceof Ts){var i=t.U,o=e.T_;if(!o.isEqual(i))throw t.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ct(e.T_||t.U,e.E_.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.h_("Unsupported field value: "+H(e))}(e,t)}function Ls(e,t){var n={};return T(e)?t.path&&t.path.length>0&&t.Qe.push(t.path):S(e,(function(e,r){var i=Ds(r,t.g_(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ms(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ue||e instanceof Es||e instanceof te||e instanceof Ts||e instanceof ps)}function js(e,t,n){if(!Ms(n)||!V(n)){var r=H(n);throw"an object"===r?t.h_(e+" a custom object"):t.h_(e+" "+r)}}function Us(e,t,n){if(t instanceof ls)return t.r_;if("string"==typeof t)return Fs(e,t);throw Bs("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function Fs(e,t,n){try{return function(e){if(e.search(ds)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fs.bind.apply(fs,i.__spreadArrays([void 0],e.split("."))))}catch(t){throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).r_}catch(t){throw Bs((r=t)instanceof Error?r.message:r.toString(),e,!1,void 0,n)}var r}function Bs(e,t,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new d(f.INVALID_ARGUMENT,(s+=". ")+e+u)}function Vs(e,t){return e.some((function(e){return e.isEqual(t)}))}var Hs=function(){function e(e){this.Hu=e,this.S_=new Map,this.mutations=[],this.D_=!1,this.C_=null,this.N_=new Set}return e.prototype.F_=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.x_(),this.mutations.length>0)throw new d(f.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s,u;return i.__generator(this,(function(i){switch(i.label){case 0:return n=w(e),r=Rt(n.serializer)+"/documents",o={documents:t.map((function(e){return It(n.serializer,e)}))},[4,n.Lu("BatchGetDocuments",r,o)];case 1:return a=i.sent(),s=new Map,a.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){_(!!t.found),t.found.name,t.found.updateTime;var n=kt(e,t.found.name),r=Tt(t.found.updateTime),i=new On({mapValue:{fields:t.found.fields}});return new Pn(n,r,i,{})}(e,t):"missing"in t?function(e,t){_(!!t.missing),_(!!t.readTime);var n=kt(e,t.missing),r=Tt(t.readTime);return new Rn(n,r)}(e,t):b()}(n.serializer,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());_(!!t),u.push(t)})),u)]}}))}))}(this.Hu,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof Rn||e instanceof Pn?n.k_(e):b()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.A_(e,this.Ke(e))),this.N_.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.A_(e,this.M_(e)))}catch(e){this.C_=e}this.N_.add(e.toString())},e.prototype.delete=function(e){this.write([new Tn(e,this.Ke(e))]),this.N_.add(e.toString())},e.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.x_(),this.C_)throw this.C_;return e=this.S_,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=A.D(n);t.mutations.push(new Cn(r,t.Ke(r)))})),[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=w(e),r=Rt(n.serializer)+"/documents",o={writes:t.map((function(e){return Dt(n.serializer,e)}))},[4,n.Ou("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.Hu,this.mutations)];case 1:return n.sent(),this.D_=!0,[2]}}))}))},e.prototype.k_=function(e){var t;if(e instanceof Pn)t=e.version;else{if(!(e instanceof Rn))throw b();t=ce.min()}var n=this.S_.get(e.key.toString());if(n){if(!t.isEqual(n))throw new d(f.ABORTED,"Document version changed between two reads.")}else this.S_.set(e.key.toString(),t)},e.prototype.Ke=function(e){var t=this.S_.get(e.toString());return!this.N_.has(e.toString())&&t?ln.updateTime(t):ln.Ge()},e.prototype.M_=function(e){var t=this.S_.get(e.toString());if(!this.N_.has(e.toString())&&t){if(t.isEqual(ce.min()))throw new d(f.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ln.updateTime(t)}return ln.exists(!0)},e.prototype.write=function(e){this.x_(),this.mutations=this.mutations.concat(e)},e.prototype.x_=function(){},e}(),zs=function(){function e(e,t,n,r){this.os=e,this.Hu=t,this.updateFunction=n,this.hs=r,this.O_=5,this.gs=new vr(this.os,"transaction_retry")}return e.prototype.run=function(){this.L_()},e.prototype.L_=function(){var e=this;this.gs.Rn((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return i.__generator(this,(function(r){return e=new Hs(this.Hu),(t=this.B_(e))&&t.then((function(t){n.os.ds((function(){return e.commit().then((function(){n.hs.resolve(t)})).catch((function(e){n.q_(e)}))}))})).catch((function(e){n.q_(e)})),[2]}))}))}))},e.prototype.B_=function(e){try{var t=this.updateFunction(e);return!le(t)&&t.catch&&t.then?t:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.hs.reject(e),null}},e.prototype.q_=function(e){var t=this;this.O_>0&&this.U_(e)?(this.O_-=1,this.os.ds((function(){return t.L_(),Promise.resolve()}))):this.hs.reject(e)},e.prototype.U_=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ee(t)}return!1},e}(),Gs=function(){function e(e,t){this.credentials=e,this.os=t,this.clientId=Y.k(),this.Q_=new hr}return e.prototype.start=function(e,t,n,r){var o=this;this.W_(),this.Dl=e;var a=new hr,s=!1;return this.credentials.Jc((function(e){if(!s)return s=!0,v("FirestoreClient","Initializing. user=",e.uid),o.j_(t,n,r,e,a).then(o.Q_.resolve,o.Q_.reject);o.os.Ds((function(){return function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return(n=w(e)).os.Fs(),v("RemoteStore","RemoteStore received new credentials"),r=Yo(n),n.Zu.add(3),[4,Ho(n)];case 1:return i.sent(),r&&n.rh.set("Unknown"),[4,n.th.n_(t)];case 2:return i.sent(),n.Zu.delete(3),[4,Vo(n)];case 3:return i.sent(),[2]}}))}))}(o.Sh,e)}))})),this.os.ds((function(){return o.Q_.promise})),a.promise},e.prototype.enableNetwork=function(){var e=this;return this.W_(),this.os.enqueue((function(){return e.persistence.sc(!0),Bo(e.Sh)}))},e.prototype.j_=function(e,t,n,r,o){return i.__awaiter(this,void 0,void 0,(function(){var a,s,u=this;return i.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),a={os:this.os,Dl:this.Dl,clientId:this.clientId,credentials:this.credentials,Gl:r,Ch:100,Hl:n},[4,e.initialize(a)];case 1:return c.sent(),[4,t.initialize(e,a)];case 2:return c.sent(),this.persistence=e.persistence,this.Dh=e.Dh,this.zu=e.zu,this.Wl=e.Wl,this.Hu=t.Hu,this.Sh=t.Sh,this._i=t._i,this.K_=t.t_,this.K_.qs=ya.bind(null,this._i),this.K_.Ws=ba.bind(null,this._i),this.persistence.nc((function(){return i.__awaiter(u,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(s=c.sent(),o.reject(s),!this.G_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.j_(new os,new ss,{zl:!1},r,o))];case 4:return[2]}}))}))},e.prototype.G_=function(e){return"FirebaseError"===e.name?e.code===f.FAILED_PRECONDITION||e.code===f.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.W_=function(){if(this.os.Vs)throw new d(f.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.disableNetwork=function(){var e=this;return this.W_(),this.os.enqueue((function(){return e.persistence.sc(!1),function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return(t=w(e)).Zu.add(0),[4,Ho(t)];case 1:return n.sent(),t.rh.set("Offline"),[2]}}))}))}(e.Sh)}))},e.prototype.terminate=function(){var e=this;this.os.Ss();var t=new hr;return this.os.ps((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.Wl&&this.Wl.stop(),[4,zo(this.Sh)];case 1:return r.sent(),[4,this.Dh.Si()];case 2:return r.sent(),[4,this.persistence.Si()];case 3:return r.sent(),this.credentials.Xc(),t.resolve(),[3,5];case 4:return e=r.sent(),n=Pr(e,"Failed to shutdown persistence"),t.reject(n),[3,5];case 5:return[2]}}))}))})),t.promise},e.prototype.waitForPendingWrites=function(){var e=this;this.W_();var t=new hr;return this.os.ds((function(){return function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:Yo((n=w(e)).Sh)||v("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(e){var t=w(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.vr.Bo(e)}))}(n.zu)];case 2:return-1===(r=i.sent())?[2,void t.resolve()]:((o=n.Bh.get(r)||[]).push(t),n.Bh.set(r,o),[3,4]);case 3:return a=i.sent(),s=Pr(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}(e._i,t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.W_();var i=new cs(n),o=new Fr(e,i,t);return this.os.ds((function(){return xr(r.K_,o)})),function(){i.i_(),r.os.ds((function(){return Dr(r.K_,o)}))}},e.prototype.z_=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(t.sent(),function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o=this;return i.__generator(this,(function(a){switch(a.label){case 0:return r=new hr,[4,e.enqueue((function(){return i.__awaiter(o,void 0,void 0,(function(){var e,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(e,t){var n=w(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.$c.Dr(e,t)}))}(t,n)];case 1:return(e=i.sent())instanceof Pn?r.resolve(e):e instanceof Rn?r.resolve(null):r.reject(new d(f.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=i.sent(),a=Pr(o,"Failed to get document '"+n+" from cache"),r.reject(a),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(a.sent(),r.promise)]}}))}))}(this.os,this.zu,e))]}}))}))},e.prototype.H_=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(n.sent(),function(e,t,n,r){var i=new hr,o=Ws(e,t,Mn(n.path),{includeMetadataChanges:!0,Js:!0},{next:function(e){o();var t=e.docs.has(n);!t&&e.fromCache?i.reject(new d(f.UNAVAILABLE,"Failed to get document because the client is offline.")):t&&e.fromCache&&r&&"server"===r.source?i.reject(new d(f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(e)},error:function(e){return i.reject(e)}});return i.promise}(this.os,this.K_,e,t))]}}))}))},e.prototype.Y_=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(t.sent(),function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o=this;return i.__generator(this,(function(a){switch(a.label){case 0:return r=new hr,[4,e.enqueue((function(){return i.__awaiter(o,void 0,void 0,(function(){var e,o,a,s,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,To(t,n,!0)];case 1:return e=i.sent(),o=new pa(n,e.kc),a=o.Th(e.documents),s=o.gr(a,!1),r.resolve(s.snapshot),[3,3];case 2:return u=i.sent(),c=Pr(u,"Failed to execute query '"+n+" against cache"),r.reject(c),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(a.sent(),r.promise)]}}))}))}(this.os,this.zu,e))]}}))}))},e.prototype.J_=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.W_(),[4,this.Q_.promise];case 1:return[2,(n.sent(),function(e,t,n,r){var i=new hr,o=Ws(e,t,n,{includeMetadataChanges:!0,Js:!0},{next:function(e){o(),e.fromCache&&r&&"server"===r.source?i.reject(new d(f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(e)},error:function(e){return i.reject(e)}});return i.promise}(this.os,this.K_,e,t))]}}))}))},e.prototype.write=function(e){var t=this;this.W_();var n=new hr;return this.os.ds((function(){return function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:(r=Ga(e)).Wh("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(e,t){var n,r=w(e),i=ue.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Me());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.$c.$r(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=vn(c,n.get(c.key));null!=l&&a.push(new bn(c.key,l,kn(l.proto.mapValue),ln.exists(!0)))}return r.vr.xo(e,i,a,t)}))})).then((function(e){var t=e.hr(n);return{batchId:e.batchId,dr:t}}))}(r.zu,t)];case 2:return o=i.sent(),r.Dh.Fi(o.batchId),function(e,t,n){var r=e.Lh[e.currentUser.Zs()];r||(r=new Te(J)),r=r.rt(t,n),e.Lh[e.currentUser.Zs()]=r}(r,o.batchId,n),[4,Na(r,o.dr)];case 3:return i.sent(),[4,ra(r.Sh)];case 4:return i.sent(),[3,6];case 5:return a=i.sent(),s=Pr(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}(t._i,e,n)})),n.promise},e.prototype.U=function(){return this.Dl.U},e.prototype.X_=function(e){var t=this;this.W_();var n=new cs(e);return this.os.ds((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,function(e,t){w(e).Bs.add(t),t.next()}(this.K_,n)]}))}))})),function(){n.i_(),t.os.ds((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,function(e,t){w(e).Bs.delete(t)}(this.K_,n)]}))}))}))}},Object.defineProperty(e.prototype,"Z_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.W_();var n=new hr;return this.os.ds((function(){return new zs(t.os,t.Hu,e,n).run(),Promise.resolve()})),n.promise},e}();function Ws(e,t,n,r,i){var o=new cs(i),a=new Fr(n,o,r);return e.ds((function(){return xr(t,a)})),function(){o.i_(),e.ds((function(){return Dr(t,a)}))}}var qs=function(){function e(e,t,n,r,i){this.U=e,this.timestampsInSnapshots=t,this.tf=n,this.ef=r,this.nf=i}return e.prototype.sf=function(e){switch(et(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.if(e.timestampValue);case 4:return this.rf(e);case 5:return e.stringValue;case 6:return this.nf(ut(e.bytesValue));case 7:return this.af(e.referenceValue);case 8:return this.cf(e.geoPointValue);case 9:return this.uf(e.arrayValue);case 10:return this.hf(e.mapValue);default:throw b()}},e.prototype.hf=function(e){var t=this,n={};return S(e.fields||{},(function(e,r){n[e]=t.sf(r)})),n},e.prototype.cf=function(e){return new Es(st(e.latitude),st(e.longitude))},e.prototype.uf=function(e){var t=this;return(e.values||[]).map((function(e){return t.sf(e)}))},e.prototype.rf=function(e){switch(this.tf){case"previous":var t=function e(t){var n=t.mapValue.fields.__previous_value__;return Je(n)?e(n):n}(e);return null==t?null:this.sf(t);case"estimate":return this.if(Ze(e));default:return null}},e.prototype.if=function(e){var t=at(e),n=new ue(t.seconds,t.nanos);return this.timestampsInSnapshots?n:n.toDate()},e.prototype.af=function(e){var t=O.P(e);_($t(t));var n=new ae(t.get(1),t.get(3)),r=new A(t.u(5));return n.isEqual(this.U)||m("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.ef(r)},e}(),$s=ui.uo,Ks=function(){function e(e){var t,n,r,i;if(void 0===e.host){if(void 0!==e.ssl)throw new d(f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else M("settings","non-empty string","host",e.host),this.host=e.host,j("settings","boolean","ssl",e.ssl),this.ssl=null===(t=e.ssl)||void 0===t||t;if(G("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),j("settings","object","credentials",e.credentials),this.credentials=e.credentials,j("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),j("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),!0===e.timestampsInSnapshots?m("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===e.timestampsInSnapshots&&m("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=e.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=e.ignoreUndefinedProperties)&&void 0!==r&&r,j("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=ui.lo;else{if(e.cacheSizeBytes!==$s&&e.cacheSizeBytes<ui.ho)throw new d(f.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ui.ho);this.cacheSizeBytes=e.cacheSizeBytes}j("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=e.experimentalForceLongPolling)&&void 0!==i&&i}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Qs=function(){function e(t,n,r,o){var a=this;if(void 0===r&&(r=new os),void 0===o&&(o=new ss),this.lf=r,this._f=o,this.ff=null,this.df=new Ar,this.INTERNAL={delete:function(){return i.__awaiter(a,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.wf(),[4,this.mf.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var s=t;this.ff=s,this.T_=e.Tf(s),this.Ef=s.name,this.If=new Ro(n)}else{var u=t;if(!u.projectId)throw new d(f.INVALID_ARGUMENT,"Must provide projectId");this.T_=new ae(u.projectId,u.database),this.Ef="[DEFAULT]",this.If=new Po}this.Af=new Ks({})}return Object.defineProperty(e.prototype,"Rf",{get:function(){return this.Pf||(this.Pf=new As(this.T_,this.Af.ignoreUndefinedProperties)),this.Pf},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){R("Firestore.settings",arguments,1),D("Firestore.settings","object",1,e),e.merge&&delete(e=Object.assign(Object.assign({},this.Af),e)).merge;var t=new Ks(e);if(this.mf&&!this.Af.isEqual(t))throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Af=t,void 0!==t.credentials&&(this.If=function(e){if(!e)return new Po;switch(e.type){case"gapi":var t=e.gf;return _(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new xo(t,e.iu||"0");case"provider":return e.gf;default:throw new d(f.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.wf(),this.mf.enableNetwork()},e.prototype.disableNetwork=function(){return this.wf(),this.mf.disableNetwork()},e.prototype.enablePersistence=function(e){var t,n;if(this.mf)throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(e&&(void 0!==e.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(t=e.synchronizeTabs)&&void 0!==t?t:e.experimentalTabSynchronization)&&void 0!==n&&n,i=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,r&&i))throw new d(f.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.yf(this.lf,this._f,{zl:!0,cacheSizeBytes:this.Af.cacheSizeBytes,synchronizeTabs:r,La:i})},e.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){if(void 0!==this.mf&&!this.mf.Z_)throw new d(f.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return e=new hr,[2,(this.df.ps((function(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.lf.clearPersistence(this.T_,this.Ef)];case 1:return n.sent(),e.resolve(),[3,3];case 2:return t=n.sent(),e.reject(t),[3,3];case 3:return[2]}}))}))})),e.promise)]}))}))},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"Vf",{get:function(){return this.wf(),this.mf.Z_},enumerable:!1,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.wf(),this.mf.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.wf(),us(e))return this.mf.X_(e);D("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.mf.X_(t)},e.prototype.wf=function(){return this.mf||this.yf(new os,new ss,{zl:!1}),this.mf},e.prototype.pf=function(){return new oe(this.T_,this.Ef,this.Af.host,this.Af.ssl,this.Af.experimentalForceLongPolling)},e.prototype.yf=function(e,t,n){var r=this.pf();return this.mf=new Gs(this.If,this.df),this.mf.start(r,e,t,n)},e.Tf=function(e){if(t=e.options,!Object.prototype.hasOwnProperty.call(t,"projectId"))throw new d(f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t,n=e.options.projectId;if(!n||"string"!=typeof n)throw new d(f.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ae(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.ff)throw new d(f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ff},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){return R("Firestore.collection",arguments,1),D("Firestore.collection","non-empty string",1,e),this.wf(),new uu(O.P(e),this,null)},e.prototype.doc=function(e){return R("Firestore.doc",arguments,1),D("Firestore.doc","non-empty string",1,e),this.wf(),Zs.bf(O.P(e),this,null)},e.prototype.collectionGroup=function(e){if(R("Firestore.collectionGroup",arguments,1),D("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.wf(),new au(function(e){return new Dn(O.g(),e)}(e),this,null)},e.prototype.runTransaction=function(e){var t=this;return R("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,e),this.wf().transaction((function(n){return e(new Ys(t,n))}))},e.prototype.batch=function(){return this.wf(),new Js(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(h()){case a.LogLevel.DEBUG:return"debug";case a.LogLevel.ERROR:return"error";case a.LogLevel.SILENT:return"silent";case a.LogLevel.WARN:return"warn";case a.LogLevel.INFO:return"info";case a.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),e.setLogLevel=function(e){var t;R("Firestore.setLogLevel",arguments,1),F("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),t=e,p.setLogLevel(t)},e.prototype.vf=function(){return this.Af.timestampsInSnapshots},e.prototype.Sf=function(){return this.Af},e}(),Ys=function(){function e(e,t){this.Df=e,this.Cf=t}return e.prototype.get=function(e){var t=this;R("Transaction.get",arguments,1);var n=du("Transaction.get",e,this.Df);return this.Cf.F_([n.E_]).then((function(e){if(!e||1!==e.length)return b();var r=e[0];if(r instanceof Rn)return new eu(t.Df,n.E_,null,!1,!1,n.I_);if(r instanceof Pn)return new eu(t.Df,n.E_,r,!1,!1,n.I_);throw b()}))},e.prototype.set=function(e,t,n){x("Transaction.set",arguments,2,3);var r=du("Transaction.set",e,this.Df);n=cu("Transaction.set",n);var i=hu(r.I_,t,n),o=Ps(this.Df.Rf,"Transaction.set",r.E_,i,null!==r.I_,n);return this.Cf.set(r.E_,o),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof t||t instanceof fs?(N("Transaction.update",arguments,3),r=du("Transaction.update",e,this.Df),i=Ns(this.Df.Rf,"Transaction.update",r.E_,t,n,o)):(R("Transaction.update",arguments,2),r=du("Transaction.update",e,this.Df),i=Rs(this.Df.Rf,"Transaction.update",r.E_,t)),this.Cf.update(r.E_,i),this},e.prototype.delete=function(e){R("Transaction.delete",arguments,1);var t=du("Transaction.delete",e,this.Df);return this.Cf.delete(t.E_),this},e}(),Js=function(){function e(e){this.Df=e,this.Nf=[],this.Ff=!1}return e.prototype.set=function(e,t,n){x("WriteBatch.set",arguments,2,3),this.$f();var r=du("WriteBatch.set",e,this.Df);n=cu("WriteBatch.set",n);var i=hu(r.I_,t,n),o=Ps(this.Df.Rf,"WriteBatch.set",r.E_,i,null!==r.I_,n);return this.Nf=this.Nf.concat(o.A_(r.E_,ln.Ge())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.$f(),"string"==typeof t||t instanceof fs?(N("WriteBatch.update",arguments,3),r=du("WriteBatch.update",e,this.Df),i=Ns(this.Df.Rf,"WriteBatch.update",r.E_,t,n,o)):(R("WriteBatch.update",arguments,2),r=du("WriteBatch.update",e,this.Df),i=Rs(this.Df.Rf,"WriteBatch.update",r.E_,t)),this.Nf=this.Nf.concat(i.A_(r.E_,ln.exists(!0))),this},e.prototype.delete=function(e){R("WriteBatch.delete",arguments,1),this.$f();var t=du("WriteBatch.delete",e,this.Df);return this.Nf=this.Nf.concat(new Tn(t.E_,ln.Ge())),this},e.prototype.commit=function(){return this.$f(),this.Ff=!0,this.Nf.length>0?this.Df.wf().write(this.Nf):Promise.resolve()},e.prototype.$f=function(){if(this.Ff)throw new d(f.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Zs=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.T_,t,r)||this).E_=t,i.firestore=n,i.I_=r,i.mf=i.firestore.wf(),i}return i.__extends(t,e),t.bf=function(e,n,r){if(e.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.R()+" has "+e.length);return new t(new A(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.E_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new uu(this.E_.path.h(),this.firestore,this.I_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.E_.path.R()},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){if(R("DocumentReference.collection",arguments,1),D("DocumentReference.collection","non-empty string",1,e),!e)throw new d(f.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=O.P(e);return new uu(this.E_.path.child(t),this.firestore,null)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.E_.isEqual(e.E_)&&this.I_===e.I_},t.prototype.set=function(e,t){x("DocumentReference.set",arguments,1,2),t=cu("DocumentReference.set",t);var n=hu(this.I_,e,t),r=Ps(this.firestore.Rf,"DocumentReference.set",this.E_,n,null!==this.I_,t);return this.mf.write(r.A_(this.E_,ln.Ge()))},t.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof fs?(N("DocumentReference.update",arguments,2),n=Ns(this.firestore.Rf,"DocumentReference.update",this.E_,e,t,r)):(R("DocumentReference.update",arguments,1),n=Rs(this.firestore.Rf,"DocumentReference.update",this.E_,e)),this.mf.write(n.A_(this.E_,ln.exists(!0)))},t.prototype.delete=function(){return R("DocumentReference.delete",arguments,0),this.mf.write([new Tn(this.E_,ln.Ge())])},t.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];x("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||us(i[s])||(G("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),j("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(us(i[s])){var c=i[s];i[s]=null===(e=c.next)||void 0===e?void 0:e.bind(c),i[s+1]=null===(t=c.error)||void 0===t?void 0:t.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else D("DocumentReference.onSnapshot","function",s,i[s]),L("DocumentReference.onSnapshot","function",s+1,i[s+1]),L("DocumentReference.onSnapshot","function",s+2,i[s+2]);var l={next:function(e){i[s]&&i[s](r.xf(e))},error:i[s+1],complete:i[s+2]};return this.mf.listen(Mn(this.E_.path),u,l)},t.prototype.get=function(e){var t=this;x("DocumentReference.get",arguments,0,1),fu("DocumentReference.get",e);var n=this.firestore.wf();return e&&"cache"===e.source?n.z_(this.E_).then((function(e){return new eu(t.firestore,t.E_,e,!0,e instanceof Pn&&e.Ye,t.I_)})):n.H_(this.E_,e).then((function(e){return t.xf(e)}))},t.prototype.withConverter=function(e){return new t(this.E_,this.firestore,e)},t.prototype.xf=function(e){var t=e.docs.get(this.E_);return new eu(this.firestore,this.E_,t,e.fromCache,e.hasPendingWrites,this.I_)},t}(Ts),Xs=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),eu=function(){function e(e,t,n,r,i,o){this.Df=e,this.E_=t,this.kf=n,this.Mf=r,this.Of=i,this.I_=o}return e.prototype.data=function(e){var t=this;if(x("DocumentSnapshot.data",arguments,0,1),e=lu("DocumentSnapshot.data",e),this.kf){if(this.I_){var n=new tu(this.Df,this.E_,this.kf,this.Mf,this.Of,null);return this.I_.fromFirestore(n,e)}return new qs(this.Df.T_,this.Df.vf(),e.serverTimestamps||"none",(function(e){return new Zs(e,t.Df,null)}),(function(e){return new ie(e)})).sf(this.kf.sn())}},e.prototype.get=function(e,t){var n=this;if(x("DocumentSnapshot.get",arguments,1,2),t=lu("DocumentSnapshot.get",t),this.kf){var r=this.kf.data().field(Us("DocumentSnapshot.get",e,this.E_));if(null!==r)return new qs(this.Df.T_,this.Df.vf(),t.serverTimestamps||"none",(function(e){return new Zs(e,n.Df,n.I_)}),(function(e){return new ie(e)})).sf(r)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.E_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Zs(this.E_,this.Df,this.I_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.kf},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Xs(this.Of,this.Mf)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","DocumentSnapshot",1,t);return this.Df===t.Df&&this.Mf===t.Mf&&this.E_.isEqual(t.E_)&&(null===this.kf?null===t.kf:this.kf.isEqual(t.kf))&&this.I_===t.I_},e}(),tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(eu);function nu(e,t,n){if("string"==typeof n){if(""===n)throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vn(t)&&-1!==n.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(O.P(n));if(!A.F(r))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ct(e,new A(r))}if(n instanceof Ts)return ct(e,n.E_);throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+H(n)+".")}function ru(e,t){if(!Array.isArray(e)||0===e.length)throw new d(f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===t||"array-contains-any"===t){if(e.indexOf(null)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")}}function iu(e,t,n){if(!n.isEqual(t))throw new d(f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ou(e){if(Un(e)&&0===e.rn.length)throw new d(f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var au=function(){function e(e,t,n){this.Lf=e,this.firestore=t,this.I_=n}return e.prototype.where=function(t,n,r){var i;R("Query.where",arguments,3),z("Query.where",3,r),i="not-in"===n||"!="===n?n:F("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var o=Us("Query.where",t),a=function(e,t,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new d(f.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ru(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var p=l[c];u.push(nu(r,e,p))}s={arrayValue:{values:u}}}else s=nu(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ru(a,o),s=xs(n,t,a,"in"===o||"not-in"===o);var h=Zn.create(i,o,s);return function(e,t){if(t.un()){var n=Bn(e);if(null!==n&&!n.isEqual(t.field))throw new d(f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Fn(e);null!==r&&iu(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new d(f.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new d(f.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(this.Lf,"Query.where",this.firestore.Rf,this.firestore.T_,o,i,r);return new e(function(e,t){var n=e.filters.concat([t]);return new Dn(e.path,e.collectionGroup,e.rn.slice(),n,e.limit,e.on,e.startAt,e.endAt)}(this.Lf,a),this.firestore,this.I_)},e.prototype.orderBy=function(t,n){var r;if(x("Query.orderBy",arguments,1,2),L("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new d(f.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Us("Query.orderBy",t),o=function(e,t,n){if(null!==e.startAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fr(t,n);return function(e,t){if(null===Fn(e)){var n=Bn(e);null!==n&&iu(0,n,t.field)}}(e,r),r}(this.Lf,i,r);return new e(function(e,t){var n=e.rn.concat([t]);return new Dn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.on,e.startAt,e.endAt)}(this.Lf,o),this.firestore,this.I_)},e.prototype.limit=function(t){return R("Query.limit",arguments,1),D("Query.limit","number",1,t),q("Query.limit",1,t),new e(Gn(this.Lf,t,"F"),this.firestore,this.I_)},e.prototype.limitToLast=function(t){return R("Query.limitToLast",arguments,1),D("Query.limitToLast","number",1,t),q("Query.limitToLast",1,t),new e(Gn(this.Lf,t,"L"),this.firestore,this.I_)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAt",arguments,1);var i=this.Bf("Query.startAt",t,n,!0);return new e(Wn(this.Lf,i),this.firestore,this.I_)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAfter",arguments,1);var i=this.Bf("Query.startAfter",t,n,!1);return new e(Wn(this.Lf,i),this.firestore,this.I_)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endBefore",arguments,1);var i=this.Bf("Query.endBefore",t,n,!0);return new e(qn(this.Lf,i),this.firestore,this.I_)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endAt",arguments,1);var i=this.Bf("Query.endAt",t,n,!1);return new e(qn(this.Lf,i),this.firestore,this.I_)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","Query",1,t);return this.firestore===t.firestore&&$n(this.Lf,t.Lf)&&this.I_===t.I_},e.prototype.withConverter=function(t){return new e(this.Lf,this.firestore,t)},e.prototype.Bf=function(e,t,n,r){if(z(e,1,t),t instanceof eu)return R(e,i.__spreadArrays([t],n),1),function(e,t,n,r,i){if(!r)throw new d(f.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Hn(e);a<s.length;a++){var u=s[a];if(u.field.p())o.push(ct(t,r.key));else{var c=r.field(u.field);if(Je(c))throw new d(f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.R();throw new d(f.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new sr(o,i)}(this.Lf,this.firestore.T_,e,t.kf,r);var o=[t].concat(n);return function(e,t,n,r,i,o){var a=e.rn;if(i.length>a.length)throw new d(f.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.p()){if("string"!=typeof c)throw new d(f.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Vn(e)&&-1!==c.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(O.P(c));if(!A.F(l))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var p=new A(l);s.push(ct(t,p))}else{var h=xs(n,r,c);s.push(h)}}return new sr(s,o)}(this.Lf,this.firestore.T_,this.firestore.Rf,e,o,r)},e.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];x("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||us(i[s])||(G("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),j("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),us(i[s])){var u=i[s];i[s]=null===(e=u.next)||void 0===e?void 0:e.bind(u),i[s+1]=null===(t=u.error)||void 0===t?void 0:t.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else D("Query.onSnapshot","function",s,i[s]),L("Query.onSnapshot","function",s+1,i[s+1]),L("Query.onSnapshot","function",s+2,i[s+2]);var c={next:function(e){i[s]&&i[s](new su(r.firestore,r.Lf,e,r.I_))},error:i[s+1],complete:i[s+2]};return ou(this.Lf),this.firestore.wf().listen(this.Lf,a,c)},e.prototype.get=function(e){var t=this;x("Query.get",arguments,0,1),fu("Query.get",e),ou(this.Lf);var n=this.firestore.wf();return(e&&"cache"===e.source?n.Y_(this.Lf):n.J_(this.Lf,e)).then((function(e){return new su(t.firestore,t.Lf,e,t.I_)}))},e}(),su=function(){function e(e,t,n,r){this.Df=e,this.qf=t,this.Uf=n,this.I_=r,this.Qf=null,this.Wf=null,this.metadata=new Xs(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.Uf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.Uf.docs.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;x("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,e),this.Uf.docs.forEach((function(r){e.call(t,n.jf(r,n.metadata.fromCache,n.Uf.Qt.has(r.key)))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new au(this.qf,this.Df,this.I_)},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){e&&(G("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),j("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this.Uf.jt)throw new d(f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Qf&&this.Wf===t||(this.Qf=function(e,t,n){if(e.Ut.m()){var r=0;return e.docChanges.map((function(t){var i=n(t.doc,e.fromCache,e.Qt.has(t.doc.key));return t.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=e.Ut;return e.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var r=n(t.doc,e.fromCache,e.Qt.has(t.doc.key)),o=-1,a=-1;return 0!==t.type&&(o=i.indexOf(t.doc.key),i=i.delete(t.doc.key)),1!==t.type&&(a=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:pu(t.type),doc:r,oldIndex:o,newIndex:a}}))}(this.Uf,t,this.jf.bind(this)),this.Wf=t),this.Qf},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","QuerySnapshot",1,t);return this.Df===t.Df&&$n(this.qf,t.qf)&&this.Uf.isEqual(t.Uf)&&this.I_===t.I_},e.prototype.jf=function(e,t,n){return new tu(this.Df,e.key,e,t,n,this.I_)},e}(),uu=function(e){function t(t,n,r){var i=this;if((i=e.call(this,Mn(t),n,r)||this).Kf=t,t.length%2!=1)throw new d(f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.R()+" has "+t.length);return i}return i.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.Lf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.Lf.path.h();return e.m()?null:new Zs(new A(e),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Lf.path.R()},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){x("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=Y.k()),D("CollectionReference.doc","non-empty string",1,e);var t=O.P(e);return Zs.bf(this.Lf.path.child(t),this.firestore,this.I_)},t.prototype.add=function(e){R("CollectionReference.add",arguments,1),D("CollectionReference.add","object",1,this.I_?this.I_.toFirestore(e):e);var t=this.doc();return t.set(e).then((function(){return t}))},t.prototype.withConverter=function(e){return new t(this.Kf,this.firestore,e)},t}(au);function cu(e,t){if(void 0===t)return{merge:!1};if(G(e,t,["merge","mergeFields"]),j(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+H(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new d(f.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+H(r[o]))}(e,"mergeFields","a string or a FieldPath",r,(function(e){return"string"==typeof e||e instanceof fs}))}(e,0,0,t.mergeFields),void 0!==t.mergeFields&&void 0!==t.merge)throw new d(f.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function lu(e,t){return void 0===t?{}:(G(e,t,["serverTimestamps"]),U(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function fu(e,t){L(e,"object",1,t),t&&(G(e,t,["source"]),U(e,0,"source",t.source,["default","server","cache"]))}function du(e,t,n){if(t instanceof Ts){if(t.firestore!==n)throw new d(f.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw W(e,"DocumentReference",1,t)}function pu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function hu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var vu={Firestore:Qs,GeoPoint:Es,Timestamp:ue,Blob:ie,Transaction:Ys,WriteBatch:Js,DocumentReference:Zs,DocumentSnapshot:eu,Query:au,QueryDocumentSnapshot:tu,QuerySnapshot:su,CollectionReference:uu,FieldPath:fs,FieldValue:_s,setLogLevel:Qs.setLogLevel,CACHE_SIZE_UNLIMITED:$s};function mu(e){!function(e,t){e.INTERNAL.registerComponent(new c.Component("firestore",(function(e){return function(e,t){var n=new ss,r=new as(n);return new Qs(e,t,r,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},vu)))}(e),e.registerVersion("@firebase/firestore","1.16.7")}mu(l.default)},19431:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:()=>o,Logger:()=>f,setLogLevel:()=>d,setUserLogHandler:()=>p});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){a.forEach((function(t){t.setLogLevel(e)}))}function p(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},36276:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10634),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,d=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(d=64)),r.push(n[l],n[f],n[d],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var h=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(t,e),t}(Error),v=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(m,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new h(i,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},e}();var m=/\{\$([^}]+)}/g;function y(e){return JSON.parse(e)}var g=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};var b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var _=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function w(){}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}var S=144e5;t.CONSTANTS=i,t.Deferred=f,t.ErrorFactory=v,t.FirebaseError=h,t.MAX_VALUE_MILLIS=S,t.RANDOM_FACTOR=.5,t.Sha1=b,t.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.calculateBackoffMillis=function(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(S,r+i)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new _(e,t);return n.subscribe.bind(n)},t.decode=g,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=E,t.getUA=d,t.isAdmin=function(e){var t=g(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return d().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=p,t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return d().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=g(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=g(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=g(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=y,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(e,t,r)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(e,t,r)+"must be a valid firebase namespace.")}},57758:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ErrorCode:()=>ir,EventType:()=>or,WebChannel:()=>ar,XhrIo:()=>sr,createWebChannelTransport:()=>rr,default:()=>ur});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},s=s||{},u=a||self;function c(){}function l(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=l(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="closure_uid_"+(1e9*Math.random()>>>0),h=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:m).apply(null,arguments)}function g(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var b=Date.now;function _(e,t){function n(){}n.prototype=t.prototype,e.S=t.prototype,e.prototype=new n,e.prototype.constructor=e}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,p)&&e[p]||(e[p]=++h)})(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},S=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function T(e){return Array.prototype.concat.apply([],arguments)}function C(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function O(e){return/^[\s\xa0]*$/.test(e)}var I,k=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function A(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var R=u.navigator;if(R){var N=R.userAgent;if(N){I=N;break e}}I=""}function x(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function D(e){var t={};for(var n in e)t[n]=e[n];return t}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){return j[" "](e),e}j[" "]=c;var U,F,B=A(I,"Opera"),V=A(I,"Trident")||A(I,"MSIE"),H=A(I,"Edge"),z=H||V,G=A(I,"Gecko")&&!(A(I.toLowerCase(),"webkit")&&!A(I,"Edge"))&&!(A(I,"Trident")||A(I,"MSIE"))&&!A(I,"Edge"),W=A(I.toLowerCase(),"webkit")&&!A(I,"Edge");function q(){var e=u.document;return e?e.documentMode:void 0}e:{var $="",K=(F=I,G?/rv:([^\);]+)(\)|;)/.exec(F):H?/Edge\/([\d\.]+)/.exec(F):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(F):W?/WebKit\/(\S+)/.exec(F):B?/(?:Version)[ \/]?(\S+)/.exec(F):void 0);if(K&&($=K?K[1]:""),V){var Q=q();if(null!=Q&&Q>parseFloat($)){U=String(Q);break e}}U=$}var Y,J={};function Z(e){return function(e,t){var n=J;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=k(String(U)).split("."),r=k(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&V){var X=q();Y=X||(parseInt(U,10)||void 0)}else Y=void 0;var ee=Y,te=!V||9<=Number(ee),ne=V&&!Z("9"),re=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",c,t),u.removeEventListener("test",c,t)}catch(e){}return e}();function ie(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function oe(e,t){if(ie.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(G){e:{try{j(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ae[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ie.prototype.b=function(){this.defaultPrevented=!0},_(oe,ie);var ae={2:"touch",3:"pen",4:"mouse"};oe.prototype.b=function(){oe.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ne)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var se="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ue,this.Y=this.Z=!1}function le(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function fe(e){this.src=e,this.a={},this.b=0}function de(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=E(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(le(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=pe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ce(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var he="closure_lm_"+(1e6*Math.random()|0),ve={};function me(e,t,n,r,i){if(r&&r.once)return ge(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)me(e,t[o],n,r,i);return null}return n=Oe(n),e&&e[se]?e.va(t,n,d(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!te)return null;var s=Te(e);if(s||(e[he]=s=new fe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Se,t=te?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)re||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ge(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ge(e,t[o],n,r,i);return null}return n=Oe(n),e&&e[se]?e.wa(t,n,d(r)?!!r.capture:!!r,i):ye(e,t,n,!0,r,i)}function be(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)be(e,t[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=Oe(n),e&&e[se]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=pe(o=e.a[t],n,r,i))&&(le(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Te(e))&&(t=e.a[t.toString()],e=-1,t&&(e=pe(t,n,r,i)),(n=-1<e?t[e]:null)&&_e(n))}function _e(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[se])de(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(de(n,e),0==n.b&&(n.src=null,t[he]=null)):le(e)}}}function we(e){return e in ve?ve[e]:ve[e]="on"+e}function Ee(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&_e(e),n.call(r,t)}function Se(e,t){if(e.Y)return!0;if(!te){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Ee(e,t=new oe(t,this))}return Ee(e,new oe(t,this))}function Te(e){return(e=e[he])instanceof fe?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(e){return"function"==l(e)?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function Ie(){w.call(this),this.c=new fe(this),this.J=this,this.C=null}function ke(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&de(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}_(Ie,w),Ie.prototype[se]=!0,(o=Ie.prototype).addEventListener=function(e,t,n,r){me(this,e,t,n,r)},o.removeEventListener=function(e,t,n,r){be(this,e,t,n,r)},o.dispatchEvent=function(e){var t,n=this.C;if(n)for(t=[];n;n=n.C)t.push(n);n=this.J;var r=e.type||e;if("string"==typeof e)e=new ie(e,n);else if(e instanceof ie)e.target=e.target||n;else{var i=e;M(e=new ie(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=ke(a,r,!0,e)&&i}if(i=ke(a=e.a=n,r,!0,e)&&i,i=ke(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=ke(a=e.a=t[o],r,!1,e)&&i;return i},o.G=function(){if(Ie.S.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)le(n[r]);delete t.a[e],t.b--}}this.C=null},o.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},o.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ae=u.JSON.stringify;function Pe(){this.b=this.a=null}var Re,Ne=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new De}),(function(e){e.reset()}),100);function xe(){var e=Ue,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function De(){this.next=this.b=this.a=null}function Le(e){u.setTimeout((function(){throw e}),0)}function Me(e,t){Re||function(){var e=u.Promise.resolve(void 0);Re=function(){e.then(Fe)}}(),je||(Re(),je=!0),Ue.add(e,t)}Pe.prototype.add=function(e,t){var n=Ne.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},De.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},De.prototype.reset=function(){this.next=this.b=this.a=null};var je=!1,Ue=new Pe;function Fe(){for(var e;e=xe();){try{e.a.call(e.b)}catch(e){Le(e)}var t=Ne;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}je=!1}function Be(e,t){Ie.call(this),this.b=e||1,this.a=t||u,this.f=y(this.Ya,this),this.g=b()}function Ve(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function He(e,t,n){if("function"==l(e))n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function ze(e){e.a=He((function(){e.a=null,e.c&&(e.c=!1,ze(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}_(Be,Ie),(o=Be.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var e=b()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ve(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},o.G=function(){Be.S.G.call(this),Ve(this),delete this.a};var Ge=function(e){function t(t,n,r){var i=e.call(this)||this;return i.g=null!=r?t.bind(r):t,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:ze(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(w);function We(e){w.call(this),this.b=e,this.a={}}_(We,w);var qe=[];function $e(e,t,n,r){Array.isArray(n)||(n&&(qe[0]=n.toString()),n=qe);for(var i=0;i<n.length;i++){var o=me(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ke(e){x(e.a,(function(e,t){this.a.hasOwnProperty(t)&&_e(e)}),e),e.a={}}function Qe(){this.a=!0}function Ye(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ae(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}We.prototype.G=function(){We.S.G.call(this),Ke(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qe.prototype.info=function(){};var Je=null;function Ze(){return Je=Je||new Ie}function Xe(e){ie.call(this,"serverreachability",e)}function et(e){var t=Ze();t.dispatchEvent(new Xe(t,e))}function tt(e){ie.call(this,"statevent",e)}function nt(e){var t=Ze();t.dispatchEvent(new tt(t,e))}function rt(e){ie.call(this,"timingevent",e)}function it(e,t){if("function"!=l(e))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}_(Xe,ie),_(tt,ie),_(rt,ie);var ot={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},at={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function st(){}function ut(e){var t;return(t=e.a)||(t=e.a={}),t}function ct(){}st.prototype.a=null;var lt,ft={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function dt(){ie.call(this,"d")}function pt(){ie.call(this,"c")}function ht(){}function vt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.T=r||1,this.J=new We(this),this.P=mt,e=z?125:void 0,this.R=new Be(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}_(dt,ie),_(pt,ie),_(ht,st),lt=new ht;var mt=45e3,yt={},gt={};function bt(e,t,n){e.H=1,e.i=Vt(Lt(t)),e.j=n,e.I=!0,_t(e,null)}function _t(e,t){e.u=b(),St(e),e.l=Lt(e.i);var n=e.l,r=e.T;Array.isArray(r)||(r=[String(r)]),en(n.b,"t",r),e.D=0,e.a=Qn(e.g,e.g.C?t:null),0<e.O&&(e.F=new Ge(y(e.Ca,e,e.a),e.O)),$e(e.J,e.a,"readystatechange",e.Wa),t=e.B?D(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),et(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.T,e.j)}function wt(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Et(e,n);if(i==gt){4==t&&(e.h=4,nt(14),r=!1),Ye(e.c,e.f,null,"[Incomplete Response]");break}if(i==yt){e.h=4,nt(15),Ye(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Ye(e.c,e.f,i,null),kt(e,i)}4==t&&0==n.length&&(e.h=1,nt(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.W&&(e.W=!0,(t=e.g).a==e&&t.V&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vn(t),t.F=!0)):(Ye(e.c,e.f,n,"[Invalid Chunked Response]"),It(e),Ot(e))}function Et(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?gt:(n=Number(t.substring(n,r)),isNaN(n)?yt:(r+=1)+n>t.length?gt:(t=t.substr(r,n),e.D=r+n,t))}function St(e){e.U=b()+e.P,Tt(e,e.P)}function Tt(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=it(y(e.Ua,e),t)}function Ct(e){e.o&&(u.clearTimeout(e.o),e.o=null)}function Ot(e){0==e.g.v||e.A||Gn(e.g,e)}function It(e){Ct(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Ve(e.R),Ke(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function kt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||un(n.b,e)))if(n.I=e.N,!e.C&&un(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;zn(n),Nn(n)}Bn(n),nt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=it(y(n.Ra,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(e){}n.ea=void 0}}else qn(n,11)}else if((e.C||n.a==e)&&zn(n),!O(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(A(l,"spdy")||A(l,"quic")||A(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(cn(f,f.b),f.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Bt(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=e;if((u=n).la=Kn(u,u.C?u.ga:null,u.fa),p.C){ln(u.b,p);var h=p,v=u.D;v&&h.setTimeout(v),h.o&&(Ct(h),St(h)),u.a=p}else Fn(u);0<n.g.length&&Ln(n)}else"stop"!=i[0]&&"close"!=i[0]||qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qn(n,7):Rn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);et(4)}catch(e){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)S(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(f(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Pt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pt)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Nt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Nt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=vt.prototype).setTimeout=function(e){this.P=e},o.Wa=function(e){e=e.target;var t=this.F;t&&3==In(e)?t.f():this.Ca(e)},o.Ca=function(e){try{if(e==this.a)e:{var t=In(this.a),n=this.a.ua(),r=this.a.X();if(!(3>t||3==t&&!z&&!this.a.$())){this.A||4!=t||7==n||et(8==n||0>=r?3:2),Ct(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,t,i),this.b){if(this.V&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,nt(12),It(this),Ot(this);break e}Ye(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,kt(this,u)}this.I?(wt(this,t,o),z&&this.b&&3==t&&($e(this.J,this.R,"tick",this.Va),this.R.start())):(Ye(this.c,this.f,o,null),kt(this,o)),4==t&&It(this),this.b&&!this.A&&(4==t?Gn(this.g,this):(this.b=!1,St(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,nt(12)):(this.h=0,nt(13)),It(this),Ot(this)}}}catch(e){}},o.Va=function(){if(this.a){var e=In(this.a),t=this.a.$();this.D<t.length&&(Ct(this),wt(this,e,t),this.b&&4!=e&&St(this))}},o.cancel=function(){this.A=!0,It(this)},o.Ua=function(){this.o=null;var e=b();0<=e-this.U?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(et(3),nt(17)),It(this),this.h=2,Ot(this)):Tt(this,this.U-e)},(o=Pt.prototype).K=function(){Rt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},o.L=function(){return Rt(this),this.a.concat()},o.get=function(e,t){return Nt(this.b,e)?this.b[e]:t},o.set=function(e,t){Nt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},o.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var xt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Dt){this.a=void 0!==t?t:e.a,Mt(this,e.f),this.j=e.j,jt(this,e.c),Ut(this,e.h),this.g=e.g,t=e.b;var n=new Yt;n.c=t.c,t.a&&(n.a=new Pt(t.a),n.b=t.b),Ft(this,n),this.i=e.i}else e&&(n=String(e).match(xt))?(this.a=!!t,Mt(this,n[1]||"",!0),this.j=Ht(n[2]||""),jt(this,n[3]||"",!0),Ut(this,n[4]),this.g=Ht(n[5]||"",!0),Ft(this,n[6]||"",!0),this.i=Ht(n[7]||"")):(this.a=!!t,this.b=new Yt(null,this.a))}function Lt(e){return new Dt(e)}function Mt(e,t,n){e.f=n?Ht(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function jt(e,t,n){e.c=n?Ht(t,!0):t}function Ut(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Ft(e,t,n){t instanceof Yt?(e.b=t,function(e,t){t&&!e.f&&(Jt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zt(this,t),en(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=zt(t,Kt)),e.b=new Yt(t,e.a))}function Bt(e,t,n){e.b.set(t,n)}function Vt(e){return Bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),e}function Ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(zt(t,Wt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(zt(t,Wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(zt(n,"/"==n.charAt(0)?$t:qt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",zt(n,Qt)),e.join("")};var Wt=/[#\/\?@]/g,qt=/[#\?:]/g,$t=/[#\?]/g,Kt=/[#\?@]/g,Qt=/#/g;function Yt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jt(e){e.a||(e.a=new Pt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zt(e,t){Jt(e),t=tn(e,t),Nt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Nt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Rt(e)))}function Xt(e,t){return Jt(e),t=tn(e,t),Nt(e.a.b,t)}function en(e,t,n){Zt(e,t),0<n.length&&(e.c=null,e.a.set(tn(e,t),C(n)),e.b+=n.length)}function tn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nn(e,t){this.b=e,this.a=t}function rn(e){this.g=e||on,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Yt.prototype).add=function(e,t){Jt(this),this.c=null,e=tn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},o.forEach=function(e,t){Jt(this),this.a.forEach((function(n,r){S(n,(function(n){e.call(t,n,r,this)}),this)}),this)},o.L=function(){Jt(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.K=function(e){Jt(this);var t=[];if("string"==typeof e)Xt(this,e)&&(t=T(t,this.a.get(tn(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=T(t,e[n])}return t},o.set=function(e,t){return Jt(this),this.c=null,Xt(this,e=tn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},o.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var on=10;function an(e){return!!e.b||!!e.a&&e.a.size>=e.f}function sn(e){return e.b?1:e.a?e.a.size:0}function un(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function cn(e,t){e.a?e.a.add(t):e.b=t}function ln(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function fn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var o=i(e.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return C(e.c)}function dn(){}function pn(){this.a=new dn}function hn(e,t,n){var r=n||"";try{At(e,(function(e,n){var i=e;d(e)&&(i=Ae(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function vn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}rn.prototype.cancel=function(){var e,t;if(this.c=fn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},dn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},dn.prototype.parse=function(e){return u.JSON.parse(e,void 0)};var mn=u.JSON.parse;function yn(e){Ie.call(this),this.headers=new Pt,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gn,this.D=this.F=!1}_(yn,Ie);var gn="",bn=/^https?$/i,_n=["POST","PUT"];function wn(e){return"content-type"==e.toLowerCase()}function En(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Sn(e),Cn(e)}function Sn(e){e.u||(e.u=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Tn(e){if(e.b&&void 0!==s&&(!e.s[1]||4!=In(e)||2!=e.X()))if(e.l&&4==In(e))He(e.za,0,e);else if(e.dispatchEvent("readystatechange"),4==In(e)){e.b=!1;try{var t,n=e.X();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(xt)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!bn.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var c=2<In(e)?e.a.statusText:""}catch(e){c=""}e.f=c+" ["+e.X()+"]",Sn(e)}}finally{Cn(e)}}}function Cn(e,t){if(e.a){On(e);var n=e.a,r=e.s[0]?c:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function On(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(u.clearTimeout(e.m),e.m=null)}function In(e){return e.a?e.a.readyState:0}function kn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return x(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Bt(e,t,n))}function An(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pn(e){this.pa=0,this.g=[],this.c=new Qe,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=An("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=An("baseRetryDelayMs",5e3,e),this.Ma=An("retryDelaySeedMs",1e4,e),this.Ja=An("forwardChannelMaxRetries",2,e),this.ma=An("forwardChannelRequestTimeoutMs",2e4,e),this.Ka=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new rn(e&&e.concurrentRequestLimit),this.ka=new pn,this.da=e&&e.fastHandshake||!1,this.Ga=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&e&&e.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Rn(e){if(xn(e),3==e.v){var t=e.R++,n=Lt(e.B);Bt(n,"SID",e.J),Bt(n,"RID",t),Bt(n,"TYPE","terminate"),jn(e,n),(t=new vt(e,e.c,t,void 0)).H=2,t.i=Vt(Lt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.i.toString(),"")),!n&&u.Image&&((new Image).src=t.i,n=!0),n||(t.a=Qn(t.g,null),t.a.ba(t.i)),t.u=b(),St(t)}$n(e)}function Nn(e){e.a&&(Vn(e),e.a.cancel(),e.a=null)}function xn(e){Nn(e),e.j&&(u.clearTimeout(e.j),e.j=null),zn(e),e.b.cancel(),e.h&&("number"==typeof e.h&&u.clearTimeout(e.h),e.h=null)}function Dn(e,t){e.g.push(new nn(e.La++,t)),3==e.v&&Ln(e)}function Ln(e){an(e.b)||e.h||(e.h=!0,Me(e.Ba,e),e.u=0)}function Mn(e,t){var n;n=t?t.f:e.R++;var r=Lt(e.B);Bt(r,"SID",e.J),Bt(r,"RID",n),Bt(r,"AID",e.P),jn(e,r),e.i&&e.l&&kn(r,e.i,e.l),n=new vt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Un(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),cn(e.b,n),bt(n,r,t)}function jn(e,t){e.f&&At({},(function(e,n){Bt(t,n,e)}))}function Un(e,t,n){n=Math.min(e.g.length,n);var r=e.f?y(e.f.Ha,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{hn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Fn(e){e.a||e.j||(e.U=1,Me(e.Aa,e),e.o=0)}function Bn(e){return!(e.a||e.j||3<=e.o)&&(e.U++,e.j=it(y(e.Aa,e),Wn(e,e.o)),e.o++,!0)}function Vn(e){null!=e.s&&(u.clearTimeout(e.s),e.s=null)}function Hn(e){e.a=new vt(e,e.c,"rpc",e.U),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Lt(e.la);Bt(t,"RID","rpc"),Bt(t,"SID",e.J),Bt(t,"CI",e.H?"0":"1"),Bt(t,"AID",e.P),jn(e,t),Bt(t,"TYPE","xmlhttp"),e.i&&e.l&&kn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Vt(Lt(t)),n.j=null,n.I=!0,_t(n,e)}function zn(e){null!=e.m&&(u.clearTimeout(e.m),e.m=null)}function Gn(e,t){var n=null;if(e.a==t){zn(e),Vn(e),e.a=null;var r=2}else{if(!un(e.b,t))return;n=t.s,ln(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=b()-t.u;var i=e.u;(r=Ze()).dispatchEvent(new rt(r,n,t,i)),Ln(e)}else Fn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(sn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.Ia?0:e.Ja)||(e.h=it(y(e.Ba,e,t),Wn(e,e.u)),e.u++,0)))}(e,t)||2==r&&Bn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:qn(e,5);break;case 4:qn(e,10);break;case 3:qn(e,6);break;default:qn(e,2)}}function Wn(e,t){var n=e.Fa+Math.floor(Math.random()*e.Ma);return e.f||(n*=2),n*t}function qn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=y(e.Xa,e);n||(n=new Dt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Mt(n,"https"),Vt(n)),function(e,t){var n=new Qe;if(u.Image){var r=new Image;r.onload=g(vn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=g(vn,n,r,"TestLoadImage: error",!1,t),r.onabort=g(vn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=g(vn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else nt(2);e.v=0,e.f&&e.f.ra(t),$n(e),xn(e)}function $n(e){e.v=0,e.I=-1,e.f&&(0==fn(e.b).length&&0==e.g.length||(e.b.c.length=0,C(e.g),e.g.length=0),e.f.qa())}function Kn(e,t,n){var r=function(e){return e instanceof Dt?Lt(e):new Dt(e,void 0)}(n);if(""!=r.c)t&&jt(r,t+"."+r.c),Ut(r,r.h);else{var i=u.location;r=function(e,t,n,r){var i=new Dt(null,void 0);return e&&Mt(i,e),t&&jt(i,t),n&&Ut(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.W&&x(e.W,(function(e,t){Bt(r,t,e)})),t=e.A,n=e.na,t&&n&&Bt(r,t,n),Bt(r,"VER",e.ha),jn(e,r),r}function Qn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yn(e.Ka)).F=e.C,t}function Yn(){}function Jn(){if(V&&!(10<=Number(ee)))throw Error("Environmental error: no available transport.")}function Zn(e,t){Ie.call(this),this.a=new Pn(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!O(e)&&(this.a.i=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new tr(this)}function Xn(e){dt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function er(){pt.call(this),this.status=1}function tr(e){this.a=e}(o=yn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ut(this.H):ut(lt),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void En(this,e)}e=n||"";var i=new Pt(this.headers);r&&At(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=wn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=u.FormData&&e instanceof u.FormData,!(0<=E(_n,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(e){return V&&Z(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=He(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){En(this,e)}},o.xa=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Cn(this,!0)),yn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?Tn(this):this.Ta())},o.Ta=function(){Tn(this)},o.X=function(){try{return 2<In(this)?this.a.status:-1}catch(e){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},o.Na=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mn(t)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Pn.prototype).ha=8,o.v=1,o.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new vt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?M(r=D(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Un(this,n,t),Bt(i=Lt(this.B),"RID",e),Bt(i,"CVER",22),this.A&&Bt(i,"X-HTTP-Session-Id",this.A),jn(this,i),this.i&&r&&kn(i,this.i,r),cn(this.b,n),this.Ga&&Bt(i,"TYPE","init"),this.da?(Bt(i,"$req",t),Bt(i,"SID","null"),n.V=!0,bt(n,i,null)):bt(n,i,t),this.v=2}}else 3==this.v&&(e?Mn(this,e):0==this.g.length||an(this.b)||Mn(this))},o.Aa=function(){if(this.j=null,Hn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=it(y(this.Sa,this),e)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Nn(this),Hn(this))},o.Ra=function(){null!=this.m&&(this.m=null,Nn(this),Bn(this),nt(19))},o.Xa=function(e){e?(this.c.info("Successfully pinged google.com"),nt(2)):(this.c.info("Failed to ping google.com"),nt(1))},(o=Yn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Jn.prototype.a=function(e,t){return new Zn(e,t)},_(Zn,Ie),(o=Zn.prototype).addEventListener=function(e,t,n,r){Zn.S.addEventListener.call(this,e,t,n,r)},o.removeEventListener=function(e,t,n,r){Zn.S.removeEventListener.call(this,e,t,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var e=this.a,t=this.l,n=this.b||void 0;nt(0),e.fa=t,e.W=n||{},e.H=e.T,e.B=Kn(e,null,e.fa),Ln(e)},o.close=function(){Rn(this.a)},o.Pa=function(e){if("string"==typeof e){var t={};t.__data__=e,Dn(this.a,t)}else this.g?((t={}).__data__=Ae(e),Dn(this.a,t)):Dn(this.a,e)},o.G=function(){this.a.f=null,delete this.f,Rn(this.a),delete this.a,Zn.S.G.call(this)},_(Xn,dt),_(er,pt),_(tr,Yn),tr.prototype.ta=function(){this.a.dispatchEvent("a")},tr.prototype.sa=function(e){this.a.dispatchEvent(new Xn(e))},tr.prototype.ra=function(e){this.a.dispatchEvent(new er(e))},tr.prototype.qa=function(){this.a.dispatchEvent("b")},Jn.prototype.createWebChannel=Jn.prototype.a,Zn.prototype.send=Zn.prototype.Pa,Zn.prototype.open=Zn.prototype.Oa,Zn.prototype.close=Zn.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,at.COMPLETE="complete",ct.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",Ie.prototype.listen=Ie.prototype.va,yn.prototype.listenOnce=yn.prototype.wa,yn.prototype.getLastError=yn.prototype.Qa,yn.prototype.getLastErrorCode=yn.prototype.ua,yn.prototype.getStatus=yn.prototype.X,yn.prototype.getResponseJson=yn.prototype.Na,yn.prototype.getResponseText=yn.prototype.$,yn.prototype.send=yn.prototype.ba;var nr={createWebChannelTransport:function(){return new Jn},ErrorCode:ot,EventType:at,WebChannel:ct,XhrIo:yn},rr=nr.createWebChannelTransport,ir=nr.ErrorCode,or=nr.EventType,ar=nr.WebChannel,sr=nr.XhrIo;const ur=nr},31639:(e,t,n)=>{(function(){var e,t=n(44458).default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in n||(n[a]={}),n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.w(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Oa(t.resolve,t.reject)},t.prototype.w=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Oa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Oa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Oa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Oa(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function f(){}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){return"function"==d(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++g)}var y="closure_uid_"+(1e9*Math.random()>>>0),g=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now||function(){return+new Date};function T(e,t){function n(){}n.prototype=t.prototype,e.Za=t.prototype,e.prototype=new n,e.prototype.constructor=e}function C(e,t,n){this.code=k+e,this.message=t||A[e]||"",this.a=n||null}function O(e){var t=e&&e.code;return t?new C(t.substring(k.length),e.message,e.serverResponse):null}T(C,Error),C.prototype.v=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},C.prototype.toJSON=function(){return this.v()};var I,k="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://"+(window.firebaseProxyHost||"www.googleapis.com")+"/identitytoolkit/v3/relyingparty/",Xa:"https://"+(window.firebaseProxyHost||"securetoken.googleapis.com")+"/v1/token",Ua:"https://"+(window.firebaseProxyHost||"identitytoolkit.googleapis.com")+"/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ra,secureTokenEndpoint:e.Xa,identityPlatformEndpoint:e.Ua};return null}function N(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function x(e){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function D(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");x.call(this,n+e[r])}function L(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function M(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}I=R("__EID__")?"__EID__":void 0,T(x,Error),x.prototype.name="CustomError",T(D,x),D.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var F=new M((function(){return new V}),(function(e){e.reset()}));function B(){var e=gt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=F.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var G=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},W=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function $(e,t){return 0<=H(e,t)}function K(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Q(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Y(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,X=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ee=/&/g,te=/</g,ne=/>/g,re=/"/g,ie=/'/g,oe=/\x00/g,ae=/[\x00&<>"']/;function se(e,t){return-1!=e.indexOf(t)}function ue(e,t){return e<t?-1:e>t?1:0}e:{var ce=u.navigator;if(ce){var le=ce.userAgent;if(le){Z=le;break e}}Z=""}function fe(e){return se(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function he(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function ge(e,t){this.a=e===we&&t||"",this.b=_e}function be(e){return e instanceof ge&&e.constructor===ge&&e.b===_e?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}ge.prototype.ra=!0,ge.prototype.qa=function(){return this.a},ge.prototype.toString=function(){return"Const{"+this.a+"}"};var _e={},we={},Ee=new ge(we,"");function Se(e,t){this.a=e===Ae&&t||"",this.b=ke}function Te(e){return e instanceof Se&&e.constructor===Se&&e.b===ke?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=be(e);if(!Ie.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Oe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof ge?be(e):encodeURIComponent(String(e))})),new Se(Ae,e)}Se.prototype.ra=!0,Se.prototype.qa=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Oe=/%{(\w+)}/g,Ie=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ke={},Ae={};function Pe(e,t){this.a=e===Le&&t||"",this.b=De}function Re(e){return e instanceof Pe&&e.constructor===Pe&&e.b===De?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Pe.prototype.ra=!0,Pe.prototype.qa=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ne=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xe(e){return e instanceof Pe?e:(e="object"==typeof e&&e.ra?e.qa():String(e),Ne.test(e)||(e="about:invalid#zClosurez"),new Pe(Le,e))}var De={},Le={};function Me(){this.a="",this.b=Ue}function je(e){return e instanceof Me&&e.constructor===Me&&e.b===Ue?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}Me.prototype.ra=!0,Me.prototype.qa=function(){return this.a.toString()},Me.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ue={};function Fe(e){var t=new Me;return t.a=e,t}Fe("<!DOCTYPE html>");var Be=Fe("");function Ve(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function He(e){return ae.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ee,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(te,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ne,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(re,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ie,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(oe,"&#0;"))),e}function ze(e){return ze[" "](e),e}Fe("<br>"),ze[" "]=f;var Ge,We,qe=fe("Opera"),$e=fe("Trident")||fe("MSIE"),Ke=fe("Edge"),Qe=Ke||$e,Ye=fe("Gecko")&&!(se(Z.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),Je=se(Z.toLowerCase(),"webkit")&&!fe("Edge");function Ze(){var e=u.document;return e?e.documentMode:void 0}e:{var Xe="",et=(We=Z,Ye?/rv:([^\);]+)(\)|;)/.exec(We):Ke?/Edge\/([\d\.]+)/.exec(We):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(We):Je?/WebKit\/(\S+)/.exec(We):qe?/(?:Version)[ \/]?(\S+)/.exec(We):void 0);if(et&&(Xe=et?et[1]:""),$e){var tt=Ze();if(null!=tt&&tt>parseFloat(Xe)){Ge=String(tt);break e}}Ge=Xe}var nt,rt={};function it(e){return function(e,t){var n=rt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=X(String(Ge)).split("."),r=X(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ue(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ue(0==a[2].length,0==s[2].length)||ue(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}nt=u.document&&$e?Ze():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(We){}var ot=!$e||9<=Number(nt);function at(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function st(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ra&&(t=t.qa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:lt.hasOwnProperty(n)?e.setAttribute(lt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ut,ct,lt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ft(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ot&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',He(a.name),'"'),a.type){o.push(' type="',He(a.type),'"');var s={};me(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=dt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):st(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!p(o)||v(o)&&0<o.nodeType?r(o):z(pt(o)?J(o):o,r)}}(i,o,r),o}function dt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function pt(e){if(e&&"number"==typeof e.length){if(v(e))return"function"==typeof e.item||"string"==typeof e.item;if(h(e))return"function"==typeof e.item}return!1}function ht(e){u.setTimeout((function(){throw e}),0)}function vt(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(e=function(){var e=dt(document,"IFRAME");e.style.display="none",function(e){var t=new Se(Ae,be(Ee));ye(e,"HTMLIFrameElement"),e.src=Te(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(je(Be)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!fe("Trident")&&!fe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Db;n.Db=null,e()}},function(e){r.next={Db:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}function mt(e,t){ct||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);ct=function(){e.then(bt)}}else ct=function(){var e=bt;!h(u.setImmediate)||u.Window&&u.Window.prototype&&!fe("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ut||(ut=vt()),ut(e)):u.setImmediate(e)}}(),yt||(ct(),yt=!0),gt.add(e,t)}var yt=!1,gt=new U;function bt(){for(var e;e=B();){try{e.a.call(e.b)}catch(e){ht(e)}j(F,e)}yt=!1}function _t(e,t){if(this.a=wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Dt(n,Et,e)}),(function(e){if(!(e instanceof Vt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Dt(n,St,e)}))}catch(e){Dt(this,St,e)}}var wt=0,Et=2,St=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ct=new M((function(){return new Tt}),(function(e){e.reset()}));function Ot(e,t,n){var r=Ct.get();return r.g=e,r.b=t,r.f=n,r}function It(e){if(e instanceof _t)return e;var t=new _t(f);return Dt(t,Et,e),t}function kt(e){return new _t((function(t,n){n(e)}))}function At(e,t,n){Lt(e,t,n,null)||mt(E(t,e))}function Pt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function Rt(e,t){if(e.a==wt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==wt&&1==r?Rt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):jt(n),Ut(n,i,St,t)))}e.c=null}else Dt(e,St,t)}function Nt(e,t){e.b||e.a!=Et&&e.a!=St||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function xt(e,t,n,r){var i=Ot(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Vt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Nt(e,i),i.a}function Dt(e,t,n){e.a==wt&&(e===n&&(t=St,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Lt(n,e.Yc,e.Zc,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=St||n instanceof Vt||function(e,t){e.g=!0,mt((function(){e.g&&Bt.call(null,t)}))}(e,n)))}function Lt(e,t,n,r){if(e instanceof _t)return Nt(e,Ot(t||f,n||null,r)),!0;if(N(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(h(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Mt(e){e.h||(e.h=!0,mt(e.ec,e))}function jt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==St&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ft(t,n,r);else try{t.c?t.g.call(t.f):Ft(t,n,r)}catch(e){Bt.call(null,e)}j(Ct,t)}function Ft(e,t,n){t==Et?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return xt(this,h(e)?e:null,h(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).ma=function(e,t){return(e=Ot(e,e,t)).c=!0,Nt(this,e),this},e.o=function(e,t){return xt(this,null,e,t)},e.cancel=function(e){if(this.a==wt){var t=new Vt(e);mt((function(){Rt(this,t)}),this)}},e.Yc=function(e){this.a=wt,Dt(this,Et,e)},e.Zc=function(e){this.a=wt,Dt(this,St,e)},e.ec=function(){for(var e;e=jt(this);)Ut(this,e,this.a,this.i);this.h=!1};var Bt=ht;function Vt(e){x.call(this,e)}function Ht(){0!=zt&&(Gt[m(this)]=this),this.wa=this.wa,this.na=this.na}T(Vt,x),Vt.prototype.name="cancel";var zt=0,Gt={};function Wt(e){if(!e.wa&&(e.wa=!0,e.Ba(),0!=zt)){var t=m(e);if(0!=zt&&e.na&&0<e.na.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[t]}}Ht.prototype.wa=!1,Ht.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var qt=Object.freeze||function(e){return e},$t=!$e||9<=Number(nt),Kt=$e&&!it("9"),Qt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(e){}return e}();function Yt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Yt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ye){e:{try{ze(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Yt.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Jt,Yt);var Zt=qt({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.Za.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Kt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Jt.prototype.f=function(){return this.a};var Xt="closure_listenable_"+(1e6*Math.random()|0),en=0;function tn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Ta=i,this.key=++en,this.ua=this.Na=!1}function nn(e){e.ua=!0,e.listener=null,e.proxy=null,e.src=null,e.Ta=null}function rn(e){this.src=e,this.a={},this.b=0}function on(e,t){var n=t.type;n in e.a&&K(e.a[n],t)&&(nn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function an(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ua&&o.listener==t&&o.capture==!!n&&o.Ta==r)return i}return-1}rn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=an(e,t,r,i);return-1<a?(t=e[a],n||(t.Na=!1)):((t=new tn(t,this.src,o,!!r,i)).Na=n,e.push(t)),t};var sn="closure_lm_"+(1e6*Math.random()|0),un={};function cn(e,t,n,r,i){if(r&&r.once)fn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=_n(n),e&&e[Xt]?En(e,t,n,v(r)?!!r.capture:!!r,i):ln(e,t,n,!1,r,i)}function ln(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=gn(e);if(s||(e[sn]=s=new rn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=yn,t=$t?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else n=_n(n),e&&e[Xt]?Sn(e,t,n,v(r)?!!r.capture:!!r,i):ln(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=_n(n),e&&e[Xt]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=an(o=e.a[t],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=gn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=an(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!=typeof e&&e&&!e.ua){var t=e.src;if(t&&t[Xt])on(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gn(t))?(on(n,e),0==n.b&&(n.src=null,t[sn]=null)):nn(e)}}}function hn(e){return e in un?un[e]:un[e]="on"+e}function vn(e,t,n,r){var i=!0;if((e=gn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ua&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(e,t){var n=e.listener,r=e.Ta||e.src;return e.Na&&pn(e),n.call(r,t)}function yn(e,t){if(e.ua)return!0;if(!$t){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=vn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=vn(r[i],e,!1,t),n=n&&o}return n}return mn(e,new Jt(t,this))}function gn(e){return(e=e[sn])instanceof rn?e:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(e){return h(e)?e:(e[bn]||(e[bn]=function(t){return e.handleEvent(t)}),e[bn])}function wn(){Ht.call(this),this.u=new rn(this),this.Yb=this,this.eb=null}function En(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function Sn(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ua&&a.capture==n){var s=a.listener,u=a.Ta||a.src;a.Na&&on(e.u,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(e,t,n){if(h(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function On(e){var t=null;return new _t((function(n,r){-1==(t=Cn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function In(e){if(e.V&&"function"==typeof e.V)return e.V();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function kn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.V||"function"!=typeof e.V){if(p(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Rn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(wn,Ht),wn.prototype[Xt]=!0,wn.prototype.addEventListener=function(e,t,n,r){cn(this,e,t,n,r)},wn.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},wn.prototype.dispatchEvent=function(e){var t,n=this.eb;if(n)for(t=[];n;n=n.eb)t.push(n);n=this.Yb;var r=e.type||e;if("string"==typeof e)e=new Yt(e,n);else if(e instanceof Yt)e.target=e.target||n;else{var i=e;me(e=new Yt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},wn.prototype.Ba=function(){if(wn.Za.Ba.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)nn(n[r]);delete t.a[e],t.b--}}this.eb=null},(e=An.prototype).V=function(){Pn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.X=function(){return Pn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},e.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof xn?(this.h=void 0!==t?t:e.h,Dn(this,e.f),this.i=e.i,this.b=e.b,Ln(this,e.l),this.c=e.c,Mn(this,tr(e.a)),this.g=e.g):e&&(n=String(e).match(Nn))?(this.h=!!t,Dn(this,n[1]||"",!0),this.i=Vn(n[2]||""),this.b=Vn(n[3]||"",!0),Ln(this,n[4]),this.c=Vn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.g=Vn(n[7]||"")):(this.h=!!t,this.a=new Qn(null,this.h))}function Dn(e,t,n){e.f=n?Vn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ln(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function Mn(e,t,n){t instanceof Qn?(e.a=t,function(e,t){t&&!e.f&&(Yn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),er(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=Hn(t,$n)),e.a=new Qn(t,e.h))}function jn(e,t,n){e.a.set(t,n)}function Un(e,t){return e.a.get(t)}function Fn(e){return e instanceof xn?new xn(e):new xn(e,void 0)}function Bn(e,t){var n=new xn(null,void 0);return Dn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function Vn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,zn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Hn(t,Gn,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(Hn(t,Gn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hn(n,"/"==n.charAt(0)?qn:Wn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Hn(n,Kn)),e.join("")},xn.prototype.resolve=function(e){var t=new xn(this),n=!!e.f;n?Dn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)Ln(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(se(i,"./")||se(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?Mn(t,tr(e.a)):n=!!e.g,n&&(t.g=e.g),t};var Gn=/[#\/\?@]/g,Wn=/[#\?:]/g,qn=/[#\?]/g,$n=/[#\?@]/g,Kn=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Yn(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jn(e){var t=kn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Qn(null,void 0);e=In(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?er(n,i,o):n.add(i,o)}return n}function Zn(e,t){Yn(e),t=nr(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Pn(e)))}function Xn(e,t){return Yn(e),t=nr(e,t),Rn(e.a.b,t)}function er(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(nr(e,t),J(n)),e.b+=n.length)}function tr(e){var t=new Qn;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function nr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function rr(e){var t=[];return or(new ir,e,t),t.join("")}function ir(){}function or(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),or(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),ur(r,n),n.push(":"),or(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":ur(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Qn.prototype).add=function(e,t){Yn(this),this.c=null,e=nr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Yn(this),this.a.forEach((function(n,r){z(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.X=function(){Yn(this);for(var e=this.a.V(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.V=function(e){Yn(this);var t=[];if("string"==typeof e)Xn(this,e)&&(t=Y(t,this.a.get(nr(this,e))));else{e=this.a.V();for(var n=0;n<e.length;n++)t=Y(t,e[n])}return t},e.set=function(e,t){return Yn(this),this.c=null,Xn(this,e=nr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(e,t){t.push('"',e.replace(sr,(function(e){var t=ar[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ar[e]=t),t})),'"')}function cr(){var e=Ar();return $e&&!!nt&&11==nt||/Edge\/\d+/.test(e)}function lr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function fr(e,t){t=t||u.window;var n="about:blank";e&&(n=Re(xe(e))),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function hr(e){e=e||u.window;try{e.close()}catch(e){}}function vr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,se(n,"crios/")&&(t.target="_blank")),Or(Ar())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:xe(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=dt(document,"A"),"HTMLAnchorElement"),t instanceof Pe||t instanceof Pe||(t="object"==typeof t&&t.ra?t.qa():String(t),Ne.test(t)||(t="about:invalid#zClosurez"),t=new Pe(Le,t)),a.href=Re(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Re(t),a&&(Qe&&se(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Fe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">'),r=a.document)&&(r.write(je(e)),r.close())):(a=r.open(Re(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function gr(){var e=null;return new _t((function(t){"complete"==u.document.readyState?t():(e=function(){t()},fn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function br(e){return e=e||Ar(),!("file:"!==Dr()&&"ionic:"!==Dr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var e=u.window;try{return!(!e||e==e.top)}catch(e){return!1}}function wr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Er(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Sr(){var e=Er();return"ReactNative"===e||"Node"===e}var Tr="Firefox",Cr="Chrome";function Or(e){var t=e.toLowerCase();return se(t,"opera/")||se(t,"opr/")||se(t,"opios/")?"Opera":se(t,"iemobile")?"IEMobile":se(t,"msie")||se(t,"trident/")?"IE":se(t,"edge/")?"Edge":se(t,"firefox/")?Tr:se(t,"silk/")?"Silk":se(t,"blackberry")?"Blackberry":se(t,"webos")?"Webos":!se(t,"safari/")||se(t,"chrome/")||se(t,"crios/")||se(t,"android")?!se(t,"chrome/")&&!se(t,"crios/")||se(t,"edge/")?se(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Cr:"Safari"}var Ir={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function kr(e,t){t=t||[];var n,r=[],i={};for(n in Ir)i[Ir[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Er())?r=Or(i=Ar()):"Worker"===r&&(r=Or(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return u.navigator&&u.navigator.userAgent||""}function Pr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Rr(){try{var e=u.localStorage,t=Fr();if(e)return e.setItem(t,"1"),e.removeItem(t),!cr()||!!u.indexedDB}catch(e){return wr()&&!!u.indexedDB}return!1}function Nr(){return(xr()||"chrome-extension:"===Dr()||br())&&!Sr()&&Rr()&&!wr()}function xr(){return"http:"===Dr()||"https:"===Dr()}function Dr(){return u.location&&u.location.protocol||null}function Lr(e){return!pr(e=e||Ar())&&Or(e)!=Tr}function Mr(e){return void 0===e?null:rr(e)}function jr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function Fr(e){return e||Math.floor(1e9*Math.random()).toString()}function Br(e){return"Safari"!=Or(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Vr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Hr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=Er(),this.b=pr(e)||"ReactNative"===t}function zr(){var e=u.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Gr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Wr(){return!(!Pr("fireauth.oauthhelper",u)&&!Pr("fireauth.iframe",u))}Hr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!=typeof e.onLine||!xr()&&"chrome-extension:"!==Dr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,$r={};function Kr(e){$r[e]||($r[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==Qr.abcd}catch(We){qr=!1}function Yr(e,t,n){qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Jr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Yr(e,n,t[n])}function Zr(e){var t={};return Jr(t,e),t}function Xr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Yr(t,n,Xr(e[n]));return t}function ei(e){var t=e&&(e[oi]?"phone":null);if(!(t&&e&&e[ii]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",e[ii]),Yr(this,"displayName",e[ni]||null);var n=null;e[ri]&&(n=new Date(e[ri]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",t)}function ti(e){try{var t=new ai(e)}catch(e){t=null}return t}ei.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function ai(e){ei.call(this,e),Yr(this,"phoneNumber",e[oi])}function si(e){var t={},n=e[fi],r=e[pi],i=e[hi];if(e=ti(e[di]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!e)throw Error("Invalid checkActionCode response!");i==li?(t[mi]=n||null,t[gi]=n||null,t[vi]=r):(t[mi]=r||null,t[gi]=r||null,t[vi]=n||null),t[yi]=e||null,Yr(this,_i,i),Yr(this,bi,Xr(t))}T(ai,ei),ai.prototype.v=function(){var e=ai.Za.v.call(this);return e.phoneNumber=this.phoneNumber,e};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",fi="email",di="mfaInfo",pi="newEmail",hi="requestType",vi="email",mi="fromEmail",yi="multiFactorInfo",gi="previousEmail",bi="data",_i="operation";function wi(e){var t=Un(e=Fn(e),Ei)||null,n=Un(e,Si)||null,r=Un(e,Oi)||null;if(r=r&&ki[r]||null,!t||!n||!r)throw new C("argument-error",Ei+", "+Si+"and "+Oi+" are required in a valid action code URL.");Jr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,Ti)||null,languageCode:Un(e,Ci)||null,tenantId:Un(e,Ii)||null})}var Ei="apiKey",Si="oobCode",Ti="continueUrl",Ci="languageCode",Oi="mode",Ii="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Ai(e){try{return new wi(e)}catch(e){return null}}function Pi(e){var t=e[Li];if(void 0===t)throw new C("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new C("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ri];if(n&&"object"==typeof n){t=n[Ui];var r=n[Mi];if(n=n[ji],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new C("argument-error",Ui+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(t=e[Di])&&"object"==typeof t){if("string"==typeof(t=t[Fi])&&t.length)this.f=t;else if(void 0!==t)throw new C("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new C("argument-error",Di+" property must be a non null object when specified.");if(void 0!==(t=e[xi])&&"boolean"!=typeof t)throw new C("argument-error",xi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ni])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new C("argument-error",Ni+" property must be a non empty string when specified.");this.i=e||null}var Ri="android",Ni="dynamicLinkDomain",xi="handleCodeInApp",Di="iOS",Li="url",Mi="installApp",ji="minimumVersion",Ui="packageName",Fi="bundleId";function Bi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Vi=null;function Hi(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Vi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Vi){Vi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Vi[o]&&(Vi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function zi(e){var t=Wi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.g=e,this.c=t.exp,this.h=t.sub,S(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Gi(e){try{return new zi(e)}catch(e){return null}}function Wi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Hi(e))}catch(e){}return null}zi.prototype.S=function(){return this.f},zi.prototype.i=function(){return this.b},zi.prototype.toString=function(){return this.g};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$i=["client_id","response_type","scope","redirect_uri","state"],Ki={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:$i},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:$i},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:$i},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:qi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Qi(e){for(var t in Ki)if(Ki[t].ea==e)return Ki[t];return null}function Yi(e){var t={};t["facebook.com"]=to,t["google.com"]=ro,t["github.com"]=no,t["twitter.com"]=io;var n=e&&e[Zi];try{if(n)return t[n]?new t[n](e):new eo(e);if(void 0!==e[Ji])return new Xi(e)}catch(e){}return null}var Ji="idToken",Zi="providerId";function Xi(e){var t=e[Zi];if(!t&&e[Ji]){var n=Gi(e[Ji]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Yr(this,"providerId",t),Yr(this,"isNewUser",n)}function eo(e){Xi.call(this,e),Yr(this,"profile",Xr((e=Ur(e.rawUserInfo||"{}"))||{}))}function to(e){if(eo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(eo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function ro(e){if(eo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(e){if(eo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",e.screenName||null)}function oo(e){var t=Fn(e),n=Un(t,"link"),r=Un(Fn(n),"link");return t=Un(t,"deep_link_id"),Un(Fn(t),"link")||t||r||n||e}function ao(e,t){if(!e&&!t)throw new C("internal-error","Internal assert: no raw session string available");if(e&&t)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?so:uo}T(eo,Xi),T(to,eo),T(no,eo),T(ro,eo),T(io,eo);var so="enroll",uo="signin";function co(){}function lo(e,t){return e.then((function(e){if(e[Xa]){var n=Gi(e[Xa]);if(!n||t!=n.h)throw new C("user-mismatch");return e}throw new C("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==k+"user-not-found"?new C("user-mismatch"):e}))}function fo(e,t){if(!t)throw new C("internal-error","failed to construct a credential");this.a=t,Yr(this,"providerId",e),Yr(this,"signInMethod",e)}function po(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ho(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new fo(e.providerId,e.pendingToken)}catch(e){}return null}function vo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Yr(this,"idToken",t.idToken),t.accessToken&&Yr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Yr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Yr(this,"accessToken",t.oauthToken),Yr(this,"secret",t.oauthTokenSecret)}Yr(this,"providerId",e),Yr(this,"signInMethod",n)}function mo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Jn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function yo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new vo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function go(e,t){this.Oc=t||[],Jr(this,{providerId:e,isOAuthProvider:!0}),this.Fb={},this.lb=(Qi(e)||{}).Ha||null,this.kb=null}function bo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,e,[])}function _o(e){go.call(this,e,$i),this.a=[]}function wo(){_o.call(this,"facebook.com")}function Eo(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new wo).credential({accessToken:t})}function So(){_o.call(this,"github.com")}function To(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new So).credential({accessToken:t})}function Co(){_o.call(this,"google.com"),this.Aa("profile")}function Oo(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Co).credential({idToken:n,accessToken:t})}function Io(){go.call(this,"twitter.com",qi)}function ko(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new vo("twitter.com",n,"twitter.com")}function Ao(e,t,n){this.a=e,this.f=t,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(e){return e&&e.email&&e.password?new Ao(e.email,e.password,e.signInMethod):null}function Ro(){Jr(this,{providerId:"password",isOAuthProvider:!1})}function No(e,t){if(!(t=xo(t)))throw new C("argument-error","Invalid email link!");return new Ao(e,t.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function xo(e){return(e=Ai(e=oo(e)))&&e.operation===ci?e:null}function Do(e){if(!(e.bb&&e.ab||e.Ja&&e.da))throw new C("internal-error");this.a=e,Yr(this,"providerId","phone"),this.ea="phone",Yr(this,"signInMethod","phone")}function Lo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Do(t)}return null}function Mo(e){return e.a.Ja&&e.a.da?{temporaryProof:e.a.Ja,phoneNumber:e.a.da}:{sessionInfo:e.a.bb,code:e.a.ab}}function jo(e){try{this.a=e||t.auth()}catch(e){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jr(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(e,t){if(!e)throw new C("missing-verification-id");if(!t)throw new C("missing-verification-code");return new Do({bb:e,ab:t})}function Fo(e){if(e.temporaryProof&&e.phoneNumber)return new Do({Ja:e.temporaryProof,da:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Oo(o,n);case"facebook.com":return Eo(n);case"github.com":return To(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new fo(t,a):new vo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new _o(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Bo(e){if(!e.isOAuthProvider)throw new C("invalid-oauth-provider")}function Vo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Ho(e){return(e=e||{}).type?new Vo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&O(e.error),e.postBody,e.tenantId):null}function zo(){this.b=null,this.a=[]}ao.prototype.Fa=function(){return this.a?It(this.a):It(this.b)},ao.prototype.v=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ia=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.v=function(){},fo.prototype.ia=function(e){return Es(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,Ss(e,n)},fo.prototype.c=function(e,t){return lo(Ts(e,po(this)),t)},fo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},vo.prototype.ia=function(e){return Es(e,mo(this))},vo.prototype.b=function(e,t){var n=mo(this);return n.idToken=t,Ss(e,n)},vo.prototype.c=function(e,t){return lo(Ts(e,mo(this)),t)},vo.prototype.v=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},go.prototype.Ia=function(e){return this.Fb=he(e),this},T(bo,go),T(_o,go),_o.prototype.Aa=function(e){return $(this.a,e)||this.a.push(e),this},_o.prototype.Nb=function(){return J(this.a)},_o.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new vo(this.providerId,n,this.providerId)},T(wo,_o),Yr(wo,"PROVIDER_ID","facebook.com"),Yr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(So,_o),Yr(So,"PROVIDER_ID","github.com"),Yr(So,"GITHUB_SIGN_IN_METHOD","github.com"),T(Co,_o),Yr(Co,"PROVIDER_ID","google.com"),Yr(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Io,go),Yr(Io,"PROVIDER_ID","twitter.com"),Yr(Io,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ia=function(e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ou(e,Ns,{email:this.a,oobCode:this.f}):ou(e,eu,{email:this.a,password:this.f})},Ao.prototype.b=function(e,t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ou(e,xs,{idToken:t,email:this.a,oobCode:this.f}):ou(e,qs,{idToken:t,email:this.a,password:this.f})},Ao.prototype.c=function(e,t){return lo(this.ia(e),t)},Ao.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Jr(Ro,{PROVIDER_ID:"password"}),Jr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ia=function(e){return e.cb(Mo(this))},Do.prototype.b=function(e,t){var n=Mo(this);return n.idToken=t,ou(e,nu,n)},Do.prototype.c=function(e,t){var n=Mo(this);return n.operation="REAUTH",lo(e=ou(e,ru,n),t)},Do.prototype.v=function(){var e={providerId:"phone"};return this.a.bb&&(e.verificationId=this.a.bb),this.a.ab&&(e.verificationCode=this.a.ab),this.a.Ja&&(e.temporaryProof=this.a.Ja),this.a.da&&(e.phoneNumber=this.a.da),e},jo.prototype.cb=function(e,t){var n=this.a.b;return It(t.verify()).then((function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==so?o.Fa().then((function(e){return function(e,t){return ou(e,Ks,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==uo?o.Fa().then((function(t){return function(e,t){return ou(e,Qs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return ou(e,Gs,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}))}throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Jr(jo,{PROVIDER_ID:"phone"}),Jr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Vo.prototype.S=function(){return this.h},Vo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Go,Wo=null;function qo(e){var t="unauthorized-domain",n=void 0,r=Fn(e);e=r.b,"chrome-extension"==(r=r.f)?n=Ve("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ve("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",C.call(this,t,n)}function $o(e,t,n){C.call(this,e,n),(e=t||{}).Gb&&Yr(this,"email",e.Gb),e.da&&Yr(this,"phoneNumber",e.da),e.credential&&Yr(this,"credential",e.credential),e.Wb&&Yr(this,"tenantId",e.Wb)}function Ko(e){if(e.code){var t=e.code||"";0==t.indexOf(k)&&(t=t.substring(k.length));var n={credential:Fo(e),Wb:e.tenantId};if(e.email)n.Gb=e.email;else if(e.phoneNumber)n.da=e.phoneNumber;else if(!n.credential)return new C(t,e.message||void 0);return new $o(t,n,e.message)}return null}function Qo(){}function Yo(e){return e.c||(e.c=e.b())}function Jo(){}function Zo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Xo(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.oc,this),this.a.onerror=w(this.Pb,this),this.a.onprogress=w(this.pc,this),this.a.ontimeout=w(this.tc,this)}function ta(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function na(e,t,n){this.reset(e,t,n,void 0,void 0)}T(qo,C),T($o,C),$o.prototype.v=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.v();return t&&me(e,t),e},$o.prototype.toJSON=function(){return this.v()},Qo.prototype.c=null,T(Jo,Qo),Jo.prototype.a=function(){var e=Zo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Jo.prototype.b=function(){var e={};return Zo(this)&&(e[0]=!0,e[1]=!0),e},Go=new Jo,T(Xo,Qo),Xo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(e=ea.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,ta(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},na.prototype.a=null;function ra(e){this.f=e,this.b=this.c=this.a=null}function ia(e,t){this.name=e,this.value=t}na.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||S(),delete this.a},ia.prototype.toString=function(){return this.name};var oa=new ia("SEVERE",1e3),aa=new ia("WARNING",900),sa=new ia("CONFIG",700),ua=new ia("FINE",500);function ca(e){return e.c?e.c:e.a?ca(e.a):(L("Root logger has no level set."),null)}ra.prototype.log=function(e,t,n){if(e.value>=ca(this).value)for(h(t)&&(t=t()),e=new na(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var la={},fa=null;function da(e){var t;if(fa||(fa=new ra(""),la[""]=fa,fa.c=sa),!(t=la[e])){t=new ra(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=da(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,la[e]=t}return t}function pa(e,t){e&&e.log(ua,t,void 0)}function ha(e){this.f=e}function va(e){wn.call(this),this.s=e,this.readyState=ma,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=da("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(ha,Qo),ha.prototype.a=function(){return new va(this.f)},ha.prototype.b=function(e){return function(){return e}}({}),T(va,wn);var ma=0;function ya(e){e.c.read().then(e.nc.bind(e)).catch(e.Sa.bind(e))}function ga(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,ba(e)}function ba(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function _a(e){wn.call(this),this.headers=new An,this.D=e||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=wa,this.w=this.R=!1}(e=va.prototype).open=function(e,t){if(this.readyState!=ma)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,ba(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.s.fetch(new Request(this.g,t)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ga(this,!1)),this.readyState=ma},e.sc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,ba(this)),this.a&&(this.readyState=3,ba(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,ya(this)):e.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ga(this,!0):ba(this),3==this.readyState&&ya(this)}},e.rc=function(e){this.a&&(this.response=this.responseText=e,ga(this,!0))},e.qc=function(e){this.a&&(this.response=e,ga(this,!0))},e.Sa=function(e){var t=this.h;t&&t.log(aa,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ga(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(aa,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(aa,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},T(_a,wn);var wa="";_a.prototype.b=da("goog.net.XhrIo");var Ea=/^https?$/i,Sa=["POST","PUT"];function Ta(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.N=!1,e.c=!0,e.a=e.D?e.D.a():Go.a(),e.B=e.D?Yo(e.D):Yo(Go),e.a.onreadystatechange=w(e.Sb,e);try{pa(e.b,xa(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return pa(e.b,xa(e,"Error opening Xhr: "+t.message)),void Oa(e,t)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)z(e,t,void 0);else for(var n=kn(e),r=In(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ca,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.X()),r=u.FormData&&t instanceof u.FormData,!$(Sa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.R&&(e.a.withCredentials=e.R);try{Pa(e),0<e.g&&(e.w=function(e){return $e&&it(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),pa(e.b,xa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.w)),e.w?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ka,e)):e.s=Cn(e.Ka,e.g,e)),pa(e.b,xa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){pa(e.b,xa(e,"Send error: "+t.message)),Oa(e,t)}}function Ca(e){return"content-type"==e.toLowerCase()}function Oa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ia(e),Aa(e)}function Ia(e){e.N||(e.N=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ka(e){if(e.c&&void 0!==s)if(e.B[1]&&4==Ra(e)&&2==Na(e))pa(e.b,xa(e,"Local request error detected and ignored"));else if(e.i&&4==Ra(e))Cn(e.Sb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ra(e)){pa(e.b,xa(e,"Request complete")),e.c=!1;try{var t,n=Na(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Nn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ra(e)?e.a.statusText:""}catch(t){pa(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Na(e)+"]",Ia(e)}}finally{Aa(e)}}}function Aa(e,t){if(e.a){Pa(e);var n=e.a,r=e.B[0]?f:null;e.a=null,e.B=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(oa,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Pa(e){e.a&&e.w&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Ra(e){return e.a?e.a.readyState:0}function Na(e){try{return 2<Ra(e)?e.a.status:-1}catch(e){return-1}}function xa(e,t){return t+" ["+e.P+" "+e.l+" "+Na(e)+"]"}function Da(e){var t=Wa;this.g=[],this.w=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function La(e,t,n){e.a=!0,e.c=n,e.f=!t,Fa(e)}function Ma(e){if(e.a){if(!e.u)throw new Ba(e);e.u=!1}}function ja(e,t,n,r){e.g.push([t,n,r]),e.a&&Fa(e)}function Ua(e){return q(e.g,(function(e){return h(e[1])}))}function Fa(e){if(e.h&&e.a&&Ua(e)){var t=e.h,n=za[t];n&&(u.clearTimeout(n.a),delete za[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(N(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,Ua(e)||(n=!0)}}e.c=t,r&&(s=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Da?(ja(t,s,r),t.B=!0):t.then(s,r)),n&&(t=new Ha(t),za[t.a]=t,e.h=t.a)}function Ba(){x.call(this)}function Va(){x.call(this)}function Ha(e){this.a=u.setTimeout(w(this.c,this),0),this.b=e}(e=_a.prototype).Ka=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,xa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(pa(this.b,xa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Aa(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Aa(this,!0)),_a.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?ka(this):this.Hc())},e.Hc=function(){ka(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case wa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(oa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return pa(this.b,"Can not get response: "+e.message),null}},Da.prototype.cancel=function(e){if(this.a)this.c instanceof Da&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(e=new Va(this),Ma(this),La(this,!1,e))}},Da.prototype.m=function(e,t){this.i=!1,La(this,e,t)},Da.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return ja(this,r,(function(e){e instanceof Va?o.cancel():i(e)})),o.then(e,t,n)},Da.prototype.$goog_Thenable=!0,T(Ba,x),Ba.prototype.message="Deferred has already fired",Ba.prototype.name="AlreadyCalledError",T(Va,x),Va.prototype.message="Deferred was canceled",Va.prototype.name="CanceledError",Ha.prototype.c=function(){throw delete za[this.a],this.b};var za={};function Ga(e){var t={},n=t.document||document,r=Te(e).toString(),i=dt(document,"SCRIPT"),o={Tb:i,Ka:void 0},a=new Da(o),s=null,f=null!=t.timeout?t.timeout:5e3;return 0<f&&(s=window.setTimeout((function(){qa(i,!0);var e=new Qa(Ka,"Timeout reached for loading script "+r);Ma(a),La(a,!1,e)}),f),o.Ka=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(qa(i,t.ud||!1,s),Ma(a),La(a,!0,null))},i.onerror=function(){qa(i,!0,s);var e=new Qa($a,"Error while loading script "+r);Ma(a),La(a,!1,e)},me(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),st(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Te(t),null===l&&(l=(t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""),(t=l)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Tb){var e=this.Tb;e&&"SCRIPT"==e.tagName&&qa(e,!0,this.Ka)}}function qa(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var $a=0,Ka=1;function Qa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),x.call(this,n),this.code=e}function Ya(e){this.f=e}function Ja(e,n,r){if(this.c=e,e=n||{},this.u=e.secureTokenEndpoint||es,this.m=e.secureTokenTimeout||ts,this.g=he(e.secureTokenHeaders||ns),this.h=e.firebaseEndpoint||rs,this.l=e.identityPlatformEndpoint||is,this.i=e.firebaseTimeout||os,this.a=he(e.firebaseHeaders||as),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Er(),!(r=u.XMLHttpRequest||r&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest)&&!wr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new ha(self):Sr()?this.f=new Ya(r):this.f=new Xo,this.b=null}T(Qa,x),T(Ya,Qo),Ya.prototype.a=function(){return new this.f},Ya.prototype.b=function(){return{}};var Za,Xa="idToken",es="https://"+(window.firebaseProxyHost||"securetoken.googleapis.com")+"/v1/token",ts=new Hr(3e4,6e4),ns={"Content-Type":"application/x-www-form-urlencoded"},rs="https://"+(window.firebaseProxyHost||"www.googleapis.com")+"/identitytoolkit/v3/relyingparty/",is="https://"+(window.firebaseProxyHost||"identitytoolkit.googleapis.com")+"/v2/",os=new Hr(3e4,6e4),as={"Content-Type":"application/json"};function ss(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function us(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function cs(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=Or(e)!=Cr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||$e&&nt&&!(9<nt))})()||wr()?e=w(e.w,e):(Za||(Za=new _t((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[fs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){ja(e,null,t,void 0)}(Ga(Ce(ls,{onload:fs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}Ja.prototype.S=function(){return this.b},Ja.prototype.w=function(e,t,n,r,i,o){if(wr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new _a(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}En(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return pa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),Sn(a,"ready",(function(){s&&clearTimeout(s),Wt(this)})),Sn(a,"timeout",(function(){s&&clearTimeout(s),Wt(this),t&&t(null)})),Ta(a,e,n,r,i)};var ls=new ge(we,"https://apis.google.com/js/client.js?onload=%{onload}"),fs="__fcb"+Math.floor(1e6*Math.random()).toString();function ds(e,t,n,r,i,o,a){var s=Fn(t+n);jn(s,"key",e.c),a&&jn(s,"cb",S().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&jn(s,c,i[c]);return new _t((function(t,n){cs(e,s.toString(),(function(e){e?e.error?n(su(e,o||{})):t(e):n(new C("network-request-failed"))}),r,u?void 0:rr(jr(i)),e.a,e.i.get())}))}function ps(e){if("string"!=typeof(e=e.email)||!yr.test(e))throw new C("invalid-email")}function hs(e){"email"in e&&ps(e)}function vs(e){if(!e[Xa]){if(e.mfaPendingCredential)throw new C("multi-factor-auth-required",null,he(e));throw new C("internal-error")}}function ms(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new C("internal-error")}else{if(!e.sessionInfo)throw new C("missing-verification-id");if(!e.code)throw new C("missing-verification-code")}}Ja.prototype.s=function(e,t,n,r,i){var o=this;Za.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ja.prototype.vb=function(){return ou(this,$s,{})},Ja.prototype.xb=function(e,t){return ou(this,Ws,{idToken:e,email:t})},Ja.prototype.yb=function(e,t){return ou(this,qs,{idToken:e,password:t})};var ys={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gs(e){if(!e.phoneVerificationInfo)throw new C("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new C("missing-verification-code")}function bs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new C("internal-error")}function _s(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Xn(e=new Qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function ws(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ko(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ko(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ko(e)):e.errorMessage&&(t=au(e.errorMessage)),t)throw t;vs(e)}function Es(e,t){return t.returnIdpCredential=!0,ou(e,Ys,t)}function Ss(e,t){return t.returnIdpCredential=!0,ou(e,Zs,t)}function Ts(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ou(e,Js,t)}function Cs(e){if(!e.oobCode)throw new C("invalid-action-code")}(e=Ja.prototype).zb=function(e,t){var n={idToken:e},r=[];return de(ys,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ou(this,Ws,n)},e.rb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),ou(this,Bs,e)},e.sb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),ou(this,js,e)},e.qb=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),ou(this,Us,e)},e.Ab=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),ou(this,Fs,e)},e.cb=function(e){return ou(this,tu,e)},e.jb=function(e,t){return ou(this,zs,{oobCode:e,newPassword:t})},e.Pa=function(e){return ou(this,Is,{oobCode:e})},e.fb=function(e){return ou(this,Os,{oobCode:e})};var Os={endpoint:"setAccountInfo",A:Cs,Y:"email",C:!0},Is={endpoint:"resetPassword",A:Cs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new C("internal-error")},C:!0},ks={endpoint:"signupNewUser",A:function(e){if(ps(e),!e.password)throw new C("weak-password")},G:vs,U:!0,C:!0},As={endpoint:"createAuthUri",C:!0},Ps={endpoint:"deleteAccount",M:["idToken"]},Rs={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(e){if("array"!=d(e.deleteProvider))throw new C("internal-error")}},Ns={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ps,G:vs,U:!0,C:!0},xs={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ps,G:vs,U:!0},Ds={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:gs,G:vs,C:!0,La:!0},Ls={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:gs,G:vs,C:!0,La:!0},Ms={endpoint:"getAccountInfo"},js={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new C("internal-error");ps(e)},Y:"email",C:!0},Us={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new C("internal-error")},Y:"email",C:!0},Fs={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new C("internal-error")},Y:"email",C:!0},Bs={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new C("internal-error");ps(e)},Y:"email",C:!0},Vs={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Hs={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new C("internal-error")}},zs={endpoint:"resetPassword",A:Cs,Y:"email",C:!0},Gs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Ws={endpoint:"setAccountInfo",M:["idToken"],A:hs,U:!0},qs={endpoint:"setAccountInfo",M:["idToken"],A:function(e){if(hs(e),!e.password)throw new C("weak-password")},G:vs,U:!0},$s={endpoint:"signupNewUser",G:vs,U:!0,C:!0},Ks={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new C("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new C("internal-error")},C:!0,La:!0},Qs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new C("internal-error")},C:!0,La:!0},Ys={endpoint:"verifyAssertion",A:bs,Wa:_s,G:ws,U:!0,C:!0},Js={endpoint:"verifyAssertion",A:bs,Wa:_s,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new C("user-not-found");if(e.errorMessage)throw au(e.errorMessage);vs(e)},U:!0,C:!0},Zs={endpoint:"verifyAssertion",A:function(e){if(bs(e),!e.idToken)throw new C("internal-error")},Wa:_s,G:ws,U:!0},Xs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new C("invalid-custom-token")},G:vs,U:!0,C:!0},eu={endpoint:"verifyPassword",A:function(e){if(ps(e),!e.password)throw new C("wrong-password")},G:vs,U:!0,C:!0},tu={endpoint:"verifyPhoneNumber",A:ms,G:vs,C:!0},nu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new C("internal-error");ms(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ko(e);vs(e)}},ru={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ms,G:vs,C:!0},iu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Xa]^!!e.refreshToken)throw new C("internal-error")},C:!0,La:!0};function ou(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.M))return kt(new C("internal-error"));var r,i=!!t.La,o=t.Rb||"POST";return It(n).then(t.A).then((function(){return t.U&&(n.returnSecureToken=!0),t.C&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),ds(e,i?e.l:e.h,t.endpoint,o,n,t.Eb,t.hb||!1)})).then((function(e){return r=e,t.Wa?t.Wa(n,r):r})).then(t.G).then((function(){if(!t.Y)return r;if(!(t.Y in r))throw new C("internal-error");return r[t.Y]}))}function au(e){return su({error:{errors:[{message:e}],code:400,message:e}})}function su(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],t);return!t&&e&&(t=Mr(e)),new C("internal-error",t)}function uu(e){this.b=e,this.a=null,this.nb=function(e){return(du||(du=new _t((function(e,t){function n(){Vr(),Pr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Vr(),t(Error("Network Error"))},timeout:lu.get()})}if(Pr("gapi.iframes.Iframe"))e();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Pr("gapi.load")?n():t(Error("Network Error"))},It(Ga(r=Ce(cu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw du=null,e})))).then((function(){return new _t((function(t,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),fu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var cu=new ge(we,"https://apis.google.com/js/api.js?onload=%{onload}"),lu=new Hr(3e4,6e4),fu=new Hr(5e3,15e3),du=null;function pu(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Bn(this.i,"/__/auth/iframe"),jn(this.a,"apiKey",this.g),jn(this.a,"appName",this.h),this.b=null,this.c=[]}function hu(e,t,n,r,i){this.s=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function vu(e){try{return t.app(e).auth().Ea()}catch(e){return[]}}function mu(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function yu(e){var t=lr();return function(e){return ou(e,Vs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Fn(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new qo(lr())}))}function gu(e){return e.l||(e.l=gr().then((function(){if(!e.s){var t=e.c,n=e.h,r=vu(e.b),i=new pu(e.u,e.f,e.b);i.f=t,i.b=n,i.c=J(r||[]),e.s=i.toString()}e.i=new uu(e.s),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.nb.then((function(){e.a.register("authEvent",t,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ho(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",It(n)}return n.status="ERROR",It(n)}))}(e)}))),e.l}function bu(e){return e.m||(e.w=e.c?kr(e.c,vu(e.b)):null,e.m=new Ja(e.f,R(e.h),e.w)),e.m}function _u(e,t,n,r,i,o,a,s,u,c,l){return(e=new hu(e,t,n,r,i)).l=o,e.g=a,e.i=s,e.b=he(u||null),e.f=c,e.ub(l).toString()}function wu(e){if(this.a=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Eu(e){this.b=e,this.a={},this.f=w(this.c,this)}pu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Zn(this.a.a,"v"),this.b?jn(this.a,"eid",this.b):Zn(this.a.a,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Zn(this.a.a,"fw"),this.a.toString()},hu.prototype.ub=function(e){return this.h=e,this},hu.prototype.toString=function(){var e=Bn(this.s,"/__/auth/handler");if(jn(e,"apiKey",this.m),jn(e,"appName",this.c),jn(e,"authType",this.u),this.a.isOAuthProvider){var n=this.a;try{var r=t.app(this.c).auth().ja()}catch(e){r=null}for(var i in n.kb=r,jn(e,"providerId",this.a.providerId),r=jr((n=this.a).Fb))r[i]=r[i].toString();i=n.Oc,r=he(r);for(var o=0;o<i.length;o++){var a=i[o];a in r&&delete r[a]}n.lb&&n.kb&&!r[n.lb]&&(r[n.lb]=n.kb),pe(r)||jn(e,"customParameters",Mr(r))}if("function"==typeof this.a.Nb&&((n=this.a.Nb()).length&&jn(e,"scopes",n.join(","))),this.l?jn(e,"redirectUrl",this.l):Zn(e.a,"redirectUrl"),this.g?jn(e,"eventId",this.g):Zn(e.a,"eventId"),this.i?jn(e,"v",this.i):Zn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(e,s)&&jn(e,s,this.b[s]);return this.h?jn(e,"tid",this.h):Zn(e.a,"tid"),this.f?jn(e,"eid",this.f):Zn(e.a,"eid"),(s=vu(this.c)).length&&jn(e,"fw",s.join(",")),e.toString()},(e=mu.prototype).Lb=function(e,t,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,a=!1;return this.ka().then((function(){(function(e){var t={type:"webStorageSupport"};return gu(e).then((function(){return function(e,t){return e.nb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&hr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){On(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return On(n).then((function(){t(r)}))}))},e.Ub=function(){var e=Ar();return!Lr(e)&&!Br(e)},e.Qb=function(){return!1},e.Jb=function(e,t,n,r,i,o,a,s){if(!e)return kt(new C("popup-blocked"));if(a&&!Lr())return this.ka().o((function(t){hr(e),i(t)})),r(),It();this.a||(this.a=yu(bu(this)));var u=this;return this.a.then((function(){var t=u.ka().o((function(t){throw hr(e),i(t),t}));return r(),t})).then((function(){(Bo(n),a)||fr(_u(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Kb=function(e,t,n,r){this.a||(this.a=yu(bu(this)));var i=this;return this.a.then((function(){Bo(t),fr(_u(i.u,i.f,i.b,e,t,lr(),n,i.c,void 0,i.h,r))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ka=function(){var e=this;return gu(this).then((function(){return e.i.nb})).o((function(){throw e.a=null,new C("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(e){this.g.push(e)},e.Qa=function(e){Q(this.g,(function(t){return t==e}))},(e=wu.prototype).get=function(e){return It(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},e.set=function(e,t){return It(this.a.setItem(e,Mr(t)))},e.T=function(e){return It(this.a.removeItem(e))},e.ba=function(){},e.ha=function(){};var Su,Tu=[];function Cu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Ou(e){this.a=e}function Iu(e){this.c=e,this.b=!1,this.a=[]}function ku(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return kt(Error("connection_unavailable"));var l=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:f,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Au(e,c),t})).o((function(t){throw Au(e,c),t}))}function Au(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(e.a,(function(e){return e==t}))}}function Pu(){if(!xu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var e=this;wr()&&self?(this.l=function(){var e=wr()?self:null;if(z(Tu,(function(n){n.b==e&&(t=n)})),!t){var t=new Eu(e);Tu.push(t)}return t}(),Cu(this.l,"keyChanged",(function(t,n){return Uu(e).then((function(t){return 0<t.length&&z(e.a,(function(e){e(t)})),{keyProcessed:$(t,n.key)}}))})),Cu(this.l,"ping",(function(){return It(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?It().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):It(null)}().then((function(t){(e.h=t)&&(e.g=new Iu(new Ou(t)),ku(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&$(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Ru(e){return new _t((function(t,n){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new _t((function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Ru(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Nu(e){return e.m||(e.m=Ru(e)),e.m}function xu(){try{return!!u.indexedDB}catch(e){return!1}}function Du(e){return e.objectStore("firebaseLocalStorage")}function Lu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Mu(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function ju(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ku(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):It()}function Uu(e){return Nu(e).then((function(e){var t=Du(Lu(e,!1));return t.getAll?Mu(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function Fu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Bu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=It().then((function(){if(xu()){var e=Fr(),r="__sak"+e;return Su||(Su=new Pu),(n=Su).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ba((function(e){z(t.a,(function(t){t(e)}))})),e}))}function Vu(){this.a={},this.type="inMemory"}function Hu(){if(!function(){var e="Node"==Er();if(e=zu()||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Er())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=zu()||t.INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var e=u.localStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Gu(){this.type="nullStorage"}function Wu(){if(!function(){var e="Node"==Er();if(e=qu()||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Er())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=qu()||t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qu(){try{var e=u.sessionStorage,t=Fr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function $u(){var e={};e.Browser=Yu,e.Node=Ju,e.ReactNative=Zu,e.Worker=Xu,this.a=e[Er()]}Eu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];z(r,(function(t){i.push(It().then((function(){return t(e.origin,e.data.data)})))})),Pt(i).then((function(r){var i=[];z(r,(function(e){i.push({fulfilled:e.Mb,value:e.value,reason:e.reason?e.reason.message:void 0})})),z(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Ou.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Iu.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(e=Pu.prototype).set=function(e,t){var n,r=!1,i=this;return Nu(this).then((function(t){return Mu((t=Du(Lu(n=t,!0))).get(e))})).then((function(o){var a=Du(Lu(n,!0));return o?(o.value=t,Mu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,Mu(a.add(o)))})).then((function(){return i.c[e]=t,ju(i,e)})).ma((function(){r&&i.b--}))},e.get=function(e){return Nu(this).then((function(t){return Mu(Du(Lu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.T=function(e){var t=!1,n=this;return Nu(this).then((function(r){return t=!0,n.b++,Mu(Du(Lu(r,!0)).delete(e))})).then((function(){return delete n.c[e],ju(n,e)})).ma((function(){t&&n.b--}))},e.ba=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.i=Uu(e).then((function(t){0<t.length&&z(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Fu(e),t()}(this),this.a.push(e)},e.ha=function(e){Q(this.a,(function(t){return t==e})),0==this.a.length&&Fu(this)},(e=Bu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.T=function(e){return this.b.then((function(t){return t.T(e)}))},e.ba=function(e){this.a.push(e)},e.ha=function(e){Q(this.a,(function(t){return t==e}))},(e=Vu.prototype).get=function(e){return It(this.a[e])},e.set=function(e,t){return this.a[e]=t,It()},e.T=function(e){return delete this.a[e],It()},e.ba=function(){},e.ha=function(){},(e=Hu.prototype).get=function(e){var t=this;return It().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var r=Mr(t);null===r?n.T(e):n.a.setItem(e,r)}))},e.T=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ba=function(e){u.window&&cn(u.window,"storage",e)},e.ha=function(e){u.window&&dn(u.window,"storage",e)},(e=Gu.prototype).get=function(){return It(null)},e.set=function(){return It()},e.T=function(){return It()},e.ba=function(){},e.ha=function(){},(e=Wu.prototype).get=function(e){var t=this;return It().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var r=Mr(t);null===r?n.T(e):n.a.setItem(e,r)}))},e.T=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ba=function(){},e.ha=function(){};var Ku,Qu,Yu={F:Hu,$a:Wu},Ju={F:Hu,$a:Wu},Zu={F:wu,$a:Gu},Xu={F:Hu,$a:Gu},ec={od:"local",NONE:"none",qd:"session"};function tc(){var e=!(Br(Ar())||!_r()),t=Lr(),n=Rr();this.m=e,this.h=t,this.l=n,this.a={},Ku||(Ku=new $u),e=Ku;try{this.g=!cr()&&Wr()||!u.indexedDB?new e.a.F:new Bu(wr()?new Vu:new e.a.F)}catch(e){this.g=new Vu,this.h=!0}try{this.i=new e.a.$a}catch(e){this.i=new Vu}this.u=new Vu,this.f=w(this.Vb,this),this.b={}}function nc(){return Qu||(Qu=new tc),Qu}function rc(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function ic(e,t){return"firebase:"+e.name+(t?":"+t:"")}function oc(e,t,n){return n=ic(t,n),"local"==t.F&&(e.b[n]=null),rc(e,t.F).T(n)}function ac(e){e.c&&(clearInterval(e.c),e.c=null)}function sc(e){this.a=e,this.b=nc()}(e=tc.prototype).get=function(e,t){return rc(this,e.F).get(ic(e,t))},e.set=function(e,t,n){var r=ic(e,n),i=this,o=rc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=ic(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),pe(this.a)&&(rc(this,"local").ba(this.f),this.h||(cr()||!Wr())&&u.indexedDB||!this.l||function(e){ac(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Vb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=ic(e,t),this.a[e]&&(Q(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(rc(this,"local").ha(this.f),ac(this))},e.Vb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?rc(this,"local").ha(this.f):ac(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.ib(t))},$e&&nt&&10==nt&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else z(e,w(this.ib,this))},e.ib=function(e){this.a[e]&&z(this.a[e],(function(e){e()}))};var uc,cc={name:"authEvent",F:"local"};function lc(){this.a=nc()}function fc(e,t){this.b=dc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===uc&&(uc=u.Int32Array?new Int32Array(bc):bc),this.reset()}T(fc,(function(){this.b=-1}));for(var dc=64,pc=dc-1,hc=[],vc=0;vc<pc;vc++)hc[vc]=0;var mc=Y(128,hc);function yc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|uc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function gc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(yc(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(yc(e),i=0)}}e.c=i,e.g+=n}fc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):J(this.h)};var bc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _c(){fc.call(this,8,wc)}T(_c,fc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ec(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.s=i||null,this.h=t+":"+n,this.w=new lc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sc(e){return new C("invalid-cordova-configuration",e)}function Tc(e){var t=new _c;gc(t,e),e=[];var n=8*t.g;56>t.c?gc(t,mc,56-t.c):gc(t,mc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(yc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return W(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Cc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Oc(e){return e.f||(e.f=e.ka().then((function(){return new _t((function(t){e.Ca((function n(r){return t(r),e.Qa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Ic(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=oo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ur(Un(o=Fn(i),"firebaseError")||null))?O(o):null)?new Vo(r.c,r.b,null,null,o,null,r.S()):new Vo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Cc(e,i)}))}var n=new Vo("unknown",null,null,null,new C("no-auth-event")),r=!1,i=On(500).then((function(){return Ic(e).then((function(){r||Cc(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Pr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Wo||(Wo=new zo),function(e){var t=Wo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Pr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Ic(e){var t=null;return function(e){return e.b.get(cc,e.a).then((function(e){return Ho(e)}))}(e.g).then((function(n){return t=n,oc((n=e.g).b,cc,n.a)})).then((function(){return t}))}function kc(e){this.a=e,this.b=nc()}(e=Ec.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(br(void 0)?gr().then((function(){return new _t((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):kt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Pr("universalLinks.subscribe",u))throw Sc("cordova-universal-links-plugin-fix is not installed");if(void 0===Pr("BuildInfo.packageName",u))throw Sc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Pr("cordova.plugins.browsertab.openUrl",u))throw Sc("cordova-plugin-browsertab is not installed");if("function"!=typeof Pr("cordova.InAppBrowser.open",u))throw Sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},e.Lb=function(e,t){return t(new C("operation-not-supported-in-this-environment")),It()},e.Jb=function(){return kt(new C("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(e,t,n,r){if(this.c)return kt(new C("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=It().then((function(){return Bo(t),Oc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Vo(t,r,null,o,new C("no-auth-event"),null,i),s=Pr("BuildInfo.packageName",u);if("string"!=typeof s)throw new C("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",u),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Ar().toLowerCase().match(/android/))return kt(new C("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Tc(o),l.sessionId=o;var f=_u(e.u,e.i,e.l,t,n,null,r,e.m,l,e.s,i);return e.ka().then((function(){var t=e.h;return e.w.a.set(cc,a.v(),t)})).then((function(){var t=Pr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof t)throw new C("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Pr("cordova.plugins.browsertab.openUrl",u)))throw new C("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=Pr("cordova.InAppBrowser.open",u)))throw new C("invalid-cordova-configuration");t=Ar(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){s=function(){var t=Pr("cordova.plugins.browsertab.close",u);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(s),c=function(){a||(a=On(2e3).then((function(){t(new C("redirect-cancelled-by-user"))})))},l=function(){zr()&&c()},o.addEventListener("resume",c,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Ic(i).then((function(){throw e}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Qa(s),i.c=null}))},e.Ca=function(e){this.b.push(e),Oc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Vo("unknown",null,null,null,new C("no-auth-event")),e(t))}))},e.Qa=function(e){Q(this.b,(function(t){return t==e}))};var Ac={name:"pendingRedirect",F:"session"};function Pc(e){return oc(e.b,Ac,e.a)}function Rc(e,t,n){this.i={},this.w=0,this.D=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Wc,this.B=new Yc,this.g=new kc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Nc(this.D,this.u,this.m,I)}function Nc(e,n,r,i){var o=t.SDK_VERSION||null;return br()?new Ec(e,n,r,o,i):new mu(e,n,r,o,i)}function xc(e){e.f||(e.f=!0,e.a.Ca(e.l));var t=e.a;return e.a.ka().o((function(n){throw e.a==t&&e.reset(),n}))}function Dc(e){e.a.Ub()&&xc(e).o((function(t){var n=new Vo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Bc(t)&&e.s(n)})),e.a.Qb()||qc(e.b)}function Lc(e,t){$(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Ac,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Pc(e.g).then((function(){xc(e).o((function(t){var n=new Vo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Bc(t)&&e.s(n)}))})):Dc(e)})).o((function(){Dc(e)}))}function Mc(e,t){Q(e.h,(function(e){return e==t}))}Rc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Nc(this.D,this.u,this.m),this.i={}},Rc.prototype.s=function(e){if(!e)throw new C("invalid-auth-event");if(6e5<=S()-this.w&&(this.i={},this.w=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.w=S())),t=!0;break}}return qc(this.b),t};var jc=new Hr(2e3,1e4),Uc=new Hr(3e4,6e4);function Fc(e,t,n,r,i,o,a){return e.a.Jb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ca(e.l))}),(function(){e.reset()}),i,o,a)}function Bc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Vc(e,t,n,r,i){var o;return function(e){return e.b.set(Ac,"pending",e.a)}(e.g).then((function(){return e.a.Kb(t,n,r,i).o((function(t){if(Bc(t))throw new C("operation-not-supported-in-this-environment");return o=t,Pc(e.g).then((function(){throw o}))})).then((function(){return e.a.Xb()?new _t((function(){})):Pc(e.g).then((function(){return e.pa()})).then((function(){})).o((function(){}))}))}))}function Hc(e,t,n,r,i){return e.a.Lb(r,(function(e){t.la(n,null,e,i)}),jc.get())}Rc.prototype.pa=function(){return this.b.pa()};var zc={};function Gc(e,t,n){var r=t+":"+n;return zc[r]||(zc[r]=new Rc(e,t,n)),zc[r]}function Wc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qc(e){e.g||(e.g=!0,Qc(e,!1,null,null))}function $c(e){e.g&&!e.i&&Qc(e,!1,null,null)}function Kc(e,t){if(e.b=function(){return It(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Qc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return kt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Kc(e,n):Kc(e,{user:null}),e.f=[],e.c=[]}function Yc(){}function Jc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(e){this.Bb=e},enumerable:!1})}function Zc(e,t){this.a=t,Yr(this,"verificationId",e)}function Xc(e,t,n,r){return new jo(e).cb(t,n).then((function(e){return new Zc(e,r)}))}function el(e){var t=Wi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jr(this,{token:e,expirationTime:Gr(1e3*t.exp),authTime:Gr(1e3*t.auth_time),issuedAtTime:Gr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function tl(e,t,n){var r=t&&t[rl];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=he(t),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;z(t[nl]||[],(function(e){(e=ti(e))&&i.b.push(e)})),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Wc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Wc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Qc(this,!0,null,e.a),It()):t.Da(n,r)?function(e,t,n){n=n.Da(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.S(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Qc(e,s,t,null)})).o((function(t){Qc(e,s,null,t)}))}(this,e,t):kt(new C("invalid-auth-event")):(Qc(this,!1,null,null),It())}else kt(new C("invalid-auth-event"))},Wc.prototype.pa=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new C("timeout");e.a&&e.a.cancel(),e.a=On(Uc.get()).then((function(){e.b||(e.g=!0,Qc(e,!0,null,t))}))}(e))}))},Yc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.la(e.c,null,e.a,e.b),It()):t.Da(n,r)?function(e,t){var n=e.b,r=e.c;t.Da(r,n)(e.g,e.f,e.S(),e.i).then((function(e){t.la(r,e,null,n)})).o((function(e){t.la(r,null,e,n)}))}(e,t):kt(new C("invalid-auth-event"))}else kt(new C("invalid-auth-event"))},Zc.prototype.confirm=function(e){return e=Uo(this.verificationId,e),this.a(e)};var nl="mfaInfo",rl="mfaPendingCredential";function il(e,t,n,r){C.call(this,"multi-factor-auth-required",r,t),this.b=new tl(e,t,n),Yr(this,"resolver",this.b)}function ol(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new il(t,e.serverResponse,n,e.message)}catch(e){}return null}function al(){}function sl(e){Yr(this,"factorId",e.ea),this.a=e}function ul(e){if(sl.call(this,e),this.a.ea!=jo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(e,t){for(var n in Yt.call(this,e),t)this[n]=t[n]}function ll(e,t){this.a=e,this.b=[],this.c=w(this.wc,this),cn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&z(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ii]=e.uid),e.displayName&&(r[ni]=e.displayName),e.enrollmentTime&&(r[ri]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[oi]=e.phoneNumber);try{t=new ai(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),fl(this,n)}function fl(e,t){e.b=t,Yr(e,"enrolledFactors",t)}function dl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function pl(e,t){e.stop(),e.b=On(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return zr()||!e?It():new _t((function(n){t=function(){zr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){pl(e,!0)})).o((function(t){e.i(t)&&pl(e,!1)}))}function hl(e){this.c=e,this.b=this.a=null}function vl(e){return e.b&&1e3*e.b.c||0}function ml(e,t){var n=t.refreshToken;e.b=Gi(t[Xa]||""),e.a=n}function yl(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?cs(e,e.u+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(su(e)):e.access_token&&e.refresh_token?n(e):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",Jn(t).toString(),e.g,e.m.get()):r(new C("internal-error"))}))}(e.c,t).then((function(t){return e.b=Gi(t.access_token),e.a=t.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function gl(e,t){this.a=e||null,this.b=t||null,Jr(this,{lastSignInTime:Gr(t||null),creationTime:Gr(e||null)})}function bl(e,t,n,r,i,o){Jr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function _l(e,n,r){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null,e=t.SDK_VERSION?kr(t.SDK_VERSION):null,this.a=new Ja(this.l,R(I),e),this.b=new hl(this.a),Il(this,n[Xa]),ml(this.b,n),Yr(this,"refreshToken",this.b.a),Pl(this,r||{}),wn.call(this),this.P=!1,this.s&&Nr()&&(this.i=Gc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(e){return new dl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=vl(e.b)-S()-3e5;return 0<t?t:0}))}(this),this.Z=w(this.Ma,this);var i=this;this.oa=null,this.za=function(e){i.va(e.g)},this.aa=null,this.W=[],this.ya=function(e){El(i,e.c)},this.$=null,this.O=new ll(this,r),Yr(this,"multiFactor",this.O)}function wl(e,t){e.aa&&dn(e.aa,"languageCodeChanged",e.za),(e.aa=t)&&cn(t,"languageCodeChanged",e.za)}function El(e,n){e.W=n,us(e.a,t.SDK_VERSION?kr(t.SDK_VERSION,e.W):null)}function Sl(e,t){e.$&&dn(e.$,"frameworkChanged",e.ya),(e.$=t)&&cn(t,"frameworkChanged",e.ya)}function Tl(e){try{return t.app(e.m).auth()}catch(t){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Cl(e){e.D||e.B.b||(e.B.start(),dn(e,"tokenChanged",e.Z),cn(e,"tokenChanged",e.Z))}function Ol(e){dn(e,"tokenChanged",e.Z),e.B.stop()}function Il(e,t){e.xa=t,Yr(e,"_lat",t)}function kl(e){for(var t=[],n=0;n<e.R.length;n++)t.push(e.R[n](e));return Pt(t).then((function(){return e}))}function Al(e){e.i&&!e.P&&(e.P=!0,Lc(e.i,e))}function Pl(e,t){Jr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new gl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Rl(){}function Nl(e){return It().then((function(){if(e.D)throw new C("app-deleted")}))}function xl(e){return W(e.providerData,(function(e){return e.providerId}))}function Dl(e,t){t&&(Ll(e,t.providerId),e.providerData.push(t))}function Ll(e,t){Q(e.providerData,(function(e){return e.providerId==t}))}function Ml(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Yr(e,t,n)}function jl(e,t){e!=t&&(Jr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Yr(e,"metadata",function(e){return new gl(e.a,e.b)}(t.metadata)):Yr(e,"metadata",new gl),z(t.providerData,(function(t){Dl(e,t)})),function(e,t){e.b=t.b,e.a=t.a}(e.b,t.b),Yr(e,"refreshToken",e.b.a),fl(e.O,t.O.b))}function Ul(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return ou(e.a,Ms,{idToken:t}).then(w(e.Ic,e))}(e,t).then((function(){return n||Ml(e,"isAnonymous",!1),t}))}))}function Fl(e,t){t[Xa]&&e.xa!=t[Xa]&&(ml(e.b,t),e.dispatchEvent(new cl("tokenChanged")),Il(e,t[Xa]),Ml(e,"refreshToken",e.b.a))}function Bl(e,t){return Ul(e).then((function(){if($(xl(e),t))return kl(e).then((function(){throw new C("provider-already-linked")}))}))}function Vl(e,t,n){return Zr({user:e,credential:Fo(t),additionalUserInfo:t=Yi(t),operationType:n})}function Hl(e,t){return Fl(e,t),e.reload().then((function(){return e}))}function zl(e,n,r,i,o){if(!Nr())return kt(new C("operation-not-supported-in-this-environment"));if(e.h&&!o)return kt(e.h);var a=Qi(r.providerId),s=Fr(e.uid+":::"),u=null;(!Lr()||_r())&&e.s&&r.isOAuthProvider&&(u=_u(e.s,e.l,e.m,n,r,null,s,t.SDK_VERSION||null,null,null,e.tenantId));var c=vr(u,a&&a.ta,a&&a.sa);return i=i().then((function(){if(Wl(e),!o)return e.I().then((function(){}))})).then((function(){return Fc(e.i,c,n,r,s,!!u,e.tenantId)})).then((function(){return new _t((function(t,r){e.la(n,null,new C("cancelled-popup-request"),e.g||null),e.f=t,e.w=r,e.g=s,e.c=Hc(e.i,e,n,c,s)}))})).then((function(e){return c&&hr(c),e?Zr(e):null})).o((function(e){throw c&&hr(c),e})),ql(e,i,o)}function Gl(e,t,n,r,i){if(!Nr())return kt(new C("operation-not-supported-in-this-environment"));if(e.h&&!i)return kt(e.h);var o=null,a=Fr(e.uid+":::");return r=r().then((function(){if(Wl(e),!i)return e.I().then((function(){}))})).then((function(){return e.fa=a,kl(e)})).then((function(t){return e.ga&&(t=(t=e.ga).b.set(Ql,e.v(),t.a)),t})).then((function(){return Vc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ga)return Yl(e.ga);throw o})).then((function(){if(o)throw o})),ql(e,r,i)}function Wl(e){if(!e.i||!e.P){if(e.i&&!e.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function ql(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),kt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new cl("userInvalidated")),e.h=t),t}))}(e,t,n);return e.N.push(r),r.ma((function(){K(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ol(t.v(),Tl(e),w(e.hc,e))),n||t}))}function $l(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Xa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=new _l(t,n,e);return e.providerData&&z(e.providerData,(function(e){e&&Dl(r,Zr(e))})),e.redirectEventId&&(r.fa=e.redirectEventId),r}function Kl(e){this.a=e,this.b=nc()}tl.prototype.Pc=function(e){var t=this;return e.ob(this.a.b,this.c).then((function(e){var n=he(t.f);return delete n[nl],delete n[rl],me(n,e),t.g(n)}))},T(il,C),al.prototype.ob=function(e,t,n){return t.type==so?function(e,t,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),me(n,{phoneVerificationInfo:Mo(e.a)}),ou(t,Ds,n)}))}(this,e,t,n):function(e,t,n){return n.Fa().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(e.a)}),ou(t,Ls,n)}))}(this,e,t)},T(sl,al),T(ul,sl),T(cl,Yt),(e=ll.prototype).wc=function(e){fl(this,function(e){var t=[];return z(e.mfaInfo||[],(function(e){(e=ti(e))&&t.push(e)})),t}(e.ed))},e.Ob=function(){return this.a.I().then((function(e){return new ao(e,null)}))},e.dc=function(e,t){var n=this,r=this.a.a;return this.Ob().then((function(n){return e.ob(r,n,t)})).then((function(e){return Fl(n.a,e),n.a.reload()}))},e.$c=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return ou(r,iu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=G(t.b,(function(e){return e.uid!=n}));return fl(t,r),Fl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.v=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(e){return e.v()}))}}},dl.prototype.start=function(){this.a=this.c,pl(this,!0)},dl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},hl.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:vl(this)}},hl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?kt(new C("user-token-expired")):e||!this.b||S()>vl(this)-3e4?this.a?yl(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b.toString(),refreshToken:this.a})},gl.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(_l,wn),_l.prototype.va=function(e){this.oa=e,ss(this.a,e)},_l.prototype.ja=function(){return this.oa},_l.prototype.Ea=function(){return J(this.W)},_l.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Yr(_l.prototype,"providerId","firebase"),(e=_l.prototype).reload=function(){var e=this;return ql(this,Nl(this).then((function(){return Ul(e).then((function(){return kl(e)})).then(Rl)})))},e.mc=function(e){return this.I(e).then((function(e){return new el(e)}))},e.I=function(e){var t=this;return ql(this,Nl(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new C("internal-error");return e.accessToken!=t.xa&&(Il(t,e.accessToken),t.dispatchEvent(new cl("tokenChanged"))),Ml(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Ic=function(e){if(!(e=e.users)||!e.length)throw new C("internal-error");Pl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?W(e,(function(e){return new bl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Dl(this,t[n]);Ml(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{ed:e}))},e.Jc=function(e){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(e)},e.pb=function(e){var t=this,n=null;return ql(this,e.c(this.a,this.uid).then((function(e){return Fl(t,e),n=Vl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Ac=function(e){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(e)},e.mb=function(e){var t=this,n=null;return ql(this,Bl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Vl(t,e,"link"),Hl(t,e)})).then((function(){return n})))},e.Bc=function(e,t){var n=this;return ql(this,Bl(this,"phone").then((function(){return Xc(Tl(n),e,t,w(n.mb,n))})))},e.Kc=function(e,t){var n=this;return ql(this,It().then((function(){return Xc(Tl(n),e,t,w(n.pb,n))})),!0)},e.xb=function(e){var t=this;return ql(this,this.I().then((function(n){return t.a.xb(n,e)})).then((function(e){return Fl(t,e),t.reload()})))},e.cd=function(e){var t=this;return ql(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Fl(t,e),t.reload()})))},e.yb=function(e){var t=this;return ql(this,this.I().then((function(n){return t.a.yb(n,e)})).then((function(e){return Fl(t,e),t.reload()})))},e.zb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Nl(this);var t=this;return ql(this,this.I().then((function(n){return t.a.zb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Fl(t,e),Ml(t,"displayName",e.displayName||null),Ml(t,"photoURL",e.photoUrl||null),z(t.providerData,(function(e){"password"===e.providerId&&(Yr(e,"displayName",t.displayName),Yr(e,"photoURL",t.photoURL))})),kl(t)})).then(Rl))},e.ad=function(e){var t=this;return ql(this,Ul(this).then((function(n){return $(xl(t),e)?function(e,t,n){return ou(e,Rs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return z(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),z(xl(t),(function(e){n[e]||Ll(t,e)})),n[jo.PROVIDER_ID]||Yr(t,"phoneNumber",null),kl(t)})):kl(t).then((function(){throw new C("no-such-provider")}))})))},e.delete=function(){var e=this;return ql(this,this.I().then((function(t){return ou(e.a,Ps,{idToken:t})})).then((function(){e.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");wl(e,null),Sl(e,null),e.N=[],e.D=!0,Ol(e),Yr(e,"refreshToken",null),e.i&&Mc(e.i,e)}))},e.Cb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.fa||null)==t||"reauthViaRedirect"==e&&(this.fa||null)==t)},e.la=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.w?this.w(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Hb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Ib,this):"linkViaRedirect"==e&&(this.fa||null)==t?w(this.Hb,this):"reauthViaRedirect"==e&&(this.fa||null)==t?w(this.Ib,this):null},e.Cc=function(e){var t=this;return zl(this,"linkViaPopup",e,(function(){return Bl(t,e.providerId).then((function(){return kl(t)}))}),!1)},e.Lc=function(e){return zl(this,"reauthViaPopup",e,(function(){return It()}),!0)},e.Dc=function(e){var t=this;return Gl(this,"linkViaRedirect",e,(function(){return Bl(t,e.providerId)}),!1)},e.Mc=function(e){return Gl(this,"reauthViaRedirect",e,(function(){return It()}),!0)},e.Hb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ql(this,this.I().then((function(n){return Ss(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Vl(i,e,"link"),Hl(i,e)})).then((function(){return o})))},e.Ib=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ql(this,It().then((function(){return lo(Ts(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Vl(i,e,"reauthenticate"),Fl(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.qb=function(e){var t=this,n=null;return ql(this,this.I().then((function(t){return n=t,void 0===e||pe(e)?{}:Bi(new Pi(e))})).then((function(e){return t.a.qb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Ab=function(e,t){var n=this,r=null;return ql(this,this.I().then((function(e){return r=e,void 0===t||pe(t)?{}:Bi(new Pi(t))})).then((function(t){return n.a.Ab(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.hc=function(e){var t=null,n=this;return ql(this,e=lo(It(e),n.uid).then((function(e){return t=Vl(n,e,"reauthenticate"),Fl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&me(e,this.metadata.v()),z(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.O.v()),e};var Ql={name:"redirectUser",F:"session"};function Yl(e){return oc(e.b,Ql,e.a)}function Jl(e){this.a=e,this.b=nc(),this.c=null,this.f=function(e){var t=ef("local"),n=ef("session"),r=ef("none");return function(e,t,n){var r=ic(t,n),i=rc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(u.localStorage.getItem(r))}catch(e){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Xl,e.a).then((function(e){return e?ef(e):t}))}))}))})).then((function(t){return e.c=t,Zl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(ef("local"),this.a,w(this.g,this))}function Zl(e,t){var n,r=[];for(n in ec)ec[n]!==t&&r.push(oc(e.b,ef(ec[n]),e.a));return r.push(oc(e.b,Xl,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],E(o,s),a);else t(i)}))}(r)}Jl.prototype.g=function(){var e=this,t=ef("local");of(this,(function(){return It().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Zl(e,"local").then((function(){e.c=t}))}))}))};var Xl={name:"persistence",F:"session"};function ef(e){return{name:"authUser",F:e}}function tf(e,t){return of(e,(function(){return e.b.set(e.c,t.v(),e.a)}))}function nf(e){return of(e,(function(){return oc(e.b,e.c,e.a)}))}function rf(e,t){return of(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),$l(e||{})}))}))}function of(e,t){return e.f=e.f.then(t,t),e.f}function af(e){if(this.l=!1,Yr(this,"settings",new Jc),Yr(this,"app",e),!hf(this).options||!hf(this).options.apiKey)throw new C("invalid-api-key");e=t.SDK_VERSION?kr(t.SDK_VERSION):null,this.b=new Ja(hf(this).options&&hf(this).options.apiKey,R(I),e),this.P=[],this.m=[],this.O=[],this.$b=t.INTERNAL.createSubscribe(w(this.xc,this)),this.W=void 0,this.ac=t.INTERNAL.createSubscribe(w(this.yc,this)),df(this,null),this.i=new Jl(hf(this).options.apiKey+":"+hf(this).name),this.B=new Kl(hf(this).options.apiKey+":"+hf(this).name),this.Z=gf(this,function(e){var t=hf(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Ql,e.a).then((function(e){return e&&t&&(e.authDomain=t),$l(e||{})}))}(e.B,hf(e).options.authDomain).then((function(t){return(e.D=t)&&(t.ga=e.B),Yl(e.B)}));return gf(e,t)}(e).then((function(){return rf(e.i,t)})).then((function(t){return t?(t.ga=e.B,e.D&&(e.D.fa||null)==(t.fa||null)?t:t.reload().then((function(){return tf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:nf(e.i)}))):null})).then((function(t){df(e,t||null)}));return gf(e,n)}(this)),this.h=gf(this,function(e){return e.Z.then((function(){return lf(e)})).o((function(){})).then((function(){if(!e.l)return e.oa()})).o((function(){})).then((function(){if(!e.l){e.aa=!0;var t=e.i;t.b.addListener(ef("local"),t.a,e.oa)}}))}(this)),this.aa=!1,this.oa=w(this.Xc,this),this.Ma=w(this.ca,this),this.xa=w(this.jc,this),this.ya=w(this.uc,this),this.za=w(this.vc,this),this.a=null,function(e){var t=hf(e).options.authDomain,n=hf(e).options.apiKey;t&&Nr()&&(e.Zb=e.Z.then((function(){if(!e.l){if(e.a=Gc(t,n,hf(e).name),Lc(e.a,e),vf(e)&&Al(vf(e)),e.D){Al(e.D);var r=e.D;r.va(e.ja()),wl(r,e),El(r=e.D,e.N),Sl(r,e),e.D=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Ec,this),this.s=0,wn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ja()},set:function(e){this.va(e)},enumerable:!1}),e.$=null,Object.defineProperty(e,"ti",{get:function(){return this.S()},set:function(e){this.ub(e)},enumerable:!1}),e.R=null}(this),this.N=[]}function sf(e){Yt.call(this,"languageCodeChanged"),this.g=e}function uf(e){Yt.call(this,"frameworkChanged"),this.c=e}function cf(e){return e.Zb||kt(new C("auth-domain-config-required"))}function lf(e){if(!Nr())return kt(new C("operation-not-supported-in-this-environment"));var t=cf(e).then((function(){return e.a.pa()})).then((function(e){return e?Zr(e):null}));return gf(e,t)}function ff(e,t){var n={};return n.apiKey=hf(e).options.apiKey,n.authDomain=hf(e).options.authDomain,n.appName=hf(e).name,e.Z.then((function(){return function(e,t,n,r){var i=new _l(e,t);return n&&(i.ga=n),r&&El(i,r),i.reload().then((function(){return i}))}(n,t,e.B,e.Ea())})).then((function(t){return vf(e)&&t.uid==vf(e).uid?(jl(vf(e),t),e.ca(t)):(df(e,t),Al(t),e.ca(t))})).then((function(){yf(e)}))}function df(e,t){vf(e)&&(function(e,t){Q(e.R,(function(e){return e==t}))}(vf(e),e.Ma),dn(vf(e),"tokenChanged",e.xa),dn(vf(e),"userDeleted",e.ya),dn(vf(e),"userInvalidated",e.za),Ol(vf(e))),t&&(t.R.push(e.Ma),cn(t,"tokenChanged",e.xa),cn(t,"userDeleted",e.ya),cn(t,"userInvalidated",e.za),0<e.s&&Cl(t)),Yr(e,"currentUser",t),t&&(t.va(e.ja()),wl(t,e),El(t,e.N),Sl(t,e))}function pf(e,t){var n=null,r=null;return gf(e,t.then((function(t){return n=Fo(t),r=Yi(t),ff(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=ol(t.v(),e,w(e.ic,e))),n||t})).then((function(){return Zr({user:vf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function hf(e){return e.app}function vf(e){return e.currentUser}function mf(e){return vf(e)&&vf(e)._lat||null}function yf(e){if(e.aa){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](mf(e));if(e.W!==e.getUid()&&e.O.length)for(e.W=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](mf(e))}}function gf(e,t){return e.P.push(t),t.ma((function(){K(e.P,t)})),t}function bf(){}function _f(){this.a={},this.b=1e12}Jl.prototype.tb=function(e){var t=null,n=this;return function(e){var t=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");e:{for(r in ec)if(ec[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Er()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!xu()&&"none"!==e)throw n;break;default:if(!Rr()&&"none"!==e)throw n}}(e),of(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Zl(n,e)})).then((function(){if(n.c=ef(e),t)return n.b.set(n.c,t,n.a)})):It()}))},T(af,wn),T(sf,Yt),T(uf,Yt),(e=af.prototype).tb=function(e){return gf(this,e=this.i.tb(e))},e.va=function(e){this.$===e||this.l||(this.$=e,ss(this.b,this.$),this.dispatchEvent(new sf(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var e=u.navigator;this.va(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.Ec=function(e){this.N.push(e),us(this.b,t.SDK_VERSION?kr(t.SDK_VERSION,this.N):null),this.dispatchEvent(new uf(this.N))},e.Ea=function(){return J(this.N)},e.ub=function(e){this.R===e||this.l||(this.R=e,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:hf(this).options.apiKey,authDomain:hf(this).options.authDomain,appName:hf(this).name,currentUser:vf(this)&&vf(this).v()}},e.Cb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.la=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.w?this.w(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.gc,this):null},e.gc=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return pf(i,Es(i.b,o))}))},e.Vc=function(e){if(!Nr())return kt(new C("operation-not-supported-in-this-environment"));var n=this,r=Qi(e.providerId),i=Fr(),o=null;(!Lr()||_r())&&hf(this).options.authDomain&&e.isOAuthProvider&&(o=_u(hf(this).options.authDomain,hf(this).options.apiKey,hf(this).name,"signInViaPopup",e,null,i,t.SDK_VERSION||null,null,null,this.S()));var a=vr(o,r&&r.ta,r&&r.sa);return gf(this,r=cf(this).then((function(t){return Fc(t,a,"signInViaPopup",e,i,!!o,n.S())})).then((function(){return new _t((function(e,t){n.la("signInViaPopup",null,new C("cancelled-popup-request"),n.g),n.f=e,n.w=t,n.g=i,n.c=Hc(n.a,n,"signInViaPopup",a,i)}))})).then((function(e){return a&&hr(a),e?Zr(e):null})).o((function(e){throw a&&hr(a),e})))},e.Wc=function(e){if(!Nr())return kt(new C("operation-not-supported-in-this-environment"));var t=this,n=cf(this).then((function(){return function(e){return of(e,(function(){return e.b.set(Xl,e.c.F,e.a)}))}(t.i)})).then((function(){return Vc(t.a,"signInViaRedirect",e,void 0,t.S())}));return gf(this,n)},e.pa=function(){var e=this;return lf(this).then((function(t){return e.a&&$c(e.a.b),t})).o((function(t){throw e.a&&$c(e.a.b),t}))},e.bd=function(e){if(!e)return kt(new C("null-user"));if(this.R!=e.tenantId)return kt(new C("tenant-id-mismatch"));var t=this,n={};n.apiKey=hf(this).options.apiKey,n.authDomain=hf(this).options.authDomain,n.appName=hf(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[Xa]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new _l(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ga=n),r&&El(t,r),jl(t,e),t}(e,n,t.B,t.Ea());return gf(this,this.h.then((function(){if(hf(t).options.apiKey!=e.l)return r.reload()})).then((function(){return vf(t)&&e.uid==vf(t).uid?(jl(vf(t),e),t.ca(e)):(df(t,r),Al(r),t.ca(r))})).then((function(){yf(t)})))},e.wb=function(){var e=this;return gf(this,this.h.then((function(){return e.a&&$c(e.a.b),vf(e)?(df(e,null),nf(e.i).then((function(){yf(e)}))):It()})))},e.Xc=function(){var e=this;return rf(this.i,hf(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=vf(e)&&t){n=vf(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return jl(vf(e),t),vf(e).I();(vf(e)||t)&&(df(e,t),t&&(Al(t),t.ga=e.B),e.a&&Lc(e.a,e),yf(e))}}))},e.ca=function(e){return tf(this.i,e)},e.jc=function(){yf(this),this.ca(vf(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(e){var t=this;return this.h.then((function(){return pf(t,It(e))}))},e.xc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(vf(t))}))},e.yc=function(e){var t=this;!function(e,t){e.O.push(t),gf(e,e.h.then((function(){!e.l&&$(e.O,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(mf(e)))})))}(this,(function(){e.next(vf(t))}))},e.Gc=function(e,t,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"==typeof e?e(vf(r)):"function"==typeof e.next&&e.next(vf(r))})),this.$b(e,t,n)},e.Fc=function(e,t,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(vf(r)):"function"==typeof e.next&&e.next(vf(r))})),this.ac(e,t,n)},e.kc=function(e){var t=this;return gf(this,this.h.then((function(){return vf(t)?vf(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Rc=function(e){var t=this;return this.h.then((function(){return pf(t,ou(t.b,Xs,{token:e}))})).then((function(e){var n=e.user;return Ml(n,"isAnonymous",!1),t.ca(n),e}))},e.Sc=function(e,t){var n=this;return this.h.then((function(){return pf(n,ou(n.b,eu,{email:e,password:t}))}))},e.cc=function(e,t){var n=this;return this.h.then((function(){return pf(n,ou(n.b,ks,{email:e,password:t}))}))},e.Ya=function(e){var t=this;return this.h.then((function(){return pf(t,e.ia(t.b))}))},e.Qc=function(e){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(e)},e.vb=function(){var e=this;return this.h.then((function(){var t=vf(e);if(t&&t.isAnonymous){var n=Zr({providerId:null,isNewUser:!1});return Zr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return pf(e,e.b.vb()).then((function(t){var n=t.user;return Ml(n,"isAnonymous",!0),e.ca(n),t}))}))},e.getUid=function(){return vf(this)&&vf(this).uid||null},e.bc=function(e){this.addAuthTokenListener(e),this.s++,0<this.s&&vf(this)&&Cl(vf(this))},e.Nc=function(e){var t=this;z(this.m,(function(n){n==e&&t.s--})),0>this.s&&(this.s=0),0==this.s&&vf(this)&&Ol(vf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.m.push(e),gf(this,this.h.then((function(){t.l||$(t.m,e)&&e(mf(t))})))},e.removeAuthTokenListener=function(e){Q(this.m,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(ef("local"),e.a,this.oa),this.a&&(Mc(this.a,this),$c(this.a.b)),Promise.resolve()},e.fc=function(e){return gf(this,function(e,t){return ou(e,As,{identifier:t,continueUri:xr()?lr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},e.zc=function(e){return!!xo(e)},e.sb=function(e,t){var n=this;return gf(this,It().then((function(){var e=new Pi(t);if(!e.c)throw new C("argument-error",xi+" must be true when sending sign in link to email");return Bi(e)})).then((function(t){return n.b.sb(e,t)})).then((function(){})))},e.fd=function(e){return this.Pa(e).then((function(e){return e.data.email}))},e.jb=function(e,t){return gf(this,this.b.jb(e,t).then((function(){})))},e.Pa=function(e){return gf(this,this.b.Pa(e).then((function(e){return new si(e)})))},e.fb=function(e){return gf(this,this.b.fb(e).then((function(){})))},e.rb=function(e,t){var n=this;return gf(this,It().then((function(){return void 0===t||pe(t)?{}:Bi(new Pi(t))})).then((function(t){return n.b.rb(e,t)})).then((function(){})))},e.Uc=function(e,t){return gf(this,Xc(this,e,t,w(this.Ya,this)))},e.Tc=function(e,t){var n=this;return gf(this,It().then((function(){var r=t||lr(),i=No(e,r);if(!(r=xo(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new C("tenant-id-mismatch");return n.Ya(i)})))},bf.prototype.render=function(){},bf.prototype.reset=function(){},bf.prototype.getResponse=function(){},bf.prototype.execute=function(){};var wf=null;function Ef(e,t){return(t=Sf(t))&&e.a[t]||null}function Sf(e){return(e=void 0===e?1e12:e)?e.toString():null}function Tf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=at(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function Cf(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Of(){}function If(){}_f.prototype.render=function(e,t){return this.a[this.b.toString()]=new Tf(e,t),this.b++},_f.prototype.reset=function(e){var t=Ef(this,e);e=Sf(e),t&&e&&(t.delete(),delete this.a[e])},_f.prototype.getResponse=function(e){return(e=Ef(this,e))?e.getResponse():null},_f.prototype.execute=function(e){(e=Ef(this,e))&&e.execute()},Tf.prototype.getResponse=function(){return Cf(this),this.b},Tf.prototype.execute=function(){Cf(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},Tf.prototype.delete=function(){Cf(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Yr(Of,"FACTOR_ID","phone"),If.prototype.g=function(){return wf||(wf=new _f),It(wf)},If.prototype.c=function(){};var kf=null;function Af(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Pf=new ge(we,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rf=new Hr(3e4,6e4);Af.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),Rf.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete u[t.a]},It(Ga(Ce(Pf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Af.prototype.c=function(){this.b--};var Nf=null;function xf(e,t,n,r,i,o,a){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=t,this.g=null,a?(kf||(kf=new If),a=kf):(Nf||(Nf=new Af),a=Nf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Mf])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[jf],!u.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!at(t)||!this.i&&at(t).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ja(e,o||null,i||null),this.w=r||function(){return null};var s=this;this.l=[];var c=this.a[Df];this.a[Df]=function(e){if(Uf(s,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Pr(c,u);"function"==typeof t&&t(e)}};var l=this.a[Lf];this.a[Lf]=function(){if(Uf(s,null),"function"==typeof l)l();else if("string"==typeof l){var e=Pr(l,u);"function"==typeof e&&e()}}}var Df="callback",Lf="expired-callback",Mf="sitekey",jf="size";function Uf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Ff(e,t){return e.h.push(t),t.ma((function(){K(e.h,t)})),t}function Bf(e){if(e.D)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vf(e,n,r){var i=!1;try{this.b=r||t.app()}catch(e){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ea()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=t.SDK_VERSION?kr(t.SDK_VERSION,a):null,xf.call(this,r,e,n,(function(){try{var e=o.b.auth().ja()}catch(t){e=null}return e}),a,R(I),i)}function Hf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].K(n[i])&&!o){if(t=t[i],0>i||i>=zf.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=zf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.J+".";break e}r=null}}if(r)throw new C("argument-error",e+" failed: "+r)}(e=xf.prototype).Ga=function(){var e=this;return this.f?this.f:this.f=Ff(this,It().then((function(){if(xr()&&!wr())return gr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.w())})).then((function(t){return e.g=t,ou(e.s,Hs,{})})).then((function(t){e.a[Mf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Bf(this);var e=this;return Ff(this,this.Ga().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=at(t);t=ft("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Bf(this);var e=this;return Ff(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){Q(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Bf(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Bf(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=at(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Vf,xf);var zf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gf(e,t){return{name:e||"",J:"a valid string",optional:!!t,K:function(e){return"string"==typeof e}}}function Wf(e,t){return{name:e||"",J:"a boolean",optional:!!t,K:function(e){return"boolean"==typeof e}}}function qf(e,t){return{name:e||"",J:"a valid object",optional:!!t,K:v}}function $f(e,t){return{name:e||"",J:"a function",optional:!!t,K:function(e){return"function"==typeof e}}}function Kf(e,t){return{name:e||"",J:"null",optional:!!t,K:function(e){return null===e}}}function Qf(e){return{name:e?e+"Credential":"credential",J:e?"a valid "+e+" credential":"a valid credential",optional:!1,K:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ia||!n)}}}function Yf(e,t){return v(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Fa}function Jf(e){return v(e)&&"string"==typeof e.uid}function Zf(e,t,n,r){return{name:n||"",J:e.J+" or "+t.J,optional:!!r,K:function(n){return e.K(n)||t.K(n)}}}function Xf(e,t){for(var n in t){var r=t[n].name;e[r]=nd(r,e[n],t[n].j)}}function ed(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){Hf(e,[n],[r],!0),this[t]=r}),r,n,t[n].gb),enumerable:!0})}}function td(e,t,n,r){e[t]=nd(t,n,r)}function nd(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Hf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return e=e.split("."),e[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Xf(af.prototype,{fb:{name:"applyActionCode",j:[Gf("code")]},Pa:{name:"checkActionCode",j:[Gf("code")]},jb:{name:"confirmPasswordReset",j:[Gf("code"),Gf("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Gf("email"),Gf("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Gf("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Gf("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Zf(qf(),$f(),"nextOrObserver"),$f("opt_error",!0),$f("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Zf(qf(),$f(),"nextOrObserver"),$f("opt_error",!0),$f("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Gf("email"),Zf(qf("opt_actionCodeSettings",!0),Kf(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Gf("email"),qf("actionCodeSettings")]},tb:{name:"setPersistence",j:[Gf("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Qf()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Qf()]},Rc:{name:"signInWithCustomToken",j:[Gf("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Gf("email"),Gf("password")]},Tc:{name:"signInWithEmailLink",j:[Gf("email"),Gf("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Zf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(e){return!!(e&&e instanceof _l)}},Kf(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gf(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Gf("code")]}}),ed(af.prototype,{lc:{name:"languageCode",gb:Zf(Gf(),Kf(),"languageCode")},ti:{name:"tenantId",gb:Zf(Gf(),Kf(),"tenantId")}}),af.Persistence=ec,af.Persistence.LOCAL="local",af.Persistence.SESSION="session",af.Persistence.NONE="none",Xf(_l.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Wf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Wf("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Qf()]},mb:{name:"linkWithCredential",j:[Qf()]},Bc:{name:"linkWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qf()]},pb:{name:"reauthenticateWithCredential",j:[Qf()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Zf(qf("opt_actionCodeSettings",!0),Kf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gf(null,!0)]},ad:{name:"unlink",j:[Gf("provider")]},xb:{name:"updateEmail",j:[Gf("email")]},yb:{name:"updatePassword",j:[Gf("password")]},cd:{name:"updatePhoneNumber",j:[Qf("phone")]},zb:{name:"updateProfile",j:[qf("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Gf("email"),Zf(qf("opt_actionCodeSettings",!0),Kf(null,!0),"opt_actionCodeSettings",!0)]}}),Xf(_f.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xf(bf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xf(_t.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ed(Jc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Wf("appVerificationDisabledForTesting")}}),Xf(Zc.prototype,{confirm:{name:"confirm",j:[Gf("verificationCode")]}}),td(co,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[yo,Po,Lo,ho],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Zf(Gf(),qf(),"json")]),td(Ro,"credential",(function(e,t){return new Ao(e,t)}),[Gf("email"),Gf("password")]),Xf(Ao.prototype,{v:{name:"toJSON",j:[Gf(null,!0)]}}),Xf(wo.prototype,{Aa:{name:"addScope",j:[Gf("scope")]},Ia:{name:"setCustomParameters",j:[qf("customOAuthParameters")]}}),td(wo,"credential",Eo,[Zf(Gf(),qf(),"token")]),td(Ro,"credentialWithLink",No,[Gf("email"),Gf("emailLink")]),Xf(So.prototype,{Aa:{name:"addScope",j:[Gf("scope")]},Ia:{name:"setCustomParameters",j:[qf("customOAuthParameters")]}}),td(So,"credential",To,[Zf(Gf(),qf(),"token")]),Xf(Co.prototype,{Aa:{name:"addScope",j:[Gf("scope")]},Ia:{name:"setCustomParameters",j:[qf("customOAuthParameters")]}}),td(Co,"credential",Oo,[Zf(Gf(),Zf(qf(),Kf()),"idToken"),Zf(Gf(),Kf(),"accessToken",!0)]),Xf(Io.prototype,{Ia:{name:"setCustomParameters",j:[qf("customOAuthParameters")]}}),td(Io,"credential",ko,[Zf(Gf(),qf(),"token"),Gf("secret",!0)]),Xf(_o.prototype,{Aa:{name:"addScope",j:[Gf("scope")]},credential:{name:"credential",j:[Zf(Gf(),Zf(qf(),Kf()),"optionsOrIdToken"),Zf(Gf(),Kf(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[qf("customOAuthParameters")]}}),Xf(vo.prototype,{v:{name:"toJSON",j:[Gf(null,!0)]}}),Xf(fo.prototype,{v:{name:"toJSON",j:[Gf(null,!0)]}}),td(jo,"credential",Uo,[Gf("verificationId"),Gf("verificationCode")]),Xf(jo.prototype,{cb:{name:"verifyPhoneNumber",j:[Zf(Gf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(e){return!!e&&(e.session&&e.phoneNumber?Yf(e.session,so)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Yf(e.session,uo)&&Jf(e.multiFactorHint):e.session&&e.multiFactorUid?Yf(e.session,uo)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Xf(Do.prototype,{v:{name:"toJSON",j:[Gf(null,!0)]}}),Xf(C.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),Xf($o.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),Xf(qo.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),Xf(il.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),Xf(tl.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.ob}}]}}),Xf(ll.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.ob}},Gf("displayName",!0)]},$c:{name:"unenroll",j:[Zf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Jf},Gf(),"multiFactorInfoIdentifier")]}}),Xf(Vf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),td(wi,"parseLink",Ai,[Gf("link")]),td(Of,"assertion",(function(e){return new ul(e)}),[Qf("phone")]),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:af,AuthCredential:co,Error:C};td(e,"EmailAuthProvider",Ro,[]),td(e,"FacebookAuthProvider",wo,[]),td(e,"GithubAuthProvider",So,[]),td(e,"GoogleAuthProvider",Co,[]),td(e,"TwitterAuthProvider",Io,[]),td(e,"OAuthProvider",_o,[Gf("providerId")]),td(e,"SAMLAuthProvider",bo,[Gf("providerId")]),td(e,"PhoneAuthProvider",jo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(e){return!!(e&&e instanceof af)}}]),td(e,"RecaptchaVerifier",Vf,[Zf(Gf(),{name:"",J:"an HTML element",optional:!1,K:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),qf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(e){return!!(e&&e instanceof t.app.App)}}]),td(e,"ActionCodeURL",wi,[]),td(e,"PhoneMultiFactorGenerator",Of,[]),t.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new af(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),t.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.kc,e),addAuthTokenListener:w(e.bc,e),removeAuthTokenListener:w(e.Nc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.registerVersion("@hackerearth/auth","0.14.15"),t.INTERNAL.extendNamespace({User:_l})}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},85082:(e,t,n)=>{"use strict";var r=n(5806);Object.defineProperty(t,"__esModule",{value:!0});var i=n(44458),o=n(10634),a=n(36276),s=n(19431),u=n(50615);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l,f=c(i),d=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),a.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:a.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),p=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return a.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new d(t)}}catch(e){}return new p},v=h("localStorage"),m=h("sessionStorage"),y=new s.Logger("@hackerearth/database"),g=(l=1,function(){return l++}),b=function(e){var t=a.stringToByteArray(e),n=new a.Sha1;n.update(t);var r=n.digest();return a.base64.encodeByteArray(r)},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=_.apply(null,i):n+="object"==typeof i?a.stringify(i):i,n+=" "}return n},w=null,E=!0,S=function(e,t){a.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(y.logLevel=s.LogLevel.VERBOSE,w=y.log.bind(y),t&&m.set("logging_enabled",!0)):"function"==typeof e?w=e:(w=null,m.remove("logging_enabled"))},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===E&&(E=!1,null===w&&!0===m.get("logging_enabled")&&S(!0)),w){var n=_.apply(null,e);w(n)}},C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];T.apply(void 0,o.__spread([e],t))}},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,o.__spread(e));y.error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,o.__spread(e));throw y.error(n),new Error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+_.apply(void 0,o.__spread(e));y.warn(n)},A=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},P="[MIN_NAME]",R="[MAX_NAME]",N=function(e,t){if(e===t)return 0;if(e===P||t===R)return-1;if(t===P||e===R)return 1;var n=B(e),r=B(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},x=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+a.stringify(t))},L=function(e){if("object"!=typeof e||null===e)return a.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=a.stringify(t[i]),r+=":",r+=L(e[t[i]]);return r+="}"},M=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function j(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var U=function(e){a.assert(!A(e),"Invalid JSON number");var t,n,r,i,o,s=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(o=52;o;o-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(o=0;o<64;o+=8){var f=parseInt(c.substr(o,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()},F=new RegExp("^-?(0*)\\d{1,10}$"),B=function(e){if(F.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},V=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw k("Exception was thrown by user callback.",t),e}),Math.floor(0))}},H=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!1,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),G=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=a.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=a.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),W="5",q="firebaseio.com",$="websocket",K="long_polling",Q=function(){function e(e,t,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=v.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&v.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(a.assert("string"==typeof e,"typeof type must == string"),a.assert("object"==typeof t,"typeof params must == object"),e===$)n=(this.secure?"wss://":"ws://")+(window.firebaseProxyHost||this.internalHost)+"/"+this.namespace+"/.ws?";else{if(e!==K)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+(window.firebaseProxyHost||this.internalHost)+"/"+this.namespace+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return j(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();var Y,J,Z,X,ee,te=function(e){var t=ne(e),n=t.namespace;"firebase.com"===t.domain&&I(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===t.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new Q(t.host,t.secure,n,r,"",n!==t.subdomain),path:new z(t.pathString)}},ne=function(e){var t="",n="",r="",i="",a="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var f=e.indexOf("/");-1===f&&(f=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(f,d)),f<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(f,d)));var p=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=o.__values(e.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):k("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in p&&(a=p.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:a}},re=/[\[\].#$\/\u0000-\u001F\u007F]/,ie=/[\[\].#$\u0000-\u001F\u007F]/,oe=10485760,ae=function(e){return"string"==typeof e&&0!==e.length&&!re.test(e)},se=function(e){return"string"==typeof e&&0!==e.length&&!ie.test(e)},ue=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!A(e)||e&&"object"==typeof e&&a.contains(e,".sv")},ce=function(e,t,n,r,i){i&&void 0===n||le(a.errorPrefix(e,t,i),n,r)},le=function(e,t,n){var r=n instanceof z?new G(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(A(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>oe/3&&a.stringLength(t)>oe)throw new Error(e+"contains a string greater than "+oe+" utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(j(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!ae(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),le(e,n,r),r.pop()})),i&&o)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},fe=function(e,t,n,r,i){if(!i||void 0!==n){var o=a.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];j(n,(function(e,t){var n=new z(e);if(le(o,t,r.child(n)),".priority"===n.getBack()&&!ue(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ae(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(z.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,s)}},de=function(e,t,n,r){if(!r||void 0!==n){if(A(n))throw new Error(a.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ue(n))throw new Error(a.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pe=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},he=function(e,t,n,r){if(!(r&&void 0===n||ae(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ve=function(e,t,n,r){if(!(r&&void 0===n||se(n)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},me=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ye=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ae(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),se(e)}(r))throw new Error(a.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ge=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),me("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),me("OnDisconnect.set",this.path_),ce("OnDisconnect.set",1,e,this.path_,!1),a.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),me("OnDisconnect.setWithPriority",this.path_),ce("OnDisconnect.setWithPriority",1,e,this.path_,!1),de("OnDisconnect.setWithPriority",2,t,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),me("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fe("OnDisconnect.update",1,e,this.path_,!1),a.validateCallback("OnDisconnect.update",2,t,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),be=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),_e=(Y="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",J=0,Z=[],function(e){var t,n=e===J;J=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=Y.charAt(e%64),e=Math.floor(e/64);a.assert(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===Z[t];t--)Z[t]=0;Z[t]++}else for(t=0;t<12;t++)Z[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=Y.charAt(Z[t]);return a.assert(20===i.length,"nextPushId: Length should be 20."),i}),we=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ee=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new we(P,e),r=new we(P,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return we.MIN},e}(),Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return X},set:function(e){X=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return N(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return we.MIN},t.prototype.maxPost=function(){return new we(R,X)},t.prototype.makePost=function(e,t){return a.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new we(e,X)},t.prototype.toString=function(){return".key"},t}(Ee),Te=new Se;var Ce,Oe,Ie,ke=function(e){return"number"==typeof e?"number:"+U(e):"string:"+e},Ae=function(e){if(e.isLeafNode()){var t=e.val();a.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&a.contains(t,".sv"),"Priority must be a string or number.")}else a.assert(e===ee||e.isEmpty(),"priority of unexpected type.");a.assert(e===ee||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Pe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,a.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ae(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ce},set:function(e){Ce=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ke(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?U(this.value_):this.value_,this.lazyHash_=b(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(a.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Re,Ne,xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return we.MIN},t.prototype.maxPost=function(){return new we(R,new Pe("[PRIORITY-POST]",Ie))},t.prototype.makePost=function(e,t){var n=Oe(e);return new we(t,new Pe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ee),De=new xe,Le=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Me=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ue.EMPTY_NODE,this.right=null!=o?o:Ue.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ue.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ue.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),je=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Me(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ue=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Me.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Me.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Le(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Le(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Le(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Le(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new je,e}(),Fe=Math.log(2),Be=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Fe,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ve=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Me(a,o.node,Me.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new Me(a,o.node,Me.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new Me(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Me.BLACK):(s(f,Me.BLACK),s(f,Me.RED))}return o}(new Be(e.length));return new Ue(r||t,o)},He={},ze=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return a.assert(He&&De,"ChildrenNode.ts has not been loaded"),Re=Re||new e({".priority":He},{".priority":De})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ue?t:null},e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){a.assert(t!==Te,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(we.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?Ve(i,t.getCompare()):He;var l=t.toString(),f=o.__assign({},this.indexSet_);f[l]=t;var d=o.__assign({},this.indexes_);return d[l]=r,new e(d,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(a.map(this.indexes_,(function(e,i){var o=a.safeGet(r.indexSet_,i);if(a.assert(o,"Missing index implementation for "+i),e===He){if(o.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(we.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),Ve(s,o.getCompare())}return He}var l=n.get(t.name),f=e;return l&&(f=f.remove(new we(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(a.map(this.indexes_,(function(e){if(e===He)return e;var r=n.get(t.name);return r?e.remove(new we(t.name,r)):e})),this.indexSet_)},e}();function Ge(e,t){return N(e.name,t.name)}function We(e,t){return N(e,t)}var qe=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ae(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ne||(Ne=new e(new Ue(We),null,ze.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ne},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ne:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new we(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ne:this.priorityNode_;return new e(i,s,o)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;a.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(De,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ke(this.getPriority().val())+":"),this.forEachChild(De,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":b(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new we(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new we(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new we(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,we.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,we.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$e?-1:0},e.prototype.withIndex=function(t){if(t===Te||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Te||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(De),r=t.getIterator(De),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Te?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),$e=new(function(e){function t(){return e.call(this,new Ue(We),qe.EMPTY_NODE,ze.Default)||this}return o.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return qe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(qe));Object.defineProperties(we,{MIN:{value:new we(P,qe.EMPTY_NODE)},MAX:{value:new we(R,$e)}}),Se.__EMPTY_NODE=qe.EMPTY_NODE,Pe.__childrenNodeConstructor=qe,ee=$e,function(e){Ie=e}($e);var Ke=!0;function Qe(e,t){if(void 0===t&&(t=null),null===e)return qe.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),a.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Pe(e,Qe(t));if(e instanceof Array||!Ke){var n=qe.EMPTY_NODE;return j(e,(function(t,r){if(a.contains(e,t)&&"."!==t.substring(0,1)){var i=Qe(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Qe(t))}var r=[],i=!1;if(j(e,(function(e,t){if("."!==e.substring(0,1)){var n=Qe(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new we(e,n)))}})),0===r.length)return qe.EMPTY_NODE;var o=Ve(r,Ge,(function(e){return e.name}),We);if(i){var s=Ve(r,De.getCompare());return new qe(o,Qe(t),new ze({".priority":s},{".priority":De}))}return new qe(o,Qe(t),ze.Default)}!function(e){Oe=e}(Qe);var Ye,Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?N(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return we.MIN},t.prototype.maxPost=function(){return we.MAX},t.prototype.makePost=function(e,t){var n=Qe(e);return new we(t,n)},t.prototype.toString=function(){return".value"},t}(Ee),Ze=new Je,Xe=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,a.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return o.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?N(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Qe(e),r=qe.EMPTY_NODE.updateChild(this.indexPath_,n);return new we(t,r)},t.prototype.maxPost=function(){var e=qe.EMPTY_NODE.updateChild(this.indexPath_,$e);return new we(R,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(Ee),et=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),ve("DataSnapshot.child",1,t,!1);var n=new z(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,De)},e.prototype.hasChild=function(e){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ve("DataSnapshot.hasChild",1,e,!1);var t=new z(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;return a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),De))}))},e.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),tt=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},e}(),nt=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),rt=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new tt("value",this,new et(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new nt(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),it=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,a.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new nt(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new tt(e.type,this,new et(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),ot=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(Ye,"Reference.ts has not been loaded"),Ye},set:function(e){Ye=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Te){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==P)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==R)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===De){if(null!=t&&!ue(t)||null!=n&&!ue(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(e.getIndex()instanceof Xe||e.getIndex()===Ze,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){a.validateArgCount("Query.on",2,4,arguments.length),pe("Query.on",1,t,!1),a.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[t]=n,this.onChildEvent(s,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new rt(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new it(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){a.validateArgCount("Query.off",0,3,arguments.length),pe("Query.off",1,e,!0),a.validateCallback("Query.off",2,t,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===e?r=new rt(t||null,null,n||null):e&&(t&&((i={})[e]=t),r=new it(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),pe("Query.once",1,t,!1),a.validateCallback("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new a.Deferred;c.promise.catch((function(){}));var l=function(e){u&&(u=!1,o.off(t,l),n&&n.bind(s.context)(e),c.resolve(e))};return this.on(t,l,(function(e){o.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ve("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new z(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Xe(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Te);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(De);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Ze);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.startAt",0,2,arguments.length),ce("Query.startAt",1,t,this.path,!0),he("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),a.validateArgCount("Query.endAt",0,2,arguments.length),ce("Query.endAt",1,t,this.path,!0),he("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),ce("Query.equalTo",1,e,this.path,!1),he("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=L(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===t.repo,r=this.path.equals(t.path),i=this.queryIdentifier()===t.queryIdentifier();return n&&r&&i},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,a.validateCallback(e,3,r.cancel,!0),r.context=n,a.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(a.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),at=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),st=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),ut=function(e,t,n){return e&&"object"==typeof e?(a.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?ct(e[".sv"],t,n):"object"==typeof e[".sv"]?lt(e[".sv"],t):void a.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ct=function(e,t,n){if("timestamp"===e)return n.timestamp;a.assert(!1,"Unexpected server value: "+e)},lt=function(e,t,n){e.hasOwnProperty("increment")||a.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&a.assert(!1,"Unexpected increment value: "+r);var i=t.node();if(a.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},ft=function(e,t,n,r){return pt(t,new st(n,e),r)},dt=function(e,t,n){return pt(e,new at(t),n)};function pt(e,t,n){var r,i=e.getPriority().val(),o=ut(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=ut(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Pe(s,Qe(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Pe(o))),u.forEachChild(De,(function(e,i){var o=pt(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var ht,vt=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(De,(function(e,t){n.remember(new z(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();if(e=e.popFront(),this.children.has(r))this.children.get(r).forget(e)&&this.children.delete(r);return 0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new z(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}();!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ht||(ht={}));var mt,yt,gt=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,a.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),bt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ht.ACK_USER_WRITE,this.source=gt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new z(t));return new e(z.Empty,n,this.revert)}return a.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),_t=function(){function e(e,t){void 0===t&&(mt||(mt=new Ue(x)),t=mt),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return j(t,(function(e,t){n=n.set(new z(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:z.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new z(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=(this.children.get(r)||e.Empty).setTree(t.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(z.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,z.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,z.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(z.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),wt=function(){function e(e,t){this.source=e,this.path=t,this.type=ht.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,z.Empty):new e(this.source,this.path.popFront())},e}(),Et=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ht.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,z.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),St=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ht.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new z(t));return n.isEmpty()?null:n.value?new Et(this.source,z.Empty,n.value):new e(this.source,z.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Tt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ct=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new Tt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new Tt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new Tt(qe.EMPTY_NODE,!1,!1),new Tt(qe.EMPTY_NODE,!1,!1)),e}(),Ot=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),It=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){a.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Ot.childRemovedChange(t,s)):a.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Ot.childAddedChange(t,n)):o.trackChildChange(Ot.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(De,(function(e,r){t.hasChild(e)||n.trackChildChange(Ot.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(De,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ot.childChangedChange(t,r,i))}else n.trackChildChange(Ot.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?qe.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),kt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;a.assert(t===Ot.CHILD_ADDED||t===Ot.CHILD_CHANGED||t===Ot.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t===Ot.CHILD_ADDED&&i===Ot.CHILD_REMOVED)this.changeMap.set(n,Ot.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t===Ot.CHILD_REMOVED&&i===Ot.CHILD_ADDED)this.changeMap.delete(n);else if(t===Ot.CHILD_REMOVED&&i===Ot.CHILD_CHANGED)this.changeMap.set(n,Ot.childRemovedChange(n,r.oldSnap));else if(t===Ot.CHILD_CHANGED&&i===Ot.CHILD_ADDED)this.changeMap.set(n,Ot.childAddedChange(n,e.snapshotNode));else{if(t!==Ot.CHILD_CHANGED||i!==Ot.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ot.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),At=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Pt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Tt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Rt=function(e,t){this.viewCache=e,this.changes=t},Nt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){a.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,s,u=new kt;if(n.type===ht.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(t,c.path,c.snap,r,i,u):(a.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(t,c.path,c.snap,r,i,s,u))}else if(n.type===ht.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(t,l.path,l.children,r,i,u):(a.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,l.path,l.children,r,i,s,u))}else if(n.type===ht.ACK_USER_WRITE){var f=n;o=f.revert?this.revertUserWrite_(t,f.path,r,i,u):this.ackUserWrite_(t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==ht.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,u)}var d=u.getChanges();return e.maybeAddValueEvent_(t,o,d),new Rt(o,d)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ot.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var s=void 0,u=void 0;if(t.isEmpty())if(a.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),l=c instanceof qe?c:qe.EMPTY_NODE,f=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(e.getEventCache().getNode(),f,i)}else{var d=n.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),d,i)}else{var p=t.getFront();if(".priority"===p){a.assert(1===t.getLength(),"Can't have a priority with additional path components");var h=o.getNode();u=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,h,u);s=null!=v?this.filter_.updatePriority(h,v):o.getNode()}else{var m=t.popFront(),y=void 0;if(o.isCompleteForChild(p)){u=e.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),u);y=null!=g?o.getNode().getImmediateChild(p).updateChild(m,g):o.getNode().getImmediateChild(p)}else y=n.calcCompleteChild(p,e.getServerCache());s=null!=y?this.filter_.updateChild(o.getNode(),p,y,m,r,i):o.getNode()}}return e.updateEventSnap(s,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var f=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var d=t.popFront(),p=u.getNode().getImmediateChild(f).updateChild(d,n);s=".priority"===f?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),f,p,d,At,null)}var h=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),v=new Pt(r,h,i);return this.generateEventCacheAfterServerEvent_(h,t,r,v,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,s,u=e.getEventCache(),c=new Pt(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var f=t.popFront(),d=u.getNode().getImmediateChild(l),p=void 0;if(f.isEmpty())p=n;else{var h=c.getCompleteChild(l);p=null!=h?".priority"===f.getBack()&&h.getChild(f.parent()).isEmpty()?h:h.updateChild(f,n):qe.EMPTY_NODE}if(d.equals(p))a=e;else{var v=this.filter_.updateChild(u.getNode(),l,p,f,c,o);a=e.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))})),u},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=t.isEmpty()?n:_t.Empty.setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal((function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new z(t),f,r,i,o,a)}})),u.children.inorderTraversal((function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var f=e.getServerCache().getNode().getImmediateChild(t),d=s.applyMerge_(f,n);c=s.applyServerOverwrite_(c,new z(t),d,r,i,o,a)}})),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var u=_t.Empty;return s.getNode().forEachChild(Te,(function(e,t){u=u.set(new z(e),t)})),this.applyServerMerge_(e,t,u,r,i,a,o)}return e}var c=_t.Empty;return n.foreach((function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),this.applyServerMerge_(e,t,c,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,At,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var s=new Pt(n,e,r),u=e.getEventCache().getNode(),c=void 0;if(t.isEmpty()||".priority"===t.getFront()){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var f=e.getServerCache().getNode();a.assert(f instanceof qe,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(f)}c=this.filter_.updateFullNode(u,l,i)}else{var d=t.getFront(),p=n.calcCompleteChild(d,e.getServerCache());null==p&&e.getServerCache().isCompleteForChild(d)&&(p=u.getImmediateChild(d)),(c=null!=p?this.filter_.updateChild(u,d,p,t.popFront(),s,i):e.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(u,d,qe.EMPTY_NODE,t.popFront(),s,i):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(z.Empty),e.updateEventSnap(c,o,this.filter_.filtersNodes())},e}(),xt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach((function(e){e.type===Ot.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(Ot.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,Ot.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,Ot.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,Ot.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,Ot.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,Ot.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter((function(e){return e.type===t}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw a.assertionError("Should only compare child_ events.");var n=new we(e.childName,e.snapshotNode),r=new we(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),Dt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new It(n.getIndex()),i=n.getNodeFilter();this.processor_=new Nt(i);var o=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(qe.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(qe.EMPTY_NODE,a.getNode(),null),c=new Tt(s,o.isFullyInitialized(),r.filtersNodes()),l=new Tt(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Ct(l,c),this.eventGenerator_=new xt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){a.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t,r);i&&n.push(i)}))}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===ht.MERGE&&null!==e.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];t.getNode().isLeafNode()||t.getNode().forEachChild(De,(function(e,t){n.push(Ot.childAddedChange(e,t))}));return t.isFullyInitialized()&&n.push(Ot.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),Lt=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(yt,"Reference.ts has not been loaded"),yt},set:function(e){a.assert(!yt,"__referenceConstructor has already been defined"),yt=e},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,s=e.source.queryId;if(null!==s){var u=this.views.get(s);return a.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(e,t,n)}var c=[];try{for(var l=o.__values(this.views.values()),f=l.next();!f.done;f=l.next()){u=f.value;c=c.concat(u.applyOperation(e,t,n))}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return c},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof qe?(s=n.calcCompleteEventChildren(r),u=!1):(s=qe.EMPTY_NODE,u=!1);var c=new Ct(new Tt(s,u,!1),new Tt(r,i,!1));a=new Dt(e,c),this.views.set(o,a)}return a.addEventRegistration(t),a.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,a,s=t.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var f=o.__values(this.views.entries()),d=f.next();!d.done;d=f.next()){var p=o.__read(d.value,2),h=p[0],v=p[1];c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(h),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(e){i={error:e}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}else(v=this.views.get(s))&&(c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(s),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return l&&!this.hasCompleteView()&&u.push(new e.__referenceConstructor(t.repo,t.path)),{removed:u,events:c}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=o.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=o.__values(this.views.values()),a=i.next();!a.done;a=i.next()){var s=a.value;r=r||s.getCompleteServerCache(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=o.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),Mt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new _t(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=z.relativePath(i,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(i,o))}var s=new _t(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return j(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,_t.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(z.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(De,(function(t,n){e.push(new we(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new we(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new _t(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return jt(z.Empty,this.writeTree_,e)},e.Empty=new e(new _t(null)),e}();function jt(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(a.assert(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=jt(e.child(t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(e.child(".priority"),r)),n}var Ut=function(){function e(){this.visibleWrites_=Mt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Ft(e,this)},e.prototype.addOverwrite=function(e,t,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):j(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))}));return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(z.Empty)){var a=e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t);c=n||qe.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(t);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(z.Empty)){var c=n||qe.EMPTY_NODE;return u.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=qe.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(De,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(De,(function(e,t){var r=i.childCompoundWrite(new z(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode(z.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),f=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),d=f.getNext();d&&c.length<r;)0!==l(d,n)&&c.push(d),d=f.getNext();return c},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,z.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=Mt.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path,u=void 0;if(o.snap)n.contains(s)?(u=z.relativePath(n,s),r=r.addWrite(u,o.snap)):s.contains(n)&&(u=z.relativePath(s,n),r=r.addWrite(z.Empty,o.snap.getChild(u)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=z.relativePath(n,s),r=r.addWrites(u,o.children);else if(s.contains(n))if((u=z.relativePath(s,n)).isEmpty())r=r.addWrites(z.Empty,o.children);else{var c=a.safeGet(o.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(z.Empty,l)}}}}}return r},e}(),Ft=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Bt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=_t.Empty,this.pendingWriteTree_=new Ut,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new Et(gt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=_t.fromObject(t);return this.applyOperationToSyncPoints_(new St(gt.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=_t.Empty;return null!=n.snap?r=r.set(z.Empty,!0):j(n.children,(function(e,t){r=r.set(new z(e),t)})),this.applyOperationToSyncPoints_(new bt(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new Et(gt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=_t.fromObject(t);return this.applyOperationToSyncPoints_(new St(gt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new wt(gt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=z.relativePath(a,t),c=new Et(gt.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=z.relativePath(a,t),c=_t.fromObject(n),l=new St(gt.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=z.relativePath(o,t),u=new wt(gt.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=z.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);(u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(z.Empty)):(u=new Lt,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=qe.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(z.Empty);n&&(i=i.updateImmediateChild(e,n))})));var c=u.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);a.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=e.getNextQueryTag_();this.queryToTagMap.set(l,f),this.tagToQueryMap.set(f,l)}var d=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(t,n,d,i,s);if(!c&&!o){var h=u.viewForQuery(t);p=p.concat(this.setupListener_(t,h))}return p},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex((function(e){return e.getQueryParams().loadsAllData()})),f=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(l&&!f){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),h=0;h<p.length;++h){var v=p[h],m=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(m),this.tagForQuery_(m),y.hashFn,y.onComplete)}}if(!f&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else c.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}));this.removeTags_(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=z.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),j(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)a.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),j(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];this.listenProvider_.stopListening(e.queryForListening_(f),this.tagForQuery_(f))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||qe.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return a.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new z(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(z.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(z.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(z.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(z.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(z.Empty));var a=[];return t.children.inorderTraversal((function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}(),Vt=function(){function e(){this.rootNode_=qe.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Ht=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),a.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return a.deepCopy(this.counters_)},e}(),zt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Ht),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Gt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=o.__assign({},e);return this.last_&&j(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Wt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Gt(e);var n=1e4+2e4*Math.random();H(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;j(t,(function(t,i){i>0&&a.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),H(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),qt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new $t(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),$t=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();w&&T("event: "+t.toString()),V(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Kt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},a.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=o.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){a.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Qt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return o.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Kt),Yt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return o.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return a.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Kt),Jt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Zt="start",Xt=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=zt.getCollection(t),this.urlFn=function(e){return t.connectionURL(K,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Jt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(a.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new en((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.__read(e,5),i=r[0],a=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Zt)n.id=a,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.__read(e,2),i=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Zt]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=W,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(q)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!a.isNodeSdk()&&(!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=a.base64Encode(t),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=a.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),en=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))o='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){T("frame writing exception"),e.stack&&T(e.stack),T(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||T("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;a.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){T("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),tn="";var nn=null;"undefined"!=typeof MozWebSocket?nn=MozWebSocket:"undefined"!=typeof WebSocket&&(nn=WebSocket);var rn=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=zt.getCollection(n),this.connURL=e.connectionURL_(n,i,o)}return e.connectionURL_=function(e,t,n){var r={};return r.v=W,!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(q)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL($,r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,v.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var i=a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+tn+"/"+r.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},s={DJANGO_PROD:!0,NODE_ENV:"production",STATIC_PATH:"https://cdn.hackerearth.com/static/"},u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new nn(this.connURL,[],o)}else{o={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new nn(this.connURL,[],o)}}catch(e){this.log_("Error instantiating WebSocket.");var c=e.message||e.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==nn&&!e.forceDisallow_},e.previouslyFailed=function(){return v.isInMemoryStorage||!0===v.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){v.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=a.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(a.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=a.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=M(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),on=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Xt,rn]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=rn&&rn.isAvailable(),a=i&&!rn.previouslyFailed();if(t.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[rn];else{var s=this.transports_=[];try{for(var u=o.__values(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),an=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new on(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=H((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?O("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),W!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),H((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):H((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(v.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),sn=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),un=1e3,cn=function(e){function t(n,r,i,o,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=C("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=un,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Qt.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Yt.getInstance().on("online",l.onOnline_,l),l}return o.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r,a:e,b:t};this.log_(a.stringify(i)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&a.contains(e,"w")){var n=a.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||a.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=a.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):O("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=un,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=un,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=un),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())};this.realtime_={close:l,sendRequest:function(e){a.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){u?T("getToken() completed but was canceled"):(T("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,c=new an(i,o.repoInfo_,o.applicationId_,e,n,r,(function(e){k(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(e){o.log_("Failed to get token: "+e),u||(a.CONSTANTS.NODE_ADMIN&&k(e),l())}))}},t.prototype.interrupt=function(e){T("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){T("Resuming connection for reason: "+e),delete this.interruptReasons_[e],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=un,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return L(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new z(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){T("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=o.__values(this.listens.values()),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var u=(n=void 0,o.__values(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";a.CONSTANTS.NODE_ADMIN?t="admin_node":a.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+tn.replace(/\./g,"-")]=1,a.isMobileCordova()?e["framework.cordova"]=1:a.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Yt.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(sn),ln=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=C("p:rest:"),i.listens_={},i}return o.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(a.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(s,n,!1,r),a.safeGet(o.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+a.querystring(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=a.jsonEval(u.responseText)}catch(e){k("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&k("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(sn),fn="repo_interrupt",dn=function(){function e(e,t,n,r){var i=this;if(this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new vt,this.persistentConnection_=null,this.stats_=zt.getCollection(e),t||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new ln(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(o)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new cn(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(e){i.server_.refreshAuthToken(e)})),this.statsReporter_=zt.getOrCreateReporter(e,(function(){return new Wt(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Vt,this.infoSyncTree_=new Bt({startListening:function(e,t,n,r){var o=[],a=i.infoData_.getNode(e.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Bt({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,(function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new z(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new z(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var s=a.map(t,(function(e){return Qe(e)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=Qe(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=a.map(t,(function(e){return Qe(e)}));o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Qe(t);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var f=i;o.length>0&&(f=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(f,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;j(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new z("/.info/"+e),r=Qe(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=Qe(t,n),s=this.serverSyncTree_.calcCompleteEventCache(e),u=dt(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(e,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(e.toString(),a.val(!0),(function(t,n){var o="ok"===t;o||k("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(r,t,n)}));var f=this.abortTransactions_(e);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),a={};if(j(t,(function(t,n){i=!1,a[t]=ft(e.child(t),Qe(n),r.serverSyncTree_,o)})),i)T("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(e,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||k("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,t,i)})),j(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new vt;this.onDisconnect_.forEachTree(z.Empty,(function(r,i){var o=ft(r,i,e.serverSyncTree_,t);n.remember(r,o)}));var r=[];n.forEachTree(z.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new vt,this.eventQueue_.raiseEventsForChangedPath(z.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=Qe(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=Qe(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(a.isEmpty(t))return T("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&j(t,(function(t,n){var i=Qe(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(fn)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(fn)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Gt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);j(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),T.apply(void 0,o.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&V((function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new Tn(this))},enumerable:!1,configurable:!0}),e}(),pn=function(){function e(t){this.indexedFilter_=new It(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new we(t,n))||(n=qe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=qe.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(qe.EMPTY_NODE);var i=this;return t.forEachChild(De,(function(e,t){i.matches(new we(e,t))||(r=r.updateImmediateChild(e,qe.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),hn=function(){function e(e){this.rangedFilter_=new pn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new we(t,n))||(n=qe.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=qe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=qe.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(qe.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else o=this.index_.getCompare();var u=e;a.assert(u.numChildren()===this.limit_,"");var c=new we(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===t||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var h=null==p?1:o(p,c);if(f&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Ot.childChangedChange(t,n,d)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Ot.childRemovedChange(t,d));var v=u.updateImmediateChild(t,qe.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(Ot.childAddedChange(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?e:f&&o(l,c)>=0?(null!=i&&(i.trackChildChange(Ot.childRemovedChange(l.name,l.node)),i.trackChildChange(Ot.childAddedChange(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,qe.EMPTY_NODE)):e},e}(),vn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:R},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==De&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===De},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new It(this.getIndex()):this.hasLimit()?new hn(this):new pn(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===De?t=n.PRIORITY_INDEX:this.index_===Ze?t=n.VALUE_INDEX:this.index_===Te?t=n.KEY_INDEX:(a.assert(this.index_ instanceof Xe,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=a.stringify(t),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),mn=function(e){function t(t,n){if(!(t instanceof dn))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,vn.DEFAULT,!1)||this}return o.__extends(t,e),t.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof z||(null===this.path.getFront()?function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ve(e,t,n,r)}("Reference.child",1,e,!1):ve("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){a.validateArgCount("Reference.set",1,2,arguments.length),me("Reference.set",this.path),ce("Reference.set",1,e,this.path,!1),a.validateCallback("Reference.set",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(a.validateArgCount("Reference.update",1,2,arguments.length),me("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fe("Reference.update",1,e,this.path,!1),a.validateCallback("Reference.update",2,t,!0);var i=new a.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),me("Reference.setWithPriority",this.path),ce("Reference.setWithPriority",1,e,this.path,!1),de("Reference.setWithPriority",2,t,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return a.validateArgCount("Reference.remove",0,1,arguments.length),me("Reference.remove",this.path),a.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),me("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,e,!1),a.validateCallback("Reference.transaction",2,t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a boolean.")}("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof t&&r.promise.catch((function(){}));return this.repo.startTransaction(this.path,e,(function(e,n,i){e?r.reject(e):r.resolve(new be(n,i)),"function"==typeof t&&t(e,n,i)}),n),r.promise},t.prototype.setPriority=function(e,t){a.validateArgCount("Reference.setPriority",1,2,arguments.length),me("Reference.setPriority",this.path),de("Reference.setPriority",1,e,!1),a.validateCallback("Reference.setPriority",2,t,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){a.validateArgCount("Reference.push",0,2,arguments.length),me("Reference.push",this.path),ce("Reference.push",1,e,this.path,!0),a.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=_e(r),o=this.child(i),s=this.child(i);return n=null!=e?o.set(e,t).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),o},t.prototype.onDisconnect=function(){return me("Reference.onDisconnect",this.path),new ge(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(ot);ot.__referenceConstructor=mn,Lt.__referenceConstructor=mn;var yn,gn=function(){this.children={},this.childCount=0,this.value=null},bn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new gn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof z?t:new z(t),r=this,i=n.getFront();null!==i;){r=new e(i,r,a.safeGet(r.node_.children,i)||new gn),i=(n=n.popFront()).getFront()}return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){a.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;j(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new z(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=a.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(yn||(yn={})),dn.MAX_TRANSACTION_RETRIES_=25,dn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new bn},dn.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new mn(this,e);o.on("value",i);var s={path:e,update:t,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new et(s.currentInputSnapshot,new mn(this,s.path),De);s.onComplete(null,!1,l)}}else{le("transaction failed: Data returned ",c,s.path),s.status=yn.RUN;var f=this.transactionQueueTree_.subTree(e),d=f.getValue()||[];d.push(s),f.setValue(d);var p=void 0;if("object"==typeof c&&null!==c&&a.contains(c,".priority"))p=a.safeGet(c,".priority"),a.assert(ue(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(this.serverSyncTree_.calcCompleteEventCache(e)||qe.EMPTY_NODE).getPriority().val();var h=this.generateServerValues(),v=Qe(c,p),m=dt(v,u,h);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=m,s.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(e,m,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,y),this.sendReadyTransactions_()}},dn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||qe.EMPTY_NODE},dn.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===yn.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},dn.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),o=i,s=i.hash(),u=0;u<t.length;u++){var c=t[u];a.assert(c.status===yn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=yn.SENT,c.retryCount++;var l=z.relativePath(e,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var f=o.val(!0),d=e;this.server_.put(d.toString(),f,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<t.length;a++){if(t[a].status=yn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,u=new mn(n,t[a].path),c=new et(s,u,De);o.push(t[a].onComplete.bind(null,null,!0,c))}t[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i);for(a=0;a<o.length;a++)V(o[a])}else{if("datastale"===r)for(a=0;a<t.length;a++)t[a].status===yn.SENT_NEEDS_ABORT?t[a].status=yn.NEEDS_ABORT:t[a].status=yn.RUN;else{k("transaction at "+d.toString()+" failed: "+r);for(a=0;a<t.length;a++)t[a].status=yn.NEEDS_ABORT,t[a].abortReason=r}n.rerunTransactions_(e)}}),s)},dn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},dn.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,r=[],i=[],o=e.filter((function(e){return e.status===yn.RUN})).map((function(e){return e.currentWriteId})),s=0;s<e.length;s++){var u=e[s],c=z.relativePath(t,u.path),l=!1,f=void 0;if(a.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===yn.NEEDS_ABORT)l=!0,f=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===yn.RUN)if(u.retryCount>=dn.MAX_TRANSACTION_RETRIES_)l=!0,f="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var d=this.getLatestState_(u.path,o);u.currentInputSnapshot=d;var p=e[s].update(d.val());if(void 0!==p){le("transaction failed: Data returned ",p,u.path);var h=Qe(p);"object"==typeof p&&null!=p&&a.contains(p,".priority")||(h=h.updatePriority(d.getPriority()));var v=u.currentWriteId,m=this.generateServerValues(),y=dt(h,d,m);u.currentOutputSnapshotRaw=h,u.currentOutputSnapshotResolved=y,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,y,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,f="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,i),i=[],l&&(e[s].status=yn.COMPLETED,n=e[s].unwatcher,setTimeout(n,Math.floor(0)),e[s].onComplete))if("nodata"===f){var g=new mn(this,e[s].path),b=e[s].currentInputSnapshot,_=new et(b,g,De);r.push(e[s].onComplete.bind(null,null,!1,_))}else r.push(e[s].onComplete.bind(null,new Error(f),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)V(r[s]);this.sendReadyTransactions_()}},dn.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;for(t=e.getFront();null!==t&&null===n.getValue();)n=n.subTree(t),t=(e=e.popFront()).getFront();return n},dn.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},dn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},dn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==yn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},dn.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},dn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)if(t[o].status===yn.SENT_NEEDS_ABORT);else if(t[o].status===yn.SENT)a.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=yn.SENT_NEEDS_ABORT,t[o].abortReason="set";else if(a.assert(t[o].status===yn.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete){n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(o=0;o<n.length;o++)V(n[o])}};var _n,wn=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(T("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(e)},e}(),En=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),Sn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return _n||(_n=new e),_n},e.prototype.interrupt=function(){var e,t,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var u=(n=void 0,o.__values(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].interrupt()}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.resume=function(){var e,t,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var u=(n=void 0,o.__values(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[s][l].resume()}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.databaseFromApp=function(e,t,n){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),T("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var o,s=te(i),u=s.repoInfo,c=void 0;void 0!==r&&(c={DJANGO_PROD:!0,NODE_ENV:"production",STATIC_PATH:"https://cdn.hackerearth.com/static/"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,i="http://"+c+"?ns="+u.namespace,u=(s=te(i)).repoInfo):o=!s.repoInfo.secure;var l=a.CONSTANTS.NODE_ADMIN&&o?new En:new wn(e,t);return ye("Invalid Firebase Database URL",1,s),s.path.isEmpty()||I("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,e,l).database},e.prototype.deleteRepo=function(e){var t=a.safeGet(this.repos_,e.app.name);t&&a.safeGet(t,e.repoInfo_.toURLString())===e||I("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t,n){var r=a.safeGet(this.repos_,t.name);r||(r={},this.repos_[t.name]=r);var i=a.safeGet(r,e.toURLString());return i&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new dn(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),Tn=function(){function e(e){this.repo_=e,e instanceof dn||I("Don't call new Database() directly - please use firebase.database()."),this.root_=new mn(e,z.Empty),this.INTERNAL=new Cn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),e instanceof mn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),a.validateArgCount(t,1,1,arguments.length);var n=te(e);ye(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&I(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&I("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),Cn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.database.checkDeleted_("delete"),Sn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),On=Object.freeze({__proto__:null,forceLongPolling:function(){rn.forceDisallow(),Xt.forceAllow()},forceWebSockets:function(){Xt.forceDisallow()},isWebSocketsAvailable:function(){return rn.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),In=cn;cn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},cn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var kn=an,An=Q,Pn=Object.freeze({__proto__:null,DataConnection:In,RealTimeConnection:kn,hijackHash:function(e){var t=cn.prototype.put;return cn.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){cn.prototype.put=t}},ConnectionTarget:An,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){Sn.getInstance().forceRestClient(e)}}),Rn=Tn.ServerValue;function Nn(t){!function(e){tn=e}(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new u.Component("database",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return Sn.getInstance().databaseFromApp(n,r,t)}),"PUBLIC").setServiceProps({Reference:mn,Query:ot,Database:Tn,DataSnapshot:et,enableLogging:S,INTERNAL:On,ServerValue:Rn,TEST_ACCESS:Pn}).setMultipleInstances(!0));t.registerVersion("@hackerearth/database","0.6.15"),a.isNodeSdk()&&(e.exports=n)}Nn(f.default),t.DataSnapshot=et,t.Database=Tn,t.OnDisconnect=ge,t.Query=ot,t.Reference=mn,t.ServerValue=Rn,t.enableLogging=S,t.registerDatabase=Nn},61175:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(n(44458));i.default.registerVersion("@hackerearth/firebase","7.20.7","app"),e.exports=i.default},1123:(e,t,n)=>{"use strict";n(31639)},39745:(e,t,n)=>{"use strict";n(85082)},53054:(e,t,n)=>{"use strict";n(81313)},45380:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{J0:()=>s,RQ:()=>D,WK:()=>U,Zn:()=>A,aU:()=>i,cP:()=>d,cm:()=>N,fp:()=>v,lX:()=>a,pC:()=>x}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const o="popstate";function a(e){return void 0===e&&(e={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return l("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:f(t)}),null,e)}function s(e,t){if(!1===e||null==e)throw new Error(t)}function u(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?d(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n,a){void 0===a&&(a={});let{window:u=document.defaultView,v5Compat:d=!1}=a,p=u.history,h=i.Pop,v=null,m=y();function y(){return(p.state||{idx:null}).idx}function g(){h=i.Pop;let e=y(),t=null==e?null:e-m;m=e,v&&v({action:h,location:_.location,delta:t})}function b(e){let t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"==typeof e?e:f(e);return n=n.replace(/ $/,"%20"),s(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,p.replaceState(r({},p.state,{idx:m}),""));let _={get action(){return h},get location(){return e(u,p)},listen(e){if(v)throw new Error("A history only accepts one active listener");return u.addEventListener(o,g),v=e,()=>{u.removeEventListener(o,g),v=null}},createHref:e=>t(u,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=i.Push;let r=l(_.location,e,t);n&&n(r,e),m=y()+1;let o=c(r,m),a=_.createHref(r);try{p.pushState(o,"",a)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;u.location.assign(a)}d&&v&&v({action:h,location:_.location,delta:1})},replace:function(e,t){h=i.Replace;let r=l(_.location,e,t);n&&n(r,e),m=y();let o=c(r,m),a=_.createHref(r);p.replaceState(o,"",a),d&&v&&v({action:h,location:_.location,delta:0})},go:e=>p.go(e)};return _}var h;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(h||(h={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=A(("string"==typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e){let t=k(r);o=O(i[e],t)}return o}function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let u=D([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),m(e.children,t,c,u)),(null!=e.path||e.index)&&t.push({path:u,score:C(u,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of y(e.path))i(e,t,n);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=y(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const g=/^:[\w-]+$/,b=3,_=2,w=1,E=10,S=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=S),t&&(r+=_),n.filter((e=>!T(e))).reduce(((e,t)=>e+(g.test(t)?b:""===t?w:E)),r)}function O(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=I({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},u);if(!c)return null;Object.assign(r,c.params);let l=a.route;o.push({params:r,pathname:D([i,c.pathname]),pathnameBase:L(D([i,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(i=D([i,c.pathnameBase]))}return o}function I(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[n];return e[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function k(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function N(e,t){let n=R(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function x(e,t,n,i){let o;void 0===i&&(i=!1),"string"==typeof e?o=d(e):(o=r({},e),s(!o.pathname||!o.pathname.includes("?"),P("?","pathname","search",o)),s(!o.pathname||!o.pathname.includes("#"),P("#","pathname","hash",o)),s(!o.search||!o.search.includes("#"),P("#","search","hash",o)));let a,u=""===e||""===o.pathname,c=u?"/":o.pathname;if(null==c)a=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:M(r),hash:j(i)}}(o,a),f=c&&"/"!==c&&c.endsWith("/"),p=(u||"."===c)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!p||(l.pathname+="/"),l}const D=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],B=(new Set(F),["get",...F]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},99311:(e,t,n)=>{"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:()=>i,n:()=>r})},64070:(e,t,n)=>{"use strict";n.d(t,{KV:()=>o,l$:()=>a});var r=n(99311);e=n.hmd(e);var i=n(5806);function o(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call(void 0!==i?i:0)}function a(e,t){return e.require(t)}},66686:(e,t,n)=>{"use strict";n.d(t,{Z1:()=>d,ph:()=>l,yW:()=>c});var r=n(64070),i=n(49310);e=n.hmd(e);const o=(0,i.Rf)(),a={nowSeconds:()=>Date.now()/1e3};const s=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=o;if(!e||!e.now)return;return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),u=void 0===s?a:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},c=a.nowSeconds.bind(a),l=u.nowSeconds.bind(u);let f;const d=(()=>{const{performance:e}=o;if(!e||!e.now)return void(f="none");const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,s=e.timing&&e.timing.navigationStart,u="number"==typeof s?Math.abs(s+n-r):t;return a||u<t?i<=u?(f="timeOrigin",e.timeOrigin):(f="navigationStart",s):(f="dateNow",r)})()},49310:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:()=>o,YO:()=>a,n2:()=>i});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return i}function a(e,t,n){const r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},97675:(e,t,n)=>{var r,i=n(5806),o=n(90778).lW;self,r=()=>(()=>{var e={2505:(e,t,n)=>{e.exports=n(8015)},5592:(e,t,n)=>{"use strict";var r=n(9516),i=n(7522),o=n(3948),a=n(9106),s=n(9615),u=n(2012),c=n(4202),l=n(4896),f=n(5845),d=n(8563),p=n(5656);e.exports=function(e){return new Promise((function(t,n){var h,v=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(_+":"+w)}var E=s(e.baseURL,e.url);function S(){if(b){var r="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),g()}),(function(e){n(e),g()}),o),b=null}}if(b.open(e.method.toUpperCase(),a(E,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(S)},b.onabort=function(){b&&(n(new f("Request aborted",f.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var T=(e.withCredentials||c(E))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;T&&(m[e.xsrfHeaderName]=T)}"setRequestHeader"in b&&r.forEach(m,(function(e,t){void 0===v&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(n(!e||e&&e.type?new d:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),v||(v=null);var C=p(E);C&&-1===["http","https","file"].indexOf(C)?n(new f("Unsupported protocol "+C+":",f.ERR_BAD_REQUEST,e)):b.send(v)}))}},8015:(e,t,n)=>{"use strict";var r=n(9516),i=n(9012),o=n(5155),a=n(5343),s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(7412));s.Axios=o,s.CanceledError=n(8563),s.CancelToken=n(3191),s.isCancel=n(3864),s.VERSION=n(9641).version,s.toFormData=n(6440),s.AxiosError=n(5845),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(7980),s.isAxiosError=n(5019),e.exports=s,e.exports.default=s},3191:(e,t,n)=>{"use strict";var r=n(8563);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},8563:(e,t,n)=>{"use strict";var r=n(5845);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(9516).inherits(i,r,{__CANCEL__:!0}),e.exports=i},3864:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},5155:(e,t,n)=>{"use strict";var r=n(9516),i=n(9106),o=n(3471),a=n(4490),s=n(5343),u=n(9615),c=n(4841),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new o,response:new o}}f.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(u),o=Promise.resolve(t);f.length;)o=o.then(f.shift(),f.shift());return o}for(var d=t;r.length;){var p=r.shift(),h=r.shift();try{d=p(d)}catch(e){h(e);break}}try{o=a(d)}catch(e){return Promise.reject(e)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},5845:(e,t,n)=>{"use strict";var r=n(9516);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(e,t,n,a,s,u){var c=Object.create(o);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,a,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},3471:(e,t,n)=>{"use strict";var r=n(9516);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},9615:(e,t,n)=>{"use strict";var r=n(9137),i=n(4680);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},4490:(e,t,n)=>{"use strict";var r=n(9516),i=n(2881),o=n(3864),a=n(7412),s=n(8563);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5343:(e,t,n)=>{"use strict";var r=n(9516);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7522:(e,t,n)=>{"use strict";var r=n(5845);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2881:(e,t,n)=>{"use strict";var r=n(9516),i=n(7412);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},7412:(e,t,n)=>{"use strict";var r=n(9516),o=n(7018),a=n(5845),s=n(4896),u=n(6440),c={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var f,d={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==i&&"[object process]"===Object.prototype.toString.call(i))&&(f=n(5592)),f),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),a=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===a){var s=this.env&&this.env.FormData;return u(n?{"files[]":e}:e,s&&new s)}return i||"application/json"===a?(l(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw a.from(e,a.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1534)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){d.headers[e]=r.merge(c)})),e.exports=d},4896:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9641:e=>{e.exports={version:"0.27.2"}},9012:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9106:(e,t,n)=>{"use strict";var r=n(9516);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},4680:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},3948:(e,t,n)=>{"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},9137:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},5019:(e,t,n)=>{"use strict";var r=n(9516);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},4202:(e,t,n)=>{"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},7018:(e,t,n)=>{"use strict";var r=n(9516);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},1534:e=>{e.exports=null},2012:(e,t,n)=>{"use strict";var r=n(9516),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},5656:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},7980:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},6440:(e,t,n)=>{"use strict";var r=n(9516);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):o.from(e):e}return function e(o,a){if(r.isPlainObject(o)||r.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+a);n.push(o),r.forEach(o,(function(n,o){if(!r.isUndefined(n)){var s,u=a?a+"."+o:o;if(n&&!a&&"object"==typeof n)if(r.endsWith(o,"{}"))n=JSON.stringify(n);else if(r.endsWith(o,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(u,i(e))}));e(n,u)}})),n.pop()}else t.append(a,i(o))}(e),t}},4841:(e,t,n)=>{"use strict";var r=n(9641).version,i=n(5845),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new i(o(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var a=r[o],s=t[a];if(s){var u=e[a],c=void 0===u||s(u,a,e);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}},validators:o}},9516:(e,t,n)=>{"use strict";var r,i=n(9012),o=Object.prototype.toString,a=(r=Object.create(null),function(e){var t=o.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function u(e){return Array.isArray(e)}function c(e){return void 0===e}var l=s("ArrayBuffer");function f(e){return null!==e&&"object"==typeof e}function d(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=s("Date"),h=s("File"),v=s("Blob"),m=s("FileList");function y(e){return"[object Function]"===o.call(e)}var g=s("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var _,w=(_="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return _&&e instanceof _});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:f,isPlainObject:d,isUndefined:c,isDate:p,isFile:h,isBlob:v,isFunction:y,isStream:function(e){return f(e)&&y(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:b,merge:function e(){var t={};function n(n,r){d(t[r])&&d(n)?t[r]=e(t[r],n):d(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,o,a={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)a[o=r[i]]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:m}},6880:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}])&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),p=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},8954:e=>{var t;self,t=()=>(()=>{"use strict";var e={228:e=>{var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},815:function(e,t){var n,r,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function o(e){return 60*e*60}function a(e){return 60*e*60*24}Object.defineProperty(t,"__esModule",{value:!0}),t.daysToSeconds=t.hoursToSeconds=t.ConfigurationHolder=t.ConfigurationManager=t.Env=void 0,function(e){e.BETA="beta",e.PROD="prod",e.CUSTOM="custom"}(r||(t.Env=r={})),t.hoursToSeconds=o,t.daysToSeconds=a;var s=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(Error),u="data",c="metrics",l=o(1),f=a(3),d=o(2),p="base64",h=function(){function e(e,t){var n,i,o,a,s,c,p,h;if(!t.fileKey)throw new Error("options.fileKey cannot be empty");var v=null!==(n=t.clock)&&void 0!==n?n:new w,m=v.getMillis();switch(this.context=e,this.fileKey=t.fileKey,this.env=t.standardEnv,t.standardEnv){case r.BETA:this.fetchServer="beta.ivs-device-config-beta.live-video.net";break;case r.PROD:this.fetchServer="prod.ivs-device-config.live-video.net";break;case r.CUSTOM:if(!t.customServer)throw new Error("Custom env requires options.customServer");this.fetchServer=t.customServer;break;default:throw new Error("Invalid value for standardEnv: ".concat(t.standardEnv))}this.trace=null!==(i=t.trace)&&void 0!==i?i:new g(this.env),this.fetch=null!==(o=t.fetch)&&void 0!==o?o:new y(e),this.storage=new _("amazon_ivs_device_config_v1_"+t.fileKey,e.localStorage),this.state=new S(this.storage,"state"),this.refresh={refreshIntervalSeconds:null!==(a=t.refresh.refreshIntervalSeconds)&&void 0!==a?a:l,retryCount:null!==(s=t.refresh.retryCount)&&void 0!==s?s:3,retryIntervalSeconds:null!==(c=t.refresh.retryIntervalSeconds)&&void 0!==c?c:10,maxCacheAgeSeconds:null!==(p=t.refresh.maxCacheAgeSeconds)&&void 0!==p?p:f,stopRefreshAfterSeconds:null!==(h=t.refresh.stopRefreshAfterSeconds)&&void 0!==h?h:d,canRefreshNow:t.refresh.canRefreshNow},this.clock=v,this.isInitialRefreshDone=!1;var b=0,E=this.state.getState();E&&E.fetchServer===this.fetchServer&&E.lastFetchWhenMs&&(b=E.lastFetchWhenMs);var T=v.getMillis(),C=(T-b)/1e3;if(C<=this.refresh.maxCacheAgeSeconds){var O=this.storage.getJson(u);O&&O.fetchServer===this.fetchServer&&this.setData(O.json)}if(this.lastUseMs=T,C>=this.refresh.refreshIntervalSeconds||0==b)this.trace.onTrace("Will start refresh right now"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),0);else{var I=Math.round(this.refresh.refreshIntervalSeconds-C);this.trace.onTrace("Will start refresh in "+I+" seconds"),this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*I),this.isInitialRefreshDone=!0}var k=v.getMillis();this.initialLoadTime=k-m}return e.getInstance=function(t,n){try{if(!(t.fetch&&t.setTimeout&&t.clearTimeout&&t.localStorage))return void console.log("Context needs to provide fetch, setTimeout, clearTimeout, localStorage")}catch(e){return void console.error("Error checking for context properties "+e)}if(this.gInstance){if(this.gInstance.fileKey!=n.fileKey)throw new Error("Existing instance has file key ".concat(this.gInstance.fileKey,", now asking for ").concat(n.fileKey));return this.gInstance}return this.gInstance=new e(t,n),this.gInstance},e.prototype.getConfigurationHolder=function(e){var t,n=this,r=this.clock.getMillis();this.lastUseMs=r;var i=null!==(t=e.analytics)&&void 0!==t?t:new b(this.env);this.context.setTimeout((function(){n.emitMetrics(i)}));var o=0,a=this.state.getState();return a&&a.fetchServer===this.fetchServer&&a.lastFetchWhenMs&&(o=a.lastFetchWhenMs),(r-o)/1e3<=this.refresh.maxCacheAgeSeconds?new v(i,this.properties):new v(i,void 0)},e.prototype.getFetchUrl=function(){var e="https://".concat(this.fetchServer,"/").concat(this.fileKey,".json"),t=new URL(e);return t.searchParams.set("version","1.0"),t},e.clearInstance=function(){var e;null===(e=this.gInstance)||void 0===e||e.clearInstanceImpl(),this.gInstance=void 0},e.prototype.clearInstanceImpl=function(){this.context.clearTimeout(this.fetchTask),this.fetchTask=void 0,this.context.clearTimeout(this.retryTask),this.retryTask=void 0},e.prototype.startRefresh=function(){var e=this;this.trace.onTrace("Starting refresh request..."),this.fetchTask=void 0,this.retryTask&&(this.context.clearTimeout(this.retryTask),this.retryTask=void 0);var t=this.clock.getMillis();return(t-this.lastUseMs)/1e3>this.refresh.stopRefreshAfterSeconds?(this.trace.onTrace("Actually will not refresh due to refresh timeout"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):this.isInitialRefreshDone&&!this.refresh.canRefreshNow()?(this.trace.onTrace("Will not refresh due to callback having returned false"),void(this.fetchTask=this.context.setTimeout(this.startRefresh.bind(this),1e3*this.refresh.refreshIntervalSeconds))):void this.fetchData().then((function(n){e.processResponse(n,t)})).catch((function(t){e.exceptionMetrics(t),e.trace.onTrace("Fetch error: "+t),e.refresh.retryCount>0&&e.scheduleRetry(1)})).finally((function(){e.isInitialRefreshDone=!0,e.fetchTask=e.context.setTimeout(e.startRefresh.bind(e),1e3*e.refresh.refreshIntervalSeconds)}))},e.prototype.fetchData=function(){var e=this.getFetchUrl(),t=new Headers,n=this.state.getState();return n.fetchServer===this.fetchServer&&(n.lastFetchWhenFullMs&&this.clock.getMillis()-n.lastFetchWhenFullMs>1e3*o(24)?this.trace.onTrace("Forcing full refresh"):this.properties&&n.lastFetchEtagHeader&&t.set("If-None-Match",n.lastFetchEtagHeader)),this.incrementMetrics("fetch_attempt_count"),this.fetch.fetchUrl(e,t)},e.prototype.processResponse=function(e,t){var n={fetchServer:this.fetchServer,lastFetchWhenMs:this.clock.getMillis()},r=e.headers.get("etag");r&&(n.lastFetchEtagHeader=r);try{if(e.status<300&&e.json)if(this.setData(e.json)){this.trace.onTrace("Successfully parsed fetched data"),this.storage.setJson(u,{fetchServer:this.fetchServer,json:e.json});var i=this.clock.getMillis();n.lastFetchWhenFullMs=i,this.incrementMetricsWithDuration("success_new_data_count",i-t)}else this.incrementMetrics("fail_invalid_data_count");else{if(304!==e.status){var o="Unexpected http fetch status: "+e.status;throw this.trace.onTrace(o),new s(o)}this.trace.onTrace("Server said no change in data"),i=this.clock.getMillis(),this.incrementMetricsWithDuration("success_no_change_count",i-t)}}finally{this.state.setState(n)}},e.prototype.scheduleRetry=function(e){var t=this;this.retryTask&&this.context.clearTimeout(this.retryTask);var n=e*this.refresh.retryIntervalSeconds;this.retryTask=this.context.setTimeout((function(){t.retryTask=void 0,t.fetchRetry(e)}),1e3*n)},e.prototype.fetchRetry=function(e){var t=this;this.trace.onTrace("Starting retry request ".concat(e,"..."));var n=this.clock.getMillis();this.fetchData().then((function(e){t.processResponse(e,n)})).catch((function(n){t.exceptionMetrics(n),t.trace.onTrace("Fetch error: "+n),t.refresh.retryCount>e&&t.scheduleRetry(e+1)}))},e.prototype.setData=function(e){if(!e)return!1;if("1.0"!==e.version)return this.trace.onTrace("Data version is not 1.0, not applying"),!1;var t=e.properties;if(!t||!Array.isArray(t))return this.trace.onTrace("Data properties is not an array, not applying"),!1;for(var n=new Map,r=0,i=t;r<i.length;r++){var o=i[r];if(o.name&&o.type&&this.isValidValueType(o.type)){if(o.value_string&&"string"!=typeof o.value_string){this.trace.onTrace("Invalid type of value.value_string "+typeof o.value_string);continue}if(o.value_number&&"number"!=typeof o.value_number){this.trace.onTrace("Invalid type of value.value_number "+typeof o.value_number);continue}if(o.value_boolean&&"boolean"!=typeof o.value_boolean){this.trace.onTrace("Invalid type of value.value_boolean "+typeof o.value_boolean);continue}if(o.value_json&&"string"!=typeof o.value_json){this.trace.onTrace("Invalid type of value.value_json "+typeof o.value_json);continue}if(o.value_analytics&&"string"!=typeof o.value_analytics){this.trace.onTrace("Invalid type of item.value_analytics "+typeof o.value_analytics);continue}var a=new E(o.name,this.parseValueType(o.type),o.value_string,o.value_number,o.value_boolean,o.value_json,o.value_analytics,o.encoding);n.set(a.name,a)}}return 0!=n.size&&(this.properties=n,!0)},e.prototype.isValidValueType=function(e){return"string"===e||"number"===e||"boolean"===e||"json"==e},e.prototype.parseValueType=function(e){switch(e){case"string":return m.STRING;case"number":return m.NUMBER;case"boolean":return m.BOOLEAN;case"json":return m.JSON;default:throw new Error("Unsupported value type ".concat(e))}},e.prototype.emitMetrics=function(e){var t,n,r,i,o,a,s,u,l=null!==(t=this.storage.getJson(c))&&void 0!==t?t:{},f={initial_load_time:this.initialLoadTime,fetch_attempt_count:null!==(n=l.fetch_attempt_count)&&void 0!==n?n:0,fetch_duration_average:null!==(r=l.fetch_duration_average)&&void 0!==r?r:0,success_no_change_count:null!==(i=l.success_no_change_count)&&void 0!==i?i:0,success_new_data_count:null!==(o=l.success_new_data_count)&&void 0!==o?o:0,fail_exception_count:null!==(a=l.fail_exception_count)&&void 0!==a?a:0,fail_http_error_count:null!==(s=l.fail_http_error_count)&&void 0!==s?s:0,fail_invalid_data_count:null!==(u=l.fail_invalid_data_count)&&void 0!==u?u:0};e.onMetrics(f),l.fetch_attempt_count=0,l.success_no_change_count=0,l.success_new_data_count=0,l.fail_exception_count=0,l.fail_http_error_count=0,l.fail_invalid_data_count=0,this.storage.setJson(c,l)},e.prototype.exceptionMetrics=function(e){e instanceof s||e.message.startsWith("http error")?this.incrementMetrics("fail_http_error_count"):this.incrementMetrics("fail_exception_count")},e.prototype.incrementMetrics=function(e){var t,n,r=null!==(t=this.storage.getJson(c))&&void 0!==t?t:{};r[e]=(null!==(n=r[e])&&void 0!==n?n:0)+1,this.storage.setJson(c,r)},e.prototype.incrementMetricsWithDuration=function(e,t){var n,r,i=null!==(n=this.storage.getJson(c))&&void 0!==n?n:{};i[e]=(null!==(r=i[e])&&void 0!==r?r:0)+1,t>0&&(void 0!==i.fetch_duration_average?i.fetch_duration_average=.9*i.fetch_duration_average+.1*t|0:i.fetch_duration_average=t),this.storage.setJson(c,i)},e}();t.ConfigurationManager=h;var v=function(){function e(e,t){this.analytics=e,this.properties=t}return e.prototype.getSize=function(){return this.properties?this.properties.size:-1},e.prototype.getStringValue=function(e){var t,n;if(this.properties){var r=this.properties.get(e);if(r){if(r.type===m.STRING){var i=null!==(t=r.valueString)&&void 0!==t?t:"";return this.analytics.onValue(e,null!==(n=r.valueAnalytics)&&void 0!==n?n:i),i}this.analytics.onError(e,"Type is not string")}}else this.analytics.onTrace(e,"Configuration is not available")},e.prototype.getNumberValue=function(e){var t,n;if(this.properties){var r=this.properties.get(e);if(r){if(r.type===m.NUMBER){var i=null!==(t=r.valueNumber)&&void 0!==t?t:0;return this.analytics.onValue(e,null!==(n=r.valueAnalytics)&&void 0!==n?n:i.toString()),i}this.analytics.onError(e,"Type is not number")}}else this.analytics.onTrace(e,"Configuration is not available")},e.prototype.getBooleanValue=function(e){var t,n;if(this.properties){var r=this.properties.get(e);if(r){if(r.type===m.BOOLEAN){var i=null!==(t=r.valueBoolean)&&void 0!==t&&t;return this.analytics.onValue(e,null!==(n=r.valueAnalytics)&&void 0!==n?n:i.toString()),i}this.analytics.onError(e,"Type is not boolean")}}else this.analytics.onTrace(e,"Configuration is not available")},e.prototype.getJsonValue=function(e){var t,n;if(this.properties){var r=this.properties.get(e);if(r){if(r.type===m.JSON){var i=r.valueJson;if(!i)return this.analytics.onValue(e,null!==(t=r.valueAnalytics)&&void 0!==t?t:""),null;try{var o=JSON.parse(i);return this.analytics.onValue(e,null!==(n=r.valueAnalytics)&&void 0!==n?n:i),o}catch(t){return void this.analytics.onError(e,"Json parse error")}}this.analytics.onError(e,"Type is not json")}}else this.analytics.onTrace(e,"Configuration is not available")},e}();t.ConfigurationHolder=v;var m,y=function(){function e(e){this.context=e}return e.prototype.fetchUrl=function(e,t){var n=this;return new Promise((function(r,i){n.context.fetch(e,{headers:t,cache:"no-store"}).then((function(e){if(e.status>=400)i(new s("http error ".concat(e.status,", ").concat(e.statusText)));else{var t={status:e.status,headers:e.headers};e.json().then((function(e){t.json=e})).catch((function(){})).finally((function(){r(t)}))}})).catch((function(e){i(e)}))}))},e}(),g=function(){function e(e){this.env=e}return e.prototype.onTrace=function(e){this.env!=r.PROD&&console.log("Configuration: "+e)},e}(),b=function(){function e(e){this.env=e}return e.prototype.onMetrics=function(e){this.env!=r.PROD&&console.log("Metrics",e)},e.prototype.onValue=function(e,t){this.env!=r.PROD&&console.log("Configuration for ".concat(e,": value = ").concat(t))},e.prototype.onError=function(e,t){this.env!=r.PROD&&console.error("Configuration for ".concat(e,": error = ").concat(t))},e.prototype.onTrace=function(e,t){this.env!=r.PROD&&console.log("Configuration for ".concat(e,": trace = ").concat(t))},e}(),_=function(){function e(e,t){this.prefix=e,this.storage=t}return e.prototype.getJson=function(e){var t=this.prefix+"_"+e;try{var n=this.storage.getItem(t);if(n)return JSON.parse(n)}catch(e){console.error("Error getting local storage key ".concat(t)+e)}return null},e.prototype.setJson=function(e,t){var n=this.prefix+"_"+e;try{this.storage.setItem(n,JSON.stringify(t))}catch(e){console.error("Error setting local storage key ".concat(n,": ")+e)}},e}(),w=function(){function e(){}return e.prototype.getMillis=function(){return Date.now()},e}();!function(e){e[e.STRING=0]="STRING",e[e.NUMBER=1]="NUMBER",e[e.BOOLEAN=2]="BOOLEAN",e[e.JSON=3]="JSON"}(m||(m={}));var E=function(e,t,n,r,i,o,a,s){switch(this.name=e,this.type=t,this.valueString=n,this.valueNumber=r,this.valueBoolean=i,this.valueJson=o,this.valueAnalytics=a,this.type){case m.STRING:s===p&&n&&(this.valueString=atob(n));break;case m.JSON:s===p&&o&&(this.valueJson=atob(o))}},S=function(){function e(e,t){var n;this.storage=e,this.key=t,this.state=null!==(n=e.getJson(t))&&void 0!==n?n:{}}return e.prototype.getState=function(){return this.state},e.prototype.setState=function(e){Object.assign(this.state,e),this.storage.setJson(this.key,this.state)},e}()},456:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(903),t)},903:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEmitter=void 0;var i=n(228),o=function(){function e(e){var t=e.propagateErrors;this.emitter=new i.EventEmitter,this.propagateErrors=null!=t&&t}return e.prototype.on=function(e,t){t.call=this.wrapCall(e,t),this.emitter.on(e,t)},e.prototype.off=function(e,t){this.emitter.off(e,t)},e.prototype.emit=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(t=this.emitter).emit.apply(t,r([e],n,!1))},e.prototype.removeAllListeners=function(){this.emitter.removeAllListeners()},e.prototype.wrapCall=function(e,t){var n=this;return function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(n.propagateErrors)t.apply(r,i);else try{t.apply(r,i)}catch(n){var a="Error in callback for ".concat(e),s=t.name;return s&&(a+=" for function ".concat(s)),void console.error(a,n)}}},e}();t.TypedEmitter=o},987:function(e,t,n){var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createFsm=t.FsmWildcardState=t.RejectedTransitionError=t.InvalidStateTransitionError=void 0;var u=s(n(293)),c=function(e){function t(t,n){var r=e.call(this,"Invalid transition from '".concat(n,"' via event '").concat(t,"'"))||this;return r.name="InvalidStateTransitionError",r}return i(t,e),t}(Error);t.InvalidStateTransitionError=c;var l=function(e){function t(t,n,r){var i=e.call(this,"Transition from '".concat(n,"' via event '").concat(t,"' was rejected for: ").concat(r))||this;return i.name="RejectedTransitionError",i}return i(t,e),t}(Error);t.RejectedTransitionError=l,t.FsmWildcardState="*",t.createFsm=function(e){var n,r=e.transitions,i=e.callbacks,o=e.initialState,a=function(e){var n,i=null===(n=r[e])||void 0===n?void 0:n.from;return!!i&&("string"==typeof i?i===t.FsmWildcardState:i.includes(o))};return{canTransition:a,transition:function(e,t){var s,f,d,p,h,v;if(!a(e))return u.err(new c(String(o),String(e)));var m=r[e];return void 0===m.shouldTransition||m.shouldTransition(o)?(null===(f=null===(s=null==i?void 0:i[o])||void 0===s?void 0:s.onExiting)||void 0===f||f.call(s),null===(d=null==i?void 0:i.onStateExiting)||void 0===d||d.call(i,o),n=o,o=m.to,null===(h=null===(p=null==i?void 0:i[o])||void 0===p?void 0:p.onChanged)||void 0===h||h.call(p,n,t),null===(v=null==i?void 0:i.onStateChanged)||void 0===v||v.call(i,n,o,t),u.ok(o)):u.err(new l(String(o),String(e),"shouldTransition returned false"))},previousState:function(){return n},currentState:function(){return o}}}},156:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.2.0",i(n(815),t),i(n(456),t),i(n(987),t),i(n(293),t)},293:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getErr=t.getOk_or=t.getOk=t.isNotOk=t.isOk=t.err=t.ok=void 0,t.ok=function(e){return{ok:!0,value:e}},t.err=function(e){return{ok:!1,error:e}},t.isOk=function(e){return!0===e.ok},t.isNotOk=function(e){return!(0,t.isOk)(e)},t.getOk=function(e){return!0===e.ok?e.value:void 0},t.getOk_or=function(e,t){return!0===e.ok?e.value:t},t.getErr=function(e){return!0===e.ok?void 0:e.error}}},t={};return function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(156)})(),e.exports=t()},1549:(e,t,n)=>{var r=n(2032),i=n(3862),o=n(6721),a=n(2749),s=n(5749);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},79:(e,t,n)=>{var r=n(3702),i=n(80),o=n(4739),a=n(8655),s=n(1175);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},3661:(e,t,n)=>{var r=n(3040),i=n(7670),o=n(289),a=n(4509),s=n(2949);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},7217:(e,t,n)=>{var r=n(79),i=n(1420),o=n(938),a=n(3605),s=n(9817),u=n(945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},1033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},695:(e,t,n)=>{var r=n(8096),i=n(2428),o=n(6449),a=n(3656),s=n(361),u=n(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&u(e),p=n||l||f||d,h=p?r(e.length,String):[],v=h.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},7805:(e,t,n)=>{var r=n(3360),i=n(5288);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},6547:(e,t,n)=>{var r=n(3360),i=n(5288),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},3360:(e,t,n)=>{var r=n(3243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9344:(e,t,n)=>{var r=n(3805),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},6649:(e,t,n)=>{var r=n(3221)();e.exports=r},2552:(e,t,n)=>{var r=n(1873),i=n(659),o=n(9350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},7534:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5083:(e,t,n)=>{var r=n(1882),i=n(7296),o=n(3805),a=n(7473),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},4901:(e,t,n)=>{var r=n(2552),i=n(294),o=n(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},2903:(e,t,n)=>{var r=n(3805),i=n(5527),o=n(181),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},5250:(e,t,n)=>{var r=n(7217),i=n(7805),o=n(6649),a=n(2824),s=n(3805),u=n(7241),c=n(4974);e.exports=function e(t,n,l,f,d){t!==n&&o(n,(function(o,u){if(d||(d=new r),s(o))a(t,n,u,l,e,f,d);else{var p=f?f(c(t,u),o,u+"",t,n,d):void 0;void 0===p&&(p=o),i(t,u,p)}}),u)}},2824:(e,t,n)=>{var r=n(7805),i=n(3290),o=n(1961),a=n(3007),s=n(5529),u=n(2428),c=n(6449),l=n(3693),f=n(3656),d=n(1882),p=n(3805),h=n(1331),v=n(7167),m=n(4974),y=n(9884);e.exports=function(e,t,n,g,b,_,w){var E=m(e,n),S=m(t,n),T=w.get(S);if(T)r(e,n,T);else{var C=_?_(E,S,n+"",e,t,w):void 0,O=void 0===C;if(O){var I=c(S),k=!I&&f(S),A=!I&&!k&&v(S);C=S,I||k||A?c(E)?C=E:l(E)?C=a(E):k?(O=!1,C=i(S,!0)):A?(O=!1,C=o(S,!0)):C=[]:h(S)||u(S)?(C=E,u(E)?C=y(E):p(E)&&!d(E)||(C=s(S))):O=!1}O&&(w.set(S,C),b(C,S,g,_,w),w.delete(S)),r(e,n,C)}}},9302:(e,t,n)=>{var r=n(3488),i=n(6757),o=n(2865);e.exports=function(e,t){return o(i(e,t,r),e+"")}},9570:(e,t,n)=>{var r=n(7334),i=n(3243),o=n(3488),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},9653:(e,t,n)=>{var r=n(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},3290:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},1961:(e,t,n)=>{var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},3007:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1791:(e,t,n)=>{var r=n(6547),i=n(3360);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},999:(e,t,n)=>{var r=n(9302),i=n(6800);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},3221:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},3243:(e,t,n)=>{var r=n(6110),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},4840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},6110:(e,t,n)=>{var r=n(5083),i=n(392);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},8879:(e,t,n)=>{var r=n(4335)(Object.getPrototypeOf,Object);e.exports=r},659:(e,t,n)=>{var r=n(1873),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6721:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2749:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5529:(e,t,n)=>{var r=n(9344),i=n(8879),o=n(5527);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6800:(e,t,n)=>{var r=n(5288),i=n(4894),o=n(361),a=n(3805);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7296:(e,t,n)=>{var r,i=n(5481),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},80:(e,t,n)=>{var r=n(6025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},3040:(e,t,n)=>{var r=n(1549),i=n(79),o=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},6757:(e,t,n)=>{var r=n(1033),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},9325:(e,t,n)=>{var r=n(4840),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},4974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},2865:(e,t,n)=>{var r=n(9570),i=n(1811)(r);e.exports=i},1811:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},945:(e,t,n)=>{var r=n(79),i=n(8223),o=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7334:e=>{e.exports=function(e){return function(){return e}}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},3488:e=>{e.exports=function(e){return e}},2428:(e,t,n)=>{var r=n(7534),i=n(346),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},6449:e=>{var t=Array.isArray;e.exports=t},4894:(e,t,n)=>{var r=n(1882),i=n(294);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},3693:(e,t,n)=>{var r=n(4894),i=n(346);e.exports=function(e){return i(e)&&r(e)}},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=n(9935),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},1882:(e,t,n)=>{var r=n(2552),i=n(3805);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},1331:(e,t,n)=>{var r=n(2552),i=n(8879),o=n(346),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},7167:(e,t,n)=>{var r=n(4901),i=n(7301),o=n(6009),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},7241:(e,t,n)=>{var r=n(695),i=n(2903),o=n(4894);e.exports=function(e){return o(e)?r(e,!0):i(e)}},2543:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,c=128,l=1/0,f=9007199254740991,d=NaN,p=4294967295,h=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],v="[object Arguments]",m="[object Array]",y="[object Boolean]",g="[object Date]",b="[object Error]",_="[object Function]",w="[object GeneratorFunction]",E="[object Map]",S="[object Number]",T="[object Object]",C="[object Promise]",O="[object RegExp]",I="[object Set]",k="[object String]",A="[object Symbol]",P="[object WeakMap]",R="[object ArrayBuffer]",N="[object DataView]",x="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",M="[object Int16Array]",j="[object Int32Array]",U="[object Uint8Array]",F="[object Uint8ClampedArray]",B="[object Uint16Array]",V="[object Uint32Array]",H=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,$=RegExp(W.source),K=RegExp(q.source),Q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="["+we+"]",Ae="["+Ie+"]",Pe="["+Ee+"]",Re="\\d+",Ne="["+Se+"]",xe="["+Te+"]",De="[^"+we+Ie+Re+Se+Te+Ce+"]",Le="\\ud83c[\\udffb-\\udfff]",Me="[^"+we+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Ce+"]",Be="\\u200d",Ve="(?:"+xe+"|"+De+")",He="(?:"+Fe+"|"+De+")",ze="(?:['](?:d|ll|m|re|s|t|ve))?",Ge="(?:['](?:D|LL|M|RE|S|T|VE))?",We="(?:"+Pe+"|"+Le+")?",qe="["+Oe+"]?",$e=qe+We+"(?:"+Be+"(?:"+[Me,je,Ue].join("|")+")"+qe+We+")*",Ke="(?:"+[Ne,je,Ue].join("|")+")"+$e,Qe="(?:"+[Me+Pe+"?",Pe,je,Ue,ke].join("|")+")",Ye=RegExp("[']","g"),Je=RegExp(Pe,"g"),Ze=RegExp(Le+"(?="+Le+")|"+Qe+$e,"g"),Xe=RegExp([Fe+"?"+xe+"+"+ze+"(?="+[Ae,Fe,"$"].join("|")+")",He+"+"+Ge+"(?="+[Ae,Fe+Ve,"$"].join("|")+")",Fe+"?"+Ve+"+"+ze,Fe+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Ke].join("|"),"g"),et=RegExp("["+Be+we+Ee+Oe+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[x]=it[D]=it[L]=it[M]=it[j]=it[U]=it[F]=it[B]=it[V]=!0,it[v]=it[m]=it[R]=it[y]=it[N]=it[g]=it[b]=it[_]=it[E]=it[S]=it[T]=it[O]=it[I]=it[k]=it[P]=!1;var ot={};ot[v]=ot[m]=ot[R]=ot[N]=ot[y]=ot[g]=ot[x]=ot[D]=ot[L]=ot[M]=ot[j]=ot[E]=ot[S]=ot[T]=ot[O]=ot[I]=ot[k]=ot[A]=ot[U]=ot[F]=ot[B]=ot[V]=!0,ot[b]=ot[_]=ot[P]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ut=parseInt,ct="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,lt="object"==typeof self&&self&&self.Object===Object&&self,ft=ct||lt||Function("return this")(),dt=t&&!t.nodeType&&t,pt=dt&&e&&!e.nodeType&&e,ht=pt&&pt.exports===dt,vt=ht&&ct.process,mt=function(){try{return pt&&pt.require&&pt.require("util").types||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),yt=mt&&mt.isArrayBuffer,gt=mt&&mt.isDate,bt=mt&&mt.isMap,_t=mt&&mt.isRegExp,wt=mt&&mt.isSet,Et=mt&&mt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function kt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function At(e,t){return!(null==e||!e.length)&&Ft(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Nt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function xt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mt=zt("length");function jt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ut(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ft(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Vt,n)}function Bt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Vt(e){return e!=e}function Ht(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:d}function zt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Wt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,fn(e)+1).replace(re,""):e}function Qt(e){return function(t){return e(t)}}function Yt(e,t){return Rt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function Zt(e,t){for(var n=-1,r=e.length;++n<r&&Ft(t,e[n],0)>-1;);return n}function Xt(e,t){for(var n=e.length;n--&&Ft(t,e[n],0)>-1;);return n}var en=Gt({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),tn=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+at[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function an(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function cn(e){return rn(e)?function(e){for(var t=Ze.lastIndex=0;Ze.test(e);)++t;return t}(e):Mt(e)}function ln(e){return rn(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var dn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?ft:pn.defaults(ft.Object(),t,pn.pick(ft,nt))).Array,ie=t.Date,we=t.Error,Ee=t.Function,Se=t.Math,Te=t.Object,Ce=t.RegExp,Oe=t.String,Ie=t.TypeError,ke=r.prototype,Ae=Ee.prototype,Pe=Te.prototype,Re=t["__core-js_shared__"],Ne=Ae.toString,xe=Pe.hasOwnProperty,De=0,Le=(n=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=Pe.toString,je=Ne.call(Te),Ue=ft._,Fe=Ce("^"+Ne.call(xe).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=ht?t.Buffer:i,Ve=t.Symbol,He=t.Uint8Array,ze=Be?Be.allocUnsafe:i,Ge=an(Te.getPrototypeOf,Te),We=Te.create,qe=Pe.propertyIsEnumerable,$e=ke.splice,Ke=Ve?Ve.isConcatSpreadable:i,Qe=Ve?Ve.iterator:i,Ze=Ve?Ve.toStringTag:i,et=function(){try{var e=so(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,ct=ie&&ie.now!==ft.Date.now&&ie.now,lt=t.setTimeout!==ft.setTimeout&&t.setTimeout,dt=Se.ceil,pt=Se.floor,vt=Te.getOwnPropertySymbols,mt=Be?Be.isBuffer:i,Mt=t.isFinite,Gt=ke.join,hn=an(Te.keys,Te),vn=Se.max,mn=Se.min,yn=ie.now,gn=t.parseInt,bn=Se.random,_n=ke.reverse,wn=so(t,"DataView"),En=so(t,"Map"),Sn=so(t,"Promise"),Tn=so(t,"Set"),Cn=so(t,"WeakMap"),On=so(Te,"create"),In=Cn&&new Cn,kn={},An=Do(wn),Pn=Do(En),Rn=Do(Sn),Nn=Do(Tn),xn=Do(Cn),Dn=Ve?Ve.prototype:i,Ln=Dn?Dn.valueOf:i,Mn=Dn?Dn.toString:i;function jn(e){if(Ja(e)&&!Ba(e)&&!(e instanceof Vn)){if(e instanceof Bn)return e;if(xe.call(e,"__wrapped__"))return Lo(e)}return new Bn(e)}var Un=function(){function e(){}return function(t){if(!Ya(t))return{};if(We)return We(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Fn(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new zn(e);this.size=t.size}function $n(e,t){var n=Ba(e),r=!n&&Fa(e),i=!n&&!r&&Ga(e),o=!n&&!r&&!i&&os(e),a=n||r||i||o,s=a?$t(e.length,Oe):[],u=s.length;for(var c in e)!t&&!xe.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vo(c,u))||s.push(c);return s}function Kn(e){var t=e.length;return t?e[Gr(0,t-1)]:i}function Qn(e,t){return Ro(Ci(e),ir(t,0,e.length))}function Yn(e){return Ro(Ci(e))}function Jn(e,t,n){(n!==i&&!Ma(e[t],n)||n===i&&!(t in e))&&nr(e,t,n)}function Zn(e,t,n){var r=e[t];xe.call(e,t)&&Ma(r,n)&&(n!==i||t in e)||nr(e,t,n)}function Xn(e,t){for(var n=e.length;n--;)if(Ma(e[n][0],t))return n;return-1}function er(e,t,n,r){return cr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function tr(e,t){return e&&Oi(t,Is(t),e)}function nr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function rr(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:Es(e,t[n]);return a}function ir(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function or(e,t,n,r,o,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!Ya(e))return e;var f=Ba(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&xe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Ci(e,s)}else{var d=lo(e),p=d==_||d==w;if(Ga(e))return bi(e,u);if(d==T||d==v||p&&!o){if(s=c||p?{}:po(e),!u)return c?function(e,t){return Oi(e,co(e),t)}(e,function(e,t){return e&&Oi(t,ks(t),e)}(s,e)):function(e,t){return Oi(e,uo(e),t)}(e,tr(s,e))}else{if(!ot[d])return o?e:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case R:return _i(e);case y:case g:return new i(+e);case N:return function(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case x:case D:case L:case M:case j:case U:case F:case B:case V:return wi(e,n);case E:return new i;case S:case k:return new i(e);case O:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new i;case A:return r=e,Ln?Te(Ln.call(r)):{}}}(e,d,u)}}a||(a=new qn);var h=a.get(e);if(h)return h;a.set(e,s),ns(e)?e.forEach((function(r){s.add(or(r,t,n,r,e,a))})):Za(e)&&e.forEach((function(r,i){s.set(i,or(r,t,n,i,e,a))}));var m=f?i:(l?c?eo:Xi:c?ks:Is)(e);return Ct(m||e,(function(r,i){m&&(r=e[i=r]),Zn(s,i,or(r,t,n,i,e,a))})),s}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function sr(e,t,n){if("function"!=typeof e)throw new Ie(o);return Io((function(){e.apply(i,n)}),t)}function ur(e,t,n,r){var i=-1,o=At,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=Rt(t,Qt(n))),r?(o=Pt,a=!1):t.length>=200&&(o=Jt,a=!1,t=new Wn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}jn.templateSettings={escape:Q,evaluate:Y,interpolate:J,variable:"",imports:{_:jn}},jn.prototype=Fn.prototype,jn.prototype.constructor=jn,Bn.prototype=Un(Fn.prototype),Bn.prototype.constructor=Bn,Vn.prototype=Un(Fn.prototype),Vn.prototype.constructor=Vn,Hn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(On){var n=t[e];return n===a?i:n}return xe.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return On?t[e]!==i:xe.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=On&&t===i?a:t,this},zn.prototype.clear=function(){this.__data__=[],this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=Xn(t,e);return!(n<0||(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,0))},zn.prototype.get=function(e){var t=this.__data__,n=Xn(t,e);return n<0?i:t[n][1]},zn.prototype.has=function(e){return Xn(this.__data__,e)>-1},zn.prototype.set=function(e,t){var n=this.__data__,r=Xn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(En||zn),string:new Hn}},Gn.prototype.delete=function(e){var t=oo(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return oo(this,e).get(e)},Gn.prototype.has=function(e){return oo(this,e).has(e)},Gn.prototype.set=function(e,t){var n=oo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(e){return this.__data__.set(e,a),this},Wn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new zn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var cr=Ai(yr),lr=Ai(gr,!0);function fr(e,t){var n=!0;return cr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function dr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s==s&&!is(s):n(s,u)))var u=s,c=a}return c}function pr(e,t){var n=[];return cr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function hr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ho),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?hr(s,t-1,n,r,i):Nt(i,s):r||(i[i.length]=s)}return i}var vr=Pi(),mr=Pi(!0);function yr(e,t){return e&&vr(e,t,Is)}function gr(e,t){return e&&mr(e,t,Is)}function br(e,t){return kt(t,(function(t){return $a(e[t])}))}function _r(e,t){for(var n=0,r=(t=vi(t,e)).length;null!=e&&n<r;)e=e[xo(t[n++])];return n&&n==r?e:i}function wr(e,t,n){var r=t(e);return Ba(e)?r:Nt(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ze&&Ze in Te(e)?function(e){var t=xe.call(e,Ze),n=e[Ze];try{e[Ze]=i;var r=!0}catch(e){}var o=Me.call(e);return r&&(t?e[Ze]=n:delete e[Ze]),o}(e):function(e){return Me.call(e)}(e)}function Sr(e,t){return e>t}function Tr(e,t){return null!=e&&xe.call(e,t)}function Cr(e,t){return null!=e&&t in Te(e)}function Or(e,t,n){for(var o=n?Pt:At,a=e[0].length,s=e.length,u=s,c=r(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Rt(d,Qt(t))),l=mn(d.length,l),c[u]=!n&&(t||a>=120&&d.length>=120)?new Wn(u&&d):i}d=e[0];var p=-1,h=c[0];e:for(;++p<a&&f.length<l;){var v=d[p],m=t?t(v):v;if(v=n||0!==v?v:0,!(h?Jt(h,m):o(f,m,n))){for(u=s;--u;){var y=c[u];if(!(y?Jt(y,m):o(e[u],m,n)))continue e}h&&h.push(m),f.push(v)}}return f}function Ir(e,t,n){var r=null==(e=To(e,t=vi(t,e)))?e:e[xo(qo(t))];return null==r?i:St(r,e,n)}function kr(e){return Ja(e)&&Er(e)==v}function Ar(e,t,n,r,o){return e===t||(null==e||null==t||!Ja(e)&&!Ja(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=Ba(e),u=Ba(t),c=s?m:lo(e),l=u?m:lo(t),f=(c=c==v?T:c)==T,d=(l=l==v?T:l)==T,p=c==l;if(p&&Ga(e)){if(!Ga(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new qn),s||os(e)?Ji(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new He(e),new He(t)));case y:case g:case S:return Ma(+e,+t);case b:return e.name==t.name&&e.message==t.message;case O:case k:return e==t+"";case E:var s=on;case I:var u=1&r;if(s||(s=un),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Ji(s(e),s(t),r,i,o,a);return a.delete(e),l;case A:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var h=f&&xe.call(e,"__wrapped__"),_=d&&xe.call(t,"__wrapped__");if(h||_){var w=h?e.value():e,C=_?t.value():t;return a||(a=new qn),o(w,C,n,r,a)}}return!!p&&(a||(a=new qn),function(e,t,n,r,o,a){var s=1&n,u=Xi(e),c=u.length;if(c!=Xi(t).length&&!s)return!1;for(var l=c;l--;){var f=u[l];if(!(s?f in t:xe.call(t,f)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var h=!0;a.set(e,t),a.set(t,e);for(var v=s;++l<c;){var m=e[f=u[l]],y=t[f];if(r)var g=s?r(y,m,f,t,e,a):r(m,y,f,e,t,a);if(!(g===i?m===y||o(m,y,n,r,a):g)){h=!1;break}v||(v="constructor"==f)}if(h&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,a))}(e,t,n,r,Ar,o))}function Pr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Te(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var d=new qn;if(r)var p=r(l,f,c,e,t,d);if(!(p===i?Ar(f,l,3,r,d):p))return!1}}return!0}function Rr(e){return!(!Ya(e)||(t=e,Le&&Le in t))&&($a(e)?Fe:ve).test(Do(e));var t}function Nr(e){return"function"==typeof e?e:null==e?Xs:"object"==typeof e?Ba(e)?jr(e[0],e[1]):Mr(e):uu(e)}function xr(e){if(!_o(e))return hn(e);var t=[];for(var n in Te(e))xe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Dr(e,t){return e<t}function Lr(e,t){var n=-1,i=Ha(e)?r(e.length):[];return cr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Mr(e){var t=ao(e);return 1==t.length&&t[0][2]?Eo(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function jr(e,t){return yo(e)&&wo(t)?Eo(xo(e),t):function(n){var r=Es(n,e);return r===i&&r===t?Ss(n,e):Ar(t,r,3)}}function Ur(e,t,n,r,o){e!==t&&vr(t,(function(a,s){if(o||(o=new qn),Ya(a))!function(e,t,n,r,o,a,s){var u=Co(e,n),c=Co(t,n),l=s.get(c);if(l)Jn(e,n,l);else{var f=a?a(u,c,n+"",e,t,s):i,d=f===i;if(d){var p=Ba(c),h=!p&&Ga(c),v=!p&&!h&&os(c);f=c,p||h||v?Ba(u)?f=u:za(u)?f=Ci(u):h?(d=!1,f=bi(c,!0)):v?(d=!1,f=wi(c,!0)):f=[]:es(c)||Fa(c)?(f=u,Fa(u)?f=ps(u):Ya(u)&&!$a(u)||(f=po(c))):d=!1}d&&(s.set(c,f),o(f,c,r,a,s),s.delete(c)),Jn(e,n,f)}}(e,t,s,n,Ur,r,o);else{var u=r?r(Co(e,s),a,s+"",e,t,o):i;u===i&&(u=a),Jn(e,s,u)}}),ks)}function Fr(e,t){var n=e.length;if(n)return vo(t+=t<0?n:0,n)?e[t]:i}function Br(e,t,n){t=t.length?Rt(t,(function(e){return Ba(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[Xs];var r=-1;t=Rt(t,Qt(io()));var i=Lr(e,(function(e,n,i){var o=Rt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=Ei(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=_r(e,a);n(s,a)&&Qr(o,vi(a,e),s)}return o}function Hr(e,t,n,r){var i=r?Bt:Ft,o=-1,a=t.length,s=e;for(e===t&&(t=Ci(t)),n&&(s=Rt(e,Qt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&$e.call(s,u,1),$e.call(e,u,1);return e}function zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;vo(i)?$e.call(e,i,1):si(e,i)}}return e}function Gr(e,t){return e+pt(bn()*(t-e+1))}function Wr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function qr(e,t){return ko(So(e,t,Xs),e+"")}function $r(e){return Kn(Ms(e))}function Kr(e,t){var n=Ms(e);return Ro(n,ir(t,0,n.length))}function Qr(e,t,n,r){if(!Ya(e))return e;for(var o=-1,a=(t=vi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=xo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=Ya(f)?f:vo(t[o+1])?[]:{})}Zn(u,c,l),u=u[c]}return e}var Yr=In?function(e,t){return In.set(e,t),e}:Xs,Jr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Ys(t),writable:!0})}:Xs;function Zr(e){return Ro(Ms(e))}function Xr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ei(e,t){var n;return cr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ti(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!is(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ni(e,t,Xs,n)}function ni(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,c=is(t),l=t===i;o<a;){var f=pt((o+a)/2),d=n(e[f]),p=d!==i,h=null===d,v=d==d,m=is(d);if(s)var y=r||v;else y=l?v&&(r||p):u?v&&p&&(r||!h):c?v&&p&&!h&&(r||!m):!h&&!m&&(r?d<=t:d<t);y?o=f+1:a=f}return mn(a,4294967294)}function ri(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ma(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ii(e){return"number"==typeof e?e:is(e)?d:+e}function oi(e){if("string"==typeof e)return e;if(Ba(e))return Rt(e,oi)+"";if(is(e))return Mn?Mn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=At,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Pt;else if(o>=200){var c=t?null:Wi(e);if(c)return un(c);a=!1,i=Jt,u=new Wn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function si(e,t){return null==(e=To(e,t=vi(t,e)))||delete e[xo(qo(t))]}function ui(e,t,n,r){return Qr(e,t,n(_r(e,t)),r)}function ci(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Xr(e,r?0:o,r?o+1:i):Xr(e,r?o+1:0,r?i:o)}function li(e,t){var n=e;return n instanceof Vn&&(n=n.value()),xt(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function fi(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=ur(a[o]||s,e[u],t,n));return ai(hr(a,1),t,n)}function di(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function pi(e){return za(e)?e:[]}function hi(e){return"function"==typeof e?e:Xs}function vi(e,t){return Ba(e)?e:yo(e,t)?[e]:No(hs(e))}var mi=qr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Xr(e,t,n)}var gi=at||function(e){return ft.clearTimeout(e)};function bi(e,t){if(t)return e.slice();var n=e.length,r=ze?ze(n):new e.constructor(n);return e.copy(r),r}function _i(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function wi(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ei(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=is(e),s=t!==i,u=null===t,c=t==t,l=is(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Si(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,l=vn(a-s,0),f=r(c+l),d=!i;++u<c;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function Ti(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=vn(a-u,0),d=r(f+l),p=!i;++o<f;)d[o]=e[o];for(var h=o;++c<l;)d[h+c]=t[c];for(;++s<u;)(p||o<a)&&(d[h+n[s]]=e[o++]);return d}function Ci(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Oi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?nr(n,u,c):Zn(n,u,c)}return n}function Ii(e,t){return function(n,r){var i=Ba(n)?Tt:er,o=t?t():{};return i(n,e,io(r,2),o)}}function ki(e){return qr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&mo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Te(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Ai(e,t){return function(n,r){if(null==n)return n;if(!Ha(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Te(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Pi(e){return function(t,n,r){for(var i=-1,o=Te(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Ri(e){return function(t){var n=rn(t=hs(t))?ln(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ni(e){return function(t){return xt($s(Fs(t).replace(Ye,"")),e,"")}}function xi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return Ya(r)?r:n}}function Di(e){return function(t,n,r){var o=Te(t);if(!Ha(t)){var a=io(n,3);t=Is(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Li(e){return Zi((function(t){var n=t.length,r=n,a=Bn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ie(o);if(a&&!u&&"wrapper"==no(s))var u=new Bn([],!0)}for(r=u?r:n;++r<n;){var c=no(s=t[r]),l="wrapper"==c?to(s):i;u=l&&go(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[no(l[0])].apply(u,l[3]):1==s.length&&go(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ba(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Mi(e,t,n,o,a,s,u,l,f,d){var p=t&c,h=1&t,v=2&t,m=24&t,y=512&t,g=v?i:xi(e);return function c(){for(var b=arguments.length,_=r(b),w=b;w--;)_[w]=arguments[w];if(m)var E=ro(c),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,E);if(o&&(_=Si(_,o,a,m)),s&&(_=Ti(_,s,u,m)),b-=S,m&&b<d){var T=sn(_,E);return zi(e,t,Mi,c.placeholder,n,_,T,l,f,d-b)}var C=h?n:this,O=v?C[e]:e;return b=_.length,l?_=function(e,t){for(var n=e.length,r=mn(t.length,n),o=Ci(e);r--;){var a=t[r];e[r]=vo(a,n)?o[a]:i}return e}(_,l):y&&b>1&&_.reverse(),p&&f<b&&(_.length=f),this&&this!==ft&&this instanceof c&&(O=g||xi(O)),O.apply(C,_)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=oi(n),r=oi(r)):(n=ii(n),r=ii(r)),o=e(n,r)}return o}}function Fi(e){return Zi((function(t){return t=Rt(t,Qt(io())),qr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Bi(e,t){var n=(t=t===i?" ":oi(t)).length;if(n<2)return n?Wr(t,e):t;var r=Wr(t,dt(e/cn(t)));return rn(t)?yi(ln(r),0,e).join(""):r.slice(0,e)}function Vi(e){return function(t,n,o){return o&&"number"!=typeof o&&mo(t,n,o)&&(n=o=i),t=cs(t),n===i?(n=t,t=0):n=cs(n),function(e,t,n,i){for(var o=-1,a=vn(dt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:cs(o),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ds(t),n=ds(n)),e(t,n)}}function zi(e,t,n,r,o,a,s,c,l,f){var d=8&t;t|=d?u:64,4&(t&=~(d?64:u))||(t&=-4);var p=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,c,l,f],h=n.apply(i,p);return go(e)&&Oo(h,p),h.placeholder=r,Ao(h,e,t)}function Gi(e){var t=Se[e];return function(e,n){if(e=ds(e),(n=null==n?0:mn(ls(n),292))&&Mt(e)){var r=(hs(e)+"e").split("e");return+((r=(hs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Wi=Tn&&1/un(new Tn([,-0]))[1]==l?function(e){return new Tn(e)}:iu;function qi(e){return function(t){var n=lo(t);return n==E?on(t):n==I?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,n,a,l,f,d,p){var h=2&t;if(!h&&"function"!=typeof e)throw new Ie(o);var v=a?a.length:0;if(v||(t&=-97,a=l=i),d=d===i?d:vn(ls(d),0),p=p===i?p:ls(p),v-=l?l.length:0,64&t){var m=a,y=l;a=l=i}var g=h?i:to(e),b=[e,t,n,a,l,m,y,f,d,p];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Si(l,u,t[4]):u,e[4]=l?sn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ti(l,u,t[6]):u,e[6]=l?sn(e[5],s):t[6]),(u=t[7])&&(e[7]=u),r&c&&(e[8]=null==e[8]?t[8]:mn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,g),e=b[0],t=b[1],n=b[2],a=b[3],l=b[4],!(p=b[9]=b[9]===i?h?0:e.length:vn(b[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var o=xi(e);return function a(){for(var s=arguments.length,u=r(s),c=s,l=ro(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:sn(u,l);return(s-=f.length)<n?zi(e,t,Mi,a.placeholder,i,u,f,i,i,n-s):St(this&&this!==ft&&this instanceof a?o:e,this,u)}}(e,t,p):t!=u&&33!=t||l.length?Mi.apply(i,b):function(e,t,n,i){var o=1&t,a=xi(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),d=this&&this!==ft&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return St(d,o?n:this,f)}}(e,t,n,a);else var _=function(e,t,n){var r=1&t,i=xi(e);return function t(){return(this&&this!==ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Ao((g?Yr:Oo)(_,b),e,t)}function Ki(e,t,n,r){return e===i||Ma(e,Pe[n])&&!xe.call(r,n)?t:e}function Qi(e,t,n,r,o,a){return Ya(e)&&Ya(t)&&(a.set(t,e),Ur(e,t,i,Qi,a),a.delete(t)),e}function Yi(e){return es(e)?i:e}function Ji(e,t,n,r,o,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,h=2&n?new Wn:i;for(a.set(e,t),a.set(t,e);++d<u;){var v=e[d],m=t[d];if(r)var y=s?r(m,v,d,t,e,a):r(v,m,d,e,t,a);if(y!==i){if(y)continue;p=!1;break}if(h){if(!Lt(t,(function(e,t){if(!Jt(h,t)&&(v===e||o(v,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(v!==m&&!o(v,m,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function Zi(e){return ko(So(e,i,Vo),e+"")}function Xi(e){return wr(e,Is,uo)}function eo(e){return wr(e,ks,co)}var to=In?function(e){return In.get(e)}:iu;function no(e){for(var t=e.name+"",n=kn[t],r=xe.call(kn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ro(e){return(xe.call(jn,"placeholder")?jn:e).placeholder}function io(){var e=jn.iteratee||eu;return e=e===eu?Nr:e,arguments.length?e(arguments[0],arguments[1]):e}function oo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Is(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wo(i)]}return t}function so(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rr(n)?n:i}var uo=vt?function(e){return null==e?[]:(e=Te(e),kt(vt(e),(function(t){return qe.call(e,t)})))}:fu,co=vt?function(e){for(var t=[];e;)Nt(t,uo(e)),e=Ge(e);return t}:fu,lo=Er;function fo(e,t,n){for(var r=-1,i=(t=vi(t,e)).length,o=!1;++r<i;){var a=xo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Qa(i)&&vo(a,i)&&(Ba(e)||Fa(e))}function po(e){return"function"!=typeof e.constructor||_o(e)?{}:Un(Ge(e))}function ho(e){return Ba(e)||Fa(e)||!!(Ke&&e&&e[Ke])}function vo(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function mo(e,t,n){if(!Ya(n))return!1;var r=typeof t;return!!("number"==r?Ha(n)&&vo(t,n.length):"string"==r&&t in n)&&Ma(n[t],e)}function yo(e,t){if(Ba(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!is(e))||X.test(e)||!Z.test(e)||null!=t&&e in Te(t)}function go(e){var t=no(e),n=jn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=to(n);return!!r&&e===r[0]}(wn&&lo(new wn(new ArrayBuffer(1)))!=N||En&&lo(new En)!=E||Sn&&lo(Sn.resolve())!=C||Tn&&lo(new Tn)!=I||Cn&&lo(new Cn)!=P)&&(lo=function(e){var t=Er(e),n=t==T?e.constructor:i,r=n?Do(n):"";if(r)switch(r){case An:return N;case Pn:return E;case Rn:return C;case Nn:return I;case xn:return P}return t});var bo=Re?$a:du;function _o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function wo(e){return e==e&&!Ya(e)}function Eo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Te(n))}}function So(e,t,n){return t=vn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=vn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),St(e,this,u)}}function To(e,t){return t.length<2?e:_r(e,Xr(t,0,-1))}function Co(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oo=Po(Yr),Io=lt||function(e,t){return ft.setTimeout(e,t)},ko=Po(Jr);function Ao(e,t,n){var r=t+"";return ko(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(h,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(se):[]}(r),n)))}function Po(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ro(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Gr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var No=function(e){var t=Pa((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}();function xo(e){if("string"==typeof e||is(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Do(e){if(null!=e){try{return Ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Lo(e){if(e instanceof Vn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=Ci(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Mo=qr((function(e,t){return za(e)?ur(e,hr(t,1,za,!0)):[]})),jo=qr((function(e,t){var n=qo(t);return za(n)&&(n=i),za(e)?ur(e,hr(t,1,za,!0),io(n,2)):[]})),Uo=qr((function(e,t){var n=qo(t);return za(n)&&(n=i),za(e)?ur(e,hr(t,1,za,!0),i,n):[]}));function Fo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ls(n);return i<0&&(i=vn(r+i,0)),Ut(e,io(t,3),i)}function Bo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ls(n),o=n<0?vn(r+o,0):mn(o,r-1)),Ut(e,io(t,3),o,!0)}function Vo(e){return null!=e&&e.length?hr(e,1):[]}function Ho(e){return e&&e.length?e[0]:i}var zo=qr((function(e){var t=Rt(e,pi);return t.length&&t[0]===e[0]?Or(t):[]})),Go=qr((function(e){var t=qo(e),n=Rt(e,pi);return t===qo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Or(n,io(t,2)):[]})),Wo=qr((function(e){var t=qo(e),n=Rt(e,pi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Or(n,i,t):[]}));function qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $o=qr(Ko);function Ko(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var Qo=Zi((function(e,t){var n=null==e?0:e.length,r=rr(e,t);return zr(e,Rt(t,(function(e){return vo(e,n)?+e:e})).sort(Ei)),r}));function Yo(e){return null==e?e:_n.call(e)}var Jo=qr((function(e){return ai(hr(e,1,za,!0))})),Zo=qr((function(e){var t=qo(e);return za(t)&&(t=i),ai(hr(e,1,za,!0),io(t,2))})),Xo=qr((function(e){var t=qo(e);return t="function"==typeof t?t:i,ai(hr(e,1,za,!0),i,t)}));function ea(e){if(!e||!e.length)return[];var t=0;return e=kt(e,(function(e){if(za(e))return t=vn(e.length,t),!0})),$t(t,(function(t){return Rt(e,zt(t))}))}function ta(e,t){if(!e||!e.length)return[];var n=ea(e);return null==t?n:Rt(n,(function(e){return St(t,i,e)}))}var na=qr((function(e,t){return za(e)?ur(e,t):[]})),ra=qr((function(e){return fi(kt(e,za))})),ia=qr((function(e){var t=qo(e);return za(t)&&(t=i),fi(kt(e,za),io(t,2))})),oa=qr((function(e){var t=qo(e);return t="function"==typeof t?t:i,fi(kt(e,za),i,t)})),aa=qr(ea),sa=qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ta(e,n)}));function ua(e){var t=jn(e);return t.__chain__=!0,t}function ca(e,t){return t(e)}var la=Zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return rr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&vo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ca,args:[o],thisArg:i}),new Bn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),fa=Ii((function(e,t,n){xe.call(e,n)?++e[n]:nr(e,n,1)})),da=Di(Fo),pa=Di(Bo);function ha(e,t){return(Ba(e)?Ct:cr)(e,io(t,3))}function va(e,t){return(Ba(e)?Ot:lr)(e,io(t,3))}var ma=Ii((function(e,t,n){xe.call(e,n)?e[n].push(t):nr(e,n,[t])})),ya=qr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ha(e)?r(e.length):[];return cr(e,(function(e){a[++i]=o?St(t,e,n):Ir(e,t,n)})),a})),ga=Ii((function(e,t,n){nr(e,n,t)}));function ba(e,t){return(Ba(e)?Rt:Lr)(e,io(t,3))}var _a=Ii((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),wa=qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&mo(e,t[0],t[1])?t=[]:n>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),Br(e,hr(t,1),[])})),Ea=ct||function(){return ft.Date.now()};function Sa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,c,i,i,i,i,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new Ie(o);return e=ls(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ca=qr((function(e,t,n){var r=1;if(n.length){var i=sn(n,ro(Ca));r|=u}return $i(e,r,t,n,i)})),Oa=qr((function(e,t,n){var r=3;if(n.length){var i=sn(n,ro(Oa));r|=u}return $i(t,r,e,n,i)}));function Ia(e,t,n){var r,a,s,u,c,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new Ie(o);function v(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function m(e){var n=e-l;return l===i||n>=t||n<0||p&&e-f>=s}function y(){var e=Ea();if(m(e))return g(e);c=Io(y,function(e){var n=t-(e-l);return p?mn(n,s-(e-f)):n}(e))}function g(e){return c=i,h&&r?v(e):(r=a=i,u)}function b(){var e=Ea(),n=m(e);if(r=arguments,a=this,l=e,n){if(c===i)return function(e){return f=e,c=Io(y,t),d?v(e):u}(l);if(p)return gi(c),c=Io(y,t),v(l)}return c===i&&(c=Io(y,t)),u}return t=ds(t)||0,Ya(n)&&(d=!!n.leading,s=(p="maxWait"in n)?vn(ds(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),b.cancel=function(){c!==i&&gi(c),f=0,r=l=a=c=i},b.flush=function(){return c===i?u:g(Ea())},b}var ka=qr((function(e,t){return sr(e,1,t)})),Aa=qr((function(e,t,n){return sr(e,ds(t)||0,n)}));function Pa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Pa.Cache||Gn),n}function Ra(e){if("function"!=typeof e)throw new Ie(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Pa.Cache=Gn;var Na=mi((function(e,t){var n=(t=1==t.length&&Ba(t[0])?Rt(t[0],Qt(io())):Rt(hr(t,1),Qt(io()))).length;return qr((function(r){for(var i=-1,o=mn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return St(e,this,r)}))})),xa=qr((function(e,t){var n=sn(t,ro(xa));return $i(e,u,i,t,n)})),Da=qr((function(e,t){var n=sn(t,ro(Da));return $i(e,64,i,t,n)})),La=Zi((function(e,t){return $i(e,256,i,i,i,t)}));function Ma(e,t){return e===t||e!=e&&t!=t}var ja=Hi(Sr),Ua=Hi((function(e,t){return e>=t})),Fa=kr(function(){return arguments}())?kr:function(e){return Ja(e)&&xe.call(e,"callee")&&!qe.call(e,"callee")},Ba=r.isArray,Va=yt?Qt(yt):function(e){return Ja(e)&&Er(e)==R};function Ha(e){return null!=e&&Qa(e.length)&&!$a(e)}function za(e){return Ja(e)&&Ha(e)}var Ga=mt||du,Wa=gt?Qt(gt):function(e){return Ja(e)&&Er(e)==g};function qa(e){if(!Ja(e))return!1;var t=Er(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!es(e)}function $a(e){if(!Ya(e))return!1;var t=Er(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ka(e){return"number"==typeof e&&e==ls(e)}function Qa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function Ya(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ja(e){return null!=e&&"object"==typeof e}var Za=bt?Qt(bt):function(e){return Ja(e)&&lo(e)==E};function Xa(e){return"number"==typeof e||Ja(e)&&Er(e)==S}function es(e){if(!Ja(e)||Er(e)!=T)return!1;var t=Ge(e);if(null===t)return!0;var n=xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==je}var ts=_t?Qt(_t):function(e){return Ja(e)&&Er(e)==O},ns=wt?Qt(wt):function(e){return Ja(e)&&lo(e)==I};function rs(e){return"string"==typeof e||!Ba(e)&&Ja(e)&&Er(e)==k}function is(e){return"symbol"==typeof e||Ja(e)&&Er(e)==A}var os=Et?Qt(Et):function(e){return Ja(e)&&Qa(e.length)&&!!it[Er(e)]},as=Hi(Dr),ss=Hi((function(e,t){return e<=t}));function us(e){if(!e)return[];if(Ha(e))return rs(e)?ln(e):Ci(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=lo(e);return(t==E?on:t==I?un:Ms)(e)}function cs(e){return e?(e=ds(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ls(e){var t=cs(e),n=t%1;return t==t?n?t-n:t:0}function fs(e){return e?ir(ls(e),0,p):0}function ds(e){if("number"==typeof e)return e;if(is(e))return d;if(Ya(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ya(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=he.test(e);return n||me.test(e)?ut(e.slice(2),n?2:8):pe.test(e)?d:+e}function ps(e){return Oi(e,ks(e))}function hs(e){return null==e?"":oi(e)}var vs=ki((function(e,t){if(_o(t)||Ha(t))Oi(t,Is(t),e);else for(var n in t)xe.call(t,n)&&Zn(e,n,t[n])})),ms=ki((function(e,t){Oi(t,ks(t),e)})),ys=ki((function(e,t,n,r){Oi(t,ks(t),e,r)})),gs=ki((function(e,t,n,r){Oi(t,Is(t),e,r)})),bs=Zi(rr),_s=qr((function(e,t){e=Te(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&mo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=ks(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===i||Ma(f,Pe[l])&&!xe.call(e,l))&&(e[l]=a[l])}return e})),ws=qr((function(e){return e.push(i,Qi),St(Ps,i,e)}));function Es(e,t,n){var r=null==e?i:_r(e,t);return r===i?n:r}function Ss(e,t){return null!=e&&fo(e,t,Cr)}var Ts=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),Ys(Xs)),Cs=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),xe.call(e,t)?e[t].push(n):e[t]=[n]}),io),Os=qr(Ir);function Is(e){return Ha(e)?$n(e):xr(e)}function ks(e){return Ha(e)?$n(e,!0):function(e){if(!Ya(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=_o(e),n=[];for(var r in e)("constructor"!=r||!t&&xe.call(e,r))&&n.push(r);return n}(e)}var As=ki((function(e,t,n){Ur(e,t,n)})),Ps=ki((function(e,t,n,r){Ur(e,t,n,r)})),Rs=Zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=vi(t,e),r||(r=t.length>1),t})),Oi(e,eo(e),n),r&&(n=or(n,7,Yi));for(var i=t.length;i--;)si(n,t[i]);return n})),Ns=Zi((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return Ss(e,n)}))}(e,t)}));function xs(e,t){if(null==e)return{};var n=Rt(eo(e),(function(e){return[e]}));return t=io(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var Ds=qi(Is),Ls=qi(ks);function Ms(e){return null==e?[]:Yt(e,Is(e))}var js=Ni((function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)}));function Us(e){return qs(hs(e).toLowerCase())}function Fs(e){return(e=hs(e))&&e.replace(ge,en).replace(Je,"")}var Bs=Ni((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Vs=Ni((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Hs=Ri("toLowerCase"),zs=Ni((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Gs=Ni((function(e,t,n){return e+(n?" ":"")+qs(t)})),Ws=Ni((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),qs=Ri("toUpperCase");function $s(e,t,n){return e=hs(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Ks=qr((function(e,t){try{return St(e,i,t)}catch(e){return qa(e)?e:new we(e)}})),Qs=Zi((function(e,t){return Ct(t,(function(t){t=xo(t),nr(e,t,Ca(e[t],e))})),e}));function Ys(e){return function(){return e}}var Js=Li(),Zs=Li(!0);function Xs(e){return e}function eu(e){return Nr("function"==typeof e?e:or(e,1))}var tu=qr((function(e,t){return function(n){return Ir(n,e,t)}})),nu=qr((function(e,t){return function(n){return Ir(e,n,t)}}));function ru(e,t,n){var r=Is(t),i=br(t,r);null!=n||Ya(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=br(t,Is(t)));var o=!(Ya(n)&&"chain"in n&&!n.chain),a=$a(e);return Ct(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ci(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function iu(){}var ou=Fi(Rt),au=Fi(It),su=Fi(Lt);function uu(e){return yo(e)?zt(xo(e)):function(e){return function(t){return _r(t,e)}}(e)}var cu=Vi(),lu=Vi(!0);function fu(){return[]}function du(){return!1}var pu,hu=Ui((function(e,t){return e+t}),0),vu=Gi("ceil"),mu=Ui((function(e,t){return e/t}),1),yu=Gi("floor"),gu=Ui((function(e,t){return e*t}),1),bu=Gi("round"),_u=Ui((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new Ie(o);return e=ls(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=Sa,jn.assign=vs,jn.assignIn=ms,jn.assignInWith=ys,jn.assignWith=gs,jn.at=bs,jn.before=Ta,jn.bind=Ca,jn.bindAll=Qs,jn.bindKey=Oa,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ba(e)?e:[e]},jn.chain=ua,jn.chunk=function(e,t,n){t=(n?mo(e,t,n):t===i)?1:vn(ls(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=r(dt(o/t));a<o;)u[s++]=Xr(e,a,a+=t);return u},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Nt(Ba(n)?Ci(n):[n],hr(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=io();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Ie(o);return[n(e[0]),e[1]]})):[],qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=Is(e);return function(n){return ar(n,e,t)}}(or(e,1))},jn.constant=Ys,jn.countBy=fa,jn.create=function(e,t){var n=Un(e);return null==t?n:tr(n,t)},jn.curry=function e(t,n,r){var o=$i(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.curryRight=function e(t,n,r){var o=$i(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.debounce=Ia,jn.defaults=_s,jn.defaultsDeep=ws,jn.defer=ka,jn.delay=Aa,jn.difference=Mo,jn.differenceBy=jo,jn.differenceWith=Uo,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Xr(e,(t=n||t===i?1:ls(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Xr(e,0,(t=r-(t=n||t===i?1:ls(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?ci(e,io(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?ci(e,io(t,3),!0):[]},jn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&mo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ls(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ls(r))<0&&(r+=o),r=n>r?0:fs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(Ba(e)?kt:pr)(e,io(t,3))},jn.flatMap=function(e,t){return hr(ba(e,t),1)},jn.flatMapDeep=function(e,t){return hr(ba(e,t),l)},jn.flatMapDepth=function(e,t,n){return n=n===i?1:ls(n),hr(ba(e,t),n)},jn.flatten=Vo,jn.flattenDeep=function(e){return null!=e&&e.length?hr(e,l):[]},jn.flattenDepth=function(e,t){return null!=e&&e.length?hr(e,t=t===i?1:ls(t)):[]},jn.flip=function(e){return $i(e,512)},jn.flow=Js,jn.flowRight=Zs,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:br(e,Is(e))},jn.functionsIn=function(e){return null==e?[]:br(e,ks(e))},jn.groupBy=ma,jn.initial=function(e){return null!=e&&e.length?Xr(e,0,-1):[]},jn.intersection=zo,jn.intersectionBy=Go,jn.intersectionWith=Wo,jn.invert=Ts,jn.invertBy=Cs,jn.invokeMap=ya,jn.iteratee=eu,jn.keyBy=ga,jn.keys=Is,jn.keysIn=ks,jn.map=ba,jn.mapKeys=function(e,t){var n={};return t=io(t,3),yr(e,(function(e,r,i){nr(n,t(e,r,i),e)})),n},jn.mapValues=function(e,t){var n={};return t=io(t,3),yr(e,(function(e,r,i){nr(n,r,t(e,r,i))})),n},jn.matches=function(e){return Mr(or(e,1))},jn.matchesProperty=function(e,t){return jr(e,or(t,1))},jn.memoize=Pa,jn.merge=As,jn.mergeWith=Ps,jn.method=tu,jn.methodOf=nu,jn.mixin=ru,jn.negate=Ra,jn.nthArg=function(e){return e=ls(e),qr((function(t){return Fr(t,e)}))},jn.omit=Rs,jn.omitBy=function(e,t){return xs(e,Ra(io(t)))},jn.once=function(e){return Ta(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(Ba(t)||(t=null==t?[]:[t]),Ba(n=r?i:n)||(n=null==n?[]:[n]),Br(e,t,n))},jn.over=ou,jn.overArgs=Na,jn.overEvery=au,jn.overSome=su,jn.partial=xa,jn.partialRight=Da,jn.partition=_a,jn.pick=Ns,jn.pickBy=xs,jn.property=uu,jn.propertyOf=function(e){return function(t){return null==e?i:_r(e,t)}},jn.pull=$o,jn.pullAll=Ko,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,io(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,i,n):e},jn.pullAt=Qo,jn.range=cu,jn.rangeRight=lu,jn.rearg=La,jn.reject=function(e,t){return(Ba(e)?kt:pr)(e,Ra(io(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=io(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return zr(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Ie(o);return qr(e,t=t===i?t:ls(t))},jn.reverse=Yo,jn.sampleSize=function(e,t,n){return t=(n?mo(e,t,n):t===i)?1:ls(t),(Ba(e)?Qn:Kr)(e,t)},jn.set=function(e,t,n){return null==e?e:Qr(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Qr(e,t,n,r)},jn.shuffle=function(e){return(Ba(e)?Yn:Zr)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&mo(e,t,n)?(t=0,n=r):(t=null==t?0:ls(t),n=n===i?r:ls(n)),Xr(e,t,n)):[]},jn.sortBy=wa,jn.sortedUniq=function(e){return e&&e.length?ri(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?ri(e,io(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&mo(e,t,n)&&(t=n=i),(n=n===i?p:n>>>0)?(e=hs(e))&&("string"==typeof t||null!=t&&!ts(t))&&!(t=oi(t))&&rn(e)?yi(ln(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Ie(o);return t=null==t?0:vn(ls(t),0),qr((function(n){var r=n[t],i=yi(n,0,t);return r&&Nt(i,r),St(e,this,i)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?Xr(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?Xr(e,0,(t=n||t===i?1:ls(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Xr(e,(t=r-(t=n||t===i?1:ls(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?ci(e,io(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?ci(e,io(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(o);return Ya(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ia(e,t,{leading:r,maxWait:t,trailing:i})},jn.thru=ca,jn.toArray=us,jn.toPairs=Ds,jn.toPairsIn=Ls,jn.toPath=function(e){return Ba(e)?Rt(e,xo):is(e)?[e]:Ci(No(hs(e)))},jn.toPlainObject=ps,jn.transform=function(e,t,n){var r=Ba(e),i=r||Ga(e)||os(e);if(t=io(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ya(e)&&$a(o)?Un(Ge(e)):{}}return(i?Ct:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},jn.unary=function(e){return Sa(e,1)},jn.union=Jo,jn.unionBy=Zo,jn.unionWith=Xo,jn.uniq=function(e){return e&&e.length?ai(e):[]},jn.uniqBy=function(e,t){return e&&e.length?ai(e,io(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},jn.unset=function(e,t){return null==e||si(e,t)},jn.unzip=ea,jn.unzipWith=ta,jn.update=function(e,t,n){return null==e?e:ui(e,t,hi(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ui(e,t,hi(n),r)},jn.values=Ms,jn.valuesIn=function(e){return null==e?[]:Yt(e,ks(e))},jn.without=na,jn.words=$s,jn.wrap=function(e,t){return xa(hi(t),e)},jn.xor=ra,jn.xorBy=ia,jn.xorWith=oa,jn.zip=aa,jn.zipObject=function(e,t){return di(e||[],t||[],Zn)},jn.zipObjectDeep=function(e,t){return di(e||[],t||[],Qr)},jn.zipWith=sa,jn.entries=Ds,jn.entriesIn=Ls,jn.extend=ms,jn.extendWith=ys,ru(jn,jn),jn.add=hu,jn.attempt=Ks,jn.camelCase=js,jn.capitalize=Us,jn.ceil=vu,jn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ds(n))==n?n:0),t!==i&&(t=(t=ds(t))==t?t:0),ir(ds(e),t,n)},jn.clone=function(e){return or(e,4)},jn.cloneDeep=function(e){return or(e,5)},jn.cloneDeepWith=function(e,t){return or(e,5,t="function"==typeof t?t:i)},jn.cloneWith=function(e,t){return or(e,4,t="function"==typeof t?t:i)},jn.conformsTo=function(e,t){return null==t||ar(e,t,Is(t))},jn.deburr=Fs,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=mu,jn.endsWith=function(e,t,n){e=hs(e),t=oi(t);var r=e.length,o=n=n===i?r:ir(ls(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},jn.eq=Ma,jn.escape=function(e){return(e=hs(e))&&K.test(e)?e.replace(q,tn):e},jn.escapeRegExp=function(e){return(e=hs(e))&&ne.test(e)?e.replace(te,"\\$&"):e},jn.every=function(e,t,n){var r=Ba(e)?It:fr;return n&&mo(e,t,n)&&(t=i),r(e,io(t,3))},jn.find=da,jn.findIndex=Fo,jn.findKey=function(e,t){return jt(e,io(t,3),yr)},jn.findLast=pa,jn.findLastIndex=Bo,jn.findLastKey=function(e,t){return jt(e,io(t,3),gr)},jn.floor=yu,jn.forEach=ha,jn.forEachRight=va,jn.forIn=function(e,t){return null==e?e:vr(e,io(t,3),ks)},jn.forInRight=function(e,t){return null==e?e:mr(e,io(t,3),ks)},jn.forOwn=function(e,t){return e&&yr(e,io(t,3))},jn.forOwnRight=function(e,t){return e&&gr(e,io(t,3))},jn.get=Es,jn.gt=ja,jn.gte=Ua,jn.has=function(e,t){return null!=e&&fo(e,t,Tr)},jn.hasIn=Ss,jn.head=Ho,jn.identity=Xs,jn.includes=function(e,t,n,r){e=Ha(e)?e:Ms(e),n=n&&!r?ls(n):0;var i=e.length;return n<0&&(n=vn(i+n,0)),rs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ft(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ls(n);return i<0&&(i=vn(r+i,0)),Ft(e,t,i)},jn.inRange=function(e,t,n){return t=cs(t),n===i?(n=t,t=0):n=cs(n),function(e,t,n){return e>=mn(t,n)&&e<vn(t,n)}(e=ds(e),t,n)},jn.invoke=Os,jn.isArguments=Fa,jn.isArray=Ba,jn.isArrayBuffer=Va,jn.isArrayLike=Ha,jn.isArrayLikeObject=za,jn.isBoolean=function(e){return!0===e||!1===e||Ja(e)&&Er(e)==y},jn.isBuffer=Ga,jn.isDate=Wa,jn.isElement=function(e){return Ja(e)&&1===e.nodeType&&!es(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Ha(e)&&(Ba(e)||"string"==typeof e||"function"==typeof e.splice||Ga(e)||os(e)||Fa(e)))return!e.length;var t=lo(e);if(t==E||t==I)return!e.size;if(_o(e))return!xr(e).length;for(var n in e)if(xe.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Ar(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Ar(e,t,i,n):!!r},jn.isError=qa,jn.isFinite=function(e){return"number"==typeof e&&Mt(e)},jn.isFunction=$a,jn.isInteger=Ka,jn.isLength=Qa,jn.isMap=Za,jn.isMatch=function(e,t){return e===t||Pr(e,t,ao(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Pr(e,t,ao(t),n)},jn.isNaN=function(e){return Xa(e)&&e!=+e},jn.isNative=function(e){if(bo(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=Xa,jn.isObject=Ya,jn.isObjectLike=Ja,jn.isPlainObject=es,jn.isRegExp=ts,jn.isSafeInteger=function(e){return Ka(e)&&e>=-9007199254740991&&e<=f},jn.isSet=ns,jn.isString=rs,jn.isSymbol=is,jn.isTypedArray=os,jn.isUndefined=function(e){return e===i},jn.isWeakMap=function(e){return Ja(e)&&lo(e)==P},jn.isWeakSet=function(e){return Ja(e)&&"[object WeakSet]"==Er(e)},jn.join=function(e,t){return null==e?"":Gt.call(e,t)},jn.kebabCase=Bs,jn.last=qo,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ls(n))<0?vn(r+o,0):mn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ut(e,Vt,o,!0)},jn.lowerCase=Vs,jn.lowerFirst=Hs,jn.lt=as,jn.lte=ss,jn.max=function(e){return e&&e.length?dr(e,Xs,Sr):i},jn.maxBy=function(e,t){return e&&e.length?dr(e,io(t,2),Sr):i},jn.mean=function(e){return Ht(e,Xs)},jn.meanBy=function(e,t){return Ht(e,io(t,2))},jn.min=function(e){return e&&e.length?dr(e,Xs,Dr):i},jn.minBy=function(e,t){return e&&e.length?dr(e,io(t,2),Dr):i},jn.stubArray=fu,jn.stubFalse=du,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=gu,jn.nth=function(e,t){return e&&e.length?Fr(e,ls(t)):i},jn.noConflict=function(){return ft._===this&&(ft._=Ue),this},jn.noop=iu,jn.now=Ea,jn.pad=function(e,t,n){e=hs(e);var r=(t=ls(t))?cn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Bi(pt(i),n)+e+Bi(dt(i),n)},jn.padEnd=function(e,t,n){e=hs(e);var r=(t=ls(t))?cn(e):0;return t&&r<t?e+Bi(t-r,n):e},jn.padStart=function(e,t,n){e=hs(e);var r=(t=ls(t))?cn(e):0;return t&&r<t?Bi(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),gn(hs(e).replace(re,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&mo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=cs(e),t===i?(t=e,e=0):t=cs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=bn();return mn(e+o*(t-e+st("1e-"+((o+"").length-1))),t)}return Gr(e,t)},jn.reduce=function(e,t,n){var r=Ba(e)?xt:Wt,i=arguments.length<3;return r(e,io(t,4),n,i,cr)},jn.reduceRight=function(e,t,n){var r=Ba(e)?Dt:Wt,i=arguments.length<3;return r(e,io(t,4),n,i,lr)},jn.repeat=function(e,t,n){return t=(n?mo(e,t,n):t===i)?1:ls(t),Wr(hs(e),t)},jn.replace=function(){var e=arguments,t=hs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,o=(t=vi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[xo(t[r])];a===i&&(r=o,a=n),e=$a(a)?a.call(e):a}return e},jn.round=bu,jn.runInContext=e,jn.sample=function(e){return(Ba(e)?Kn:$r)(e)},jn.size=function(e){if(null==e)return 0;if(Ha(e))return rs(e)?cn(e):e.length;var t=lo(e);return t==E||t==I?e.size:xr(e).length},jn.snakeCase=zs,jn.some=function(e,t,n){var r=Ba(e)?Lt:ei;return n&&mo(e,t,n)&&(t=i),r(e,io(t,3))},jn.sortedIndex=function(e,t){return ti(e,t)},jn.sortedIndexBy=function(e,t,n){return ni(e,t,io(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ti(e,t);if(r<n&&Ma(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return ti(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return ni(e,t,io(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ti(e,t,!0)-1;if(Ma(e[n],t))return n}return-1},jn.startCase=Gs,jn.startsWith=function(e,t,n){return e=hs(e),n=null==n?0:ir(ls(n),0,e.length),t=oi(t),e.slice(n,n+t.length)==t},jn.subtract=_u,jn.sum=function(e){return e&&e.length?qt(e,Xs):0},jn.sumBy=function(e,t){return e&&e.length?qt(e,io(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&mo(e,t,n)&&(t=i),e=hs(e),t=ys({},t,r,Ki);var o,a,s=ys({},t.imports,r.imports,Ki),u=Is(s),c=Yt(s,u),l=0,f=t.interpolate||be,d="__p += '",p=Ce((t.escape||be).source+"|"+f.source+"|"+(f===J?fe:be).source+"|"+(t.evaluate||be).source+"|$","g"),h="//# sourceURL="+(xe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(p,(function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(l,u).replace(_e,nn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var v=xe.call(t,"variable")&&t.variable;if(v){if(ce.test(v))throw new we("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(H,""):d).replace(z,"$1").replace(G,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ks((function(){return Ee(u,h+"return "+d).apply(i,c)}));if(m.source=d,qa(m))throw m;return m},jn.times=function(e,t){if((e=ls(e))<1||e>f)return[];var n=p,r=mn(e,p);t=io(t),e-=p;for(var i=$t(r,t);++n<e;)t(n);return i},jn.toFinite=cs,jn.toInteger=ls,jn.toLength=fs,jn.toLower=function(e){return hs(e).toLowerCase()},jn.toNumber=ds,jn.toSafeInteger=function(e){return e?ir(ls(e),-9007199254740991,f):0===e?e:0},jn.toString=hs,jn.toUpper=function(e){return hs(e).toUpperCase()},jn.trim=function(e,t,n){if((e=hs(e))&&(n||t===i))return Kt(e);if(!e||!(t=oi(t)))return e;var r=ln(e),o=ln(t);return yi(r,Zt(r,o),Xt(r,o)+1).join("")},jn.trimEnd=function(e,t,n){if((e=hs(e))&&(n||t===i))return e.slice(0,fn(e)+1);if(!e||!(t=oi(t)))return e;var r=ln(e);return yi(r,0,Xt(r,ln(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=hs(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=oi(t)))return e;var r=ln(e);return yi(r,Zt(r,ln(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(Ya(t)){var o="separator"in t?t.separator:o;n="length"in t?ls(t.length):n,r="omission"in t?oi(t.omission):r}var a=(e=hs(e)).length;if(rn(e)){var s=ln(e);a=s.length}if(n>=a)return e;var u=n-cn(r);if(u<1)return r;var c=s?yi(s,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),ts(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Ce(o.source,hs(de.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;c=c.slice(0,d===i?u:d)}}else if(e.indexOf(oi(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},jn.unescape=function(e){return(e=hs(e))&&$.test(e)?e.replace(W,dn):e},jn.uniqueId=function(e){var t=++De;return hs(e)+t},jn.upperCase=Ws,jn.upperFirst=qs,jn.each=ha,jn.eachRight=va,jn.first=Ho,ru(jn,(pu={},yr(jn,(function(e,t){xe.call(jn.prototype,t)||(pu[t]=e)})),pu),{chain:!1}),jn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),Ct(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:vn(ls(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,p),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:io(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(Xs)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=qr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Ir(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ra(io(e)))},Vn.prototype.slice=function(e,t){e=ls(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ls(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(p)},yr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=jn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(jn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Vn,c=s[0],l=u||Ba(t),f=function(e){var t=o.apply(jn,Nt([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,v=u&&!p;if(!a&&l){t=v?t:new Vn(this);var m=e.apply(t,s);return m.__actions__.push({func:ca,args:[f],thisArg:i}),new Bn(m,d)}return h&&v?e.apply(this,s):(m=this.thru(f),h?r?m.value()[0]:m.value():m)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ke[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ba(i)?i:[],e)}return this[n]((function(n){return t.apply(Ba(n)?n:[],e)}))}})),yr(Vn.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";xe.call(kn,r)||(kn[r]=[]),kn[r].push({name:t,func:n})}})),kn[Mi(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ci(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ci(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ci(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ba(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=mn(t,e+a);break;case"takeRight":e=vn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,p=mn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return li(e,this.__actions__);var h=[];e:for(;u--&&d<p;){for(var v=-1,m=e[c+=t];++v<f;){var y=l[v],g=y.iteratee,b=y.type,_=g(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}h[d++]=m}return h},jn.prototype.at=la,jn.prototype.chain=function(){return ua(this)},jn.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=us(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof Fn;){var r=Lo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ca,args:[Yo],thisArg:i}),new Bn(t,this.__chain__)}return this.thru(Yo)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return li(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Qe&&(jn.prototype[Qe]=function(){return this}),jn}();ft._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},5364:(e,t,n)=>{var r=n(5250),i=n(999)((function(e,t,n){r(e,t,n)}));e.exports=i},9935:e=>{e.exports=function(){return!1}},9884:(e,t,n)=>{var r=n(1791),i=n(7241);e.exports=function(e){return r(e,i(e))}},5602:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},7363:(e,t,n)=>{var r=n(5020),i=n(3804);t.M9=i,t.qg=r.parse,t.Sl=r.parseParams,r.parseFmtpConfig,r.parsePayloads,r.parseRemoteCandidates,r.parseImageAttributes,r.parseSimulcastStreamList},5020:(e,t,n)=>{var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=r(e[o+1]))}(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n(5602),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach((function(e){var t=e[0],a=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var s=0;s<(o[t]||[]).length;s+=1){var u=o[t][s];if(u.reg.test(a))return i(u,r,a)}})),t.media=n,t};var s=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},3804:(e,t,n)=>{var r=n(5602),i=/%[sdv%]/g,o=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},a=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return o.apply(null,r)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],u=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||s,i=t.innerOrder||u,o=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))})),e.media.forEach((function(e){o.push(a("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(a(t,n,e))}))}))}))})),o.join("\r\n")+"\r\n"}},7963:e=>{"use strict";const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":n.relatedAddress=t[e+1];break;case"rport":n.relatedPort=parseInt(t[e+1],10);break;case"tcptype":n.tcpType=t[e+1];break;case"ufrag":n.ufrag=t[e+1],n.usernameFragment=t[e+1];break;default:void 0===n[t[e]]&&(n[t[e]]=t[e+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<r.length;e++)n=r[e].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");n.profile=r[2];for(let i=3;i<r.length;i++){const o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){const r=t.parseRtpMap(a),i=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(r.parameters=i.length?t.parseFmtp(i[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))}));const i=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach((e=>{i.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let i=0;return n.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),o=-1!==r.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let u;const c=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));c.length>0&&c[0].length>1&&c[0][0]===s&&(u=c[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&u&&(t.rtx={ssrc:u}),n.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:o?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&s&&n.push({ssrc:s});let l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substring(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=l}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;const o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substring(7).split(" "),{stream:n[0],track:n[1]};const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(n=i[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substring(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,r){let i;const o=void 0!==n?n:2;return i=e||t.generateSessionId(),"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let e=0;e<r.length;e++)switch(r[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[e].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let e=0;e<n.length;e++)if(n[e].length<2||"="!==n[e].charAt(1))return!1;return!0},e.exports=t},5512:e=>{"use strict";e.exports=function(e,t,n,r){var i=self||window;try{try{var o;try{o=new i.Blob([e])}catch(t){(o=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),o=o.getBlob()}var a=i.URL||i.webkitURL,s=a.createObjectURL(o),u=new i[t](s,n);return a.revokeObjectURL(s),u}catch(r){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}},8630:(e,t,n)=>{var r;!function(e){!function(){var t="object"==typeof globalThis?globalThis:"object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}(),r=i(e);function i(e,t){return function(n,r){Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0!==t.Reflect&&(r=i(t.Reflect,r)),function(e,t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,u=!a&&!s,c={create:a?function(){return H(Object.create(null))}:s?function(){return H({__proto__:null})}:function(){return H({})},has:u?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,D(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){if(!D(this._cacheKey,e)){this._cacheIndex=-1;for(var n=0;n<this._keys.length;n++)if(D(this._keys[n],e)){this._cacheIndex=n;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}(),d="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}(),p="function"==typeof WeakMap?WeakMap:function(){var e=16,t=c.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+s()}while(c.has(t,e));return t[e]=!0,e}function o(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var t=function(e){if("function"==typeof Uint8Array){var t=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):a(t,e),t}return a(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}(),h=r?Symbol.for("@reflect-metadata:registry"):void 0,v=function(){var e;return!C(h)&&I(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[h]),C(e)&&(e=function(){var e,n,r,i;C(h)||void 0===t.Reflect||h in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=function(e){var t=e.defineMetadata,n=e.hasOwnMetadata,r=e.getOwnMetadata,i=e.getOwnMetadataKeys,o=e.deleteMetadata,a=new p;return{isProviderFor:function(e,t){var n=a.get(e);return!(C(n)||!n.has(t))||!!i(e,t).length&&(C(n)&&(n=new d,a.set(e,n)),n.add(t),!0)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:r,OrdinaryOwnMetadataKeys:i,OrdinaryDeleteMetadata:o}}(t.Reflect));var o=new p,a={registerProvider:s,getProvider:c,setProvider:v};return a;function s(t){if(!Object.isExtensible(a))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case C(n):n=t;break;case n===t:break;case C(r):r=t;break;case r===t:break;default:void 0===i&&(i=new d),i.add(t)}}function u(t,o){if(!C(n)){if(n.isProviderFor(t,o))return n;if(!C(r)){if(r.isProviderFor(t,o))return n;if(!C(i))for(var a=M(i);;){var s=U(a);if(!s)return;var u=j(s);if(u.isProviderFor(t,o))return F(a),u}}}if(!C(e)&&e.isProviderFor(t,o))return e}function c(e,t){var n,r=o.get(e);return C(r)||(n=r.get(t)),C(n)?(C(n=u(e,t))||(C(r)&&(r=new f,o.set(e,r)),r.set(t,n)),n):n}function l(e){if(C(e))throw new TypeError;return n===e||r===e||!C(i)&&i.has(e)}function v(e,t,n){if(!l(n))throw new Error("Metadata provider not registered.");var r=c(e,t);if(r!==n){if(!C(r))return!1;var i=o.get(e);C(i)&&(i=new f,o.set(e,i)),i.set(t,n)}return!0}}()),!C(h)&&I(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,h,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}(),m=function(e){var t=new p,n={isProviderFor:function(e,n){var r=t.get(e);return!C(r)&&r.has(n)},OrdinaryDefineOwnMetadata:function(e,t,n,i){r(n,i,!0).set(e,t)},OrdinaryHasOwnMetadata:function(e,t,n){var i=r(t,n,!1);return!C(i)&&A(i.has(e))},OrdinaryGetOwnMetadata:function(e,t,n){var i=r(t,n,!1);if(!C(i))return i.get(e)},OrdinaryOwnMetadataKeys:function(e,t){var n=[],i=r(e,t,!1);if(C(i))return n;for(var o=M(i.keys()),a=0;;){var s=U(o);if(!s)return n.length=a,n;var u=j(s);try{n[a]=u}catch(e){try{F(o)}finally{throw e}}a++}},OrdinaryDeleteMetadata:function(e,n,i){var o=r(n,i,!1);if(C(o))return!1;if(!o.delete(e))return!1;if(0===o.size){var a=t.get(n);C(a)||(a.delete(i),0===a.size&&t.delete(a))}return!0}};return v.registerProvider(n),n;function r(r,i,o){var a=t.get(r),s=!1;if(C(a)){if(!o)return;a=new f,t.set(r,a),s=!0}var u=a.get(i);if(C(u)){if(!o)return;if(u=new f,a.set(i,u),!e.setProvider(r,i,n))throw a.delete(i),s&&t.delete(r),new Error("Wrong provider for target.")}return u}}(v);function y(e,t,n){if(g(e,t,n))return!0;var r=B(t);return!O(r)&&y(e,r,n)}function g(e,t,n){var r=V(t,n,!1);return!C(r)&&A(r.OrdinaryHasOwnMetadata(e,t,n))}function b(e,t,n){if(g(e,t,n))return _(e,t,n);var r=B(t);return O(r)?void 0:b(e,r,n)}function _(e,t,n){var r=V(t,n,!1);if(!C(r))return r.OrdinaryGetOwnMetadata(e,t,n)}function w(e,t,n,r){V(n,r,!0).OrdinaryDefineOwnMetadata(e,t,n,r)}function E(e,t){var n=S(e,t),r=B(e);if(null===r)return n;var i=E(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,a=[],s=0,u=n;s<u.length;s++){var c=u[s];o.has(c)||(o.add(c),a.push(c))}for(var l=0,f=i;l<f.length;l++)c=f[l],o.has(c)||(o.add(c),a.push(c));return a}function S(e,t){var n=V(e,t,!1);return n?n.OrdinaryOwnMetadataKeys(e,t):[]}function T(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function C(e){return void 0===e}function O(e){return null===e}function I(e){return"object"==typeof e?null!==e:"function"==typeof e}function k(e,t){switch(T(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=L(e,i);if(void 0!==r){var o=r.call(e,n);if(I(o))throw new TypeError;return o}return function(e,t){if("string"===t){var n=e.toString;if(N(n)&&!I(i=n.call(e)))return i;if(N(r=e.valueOf)&&!I(i=r.call(e)))return i}else{var r;if(N(r=e.valueOf)&&!I(i=r.call(e)))return i;var i,o=e.toString;if(N(o)&&!I(i=o.call(e)))return i}throw new TypeError}(e,"default"===n?"number":n)}function A(e){return!!e}function P(e){var t=k(e,3);return function(e){return"symbol"==typeof e}(t)?t:function(e){return""+e}(t)}function R(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function N(e){return"function"==typeof e}function x(e){return"function"==typeof e}function D(e,t){return e===t||e!=e&&t!=t}function L(e,t){var n=e[t];if(null!=n){if(!N(n))throw new TypeError;return n}}function M(e){var t=L(e,o);if(!N(t))throw new TypeError;var n=t.call(e);if(!I(n))throw new TypeError;return n}function j(e){return e.value}function U(e){var t=e.next();return!t.done&&t}function F(e){var t=e.return;t&&t.call(e)}function B(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function V(e,t,n){var r=v.getProvider(e,t);if(!C(r))return r;if(n){if(v.setProvider(e,t,m))return m;throw new Error("Illegal state.")}}function H(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(C(n)){if(!R(e))throw new TypeError;if(!x(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!C(r)&&!O(r)){if(!x(r))throw new TypeError;t=r}}return t}(e,t)}if(!R(e))throw new TypeError;if(!I(t))throw new TypeError;if(!I(r)&&!C(r)&&!O(r))throw new TypeError;return O(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!C(o)&&!O(o)){if(!I(o))throw new TypeError;r=o}}return r}(e,t,n=P(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!I(n))throw new TypeError;if(!C(r)&&!function(e){switch(T(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;w(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!I(n))throw new TypeError;return C(r)||(r=P(r)),w(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!I(t))throw new TypeError;return C(n)||(n=P(n)),y(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!I(t))throw new TypeError;return C(n)||(n=P(n)),g(e,t,n)})),e("getMetadata",(function(e,t,n){if(!I(t))throw new TypeError;return C(n)||(n=P(n)),b(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!I(t))throw new TypeError;return C(n)||(n=P(n)),_(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!I(e))throw new TypeError;return C(t)||(t=P(t)),E(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!I(e))throw new TypeError;return C(t)||(t=P(t)),S(e,t)})),e("deleteMetadata",(function(e,t,n){if(!I(t))throw new TypeError;if(C(n)||(n=P(n)),!I(t))throw new TypeError;C(n)||(n=P(n));var r=V(t,n,!1);return!C(r)&&r.OrdinaryDeleteMetadata(e,t,n)}))}(r,t),void 0===t.Reflect&&(t.Reflect=e)}()}(r||(r={}))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};return(()=>{"use strict";n.r(r),n.d(r,{BASIC_FULL_HD_LANDSCAPE:()=>at,BASIC_FULL_HD_PORTRAIT:()=>st,BASIC_LANDSCAPE:()=>it,BASIC_PORTRAIT:()=>ot,BroadcastClientError:()=>de,BroadcastClientEvents:()=>fn,ConnectionState:()=>yn,Errors:()=>a,InitialLayerPreference:()=>pi,JitterBufferMinDelay:()=>di,LOG_LEVEL:()=>le,LocalStageStream:()=>ss,LocalStageStreamEvents:()=>Xa,LogLevels:()=>le,RemoteStageStream:()=>ps,RemoteStageStreamEvents:()=>Ja,STAGE_MAX_AUDIO_BITRATE_KBPS:()=>wi,STAGE_MAX_AUDIO_BITRATE_KBPS_DEFAULT:()=>Ei,STAGE_MAX_BITRATE:()=>yi,STAGE_MAX_FRAMERATE:()=>bi,STAGE_MIN_AUDIO_BITRATE_KBPS:()=>_i,STAGE_MIN_BITRATE:()=>mi,STAGE_MIN_FRAMERATE:()=>gi,STANDARD_LANDSCAPE:()=>ut,STANDARD_PORTRAIT:()=>ct,Stage:()=>Rs,StageConnectionState:()=>Ho,StageErrorCategory:()=>Da,StageErrorCode:()=>La,StageEvents:()=>Os,StageLeftReason:()=>Ns,StageParticipantPublishState:()=>ts,StageParticipantSubscribeState:()=>ns,StageStream:()=>as,StageStreamLayerSelectedReason:()=>Za,StreamType:()=>_n,SubscribeType:()=>xa,__version:()=>Yn,create:()=>Qn,default:()=>xs,isSupported:()=>ce});var e={};n.r(e),n.d(e,{fixNegotiationNeeded:()=>R,shimAddTrackRemoveTrack:()=>A,shimAddTrackRemoveTrackWithNative:()=>k,shimGetDisplayMedia:()=>E,shimGetSendersWithDtmf:()=>C,shimGetStats:()=>O,shimGetUserMedia:()=>w,shimMediaStream:()=>S,shimOnTrack:()=>T,shimPeerConnection:()=>P,shimSenderReceiverGetStats:()=>I});var t={};n.r(t),n.d(t,{shimAddTransceiver:()=>B,shimCreateAnswer:()=>z,shimCreateOffer:()=>H,shimGetDisplayMedia:()=>x,shimGetParameters:()=>V,shimGetUserMedia:()=>N,shimOnTrack:()=>D,shimPeerConnection:()=>L,shimRTCDataChannel:()=>F,shimReceiverGetStats:()=>j,shimRemoveStream:()=>U,shimSenderGetStats:()=>M});var i={};n.r(i),n.d(i,{shimAudioContext:()=>Z,shimCallbacksAPI:()=>q,shimConstraints:()=>K,shimCreateOfferLegacy:()=>J,shimGetUserMedia:()=>$,shimLocalStreamsAPI:()=>G,shimRTCIceServerUrls:()=>Q,shimRemoteStreamsAPI:()=>W,shimTrackEventTransceiver:()=>Y});var o={};n.r(o),n.d(o,{removeExtmapAllowMixed:()=>ae,shimAddIceCandidateNullOrEmpty:()=>se,shimConnectionState:()=>oe,shimMaxMessageSize:()=>re,shimParameterlessSetLocalDescription:()=>ue,shimRTCIceCandidate:()=>te,shimRTCIceCandidateRelayProtocol:()=>ne,shimSendThrowTypeError:()=>ie});var a={};n.r(a),n.d(a,{ADD_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>be,ADD_DEVICE_COMPOSITION_MISSING_ERROR:()=>ge,ADD_DEVICE_CONSTRAINTS_ERROR:()=>Ee,ADD_DEVICE_DEVICE_ERROR:()=>me,ADD_DEVICE_NAME_EXISTS_ERROR:()=>ye,ADD_DEVICE_NAME_MISSING_ERROR:()=>_e,ADD_DEVICE_UNSUPPORTED:()=>we,BROADCAST_CONFIGURATION_ERROR:()=>xe,BROADCAST_ERROR:()=>pe,CAMERA_ERROR:()=>he,CLIENT_INVALID_ERROR:()=>Fe,EXCHANGE_POSITION_DEVICE_NOT_FOUND_ERROR:()=>ke,FAILED_TO_ADD_IMAGE_ERROR:()=>Ae,INGEST_ENDPOINT_TYPE_ERROR:()=>Le,INGEST_ENDPOINT_URL_ERROR:()=>Me,INPUT_ERROR:()=>ve,INVALID_STREAM_KEY:()=>Ne,LOGGER_TYPE_ERROR:()=>Ue,LOG_LEVEL_TYPE_ERROR:()=>je,NETWORK_RECONNECT_CONFIGURATION_ERROR:()=>Be,NETWORK_RECONNECT_CONFIGURATION_INVALID_TIMEOUT_ERROR:()=>Ve,PEER_CONNECTION_ERROR:()=>Re,PEER_SETUP_ERROR:()=>Pe,REMOVE_DEVICE_NOT_FOUND_ERROR:()=>Se,REMOVE_IMAGE_NOT_FOUND_ERROR:()=>Te,STAGE_TOKEN_TYPE_ERROR:()=>ze,STAGE_WHIP_OVERRIDE_ERROR:()=>Ge,STREAM_CONFIGURATION_ERROR:()=>De,STREAM_KEY_INVALID_CHAR_ERROR:()=>He,UPDATE_VIDEO_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>Oe,UPDATE_VIDEO_DEVICE_COMPOSITION_MISSING_ERROR:()=>Ce,UPDATE_VIDEO_DEVICE_COMPOSITION_NAME_NOT_FOUND_ERROR:()=>Ie});var s={};n.r(s),n.d(s,{BASIC_FULL_HD_LANDSCAPE:()=>at,BASIC_FULL_HD_PORTRAIT:()=>st,BASIC_LANDSCAPE:()=>it,BASIC_PORTRAIT:()=>ot,BroadcastClientError:()=>de,BroadcastClientEvents:()=>fn,ConnectionState:()=>yn,Errors:()=>a,LOG_LEVEL:()=>le,LogLevels:()=>le,STANDARD_LANDSCAPE:()=>ut,STANDARD_PORTRAIT:()=>ct,__version:()=>Yn,create:()=>Qn,isSupported:()=>ce});let u=!0,c=!0;function l(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function f(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};const o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function d(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function p(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function h(){if("object"==typeof window){if(u)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function v(e,t){c&&console.warn(e+" is deprecated, please use "+t+" instead.")}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){return m(e)?Object.keys(e).reduce((function(t,n){const r=m(e[n]),i=r?y(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})}),{}):e}function g(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((r=>{r.endsWith("Id")?g(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((t=>{g(e,e.get(t),n)}))})))}function b(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&g(e,n,i)}))})),i}const _=h;function w(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const a=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let a=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&n.length&&t.includes("back")&&(a=n[n.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=r(e.video),_("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return _("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(o(e))))))}}}function E(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function S(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function T(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else f(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function C(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function O(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(o(i(e)))};return t.apply(this,[r,e])}return new Promise(((e,n)=>{t.apply(this,[function(t){e(o(i(t)))},n])})).then(n,r)}}function I(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>b(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),f(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>b(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function k(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function A(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return k(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function P(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function R(e,t){f(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}function N(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){v("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function x(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function D(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function L(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,o]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,o)}}function M(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function j(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),f(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function U(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){v("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function F(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function B(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function V(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function H(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function z(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function G(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e,...n){return n&&n.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function W(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function q(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}function $(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(K(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function K(e){return e&&void 0!==e.video?Object.assign({},e,{video:y(e.video)}):e}function Q(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];void 0===r.urls&&r.url?(v("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function Y(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function J(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Z(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var X=n(7963),ee=n.n(X);function te(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const n=new t(e),r=ee().parseCandidate(e.candidate);for(const e in r)e in n||Object.defineProperty(n,e,{value:r[e]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,f(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function ne(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||f(e,"icecandidate",(e=>{if(e.candidate){const t=ee().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function re(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=ee().splitSections(e.sdp);return t.shift(),t.some((e=>{const t=ee().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),r=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=ee().matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substring(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],e);let i;i=0===n&&0===r?Number.POSITIVE_INFINITY:0===n||0===r?Math.max(n,r):Math.min(n,r);const o={};Object.defineProperty(o,"maxMessageSize",{get:()=>i}),this._sctp=o}return n.apply(this,arguments)}}function ie(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},f(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function oe(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function ae(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function se(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ue(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>n.apply(this,[e])))})}!function({window:n}={},r={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const a=h,s=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=l(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=l(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=l(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(n),u={browserDetails:s,commonShim:o,extractVersion:l,disableLog:d,disableWarnings:p,sdp:X};switch(s.browser){case"chrome":if(!e||!P||!r.shimChrome)return a("Chrome shim is not included in this adapter release."),u;if(null===s.version)return a("Chrome shim can not determine version, not shimming."),u;a("adapter.js shimming chrome."),u.browserShim=e,se(n,s),ue(n),w(n,s),S(n),P(n,s),T(n),A(n,s),C(n),O(n),I(n),R(n,s),te(n),ne(n),oe(n),re(n,s),ie(n),ae(n,s);break;case"firefox":if(!t||!L||!r.shimFirefox)return a("Firefox shim is not included in this adapter release."),u;a("adapter.js shimming firefox."),u.browserShim=t,se(n,s),ue(n),N(n,s),L(n,s),D(n),U(n),M(n),j(n),F(n),B(n),V(n),H(n),z(n),te(n),oe(n),re(n,s),ie(n);break;case"safari":if(!i||!r.shimSafari)return a("Safari shim is not included in this adapter release."),u;a("adapter.js shimming safari."),u.browserShim=i,se(n,s),ue(n),Q(n),J(n),q(n),G(n),W(n),Y(n),$(n),Z(n),te(n),ne(n),re(n,s),ie(n),ae(n,s);break;default:a("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window}),n(8630);const ce=()=>"function"==typeof RTCPeerConnection;var le,fe;!function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(le||(le={})),function(e){e.TIME="Time",e.WEBRTC="WebRTC",e.EMITTER="Emitter",e.MEDIA="Media",e.SUBSCRIPTION="StageSubscription",e.PUBLICATION="StagePublication",e.CONNECTION="StageConnection",e.SOCKET="StageSocket",e.BROADCAST_STAGE_CLIENT="BroadcastStageClient",e.STAGE="Stage",e.REMOTE_PARTICIPANT="RemoteParticipant",e.LOCAL_PARTICIPANT="LocalParticipant",e.CONFIGURATION="Configuration",e.REMOTE_PLAYBACK="RemotePlaybackController",e.REMOTE_STAGE_STREAM="RemoteStageStream"}(fe||(fe={})),new Uint8Array([158,80,78,165,238,90,79,2,148,159,176,51,163,118,141,162]);class de extends Error{constructor({name:e,message:t,code:n,details:r,cause:i,params:o}){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,de),this.name=e||"BroadcastClientError",this.message=t,this.code=n,this.details=r,this.cause=i,this.params=o}}const pe={name:"BroadcastError",code:1e3,message:"Unable to broadcast"},he={name:"CameraError",code:2e3,message:"Camera could not be captured"},ve={name:"InputError",code:3e3,message:"Input could not be attached"},me={name:"AddDeviceError",code:4e3,message:"Device is missing"},ye={name:"AddDeviceNameExistsError",code:4001,message:"Name is already registered"},ge={name:"AddDeviceCompositionMissingError",code:4002,message:"VideoComposition is missing"},be={name:"AddDeviceCompositionIndexMissingError",code:4003,message:'VideoComposition\'s "index" property is missing'},_e={name:"AddDeviceNameMissingError",code:4004,message:"Name property is missing"},we={name:"AddDeviceUnsupported",code:4005,message:"Unsupported device"},Ee={name:"AddDeviceConstraintsError",code:4006,message:"Constraints error"},Se={name:"RemoveDeviceNotFoundError",code:5e3,message:"Device not found"},Te={name:"RemoveImageNotFoundError",code:6e3,message:"Image not found"},Ce={name:"UpdateVideoDeviceCompositionMissingError",code:7e3,message:"VideoComposition is missing"},Oe={name:"UpdateVideoDeviceCompositionIndexMissingError",code:7001,message:'VideoComposition\'s "index" property is missing'},Ie={name:"UpdateVideoDeviceCompositionNameMissingError",code:7002,message:"Video device with that name is not found"},ke={name:"ExchangePositionDeviceNotFoundError",code:8e3,message:"Device with that name is not found"},Ae={name:"FailedToAddImageError",code:9e3,message:"Failed to add image"},Pe={name:"PeerSetupError",code:1e4,message:"Unexpected return value from setup request"},Re={name:"PeerConnectionError",code:10001,message:"Peer connection has failed."},Ne={name:"InvalidStreamKey",code:10003,message:"Invalid Stream Key."},xe={name:"BroadcastConfigurationError",code:11e3,message:"Error when configuring broadcast client"},De={name:"StreamConfigurationError",code:12e3,message:"Error when configuring stream"},Le={name:"IngestEndpointTypeError",code:13e3,message:"Ingest endpoint must be a string"},Me={name:"IngestEndpointUrlError",code:13001,message:"Ingest endpoint must be a valid https or rtmps URL"},je={name:"LogLevelTypeError",code:14e3,message:"Log Level must be a valid integer between [0..5]"},Ue={name:"LoggerTypeError",code:15e3,message:"Logger must be an object"},Fe={name:"ClientInvalidError",code:16e3,message:"Client is no longer valid, possibly due to delete() invocation."},Be={name:"NetworkReconnectConfigurationError",code:17e3,message:"Error when configuring network reconnect"},Ve={name:"NetworkReconnectConfigurationInvalidTimeoutError",code:17001,message:"Network reconnect timeout value must be a number between [10000, 300000]"},He={name:"StreamKeyInvalidCharError",code:18e3,message:"Streamkey must contain only [A-Za-z0-9_-] characters"},ze={name:"StageTokenTypeError",code:19e3,message:"Stage token must be a string"},Ge={name:"StageWhipUrlOverrideError",code:19001,message:"Stage WHIP override URL must be a string starting with http"};var We,qe,$e,Ke,Qe,Ye,Je,Ze,Xe,et=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},tt=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};const nt=1920,rt=le.ERROR,it={maxResolution:{width:852,height:480},maxFramerate:30,maxBitrate:1500},ot={maxResolution:{width:480,height:852},maxFramerate:30,maxBitrate:1500},at={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:3500},st={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:3500},ut={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:8500},ct={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:8500},lt={reconnect:!1,timeout:12e4};function ft(e){var t,n;if("string"!=typeof e&&void 0!==e)throw new de(Le);if(e){if(e.startsWith("https"))return e;{const r=/(?<protocol>(rtmps|https):\/\/)?(?<id>.+)\.(?<environment>(?=\S*['-])([a-zA-Z'-]+))\.live-video\.net.*/.exec(e);if("rtmps"===(null===(t=null==r?void 0:r.groups)||void 0===t?void 0:t.protocol)&&console.warn("rtmps server url detected; please pass in the ingest endpoint (no rtmps:// protocol) instead"),null===(n=null==r?void 0:r.groups)||void 0===n?void 0:n.id)return`https://${r.groups.id}.webrtc.live-video.net:4443`;throw new de(Me)}}return""}class dt{constructor(e,t,n=it,r,i=lt){this.LOG_LEVEL=le,this.BASIC_LANDSCAPE=it,this.BASIC_PORTRAIT=ot,this.BASIC_FULL_HD_LANDSCAPE=at,this.BASIC_FULL_HD_PORTRAIT=st,this.STANDARD_LANDSCAPE=ut,this.STANDARD_PORTRAIT=ct,We.set(this,void 0),qe.set(this,void 0),$e.set(this,it),Ke.set(this,void 0),Qe.set(this,lt),Ye.set(this,(e=>{if(!e)throw new de(Object.assign(Object.assign({},De),{details:"missing stream configuration"}));if(!(e.maxBitrate<=8500&&e.maxBitrate>=200))throw new de(Object.assign(Object.assign({},De),{details:"maxBitrate must be between 200 and 8500"}));if(!(e.maxFramerate<=60&&e.maxFramerate>=10))throw new de(Object.assign(Object.assign({},De),{details:"maxFramerate must be between 10 and 60"}));const t=e.maxResolution.width,n=e.maxResolution.height;if(t>nt||n>nt||t<160||n<160||t===nt&&n>1080||n===nt&&t>1080)throw new de(Object.assign(Object.assign({},De),{details:"maxResolution values must be between 1080x1920 or 1920x1080"}))})),Je.set(this,(e=>{if(!e)return;const t=Number(e),n=Number.isInteger(t),r=t>=le.TRACE,i=t<=le.SILENT;if(!n||!r||!i)throw new de(je)})),Ze.set(this,(e=>{if(e&&"object"!=typeof e)throw new de(Ue)})),Xe.set(this,(e=>{if(!e)return;if("object"!=typeof e||"boolean"!=typeof e.reconnect)throw new de(Be);const{timeout:t}=e;if(void 0!==t&&(Number.isNaN(t)||"number"!=typeof t||t<1e4||t>3e5))throw new de(Ve)})),et(this,Ze,"f").call(this,r),et(this,Je,"f").call(this,t),et(this,Ye,"f").call(this,n),tt(this,We,e,"f"),tt(this,qe,t,"f"),tt(this,$e,n,"f"),tt(this,Ke,r,"f"),tt(this,Qe,i,"f")}get ingestEndpoint(){return et(this,We,"f")}set ingestEndpoint(e){tt(this,We,ft(e),"f")}get streamConfig(){return et(this,$e,"f")}set streamConfig(e){et(this,Ye,"f").call(this,e),tt(this,$e,e,"f")}get logLevel(){return et(this,qe,"f")}set logLevel(e){et(this,Je,"f").call(this,e),tt(this,qe,e,"f")}get logger(){return et(this,Ke,"f")}set logger(e){et(this,Ze,"f").call(this,e),tt(this,Ke,e,"f")}get networkReconnectConfig(){return et(this,Qe,"f")}set networkReconnectConfig(e){et(this,Xe,"f").call(this,e),tt(this,Qe,e,"f")}}We=new WeakMap,qe=new WeakMap,$e=new WeakMap,Ke=new WeakMap,Qe=new WeakMap,Ye=new WeakMap,Je=new WeakMap,Ze=new WeakMap,Xe=new WeakMap;var pt,ht=n(228),vt=n(6880);!function(e){e.PUBLISHED_VIDEO_STATS="ivs_broadcast_webrtc_published_video_stats",e.PUBLISHED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_published_video_stats_window",e.PUBLISHED_AUDIO_STATS="ivs_broadcast_webrtc_published_audio_stats",e.PUBLISHED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_published_audio_stats_window",e.SUBSCRIBED_VIDEO_STATS="ivs_broadcast_webrtc_subscribed_video_stats",e.SUBSCRIBED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_video_stats_window",e.SUBSCRIBED_AUDIO_STATS="ivs_broadcast_webrtc_subscribed_audio_stats",e.SUBSCRIBED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_audio_stats_window",e.PUBLISH="ivs_broadcast_multihost_publish",e.UNPUBLISH="ivs_broadcast_multihost_unpublish",e.SUBSCRIBE="ivs_broadcast_multihost_subscribe",e.UNSUBSCRIBE="ivs_broadcast_multihost_unsubscribe",e.PUBLISH_STARTED="ivs_broadcast_multihost_publish_started",e.PUBLISH_FAILED="ivs_broadcast_multihost_publish_failed",e.PUBLISH_ENDED="ivs_broadcast_multihost_publish_ended",e.STATE_UPDATED="ivs_broadcast_multihost_event_state_updated",e.SUBSCRIBE_STARTED="ivs_broadcast_multihost_subscribe_started",e.SUBSCRIBE_FAILED="ivs_broadcast_multihost_subscribe_failed",e.SUBSCRIBE_ENDED="ivs_broadcast_multihost_subscribe_ended",e.FIRST_FRAME="ivs_broadcast_multihost_first_frame",e.JOIN="ivs_broadcast_multihost_join",e.JOIN_ATTEMPT="ivs_broadcast_multihost_event_connect_attempt",e.JOIN_ATTEMPT_FAILED="ivs_broadcast_multihost_event_connect_failed",e.JOIN_ENDED="ivs_broadcast_multihost_join_ended",e.LEAVE="ivs_broadcast_multihost_leave",e.REASSIGNMENT_REQUEST="ivs_broadcast_multihost_reassignment_request",e.SERVER_REQUEST="ivs_broadcast_multihost_server_request",e.TRACE="ivs_broadcast_stage_trace",e.ERROR="ivs_broadcast_error",e.MINUTE="ivs_broadcast_multihost_minute",e.CONNECTION_STATE="ivs_broadcast_webrtc_connection_state",e.ICE_GATHERING_STATE="ivs_broadcast_webrtc_gathering_state",e.EDP_CONNECTED="ivs_broadcast_multihost_event_connected",e.EDP_DISCONNECTED="ivs_broadcast_multihost_event_disconnected",e.EDP_PONG="ivs_broadcast_multihost_edp_rtt",e.SIMULCAST_LAYER_INFO="ivs_broadcast_simulcast_layer_info",e.MULTIHOST_CONFIGURATION="ivs_broadcast_multihost_configuration",e.MULTIHOST_SUBSCRIBE_CONFIGURATION="ivs_broadcast_multihost_subscribe_configuration",e.PLAYBACK_LAYER_REQUEST="ivs_broadcast_multihost_playback_layer_request",e.PLAYBACK_LAYER_STATE="ivs_broadcast_multihost_playback_layer_state",e.SELECTED_PAIR_CHANGE="ivs_broadcast_webrtc_selected_pair_change"}(pt||(pt={}));class mt{constructor(e,t,n,r){let i="unknown";if(t.stageARN&&t.stageARN.startsWith("arn:aws:ivs:")){const e=t.stageARN.split(":");6===e.length&&(i=e[4])}this.event=e,this.properties={client_time:(new Date).toISOString(),customer_id:i,device_software:window.navigator.userAgent,multihost_id:t.stageARN,participant_id:t.participantID,participant_user_id:t.userID,platform:"web",sdk_version:"1.22.1",stage_arn:t.stageARN,trace_id:n.value},t.attrGsRole&&(this.properties.token_attribute_0=t.attrGsRole),t.attrGsSessionId&&(this.properties.token_attribute_1=t.attrGsSessionId),this.critical=r}}class yt extends mt{constructor(e){super(pt.ERROR,e.token,e.traceId,!0),Object.assign(this.properties,{code:e.code,tag:e.tag,description:e.message,remote_participant_id:e.remoteParticipantId,request_uuid:e.requestUUID,is_nominal:e.nominal,is_fatal:e.fatal,details:e.details,location:e.location,event_count:e.count})}}function gt(e){const t=window.IVS_CLIENT_OVERRIDES;return"object"==typeof t?t[e]:"logLevel"===e?window.STAGES_LOG_LEVEL:"appLabel"===e?window.IVS_APP_LABEL:"whipUrl"===e?window.IVS_DATA_PLANE_ENDPOINT:void 0}function bt(e){const t=gt(e);if("string"==typeof t)return t}function _t(e){const t=gt(e);if("boolean"==typeof t)return t}function wt(){const e=gt("logLevel");if("number"==typeof e&&Object.values(le).includes(e))return e}function Et(){return _t("disableXdp")}function St(){return _t("enableXdpPublish")}function Tt(){return _t("preferMainProfile")}function Ct(){return _t("enableInitialLayerOnSdp")}function Ot(){return _t("disableAudioRtcpRsize")}var It,kt,At=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};class Pt{constructor(e="https://broadcast.stats.live-video.net/"){this.endpointUrl=e}send(e,t=!1){return At(this,void 0,void 0,(function*(){const n=Date.now();for(const t of e)t.properties.batch_time_millis=n;const r=this.b64EncodeUnicode(JSON.stringify(e)),i={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},o=`data=${r}`;t?navigator.sendBeacon(this.endpointUrl,o):(()=>{At(this,void 0,void 0,(function*(){try{yield function(e,t,n={},r=""){return At(this,void 0,void 0,(function*(){const i=new XMLHttpRequest;return i.open(e,t,!0),n&&Object.keys(n).forEach((e=>{n.hasOwnProperty(e)&&i.setRequestHeader(e,n[e])})),new Promise(((n,o)=>{i.onreadystatechange=()=>{4===i.readyState&&(i.status>=200&&i.status<300?n(i.responseText):o(new Error(`Ingest ${e} ${t} responded ${i.status}\n${i.responseText}`)))},i.send(r)}))}))}("POST",this.endpointUrl,i,o)}catch(e){}}))})()}))}b64EncodeUnicode(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(Number(`0x${t}`)))))}updateEndpointUrl(e){this.endpointUrl=e}}function Rt(e){if(!e)throw new Error("eventSender is not defined")}function Nt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}class xt{constructor(){var e;this.sharedProperties={},this.eventSender={},this.queuedEvents=[],this.genSessionId(),this.clientConfigPostUrlOverride=function(){const e=bt("analyticsPostUrl");if(void 0!==e)return e}();const t=null!==(e=this.clientConfigPostUrlOverride)&&void 0!==e?e:"https://broadcast.stats.live-video.net/",n=function(){const e=bt("appLabel");if(void 0!==e)return e.substring(0,64)}();this.eventSender=new Pt(t),this.initSharedProperties({appLabel:n}),this.errorReports=new Map}start(){this.flushInterval||(this.flushInterval=window.setInterval((()=>{this.queueAggregateErrors({force:!1}),this.flushEvents()}),1e3))}stop(e){let t=!1;clearInterval(this.flushInterval),this.flushInterval=void 0,this.queueAggregateErrors({force:!0}),e&&(this.queuedEvents=this.queuedEvents.filter((e=>e.critical)),t=!0),this.flushEvents(t),this.genSessionId()}trackEvent(e,t=!1){let n=this.sharedProperties;t&&(n={global_session_id:xt.globalSessionId,session_id:this.sharedProperties.session_id,browser:this.sharedProperties.browser,browser_family:this.sharedProperties.browser_family,browser_version:this.sharedProperties.browser_version,os_name:this.sharedProperties.os_name,os_version:this.sharedProperties.os_version,is_backgrounded:this.sharedProperties.is_backgrounded}),"hidden"===(null===document||void 0===document?void 0:document.visibilityState)&&(n.is_backgrounded=!0),"data"in e?(e.data.properties=Object.assign({},n,e.data.properties),this.queuedEvents.push(e.data)):(e.properties=Object.assign({},n,e.properties),this.queuedEvents.push(e))}trackEventNoSharedProps(e){this.trackEvent(e,!0)}trackErrorAndThrow(e){throw this.trackError(e),e}trackError(e){const t=`${e.code}${e.fatal}${e.nominal}${e.tag}${e.traceId.value}`,n=this.errorReports.get(t),r={error:e,queuedAt:Date.now(),count:0};return n?(0===n.count&&(n.error=e),n.count+=1,n.queuedAt+6e4<=Date.now()?(this.trackErrorReportIfNeeded(n),void this.errorReports.set(t,r)):void 0):(this.errorReports.set(t,r),void this.trackEvent(new yt(e)))}queueAggregateErrors({force:e=!1}){this.errorReports.forEach(((t,n)=>{const r=t.queuedAt+6e4;!e&&r>Date.now()||(this.trackErrorReportIfNeeded(t),this.errorReports.delete(n))}))}trackErrorReportIfNeeded(e){if(0===e.count)return;const t=e.error;t.count=e.count,this.trackEvent(new yt(t))}batchEvents(e){Rt(this.eventSender);const t=e.map((e=>(e.data.properties=Object.assign({},this.sharedProperties,e.data.properties),e.data)));this.eventSender.send(t)}initSharedProperties({appLabel:e}){const t=vt.getParser(navigator.userAgent),n=this.parseSemver(String(t.getBrowserVersion()));this.sharedProperties={browser:navigator.appVersion,browser_family:t.getBrowserName().toLowerCase(),browser_version:`${n.major}.${n.minor}`,customer_id:"ivs",host:window.location.hostname,os_name:t.getOSName(),os_version:String(t.getOSVersion()),platform:"web",global_session_id:xt.globalSessionId,session_id:this.sessionId,sdk_version:"1.22.1",user_agent:navigator.userAgent,is_backgrounded:!1},e&&(this.sharedProperties.app_label=e)}genSessionId(){this.sessionId=Nt(),this.sharedProperties.session_id=this.sessionId}flushEvents(e=!1){Rt(this.eventSender),this.queuedEvents.length>0&&this.eventSender.send(this.queuedEvents,e),this.queuedEvents=[]}parseSemver(e){const t=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/.exec(e)||/^(\d+)\.(\d+)[+|-]?(.*)?$/.exec(e)||/^(\d+)$/.exec(e)||[];return{major:parseInt(t[1],10)||0,minor:parseInt(t[2],10)||0,patch:parseInt(t[3],10)||0}}getSessionId(){return this.sessionId}updatePostUrl(e){this.clientConfigPostUrlOverride||this.eventSender.updateEndpointUrl(e)}}xt.globalSessionId=Nt();class Dt{constructor(e,t){this.transformProperties=(e,t)=>({sum:e.sum,median:e.median(),min:e.min,max:e.max,p90:e.percentile(.9),event_count:e.data.length,period:t});const n=this.transformProperties(e,t);this.data={event:It.CONGESTION_TIME,properties:n}}}class Lt{constructor(e,t,n){this.transformProperties=(e,t,n)=>({duration:(e.getTime()-((null==t?void 0:t.getTime())||0))/1e3,ecn_negotiated:!1,ingest_session_id:n});const r=this.transformProperties(e,t,n);this.data={event:It.CONNECTION_ESTABLISHED,properties:r}}}class Mt{constructor(e,t){this.transformProperties=(e,t)=>({sum:e.sum,median:e.median(),min:e.min,max:e.max,p90:e.percentile(.9),event_count:e.data.length,period:t});const n=this.transformProperties(e,t);this.data={event:It.CONNECTION_RTT,properties:n}}}class jt{constructor(e){this.transformProperties=e=>{var t;return{is_fatal:null!==(t=e.isFatal)&&void 0!==t&&t,value:e.value,code:e.code,description:e.description}};const t=this.transformProperties(e);this.data={event:It.ERROR,properties:t}}}class Ut{constructor(e,t){this.transformProperties=(e,t)=>({type:e,input_device_id:t.deviceId,position:t.facingMode||"unknown"});const n=this.transformProperties(e,t);this.data={event:It.INPUT_DEVICE_ATTACHED,properties:n}}}class Ft{constructor(e,t){this.transformProperties=(e,t)=>({type:e,input_device_id:t.deviceId,position:t.facingMode||"unknown"});const n=this.transformProperties(e,t);this.data={event:It.INPUT_DEVICE_DETACHED,properties:n}}}class Bt{constructor(e,t){this.transformProperties=(e,t)=>({sum:e.sum,median:e.median(),min:e.min,max:e.max,p90:e.percentile(.9),event_count:e.data.length,period:t});const n=this.transformProperties(e,t);this.data={event:It.MEASURED_BITRATE,properties:n}}}class Vt{constructor(e,t){this.transformProperties=(e,t)=>({minutes_logged:Math.round((e.timestamp-t)/6e4)});const n=this.transformProperties(e,t);this.data={event:It.MINUTE_BROADCAST,properties:n}}}class Ht{constructor(e,t){this.transformProperties=(e,t)=>({sum:e.sum,median:e.median(),min:e.min,max:e.max,p90:e.percentile(.9),event_count:e.data.length,period:t});const n=this.transformProperties(e,t);this.data={event:It.RECOMMENDED_BITRATE,properties:n}}}class zt{constructor(e){this.transformProperties=e=>({codec:e.mimeType,bitrate:0,sample_rate:e.clockRate,channel_count:e.channels});const t=this.transformProperties(e);this.data={event:It.SESSION_AUDIO_ENCODER_CONFIGURED,properties:t}}}class Gt{constructor(e){this.transformProperties=e=>({codec:"audio",bitrate:32e3,sample_rate:e.sampleRate,channel_count:e.channelCount});const t=this.transformProperties(e);this.data={event:It.SESSION_AUDIO_PROPERTIES,properties:t}}}class Wt{constructor(e,t,n){this.transformProperties=(e,t,n)=>({codec:n.mimeType,codec_profile:t.profile,codec_level:t.level,rate_mode:"vbr",initial_bitrate:0,keyframe_interval:2,width:e.width,height:e.height,bframe_count:0,target_fps:e.frameRate});const r=this.transformProperties(e,t,n);this.data={event:It.SESSION_VIDEO_ENCODER_CONFIGURED,properties:r}}}class qt{constructor(e){this.transformProperties=e=>({codec:"video",initial_bitrate:32e3,min_bitrate:0,max_bitrate:0,keyframe_interval:2,width:e.width,height:e.height,auto_bitrate_enabled:!0,bframes_enabled:!1,target_fps:e.frameRate});const t=this.transformProperties(e);this.data={event:It.SESSION_VIDEO_PROPERTIES,properties:t}}}class $t{constructor(e,t){this.transformProperties=(e,t)=>({sum:e.sum,median:e.median(),min:e.min,max:e.max,p90:e.percentile(.9),event_count:e.data.length,period:t});const n=this.transformProperties(e,t);this.data={event:It.SOURCE_AUDIO_LATENCY,properties:n}}}class Kt{constructor(e,t){this.transformProperties=(e,t)=>({sum:e.sum,median:e.median(),min:e.min,max:e.max,p90:e.percentile(.9),event_count:e.data.length,period:t});const n=this.transformProperties(e,t);this.data={event:It.SOURCE_VIDEO_LATENCY,properties:n}}}class Qt{constructor(e,t){this.transformProperties=({protocol:e,hostname:t,port:n},r)=>({protocol:e,endpoint_host:t,endpoint_port:n,reason:r});const n=this.transformProperties(e,t);this.data={event:It.START_BROADCAST,properties:n}}}class Yt{constructor(e){this.transformProperties=({protocol:e,hostname:t,port:n})=>({protocol:e,endpoint_host:t,endpoint_port:n});const t=this.transformProperties(e);this.data={event:It.STOP_BROADCAST,properties:t}}}class Jt{constructor(e){this.transformProperties=e=>({bytes_sent:e.bytesSent,header_bytes_sent:e.headerBytesSent,nack_count:e.nackCount,packets_sent:e.packetsSent,retransmitted_bytes_sent:e.retransmittedBytesSent,retransmitted_packets_sent:e.retransmittedPacketsSent});const t=this.transformProperties(e);this.data={event:It.WEBRTC_AUDIO_STATS,properties:t}}}class Zt{constructor(e){this.transformProperties=e=>({bytes_sent:e.bytesSent,fir_count:e.firCount,frames_encoded:e.framesEncoded,frames_sent:e.framesSent,header_bytes_sent:e.headerBytesSent,huge_frames_sent:e.hugeFramesSent,key_frames_encoded:e.keyFramesEncoded,nack_count:e.nackCount,packets_sent:e.packetsSent,pli_count:e.pliCount,quality_limitation_reason:e.qualityLimitationReason,quality_limitation_resolution_changes:e.qualityLimitationResolutionChanges,retransmitted_bytes_sent:e.retransmittedBytesSent,retransmitted_packets_sent:e.retransmittedPacketsSent,total_encode_time:e.totalEncodeTime,total_encoded_bytes_target:e.totalEncodedBytesTarget,total_packet_send_delay:e.totalPacketSendDelay});const t=this.transformProperties(e);this.data={event:It.WEBRTC_VIDEO_STATS,properties:t}}}!function(e){e.START_BROADCAST="ivs_broadcast_start_broadcast",e.STOP_BROADCAST="ivs_broadcast_stop_broadcast",e.MINUTE_BROADCAST="ivs_broadcast_minute_broadcast",e.WEBRTC_AUDIO_STATS="ivs_broadcast_webrtc_audio_stats",e.WEBRTC_VIDEO_STATS="ivs_broadcast_webrtc_video_stats",e.WEBRTC_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_audio_stats_window",e.WEBRTC_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_video_stats_window",e.CONNECTION_ESTABLISHED="ivs_broadcast_connection_established",e.SESSION_VIDEO_PROPERTIES="ivs_broadcast_session_video_properties",e.SESSION_AUDIO_PROPERTIES="ivs_broadcast_session_audio_properties",e.SESSION_VIDEO_ENCODER_CONFIGURED="ivs_broadcast_session_video_encoder_configured",e.SESSION_AUDIO_ENCODER_CONFIGURED="ivs_broadcast_session_audio_encoder_configured",e.SOURCE_AUDIO_LATENCY="ivs_broadcast_source_audio_latency",e.SOURCE_VIDEO_LATENCY="ivs_broadcast_source_video_latency",e.INPUT_DEVICE_ATTACHED="ivs_broadcast_input_device_attached",e.INPUT_DEVICE_DETACHED="ivs_broadcast_input_device_detached",e.CONGESTION_TIME="ivs_broadcast_congestion_time",e.BUFFER_DURATION="ivs_broadcast_buffer_duration",e.MEASURED_BITRATE="ivs_broadcast_measured_bitrate",e.RECOMMENDED_BITRATE="ivs_broadcast_recommended_bitrate",e.CONNECTION_RTT="ivs_broadcast_connection_rtt",e.ERROR="ivs_broadcast_error"}(It||(It={})),function(e){e.USER_INITIATED="user-initiated",e.NETWORK_DISCONNECT="network-disconnect"}(kt||(kt={}));const Xt={[le.INFO]:"#528bff",[le.WARN]:"#ffb31a",[le.DEBUG]:"#00f593",[le.ERROR]:"#ff4f4d",[le.TRACE]:"",[le.SILENT]:"",[fe.TIME]:"#53535f",[fe.WEBRTC]:"#0e9bd8",[fe.SUBSCRIPTION]:"#ffc400",[fe.CONNECTION]:"#ff5edb",[fe.SOCKET]:"#8585ff",[fe.EMITTER]:"#adadb8",[fe.LOCAL_PARTICIPANT]:"#1DD21D",[fe.STAGE]:"#EC9806",[fe.REMOTE_PARTICIPANT]:"#0680EC",details:"#808080"},en=({label:e})=>`background: ${Xt[e]||"#333333"}; color: white; padding: 3px; margin-left: 3px;`,tn=Object.entries(le),nn=(e,t,n)=>{const r=en({label:e}),[i]=tn.find((([,t])=>t===Number(e)))||[],o=`%c${i}`,a=en({label:t}),s=`%c${t}`,u=en({label:fe.TIME}),c=`%c[${(new Date).toISOString()}]`,l=en({label:"details"}),f=`%c[${n}]`,d=[c,o,s],p=[u,r,a];return n&&(d.push(f),p.push(l)),[d.join(""),...p]},rn={debug(e){console.groupCollapsed(...nn(le.DEBUG,e.scope,e.label)),console.debug(e.msg,Object.assign(Object.assign({},e),{level:"debug"})),console.groupEnd()},info(e){console.groupCollapsed(...nn(le.INFO,e.scope,e.label)),console.info(e.msg,Object.assign(Object.assign({},e),{level:"info"})),console.groupEnd()},warn(e){console.groupCollapsed(...nn(le.WARN,e.scope,e.label)),console.warn(e.msg,Object.assign(Object.assign({},e),{level:"warn"})),console.groupEnd()},error(e){console.groupCollapsed(...nn(le.ERROR,e.scope,e.label)),console.error(e),console.groupEnd()}};var on=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.entries(le);class an{constructor(e=rt,t=rn){this.logLevel=e,this.loggerInstance=t}debug(e){var t,n;this.logLevel>le.DEBUG||null===(n=(t=this.loggerInstance).debug)||void 0===n||n.call(t,JSON.parse(JSON.stringify(Object.assign(Object.assign({},e),{level:"debug"}))))}info(e){var t,n;this.logLevel>le.INFO||null===(n=(t=this.loggerInstance).info)||void 0===n||n.call(t,JSON.parse(JSON.stringify(Object.assign(Object.assign({},e),{level:"info"}))))}warn(e){var t,n;this.logLevel>le.WARN||null===(n=(t=this.loggerInstance).warn)||void 0===n||n.call(t,JSON.parse(JSON.stringify(Object.assign(Object.assign({},e),{level:"warn"}))))}error(e){var t,n,{err:r}=e,i=on(e,["err"]);this.logLevel>le.ERROR||null===(n=(t=this.loggerInstance).error)||void 0===n||n.call(t,Object.assign({err:r},i))}}class sn{constructor(e,t){this.logger=e,this.scope=t}debug(e){var t,n;null===(n=(t=this.logger).debug)||void 0===n||n.call(t,JSON.parse(JSON.stringify(Object.assign(Object.assign({},e),{scope:this.scope}))))}info(e){var t,n;null===(n=(t=this.logger).info)||void 0===n||n.call(t,JSON.parse(JSON.stringify(Object.assign(Object.assign({},e),{scope:this.scope}))))}warn(e){var t,n;null===(n=(t=this.logger).warn)||void 0===n||n.call(t,JSON.parse(JSON.stringify(Object.assign(Object.assign({},e),{scope:this.scope}))))}error(e){var t,n,{err:r}=e,i=on(e,["err"]);null===(n=(t=this.logger).error)||void 0===n||n.call(t,Object.assign(Object.assign({err:r},i),{scope:this.scope}))}unwrap(){return this.logger}}class un{constructor(){this.min=0,this.max=0,this.sum=0,this.data=[]}push(e){(0===this.min||e<this.min)&&(this.min=e),e>=this.max&&(this.max=e),this.data.push(e),this.sum+=e}median(){this.data.sort();const e=this.data.length>>1;return this.data.length%2==0?this.data[e-1]+this.data[e]>>1:this.data[e]}percentile(e){if(0===this.data.length)return 0;if(e<=0)return this.data[0];if(e>=1)return this.data[this.data.length-1];const t=(this.data.length-1)*e,n=Math.floor(t),r=n+1,i=t%1;return r>=this.data.length?this.data[n]:this.data[n]*(1-i)+this.data[r]*i}}var cn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};class ln{constructor(e,t,n,r){this.peerClient=e,this.broadcastCanvasManager=t,this.analyticsTracker=r,this.logger=new sn(n,fe.EMITTER),this.previousBytesSent=0,this.startTimestamp=0,this.initializeSamples()}start(){this.logger.info({msg:"start emitter"}),this.collectSamplesTimerId=window.setInterval((()=>{this.collectSamples()}),1e3),this.trackSamplesTimerId=window.setInterval((()=>{this.trackSamples()}),3e4),this.trackPeerConnectionStatsTimerId=window.setInterval((()=>{this.trackPeerConnectionStats()}),6e4),this.trackSamples()}stop(){clearInterval(this.collectSamplesTimerId),clearInterval(this.trackSamplesTimerId),clearInterval(this.trackPeerConnectionStatsTimerId),this.collectSamplesTimerId=void 0,this.trackSamplesTimerId=void 0,this.trackPeerConnectionStatsTimerId=void 0}trackPeerConnectionStats(){return cn(this,void 0,void 0,(function*(){(yield this.peerClient.getReports()).forEach((e=>{if("outbound-rtp"===e.type)switch(e.kind){case"audio":this.analyticsTracker.trackEvent(new Jt(e));break;case"video":{const t=new Zt(e),n=new Vt(e,this.startTimestamp);this.analyticsTracker.batchEvents([t,n]);break}default:this.logger.warn({msg:"unknown report kind: ",reportKind:e.kind})}}))}))}collectSamples(){return cn(this,void 0,void 0,(function*(){let e=0;this.audioLatencySamples.push(this.broadcastCanvasManager.getAudioLatency()),this.videoLatencySamples.push(this.broadcastCanvasManager.getVideoLatency()),(yield this.peerClient.getReports()).forEach((t=>{switch(t.type){case"candidate-pair":t.nominated&&(this.rttSamples.push(t.currentRoundTripTime),this.recommendedBitrateSamples.push(t.availableOutgoingBitrate));break;case"outbound-rtp":e+=t.bytesSent||0,0===this.startTimestamp&&"video"===t.kind&&(this.startTimestamp=t.timestamp)}}));const t=8*Math.round(e-this.previousBytesSent);this.previousBytesSent=e,this.measuredBitrateSamples.push(t)}))}trackSamples(){const e=30,t=new $t(this.audioLatencySamples,e),n=new Kt(this.videoLatencySamples,e),r=new Dt(this.congestionTimeSamples,e),i=new Bt(this.measuredBitrateSamples,e),o=new Ht(this.recommendedBitrateSamples,e),a=new Mt(this.rttSamples,e);this.analyticsTracker.batchEvents([t,n,r,i,o,a]),this.initializeSamples()}initializeSamples(){this.audioLatencySamples=new un,this.videoLatencySamples=new un,this.congestionTimeSamples=new un,this.measuredBitrateSamples=new un,this.recommendedBitrateSamples=new un,this.rttSamples=new un}}const fn={CONNECTION_STATE_CHANGE:"connectionStateChange",ERROR:"clientError",ACTIVE_STATE_CHANGE:"activeStateChange"},dn="connectionStateChange",pn="sdpNegotiated",hn="clientError",vn="seiMessageReceived",mn="transformError";var yn;!function(e){e.CLOSED="closed",e.COMPLETED="completed",e.CONNECTED="connected",e.CONNECTING="connecting",e.DISCONNECTED="disconnected",e.FAILED="failed",e.IDLE="idle",e.NEW="new",e.NONE="none"}(yn||(yn={}));const gn=e=>{const t=e=>{var t;return(null===(t=e.deviceId)||void 0===t?void 0:t.startsWith("web-contents-media-stream"))?"tab":void 0},n=e=>{var t;return(null===(t=e.deviceId)||void 0===t?void 0:t.startsWith("window"))&&"window"===e.displaySurface?"window":void 0},r=e=>{var t;return(null===(t=e.deviceId)||void 0===t?void 0:t.startsWith("screen"))&&"monitor"===e.displaySurface?"screen":void 0};return(t(i=e)||n(i)||r(i)?void 0:"camera")||r(e)||n(e)||t(e)||"unknown";var i};function bn(e,t){return e.find((e=>e.kind===t))}var _n;!function(e){e.VIDEO="video",e.AUDIO="audio"}(_n||(_n={}));class wn{constructor(){this.mediaTracks=new Map([[_n.VIDEO,void 0],[_n.AUDIO,void 0]])}setTrack(e,t){this.mediaTracks.set(e,t)}getTrack(e){return this.mediaTracks.get(e)}}class En{constructor(){this.levelAsymmetryAllowed=!1,this.packetisationMode=!1,this.profile="",this.level=0}extractVideoSdpFmtpLine(e){return e?(e.split("\r").join(";").split("\n").join(";").split(" ").join(";").split(";").map((e=>e.trim())).filter(Boolean).forEach((e=>{const t=e.split("=");if(2===t.length)switch(t[0]){case"level-asymmetry-allowed":"1"===t[1]?this.levelAsymmetryAllowed=!0:this.levelAsymmetryAllowed=!1;break;case"packetization-mode":"1"===t[1]?this.packetisationMode=!0:this.packetisationMode=!1;break;case"profile-level-id":this.profile=this.getProfileFromId(t[1]),this.level=this.getLevelFromId(t[1])}})),{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}):{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}}getProfileFromId(e){const t=e.substr(0,2),n=e.substr(2,2);switch(t.substr(0,2)){case"42":return"baseline";case"4d":return"main";case"58":return"extended";case"64":return"high";case"6e":return"00"===n?"high 10":"high 10 intra";case"7a":return"00"===n?"high 42":"high 42 intra";case"f4":return"00"===n?"high 44":"high 44 intra";default:return"unknown"}}getLevelFromId(e){return parseInt(e.substr(4,2),16)}}function Sn(e){return btoa(JSON.stringify(e))}var Tn,Cn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};!function(e){e.IDLE="idle",e.EXECUTING="executing",e.RECONNECTING="reconnecting"}(Tn||(Tn={}));class On{constructor(e,t=12e4,n,r){this.state=Tn.IDLE,this.failureCallback=()=>{},this.peerClient=e,this.timeout=t,this.logger=n,this.emitter=r}onFailure(e){this.failureCallback=e}setStartConfig(e,t){this.ingestEndpoint=e,this.streamKey=t}execute(){const{id:e}=this;this.state===Tn.IDLE&&(this.state=Tn.EXECUTING,this.emitter.emit(fn.CONNECTION_STATE_CHANGE,yn.CONNECTING),this.logger.info({msg:"Starting execution of reconnect strategy.",id:e}),this.startTimeoutTimer(this.timeout),this.executeStrategy())}startTimeoutTimer(e){this.timeoutTimerId=window.setTimeout((()=>{this.state!==Tn.IDLE&&(this.logger.info({msg:"Reconnect strategy timed out."}),this.stop(),this.emitter.emit(fn.CONNECTION_STATE_CHANGE,yn.FAILED),this.failureCallback())}),e)}stop(){this.state=Tn.IDLE,clearTimeout(this.timeoutTimerId),this.stopStrategy()}reconnect(){return Cn(this,void 0,void 0,(function*(){if(this.ingestEndpoint&&this.streamKey){const e=this.peerClient.getConnectionState();try{this.logger.info({msg:"Attempting reconnect."}),e===yn.CONNECTED?this.logger.info({msg:"Already connected! Stopping reconnect strategy."}):(yield this.peerClient.start(this.ingestEndpoint,this.streamKey),this.logger.info({msg:"Reconnect succeeded!"})),this.stop()}catch(e){throw this.logger.error({err:e}),e}}}))}isActive(){return this.state!==Tn.IDLE}}class In extends On{constructor(){super(...arguments),this.id="ExponentialBackoffStrategy"}executeStrategy(){let e=5e3;const t=()=>Cn(this,void 0,void 0,(function*(){if(this.state===Tn.EXECUTING)try{this.state=Tn.RECONNECTING,yield this.reconnect()}catch(n){this.logger.warn({msg:"Attempted reconnect failed. Trying again in: ",nextRetry:e}),this.state=Tn.EXECUTING,this.currentTimeoutId=window.setTimeout(t,e),e*=2}}));this.currentTimeoutId=window.setTimeout(t,0)}stopStrategy(){clearTimeout(this.currentTimeoutId)}}class kn extends On{constructor(){super(...arguments),this.id="NetworkApiStrategy",this.onConnectionChange=()=>Cn(this,void 0,void 0,(function*(){if(navigator.onLine&&this.state===Tn.EXECUTING){this.state=Tn.RECONNECTING;try{yield this.reconnect()}catch(e){this.logger.warn({msg:"Attempted reconnect failed."}),this.state=Tn.EXECUTING}}}))}executeStrategy(){navigator.connection.addEventListener("change",this.onConnectionChange),this.onConnectionChange()}stopStrategy(){navigator.connection.removeEventListener("change",this.onConnectionChange)}}class An{static create(e,t=lt,n,r){const{reconnect:i,timeout:o}=t;if(i){const t=vt.getParser(navigator.userAgent).getBrowserName().toLowerCase();return["edge","chrome"].includes(t)&&navigator.connection?new kn(e,o,n,r):new In(e,o,n,r)}}}var Pn,Rn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};const Nn=e=>!!e;function xn(e){if(!e)throw new Error("PeerConnection is not defined")}const Dn={bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",enableDtlsSrtp:{exact:!0},enableRtpDataChannels:{exact:!1},optional:[{googHighStartBitrate:{exact:0}},{googPayloadPadding:{exact:!0}},{googScreencastMinBitrate:{exact:100}},{googCpuOveruseDetection:{exact:!0}},{googCpuOveruseEncodeUsage:{exact:!0}},{googCpuUnderuseThreshold:{exact:55}},{googCpuOveruseThreshold:{exact:85}},{enableDscp:{exact:!0}}]};class Ln{constructor(e,t,n,r,i){this.config=e,this.emitter=t,this.mediaStreamManager=n,this.analyticsTracker=i,this.establishConnection=(e,t)=>Rn(this,void 0,void 0,(function*(){var n,r,i;xn(this.peerConnection);try{const n=yield this.peerConnection.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1});yield this.handleLocalDescription(n),yield this.sendSetupRequest(e,t,n)}catch(e){if(e instanceof Error){null!==(n=(i=e).code)&&void 0!==n||(i.code=Pe.code);const t=new de(Object.assign(Object.assign({},Pe),{name:e.name,message:e.message,code:null==e?void 0:e.code,cause:e}));throw(null===(r=this.reconnectStrategy)||void 0===r?void 0:r.isActive())||this.handleError(e.code,e.message),this.stop(),t}}})),this.getSessionId=()=>this.ingestSessionId,this.getConnectionState=()=>{var e;if(!this.peerConnection)return yn.NONE;const t=null===(e=this.reconnectStrategy)||void 0===e?void 0:e.isActive(),n=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;switch(n){case"new":return yn.NEW;case"closed":return yn.CLOSED;case"disconnected":return t?yn.CONNECTING:yn.DISCONNECTED;case"failed":return t?yn.CONNECTING:yn.FAILED;case"idle":return yn.IDLE;case"checking":case"connecting":return yn.CONNECTING;case"completed":case"connected":return yn.CONNECTED;default:return this.logger.warn({msg:"Unhandled connection state:",rawState:n}),yn.IDLE}},this.onConnectionStateChange=()=>{var e;const t=this.getConnectionState();switch(t){case yn.CONNECTED:{this.emitter.emit(fn.CONNECTION_STATE_CHANGE,t);const n=new Date;this.analyticsTracker.trackEvent(new Lt(n,this.connectionStartDate,this.ingestSessionId));const r=this.mediaStreamManager.getTrack(_n.AUDIO),i=this.mediaStreamManager.getTrack(_n.VIDEO);if(i){const e=i.getSettings();this.analyticsTracker.trackEvent(new qt(e))}if(r){const e=r.getSettings();this.analyticsTracker.trackEvent(new Gt(e))}((null===(e=this.peerConnection)||void 0===e?void 0:e.getSenders())||[]).forEach((e=>{var t;((null===(t=e.getParameters())||void 0===t?void 0:t.codecs)||[]).forEach((t=>{var n;switch(null===(n=e.track)||void 0===n?void 0:n.kind){case"video":{if(!i)break;const e=(new En).extractVideoSdpFmtpLine(t.sdpFmtpLine),n=i.getSettings();this.analyticsTracker.trackEvent(new Wt(n,e,t));break}case"audio":if(!r)break;this.analyticsTracker.trackEvent(new zt(t))}}))}));break}case yn.CONNECTING:this.emitter.emit(fn.CONNECTION_STATE_CHANGE,t),this.connectionStartDate=new Date,this.disconnectionStartDate=void 0;break;case yn.FAILED:this.reconnectStrategy?this.reconnectStrategy.execute():(this.emitter.emit(fn.CONNECTION_STATE_CHANGE,t),this.handleTerminalConnectionFailure());break;case yn.DISCONNECTED:this.emitter.emit(fn.CONNECTION_STATE_CHANGE,t),this.disconnectionStartDate=new Date;break;default:this.emitter.emit(fn.CONNECTION_STATE_CHANGE,t)}},this.handleLocalDescription=e=>Rn(this,void 0,void 0,(function*(){var t;return null===(t=this.peerConnection)||void 0===t?void 0:t.setLocalDescription(e)})),Pn.set(this,(e=>{if("string"!=typeof e)throw new de(Le);try{new URL(e)}catch(e){throw new de(Me)}})),this.logger=new sn(r,fe.WEBRTC),this.createReconnectStrategy(e)}start(e,t){var n;return Rn(this,void 0,void 0,(function*(){(function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)})(this,Pn,"f").call(this,e);const r=[this.mediaStreamManager.getTrack(_n.VIDEO),this.mediaStreamManager.getTrack(_n.AUDIO)].filter(Nn);if(this.createPeerConnection(),this.addTracks({tracks:r}),this.reconnectStrategy&&this.reconnectStrategy.setStartConfig(e,t),yield this.establishConnection(e,t),null===(n=this.reconnectStrategy)||void 0===n?void 0:n.isActive()){const t=new URL(e);this.analyticsTracker.trackEvent(new Qt({protocol:"webrtc",hostname:t.hostname,port:t.port},kt.NETWORK_DISCONNECT))}}))}stop(){var e,t,n,r;this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stopStreamDataChannel&&"open"===this.stopStreamDataChannel.readyState&&this.stopStreamDataChannel.send(" "),[yn.NEW,yn.CONNECTING,yn.CONNECTED].includes(this.getConnectionState())&&this.emitter.emit(fn.CONNECTION_STATE_CHANGE,yn.CLOSED),null===(e=this.peerConnection)||void 0===e||e.close(),null===(t=this.peerConnection)||void 0===t||t.removeEventListener("connectionstatechange",this.onConnectionStateChange),null===(n=this.peerConnection)||void 0===n||n.removeEventListener("iceconnectionstatechange",this.onConnectionStateChange),this.ingestSessionId=void 0,null===(r=this.reconnectStrategy)||void 0===r||r.stop()}addTracks(e){var t;if(xn(this.peerConnection),!e)return;const n=this.peerConnection.getSenders().map((e=>{var t;return null===(t=e.track)||void 0===t?void 0:t.id})),r=e.tracks.filter((e=>!n.includes(e.id)));for(const e of r)null===(t=this.peerConnection)||void 0===t||t.addTrack(e)}getReports(){var e;return Rn(this,void 0,void 0,(function*(){try{const t=(yield null===(e=this.peerConnection)||void 0===e?void 0:e.getStats())||[],n=[];return t.forEach((e=>{n.push(e)})),n}catch(e){return[]}}))}sendSetupRequest(e,t,n){var r;return Rn(this,void 0,void 0,(function*(){const i=yield fetch(`${e}/v1/offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({offer:Sn(n),streamKey:t},this.config.streamConfig))});if(!i.ok)throw function(e){let t=new de(Object.assign({},Pe));return 1007===(null==e?void 0:e.code)&&(t=new de(Object.assign({},Ne))),(null==e?void 0:e.message)&&(t.message=e.message),t}(yield i.json());const o=yield i.json();(null==o?void 0:o.answer)&&(yield null===(r=this.peerConnection)||void 0===r?void 0:r.setRemoteDescription(function(e){return JSON.parse(atob(e))}(o.answer)),this.ingestSessionId=o.ingestSessionId)}))}handleTerminalConnectionFailure(){const e=new de(Re);this.handleError(e.code,e.message)}handleError(e,t){this.analyticsTracker.trackEvent(new jt({code:e,description:t,isFatal:!0})),this.emitter.emit(fn.ERROR,{code:e,message:t})}createPeerConnection(){var e;const t=this.getConnectionState(),n=t!==yn.NONE,r=t!==yn.CLOSED,i=null===(e=this.reconnectStrategy)||void 0===e?void 0:e.isActive();n&&r&&!i||(this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stateCheckInterval=window.setInterval((()=>{const e=this.getConnectionState();if(this.reconnectStrategy&&e===yn.DISCONNECTED&&this.disconnectionStartDate){const e=Date.now()-this.disconnectionStartDate.getTime();this.logger.info({msg:"Time since disconnected:",timeSinceDisconnect:e}),e>1e4&&(this.disconnectionStartDate=void 0,this.reconnectStrategy.execute())}else e===yn.CLOSED&&(this.handleTerminalConnectionFailure(),clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0)}),1e3),this.peerConnection=new RTCPeerConnection(Dn),this.stopStreamDataChannel=this.peerConnection.createDataChannel("stopStream"),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onConnectionStateChange))}createReconnectStrategy(e){if(this.reconnectStrategy=An.create(this,e.networkReconnectConfig,this.logger,this.emitter),this.reconnectStrategy){this.reconnectStrategy.onFailure(this.handleTerminalConnectionFailure.bind(this));const e=this.reconnectStrategy.id;this.logger.info({msg:"Using reconnect strategy:",strategyId:e})}}}Pn=new WeakMap;var Mn,jn,Un=n(5364);!function(e){e.CONFIG="config",e.UPDATE="update",e.START="start",e.STOP="stop"}(Mn||(Mn={})),function(e){e.VIDEO_SEND="video/send",e.VIDEO_RECEIVE="video/receive",e.INSERT_SEI="insertSei"}(jn||(jn={}));var Fn=n(5512),Bn=n.n(Fn);function Vn(){return Bn()('/*! For license information please see scheduler.worker.worker.js.LICENSE.txt */\n(()=>{"use strict";var i,t;!function(i){i.CONFIG="config",i.UPDATE="update",i.START="start",i.STOP="stop"}(i||(i={})),function(i){i.VIDEO_SEND="video/send",i.VIDEO_RECEIVE="video/receive",i.INSERT_SEI="insertSei"}(t||(t={}));const s=self;const n=new class Scheduler{constructor(){this.config={frameRate:60,isRunning:!1}}setConfig(i){this.config=Object.assign(Object.assign({},this.config),i),this.config.isRunning&&(this.stop(),this.start())}start(){this.config.isRunning||(this.intervalId=setInterval((()=>{s.postMessage({type:i.UPDATE})}),1e3/this.config.frameRate),this.config.isRunning=!0)}stop(){this.config.isRunning&&(clearInterval(this.intervalId),this.intervalId=void 0,this.config.isRunning=!1)}};s.addEventListener("message",(function(t){var s;if(null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.type)switch(t.data.type){case i.CONFIG:n.setConfig(t.data.payload||{});break;case i.START:n.start();break;case i.STOP:n.stop()}}))})();',"Worker",void 0,void 0)}var Hn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};class zn{constructor(e,t,n){this.config=e,this.mediaStreamManager=t,this.analyticsTracker=n,this.handleWorkerEvent=e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.type)===Mn.UPDATE&&this.drawComposite()},this.mixer={video:[],audio:[]},this.schedulerWorker=new Vn,this.running=!1,this.compositeEl=document.createElement("canvas"),this.compositeEl.height=this.config.streamConfig.maxResolution.height,this.compositeEl.width=this.config.streamConfig.maxResolution.width;const r=this.compositeEl.getContext("2d");if(null===r)throw new de(Object.assign({},pe));this.compositeContext=r,this.compositeStream=this.compositeEl.captureStream(void 0!==typeof CanvasCaptureMediaStreamTrack?0:30);const i=bn(this.compositeStream.getTracks(),_n.VIDEO);this.audioContext=new AudioContext,this.unlockAudioContext(),this.audioDestination=this.audioContext.createMediaStreamDestination(),this.setupSilence();const o=bn(this.audioDestination.stream.getTracks(),_n.AUDIO);i&&this.mediaStreamManager.setTrack(_n.VIDEO,i),o&&this.mediaStreamManager.setTrack(_n.AUDIO,o),this.schedulerWorker.addEventListener("message",this.handleWorkerEvent),this.schedulerWorker.postMessage({type:Mn.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.previewElement=null,this.previewCtx=null,this.nextMix=(new Date).getTime()}attachPreview(e){this.previewElement=e;const{width:t,height:n}=this.config.streamConfig.maxResolution;this.previewElement.width=t,this.previewElement.height=n,this.previewCtx=this.previewElement.getContext("2d")}detachPreview(){this.previewElement=null,this.previewCtx=null}setupSilence(){const e=this.audioContext.createConstantSource(),t=this.audioContext.createGain();t.gain.value=.001,e.connect(t),t.connect(this.audioDestination),e.start()}unlockAudioContext(){if("suspended"!==this.audioContext.state)return;const e=document.body,t=["touchstart","touchend","mousedown","keydown"],n=()=>{t.forEach((t=>{e.removeEventListener(t,r)}))},r=()=>{this.audioContext.resume().then(n)};t.forEach((t=>{e.addEventListener(t,r,!1)}))}getTracks(){return[this.mediaStreamManager.getTrack(_n.VIDEO),this.mediaStreamManager.getTrack(_n.AUDIO)]}getCanvasVideoTrack(){return this.mediaStreamManager.getTrack(_n.VIDEO)}getAudioInputDevice(e){if("string"!=typeof e)return;const t=this.mixer.audio.find((t=>{if(t.name===e)return t.source}));return null==t?void 0:t.source}getVideoInputDevice(e){if("string"==typeof e)return this.mixer.video.find((t=>t.name===e))}getCanvasDimensions(){return{height:this.compositeEl.height,width:this.compositeEl.width}}addVideoInputDevice(e,t,n){var r;return Hn(this,void 0,void 0,(function*(){if("object"!=typeof e)throw new de(Object.assign({},me));if(!t||"string"!=typeof t)throw new de(Object.assign({},_e));if(this.mixer.video.some((e=>e.name===t)))throw new de(Object.assign({},ye));if(!n)throw new de(Object.assign({},ge));if("number"!=typeof n.index)throw new de(Object.assign({},be));const i=function(){const e=document.createElement("video");return e.autoplay=!0,e.muted=!0,e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e}(),o=e.getVideoTracks(),[a]=o;if(!o.length)throw new de(Object.assign({},he));const s=a.getConstraints(),u=Un({},s,{frameRate:this.config.streamConfig.maxFramerate});try{yield a.applyConstraints(u)}catch(e){let t="Unknown constraints error";e instanceof Error&&(t=e.message),this.analyticsTracker.trackEvent(new jt({description:`${Ee.message}: ${t}`,isFatal:!1,code:Ee.code}))}const c=()=>Hn(this,void 0,void 0,(function*(){let e=0;for(;e<5;)try{return void(yield i.play())}catch(t){if(!(t instanceof Error))throw new Error("unknown error trying to add video to broadcast");e++,yield new Promise((e=>setTimeout(e,150)))}throw new Error("Error playing video, tries exceeded")})),l=new MediaStream([a]);i.srcObject=l;try{yield c();const e={name:t,element:i,position:n,source:l,render:!0},o=(null===(r=a.getSettings)||void 0===r?void 0:r.call(a))||{};this.analyticsTracker.trackEvent(new Ut(gn(o),o)),this.mixer.video.push(e)}catch(e){throw new de(Object.assign(Object.assign({},he),{cause:e}))}}))}addImageSource(e,t,n){var r;return Hn(this,void 0,void 0,(function*(){if(!e)throw new de(Object.assign({},me));if(!t||"string"!=typeof t)throw new de(Object.assign({},_e));if("image"===e.tagName)throw new de(Object.assign({},we));if(this.mixer.video.some((e=>e.name===t)))throw new de(Object.assign({},ye));if(!n)throw new de(Object.assign({},ge));if("number"!=typeof n.index)throw new de(Object.assign({},be));if(e instanceof Image){const t=null===(r=e.src)||void 0===r?void 0:r.slice();try{const t=e.src?new URL(e.src):{};if(t.host&&t.hostname){const t=yield fetch(e.src).then((e=>Hn(this,void 0,void 0,(function*(){return e.blob()})))),n=yield new Promise((e=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.readAsDataURL(t)}));e.src=n}}catch(e){throw new de(Object.assign(Object.assign({},Ae),{params:{details:`Image URL: ${t}`}}))}}const i={name:t,element:e,position:n,render:!0};this.mixer.video.push(i)}))}addAudioInputDevice(e,t){return Hn(this,void 0,void 0,(function*(){if("object"!=typeof e)throw new de(Object.assign({},me));if(!t||"string"!=typeof t)throw new de(Object.assign({},_e));if(this.mixer.audio.some((e=>e.name===t)))throw new de(Object.assign({},ye));const n=e.getAudioTracks();if(!n.length)throw new de(Object.assign({},ve));const r=this.audioContext.createMediaStreamSource(new MediaStream(n)),i=this.audioContext.createGain();i.gain.value=1,r.connect(i),i.connect(this.audioDestination);const o={name:t,source:e,audioTrackSource:r,gainNode:i};this.analyticsTracker.trackEvent(new Ut("audio",{deviceId:e.id})),this.mixer.audio.push(o)}))}removeImage(e){const t=this.mixer.video.findIndex((t=>t.name===e));if(t<0)throw new de(Object.assign({},Te));this.mixer.video.splice(t,1)}removeVideoInputDevice(e){var t;const n=this.removeDevice(e,this.mixer.video);if(!n)throw new de(Object.assign({},Se));{const e=bn(n.source.getTracks(),_n.VIDEO);if(!e)throw new de(Object.assign({},Se));n.element.srcObject=null,e.stop();const r=(null===(t=null==e?void 0:e.getSettings)||void 0===t?void 0:t.call(e))||{};this.analyticsTracker.trackEvent(new Ft(gn(r),r))}}removeAudioInputDevice(e){const t=this.removeDevice(e,this.mixer.audio);if(null==t?void 0:t.audioTrackSource){for(const e of t.source.getTracks())e.stop(),this.analyticsTracker.trackEvent(new Ft("audio",{deviceId:e.id}));t.gainNode.disconnect(this.audioDestination)}else if(!t)throw new de(Object.assign({},Se))}updateVideoDeviceComposition(e,t){if(!e||"string"!=typeof e)throw new de(Object.assign({},Ie));if(!t)throw new de(Object.assign({},Ce));if("number"!=typeof t.index)throw new de(Object.assign({},Oe));this.mixer.video.forEach(((n,r)=>{n.name===e&&(n.position=t)}))}exchangeVideoDevicePositions(e,t){const n=this.getVideoInputDevice(e),r=this.getVideoInputDevice(t);if(!n)throw new de(Object.assign(Object.assign({},ke),{params:{details:`device with name: "${e}" not found`}}));if(!r)throw new de(Object.assign(Object.assign({},ke),{params:{details:`device with name: "${t}" not found`}}));const i=Object.assign({},n.position),o=Object.assign({},r.position);for(const n of this.mixer.video)n.name===e&&(Gn(o.x)?n.position=Object.assign(Object.assign({},n.position),o):n.position={index:o.index}),n.name===t&&(Gn(i.x)?n.position=Object.assign(Object.assign({},n.position),i):n.position={index:i.index})}start(){this.running||(this.running=!0,this.schedulerWorker.postMessage({type:Mn.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.schedulerWorker.postMessage({type:Mn.START}))}stop(){this.running&&(this.running=!1,this.schedulerWorker.removeEventListener("message",this.handleWorkerEvent))}isCapturing(){return this.running}getAudioLatency(){return this.audioContext.baseLatency}getVideoLatency(){var e;return(null===(e=this.mediaStreamManager.getTrack(_n.VIDEO))||void 0===e?void 0:e.getConstraints().latency)||0}disableVideo(){this.mixer.video.forEach((e=>{e.render=!1}))}enableVideo(){this.mixer.video.forEach((e=>{e.render=!0}))}disableAudio(){this.mixer.audio.forEach((e=>{e.audioTrackSource&&(e.gainNode.gain.value=0)}))}enableAudio(){this.mixer.audio.forEach((e=>{e.audioTrackSource&&(e.gainNode.gain.value=1)}))}getDrawRegion(e,t,n){var r,i,o,a;let s=null!==(r=e.position.x)&&void 0!==r?r:0,u=null!==(i=e.position.y)&&void 0!==i?i:0;const c=null!==(o=e.position.width)&&void 0!==o?o:t-s,l=null!==(a=e.position.height)&&void 0!==a?a:n-u,f=c/l;let d=e.element.width,p=e.element.height;e.element instanceof HTMLVideoElement&&(d=e.element.videoWidth,p=e.element.videoHeight);const h=d/p;let v=c,m=l;return h>f?(v=c,m=2*Math.round(c/h/2),u+=(l-m)/2):h<f&&(m=l,v=2*Math.round(l*h/2),s+=(c-v)/2),{x:s,y:u,width:v,height:m}}drawComposite(){if(!this.shouldMix(new Date))return;this.compositeContext.clearRect(0,0,this.compositeEl.width,this.compositeEl.height),this.drawBlackScreen();const e=this.mixer.video.filter((e=>e.render));e.sort(((e,t)=>e.position.index-t.position.index));for(const t of e){const{x:e,y:n,width:r,height:i}=this.getDrawRegion(t,this.compositeEl.width,this.compositeEl.height);this.compositeContext.drawImage(t.element,e,n,r,i)}this.previewElement&&this.previewCtx&&this.previewCtx.drawImage(this.compositeEl,0,0,this.previewElement.width,this.previewElement.height),this.requestCanvasCapture()}requestCanvasCapture(){void 0!==typeof CanvasCaptureMediaStreamTrack&&("function"==typeof this.compositeStream.requestFrame?this.compositeStream.requestFrame():this.mediaStreamManager.getTrack(_n.VIDEO).requestFrame())}drawBlackScreen(){this.compositeContext.fillStyle="#000000",this.compositeContext.fillRect(0,0,this.compositeEl.width,this.compositeEl.height)}removeDevice(e,t){const n=t.findIndex((t=>(t=>t.name===e)(t)));if(!(n<0))return t.splice(n,1)[0]}shouldMix(e){if(e.getTime()<this.nextMix)return!1;for(;this.nextMix<=e.getTime();)this.nextMix+=1e3/this.config.streamConfig.maxFramerate;return!0}}function Gn(e){return Number.isSafeInteger(e)}var Wn,qn,$n=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};class Kn{constructor(e){this.config=e,Wn.add(this),this.emitter=new ht,this.isValid=!0,this.emitter.on(fn.ERROR,this.stopBroadcast),this.config.ingestEndpoint&&(this.url=new URL(this.config.ingestEndpoint)),this.analyticsTracker=new xt,this.mediaStreamManager=new wn;const t=new an(e.logLevel,e.logger);this.peerClient=new Ln(this.config,this.emitter,this.mediaStreamManager,t,this.analyticsTracker),this.broadcastCanvasManager=new zn(e,this.mediaStreamManager,this.analyticsTracker),this.peerStatsTracker=new ln(this.peerClient,this.broadcastCanvasManager,t,this.analyticsTracker),this.broadcastCanvasManager.start(),Object.getOwnPropertyNames(Kn.prototype).forEach((e=>{this[e]=new Proxy(this[e],{apply:(e,t,n)=>{if(!t.isValid)throw new de(Object.assign({},Fe));return Reflect.apply(e,t,n)}})})),window.addEventListener("beforeunload",(()=>{this.analyticsTracker.stop(!0)}))}delete(){this.isValid=!1,this.peerClient.stop(),this.broadcastCanvasManager.stop(),this.emitter.removeAllListeners()}startBroadcast(e,t){return $n(this,void 0,void 0,(function*(){(function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)})(this,Wn,"m",qn).call(this,e);const n=ft(t||this.config.ingestEndpoint);this.analyticsTracker.start(),this.peerStatsTracker.start(),yield this.peerClient.start(n,e),this.emitter.emit(fn.ACTIVE_STATE_CHANGE,!0),this.url=new URL(n),this.url&&this.analyticsTracker.trackEvent(new Qt({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port},kt.USER_INITIATED))}))}stopBroadcast(){var e,t,n;this.url&&this.analyticsTracker.trackEvent(new Yt({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port})),null===(e=this.peerStatsTracker)||void 0===e||e.stop(),null===(t=this.peerClient)||void 0===t||t.stop(),null===(n=this.emitter)||void 0===n||n.emit(fn.ACTIVE_STATE_CHANGE,!1)}getCanvasDimensions(){return this.broadcastCanvasManager.getCanvasDimensions()}addVideoInputDevice(e,t,n){return $n(this,void 0,void 0,(function*(){return this.broadcastCanvasManager.addVideoInputDevice(e,t,n)}))}addImageSource(e,t,n){return $n(this,void 0,void 0,(function*(){return this.broadcastCanvasManager.addImageSource(e,t,n)}))}addAudioInputDevice(e,t){return $n(this,void 0,void 0,(function*(){return this.broadcastCanvasManager.addAudioInputDevice(e,t)}))}removeVideoInputDevice(e){this.broadcastCanvasManager.removeVideoInputDevice(e)}removeAudioInputDevice(e){this.broadcastCanvasManager.removeAudioInputDevice(e)}removeImage(e){this.broadcastCanvasManager.removeImage(e)}updateVideoDeviceComposition(e,t){this.broadcastCanvasManager.updateVideoDeviceComposition(e,t)}exchangeVideoDevicePositions(e,t){this.broadcastCanvasManager.exchangeVideoDevicePositions(e,t)}getAudioInputDevice(e){return this.broadcastCanvasManager.getAudioInputDevice(e)}getVideoInputDevice(e){return this.broadcastCanvasManager.getVideoInputDevice(e)}getConnectionState(){return this.peerClient.getConnectionState()}getSessionId(){return this.peerClient.getSessionId()}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}getAudioContext(){return this.broadcastCanvasManager.audioContext}attachPreview(e){this.broadcastCanvasManager.attachPreview(e)}detachPreview(){this.broadcastCanvasManager.detachPreview()}disableVideo(){this.broadcastCanvasManager.disableVideo()}enableVideo(){this.broadcastCanvasManager.enableVideo()}disableAudio(){this.broadcastCanvasManager.disableAudio()}enableAudio(){this.broadcastCanvasManager.enableAudio()}}function Qn(e){return new Kn(function(e){const t=new dt;return t.streamConfig=e.streamConfig,t.ingestEndpoint=e.ingestEndpoint,t.logger=e.logger,t.logLevel=e.logLevel,t.networkReconnectConfig=e.networkReconnectConfig,t}(e))}Wn=new WeakSet,qn=function(e){if("string"!=typeof e||!/^[a-zA-Z0-9_-]+$/.test(e))throw new de(He)};const Yn="1.22.1";var Jn,Zn=n(2543);!function(e){e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.JOIN="join",e.LEAVE="leave"}(Jn||(Jn={}));class Xn extends mt{constructor(e){super(pt.LEAVE,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.LEAVE,event_endpoint:e.eventEndpoint,whip_endpoint:e.whipEndpoint,reason:e.reason}),this.critical=!0}}class er{constructor(){this.emitter=new ht}on(e,t,n){t.call=function(e,t){return function(n,...r){try{t.apply(n,r)}catch(n){let r=`Error in callback for ${e}`;const i=t.name;return i&&(r+=` for function ${i}`),void console.error(`${r}\n`,n)}}}(e,t),this.emitter.on(e,t,n)}off(e,t,n){this.emitter.off(e,t,n)}emit(e,...t){this.emitter.emit(e,...t)}removeAllListeners(){this.emitter.removeAllListeners()}}function tr(e){let t="";for(let n=0;n<e;n+=1)t+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return t}class nr{constructor(){const e=tr;this.value=`${e(8)}-${e(4)}-${e(4)}-${e(4)}-${e(12)}`}}function rr(){return new nr}class ir{constructor(){const e=(Date.now()/1e3|0).toString(16);this.value=`1-${e}-${tr(24)}`}}function or(){return new ir}var ar=n(2505),sr=n.n(ar);class ur extends de{constructor({token:e,traceId:t,code:n,tag:r,location:i,message:o,details:a,remoteParticipantId:s,requestUUID:u,fatal:c,nominal:l,action:f,count:d=1}){super({name:"StageClientError",message:o,code:n}),Error.captureStackTrace&&Error.captureStackTrace(this,ur),this.action=f,this.token=e,this.traceId=t,this.code=n,this.tag=r,this.location=i,this.message=o,this.details=a,this.remoteParticipantId=s,this.requestUUID=u,this.fatal=c,this.nominal=l,this.count=d}}const cr="signalling_session",lr="webrtc_sink",fr="webrtc_source";function dr(e,t){switch(e){case Jn.PUBLISH:return lr;case Jn.SUBSCRIBE:return`webrtc_source:${t}`;default:return"unknown"}}function pr(e,t){var n,r,i,o;const a={code:e.code,message:`${e.message}: ${t.name} ${t.message}`,fatal:null!==(n=e.fatal)&&void 0!==n&&n,nominal:null!==(r=e.nominal)&&void 0!==r&&r};return t instanceof ur&&(a.fatal=null!==(i=t.fatal)&&void 0!==i&&i,a.nominal=null!==(o=t.nominal)&&void 0!==o&&o),a}function hr(e,t){if(0===e)return mr.UNKNOWN_SERVER_ERROR;if(!(e<400))if(e>=400&&e<=403)switch(t){case vr.TokenExpired:return mr.EXPIRED_TOKEN;case vr.NoPermissions:return mr.TOKEN_PERMISSIONS_DENIED;case vr.StageAtCapacity:return mr.STAGE_AT_CAPACITY;case vr.NoMatchingCodec:return mr.NO_MATCHING_CODEC;default:return mr.UNKNOWN_SERVER_ERROR}else{if(404===e)return t===vr.RemoteStreamNotFound?mr.REMOTE_STREAM_NOT_FOUND:mr.UNKNOWN_SERVER_ERROR;if(412===e)return t===vr.AbortedMHCPError?mr.MHCP_ABORTED:mr.UNKNOWN_SERVER_ERROR;if(429===e)return t===vr.StageAuthThrottled?mr.STAGE_AUTH_THROTTLED:mr.WHIP_TOO_MANY_REQUESTS;if(500!==e)return mr.UNKNOWN_SERVER_ERROR;switch(t){case vr.InternalMHCPError:return mr.INTERNAL_MHCP_ERROR;case vr.UnreachableMHCP:return mr.UNREACHABLE_MHCP;case vr.InvalidSessionStatus:return mr.INVALID_SESSION_STATUS;default:return mr.INTERNAL_SERVER_ERROR}}}var vr;!function(e){e[e.Unspecified=2001]="Unspecified",e[e.TokenExpired=2002]="TokenExpired",e[e.NoPermissions=2003]="NoPermissions",e[e.RemoteStreamNotFound=2004]="RemoteStreamNotFound",e[e.StageAtCapacity=2005]="StageAtCapacity",e[e.InternalMHCPError=2006]="InternalMHCPError",e[e.UncategorizedMHCPError=2007]="UncategorizedMHCPError",e[e.UnreachableMHCP=2008]="UnreachableMHCP",e[e.InvalidSessionStatus=2010]="InvalidSessionStatus",e[e.PostWithoutOptions=2011]="PostWithoutOptions",e[e.AbortedMHCPError=2012]="AbortedMHCPError",e[e.StageAuthThrottled=2013]="StageAuthThrottled",e[e.NoMatchingCodec=2014]="NoMatchingCodec"}(vr||(vr={}));const mr={MALFORMED_TOKEN:{code:1e3,message:"Token is malformed",fatal:!0,nominal:!0},EXPIRED_TOKEN:{code:1001,message:"Token expired and is no longer valid",fatal:!0,nominal:!0},UNPUBLISH_FAILURE:{code:1013,message:"Failed to unpublish",fatal:!1,nominal:!1},UNSUBSCRIBE_FAILURE:{code:1014,message:"Failed to unsubscribe",fatal:!1,nominal:!1},PUBLISH_FAILURE:{code:1015,message:"Failed to publish",fatal:!1,nominal:!1},SUBSCRIBE_FAILURE:{code:1016,message:"Failed to subscribe",fatal:!1,nominal:!1},JOIN_FAILURE:{code:1017,message:"Failed to join",fatal:!0,nominal:!1},JOIN_TIMED_OUT:{code:1019,message:"Join timed out",fatal:!0,nominal:!1},PUBLISH_TIMED_OUT:{code:1020,message:"Publish timed out",fatal:!1,nominal:!1},SUBSCRIBE_TIMED_OUT:{code:1021,message:"Subscribe timed out",fatal:!1,nominal:!1},NO_CANDIDATES:{code:1022,message:"No ICE candidates",fatal:!1,nominal:!1},OPERATION_ABORTED:{code:1023,message:"Request aborted",fatal:!1,nominal:!0},STAGE_AT_CAPACITY:{code:1024,message:"Stage at capacity",fatal:!0,nominal:!0},INTERNAL_SERVER_ERROR:{code:1025,message:"Internal server error",fatal:!0,nominal:!1},TOKEN_PERMISSIONS_DENIED:{code:1026,message:"Token permissions are not valid for the operation",fatal:!0,nominal:!1},REMOTE_STREAM_NOT_FOUND:{code:1027,message:"Contributor group (PUBLISH) or remote stream (SUBSCRIBE) not found",fatal:!0,nominal:!1},INTERNAL_MHCP_ERROR:{code:1028,message:"Authorization failed due to internal MHCP error",fatal:!0,nominal:!1},UNCATEGORIZED_MHCP_ERROR:{code:1029,message:"Authorization failed due to uncategorized MHCP error",fatal:!0,nominal:!1},UNREACHABLE_MHCP:{code:1030,message:"Authorization failed due to MHCP unreachable",fatal:!0,nominal:!1},INVALID_SESSION_STATUS:{code:1031,message:"Stream has already been published (PUBLISH) or subscribed to (SUBSCRIBE)",fatal:!0,nominal:!1},POST_WITHOUT_OPTIONS:{code:1032,message:"Cannot POST without OPTIONS in mandatory TURN",fatal:!0,nominal:!1},MHCP_ABORTED:{code:1033,message:"Publisher state conflict",fatal:!0,nominal:!1},STAGE_AUTH_THROTTLED:{code:1034,message:"Too many requests",fatal:!1,nominal:!1},NO_MATCHING_CODEC:{code:1035,message:"No matching codec found",fatal:!0,nominal:!1},CHIME_MEETING_NOT_FOUND:{code:1098,message:"Meeting or Attendee was deleted",fatal:!0,nominal:!0},UNKNOWN_SERVER_ERROR:{code:1099,message:"Service error code unknown or not found",fatal:!0,nominal:!1},XDP_CONNECTION_LOST:{code:1221,message:"Connection lost during SDP exchange",fatal:!1,nominal:!1},XDP_INVALID_ANSWER_MSG:{code:1222,message:"Invalid answer message received by client",fatal:!1,nominal:!1},XDP_TIMEOUT:{code:1223,message:"Failed to receive SDP answer within timeout period",fatal:!1,nominal:!1},XDP_UNEXPECTED_ERROR:{code:1224,message:"Unexpected error encountered",fatal:!1,nominal:!1},WEBSOCKET_MESSAGE_PARSE_FAILURE:{code:1204,message:"Failed to parse websocket message",fatal:!1,nominal:!1},WHIP_SESSION_RESOURCE_DELETED:{code:1206,message:"WHIP signaling session resource not found",fatal:!0,nominal:!0},WHIP_TOO_MANY_REQUESTS:{code:1207,message:"WHIP endpoint received too many requests",fatal:!1,nominal:!1},WHIP_OPTIONS_FAILURE:{code:1501,message:"Failed to get ICE Servers from OPTIONS",fatal:!1,nominal:!1},WHIP_POST_FAILURE:{code:1502,message:"WHIP post failure",fatal:!1,nominal:!1},WHIP_DELETE_FAILURE:{code:1503,message:"WHIP delete failure",fatal:!1,nominal:!1},WHIP_URL_MISSING:{code:1504,message:"WHIP delete failure",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_FAILED:{code:1510,message:"Set layer request failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_SET_LAYER_REQUEST_THROTTLED:{code:1511,message:"Too many set layer requests",fatal:!1,nominal:!0},WHEP_GET_LAYER_STATE_FAILED:{code:1512,message:"Get layer state failed for reason: Unknown",fatal:!1,nominal:!1},WHEP_GET_LAYER_STATE_THROTTLED:{code:1513,message:"Too many get layer state requests",fatal:!1,nominal:!0},EVENT_PLANE_WS_CREATE_FAILED:{code:1300,message:"Error creating WebSocket",fatal:!0,nominal:!1},EVENT_PLANE_WS_UNEXPECTED_CLOSE:{code:1302,message:"Unexpectedly not connected to event plane",fatal:!1,nominal:!1},EVENT_PLANE_PING_SEND_FAIL:{code:1303,message:"Ping send fail",fatal:!1,nominal:!1},EVENT_PLANE_PONG_TIMEOUT:{code:1304,message:"Pong timed out",fatal:!1,nominal:!1},EVENT_PLANE_WS_CLOSE_BEFORE_OPEN:{code:1305,message:"Connect attempt closed by server",fatal:!1,nominal:!1},PEER_CONNECTION_NETWORK_FAILURE:{code:1400,message:"PeerConnection is lost due to unknown network error",fatal:!1,nominal:!1},CREATE_OFFER_FAILURE:{code:1402,message:"Failed to set local description",fatal:!1,nominal:!1},CREATE_PEER_CONNECTION_FAILURE:{code:1403,message:"Failed to create a peer connection",fatal:!1,nominal:!1},ICE_CANDIDATE_ERROR:{code:1404,message:"ICE candidate error",fatal:!1,nominal:!1},SET_ANSWER_FAILURE:{code:1405,message:"Failed to set remote answer",fatal:!1,nominal:!1},NETWORK_FAILURE:{code:1406,message:"Failed due to network problem",fatal:!1,nominal:!1},SEI_INSERT_NOT_PUBLISHING_VIDEO:{code:1460,message:"SEI failed to insert due to not publishing video",fatal:!1,nominal:!0},SEI_INSERT_INBAND_NOT_ENABLED:{code:1461,message:"SEI failed to insert due to in-band messaging not being enabled",fatal:!1,nominal:!0},REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID:{code:1470,message:"Invalid participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID:{code:1471,message:"Invalid remote participant id in the reassignment message",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE:{code:1472,message:"Invalid subscriber peer connection state for reassignment",fatal:!1,nominal:!1},REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS:{code:1473,message:"Request rejected because client is already processing a previous reassignment request",fatal:!1,nominal:!1},UNEXPECTED_ERROR:{code:9999,message:"Encountered unexpected error condition. Expected StageClientError type.",fatal:!1,nominal:!1},TRANSFORM_UNEXPECTED_ERROR:{code:1480,message:"Unexpected error occurred during transform execution",fatal:!1,nominal:!1},TRANSFORM_TOO_MANY_ERRORS:{code:1481,message:"Transformer encountered too many consecutive errors",fatal:!1,nominal:!1},TRANSFORM_NOT_SUPPORTED_BY_PLATFORM:{code:1482,message:"Transforms are not supported by this platform",fatal:!1,nominal:!1},CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR:{code:1490,message:"Unexpected error occurred when handling incompatible codecs",fatal:!1,nominal:!1}};var yr;!function(e){e.UNPUBLISH="unpublish",e.UNSUBSCRIBE="unsubscribe",e.UNLOAD="unload",e.CONNECTION_FAIL="connection fail",e.REASSIGNMENT="reassignment"}(yr||(yr={}));const gr="stageParticipantJoined",br="stageParticipantLeft",_r="stageParticipantKicked",wr="stageParticipantUpdated",Er="localPublishingChanged",Sr="stateChange",Tr="error",Cr="reassignmentRequest",Or="incompatibleCodecs",Ir="connectionStateChange",kr="stageStreamUpdate",Ar="error",Pr="stageStreamSeiMessageReceived",Rr="transformError",Nr="reassignmentStarted",xr="reassignmentSuccess",Dr="reassignmentFailed",Lr="open",Mr="closed",jr="messageParseError",Ur="refresh",Fr="error",Br="stageStateMessage",Vr="sdpAnswer",Hr="disconnectMessage",zr="reassignmentMessage",Gr="incompatibleCodecs";function Wr(e){const t=function(e){return e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"=")}(e);return n=t,window.atob(n);var n}class qr{constructor(e,t){this.analyticsTracker=t,this.rawToken=e;const n=e.split(".");if(3!==n.length)throw Error(`Token format incorrect. length: ${n.length}`);try{this.header=JSON.parse(Wr(n[0]))}catch(e){const t=e instanceof Error?`: ${e.message}`:"";throw Error(`Error parsing Stage Token header${t}`)}try{this.claims=JSON.parse(Wr(n[1]))}catch(e){const t=e instanceof Error?`: ${e.message}`:"";throw Error(`Error parsing Stage Token claims${t}`)}this.signature=n[2];const{claims:r}=this;this.stageARN=r.resource,this.participantID=r.jti,this.eventsURL=r.events_url,this.whipURL=bt("whipUrl")||r.whip_url,this.userID=r.user_id,this.expirationTime=r.exp,this.topic=r.topic,this.parseVersionFlags(r.version);const{attributes:i}=r;i&&(this.attrGsRole=i.gs_role,this.attrGsSessionId=i.gs_session_id)}getPublishEndpoint(){let e="";return this.whipURL&&this.participantID&&(e=`${this.whipURL}/publish/${this.participantID}`),e}getSubscribeEndpoint(e){let t="";return this.whipURL&&(t=`${this.whipURL}/subscribe/${e}`),t}assertTokenIsUnexpired(e,t,n,r){(!this.expirationTime||Date.now()/1e3>=this.expirationTime)&&this.analyticsTracker.trackErrorAndThrow(new ur(Object.assign(Object.assign({},mr.EXPIRED_TOKEN),{action:Jn.JOIN,location:n,tag:t,token:this,traceId:e,remoteParticipantId:r,message:mr.EXPIRED_TOKEN.message,details:`Token expired at ${this.expirationTime} and is no longer valid`})))}parseVersionFlags(e){if(!e)return;const t=e.split(".");2===t.length&&(this.versionFlags=parseInt(t[1],10))}shouldSendSilentAudio(){return void 0===this.versionFlags||!!(2&this.versionFlags)}}function $r(e,t){return new qr(e,t)}class Kr{constructor(e,t){this.throttleDuration=0,this.throttled=!1,this.timeout=0,this.unthrottle=()=>{this.trailing&&this.trailingFn&&this.trailingFn(...this.trailingFnArgs),this.clear()},this.throttleDuration=e,this.trailing=!(t&&t.skipTrailing)}invoke(e,...t){return this.throttled?(this.trailingFn=e,this.trailingFnArgs=t,!1):(this.throttled=!0,this.timeout=window.setTimeout(this.unthrottle,this.throttleDuration),e(...t),!0)}clear(){clearTimeout(this.timeout),this.timeout=0,this.throttled=!1,delete this.trailingFn,delete this.trailingFnArgs}}var Qr=n(8954);class Yr extends mt{constructor(e,t,n,r,i,o,a,s){super(pt.SERVER_REQUEST,t,a,!0),Object.assign(this.properties,{action:e,http_method:r,remote_participant_id:o,request_uuid:i,url:n,transport:s})}}const Jr="draft-ietf-wish-whip-04";var Zr,Xr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};function ei(e,t){return Xr(this,void 0,void 0,(function*(){e.validateStatus=e=>e>=200&&e<300||403===e;const n=yield sr()(e);if(403===n.status){if(2003===n.data.code)throw new ar.AxiosError("Request failed with status code 403","ERR_BAD_REQUEST",e,n.request,n);return e.url===n.request.responseURL?(e.validateStatus=e=>e>=200&&e<300,sr()(e)):(e.url=n.request.responseURL,t<5?ei(e,t+1):(e.validateStatus=e=>e>=200&&e<300,sr()(e)))}return n}))}function ti(e){return Xr(this,void 0,void 0,(function*(){return ei(e,0)}))}function ni(){}function ri(e){switch(e){case"new":return yn.NEW;case"closed":return yn.CLOSED;case"disconnected":return yn.DISCONNECTED;case"failed":return yn.FAILED;case"idle":return yn.IDLE;case"checking":case"connecting":return yn.CONNECTING;case"completed":case"connected":return yn.CONNECTED;default:throw new Error(`unknown connecion state: ${e}`)}}function ii(e,t,n){let r=document.createElement(t);const i=()=>{r&&(r.removeEventListener("loadeddata",o),r.removeEventListener("error",i),r.srcObject=null,r.src="",r=null)},o=()=>{i(),n(t)};return r.addEventListener("loadeddata",o),r.addEventListener("error",i),r.srcObject=e,i}class oi extends mt{constructor(e,t,n,r,i){super(pt.TRACE,e,t,!1),Object.assign(this.properties,{action:r,message:n,remote_participant_id:i})}}class ai extends mt{constructor(e,t,n,r,i){super(pt.CONNECTION_STATE,t,n,!1),Object.assign(this.properties,{action:e,remote_participant_id:i,state:r})}}class si extends mt{constructor(e,t,n,r,i){super(pt.ICE_GATHERING_STATE,t,n,!1),Object.assign(this.properties,{action:e,remote_participant_id:i,state:r})}}!function(e){e.POST="post",e.CONNECTED="connected",e.ICE_GATHERING="icegathering",e.SDP_EXCHANGE="sdpExchange",e.SET_REMOTE_DESC="setRemoteDesc",e.PEER_CONNECTION="peerConnection"}(Zr||(Zr={}));const ui="start",ci="stop";class li{constructor(e,t){this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0,this.action=e,this.traceId=t}markActionStart(){this.markStart(Zr.CONNECTED)}markPostStart(){this.markStart(Zr.POST)}markPostStop(){this.markStop(Zr.POST),this.postDuration=this.measure(Zr.POST)}markIceGatheringStart(){this.markStart(Zr.ICE_GATHERING)}markIceGatheringStop(){this.markStop(Zr.ICE_GATHERING),this.timeToCandidate=this.measure(Zr.ICE_GATHERING)}markActionStop(){this.markStop(Zr.CONNECTED),this.timeToConnected=this.measure(Zr.CONNECTED),this.markStop(Zr.PEER_CONNECTION),this.peerConnectionDuration=this.measure(Zr.PEER_CONNECTION)}markSetRemoteDescStart(){this.markStart(Zr.SET_REMOTE_DESC)}markSetRemoteDescStop(){const e=Zr.SET_REMOTE_DESC;this.markStop(e),this.setRemoteDescDuration=this.measure(e),this.markStart(Zr.PEER_CONNECTION)}markSdpExchangeStart(){this.markStart(Zr.SDP_EXCHANGE)}markSdpExchangeStop(){const e=Zr.SDP_EXCHANGE;this.markStop(e),this.sdpExchangeDuration=this.measure(e)}setTransport(e){this.sdpExchangeTransport=e}markStart(e){this.marks[`${this.namespace}.${e}.${ui}`]=performance.now()}markStop(e){this.marks[`${this.namespace}.${e}.${ci}`]=performance.now()}measure(e){const t=`${this.namespace}.${e}.${ui}`,n=`${this.namespace}.${e}.${ci}`,r=this.marks[t],i=this.marks[n];return void 0===r||void 0===i?0:i-r}get namespace(){return`ivswb.peerclient.${this.action}.${this.traceId.value}`}getMeasurements(){const{optionsDuration:e,postDuration:t,timeToCandidate:n,timeToConnected:r,sdpExchangeDuration:i,sdpExchangeTransport:o,setRemoteDescDuration:a,peerConnectionDuration:s}=this;return{optionsDuration:e,postDuration:t,timeToCandidate:n,timeToConnected:r,sdpExchangeDuration:i,sdpExchangeTransport:o,setRemoteDescDuration:a,peerConnectionDuration:s}}resetMeasurements(e){this.traceId=e,this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.sdpExchangeDuration=0,this.sdpExchangeTransport="",this.setRemoteDescDuration=0,this.peerConnectionDuration=0}}var fi,di,pi;!function(e){e.VIDEO="video",e.AUDIO="audio"}(fi||(fi={})),function(e){e.DEFAULT="default",e.LOW="low",e.MEDIUM="medium",e.HIGH="high"}(di||(di={})),function(e){e.LOWEST_QUALITY="lowest_quality",e.HIGHEST_QUALITY="highest_quality"}(pi||(pi={}));var hi=n(7363);class vi{constructor(e){this.sdp=e}static splitLines(e){return e.trim().split("\n").map((e=>e.trim()))}static splitSections(e){return e.split("\nm=").map(((e,t)=>(t>0?`m=${e}`:e).trim()+vi.CRLF))}getUniqueRtpHeaderExtensionId(e){const t=[];for(const n of e)if(/^a=extmap:/.test(n.trim())){const e=+n.split("a=extmap:")[1].split(" ")[0];t.includes(e)||t.push(e)}t.sort(((e,t)=>e-t));let n=0;for(const e of t){if(e-n>1)return n+1;n=e}return 14===n?-1:n+1}withVideoLayersAllocationRtpHeaderExtension(e){const t="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",n=e?e.getRtpHeaderExtensionId(t):-1,r=-1===n?this.getUniqueRtpHeaderExtensionId(vi.splitLines(this.sdp)):n,i=vi.splitSections(this.sdp),o=[];for(let e of i){if(/^m=video/.test(e)&&-1===vi.getRtpHeaderExtensionIdInSection(e,t)){const n=vi.splitLines(e),i=[];if(-1===r||this.hasRtpHeaderExtensionId(r)){o.push(e);continue}for(const e of n)if(i.push(e),/^a=sendrecv/.test(e.trim())){const e=`a=extmap:${r} ${t}`;i.push(e)}e=i.join(vi.CRLF)+vi.CRLF}else if(-1!==n&&/^m=video/.test(e)&&vi.getRtpHeaderExtensionIdInSection(e,t)!==n){const r=vi.splitLines(e),i=[];for(const e of r)if(/^a=extmap:/.test(e.trim())&&e.split("a=extmap:")[1].split(" ")[1]===t){if(!this.hasRtpHeaderExtensionId(n)){const e=`a=extmap:${n} ${t}`;i.push(e)}}else i.push(e);e=i.join(vi.CRLF)+vi.CRLF}o.push(e)}const a=o.join("");return new vi(a)}withOpusAudioConfig(e,t){const n=hi.qg(this.sdp);for(const r of n.media)if("audio"===r.type){const{payload:n}=r.rtp.find((e=>"opus"===e.codec));if(!n)continue;let i=r.fmtp.find((e=>e.payload===n));i||(i={payload:n,config:""});const o=hi.Sl(i.config);if(o.maxaveragebitrate=e,"boolean"==typeof t){const e=t?1:0;o["sprop-stereo"]=e,o.stereo=e}let a="";for(const e of Object.keys(o))a+=`${e}=${o[e]}; `;i.config=a.trim()}return new vi(hi.M9(n))}withoutAudioRtcpRSize(){var e;const t=hi.qg(this.sdp);for(const n of t.media){if("audio"!==n.type)continue;const t=void 0!==Ot(),r=null!==(e=Ot())&&void 0!==e&&e;t&&(n.rtcpRsize=r?void 0:"rtcp-rsize")}return new vi(hi.M9(t))}withFilteredCandidates(e){const t=hi.qg(this.sdp);return t.media.forEach((t=>{const n=t.candidates;if(n){const r=n.filter((t=>t.transport===e));t.candidates=r}})),new vi(hi.M9(t))}static getRtpHeaderExtensionIdInSection(e,t){const n=vi.splitLines(e);for(const e of n)if(/^a=extmap:/.test(e.trim())){const n=e.split("a=extmap:")[1].split(" "),r=+n[0];if(n[1]===t)return r}return-1}getRtpHeaderExtensionId(e){const t=vi.splitSections(this.sdp);for(const n of t)if(/^m=video/.test(n)){const t=vi.getRtpHeaderExtensionIdInSection(n,e);if(-1!==t)return t}return-1}hasRtpHeaderExtensionId(e){const t=vi.splitLines(this.sdp);for(const n of t)if(/^a=extmap:/.test(n.trim())&&+n.split("a=extmap:")[1].split(" ")[0]===e)return!0;return!1}hasAudioNacksEnabled(){var e,t,n;return(null!==(n=null===(t=(null!==(e=hi.qg(this.sdp).media.filter((e=>"audio"===e.type))[0])&&void 0!==e?e:{}).rtcpFb)||void 0===t?void 0:t.filter((e=>"nack"===e.type)))&&void 0!==n?n:[]).length>0}}vi.CRLF="\r\n",vi.rfc7587LowestBitrate=6e3,vi.rfc7587HighestBitrate=51e4;const mi=200,yi=2500,gi=10,bi=30,_i=12,wi=128,Ei=64,Si={[di.DEFAULT]:0,[di.LOW]:50,[di.MEDIUM]:150,[di.HIGH]:250},Ti={[di.DEFAULT]:0,[di.LOW]:100,[di.MEDIUM]:200,[di.HIGH]:300},Ci="H264",Oi=e=>{const t=null==e?void 0:e.split("/");if(2===(null==t?void 0:t.length))return t[1]},Ii=(e,t)=>{const n=Oi(e);if(void 0===e||void 0===n)return;const r={mimeSubtype:n};if(t){const e=(e=>{const t=e.split(";"),n=new Map;for(const e of t){const[t,r]=e.split("=");n.set(t,r)}return n})(t);switch(n){case Ci:{const t=e.get("profile-level-id");t&&((e,t)=>{if(t.length<6)return;const n=t.substring(0,4),r=parseInt(t.substring(4,6),16);e.profile=n,e.level=r})(r,t);break}case"H265":((e,t)=>{const n=t.get("profile-id")||"0",r=t.get("tier-flag")||"0",i=parseInt(t.get("level-id")||"0",10),o=[r,n].join("_");e.profile=o,e.level=i})(r,e)}}return r},ki=(e,t)=>e.sort(((e,n)=>{if(Oi(e.mimeType)===Ci){const n=Ii(e.mimeType,e.sdpFmtpLine);if((null==n?void 0:n.profile)===t)return-1}return 0})),Ai=(e,t)=>{var n;const r=Ii(e.mimeType,e.sdpFmtpLine);return(null==r?void 0:r.mimeSubtype.toLowerCase())===t.mime.toLowerCase()&&0===(null===(n=null==r?void 0:r.profile)||void 0===n?void 0:n.toLowerCase().indexOf(t.config.toLowerCase()))},Pi=(e,t)=>t.filter((e=>!e.mimeType.endsWith("rtx"))).filter((e=>-1===e.mimeType.indexOf("packetization-mode=0"))).find((t=>e.reduce(((e,n)=>e&&!1===Ai(t,n)),!0)));class Ri extends mt{constructor(e,t,n,r,i,o,a,s,u){var c,l;super(pt.PUBLISHED_VIDEO_STATS,e,t,!1),Object.assign(this.properties,Object.assign({action:Jn.PUBLISH,node:null!==(c=null==n?void 0:n.node)&&void 0!==c?c:"",cluster:null!==(l=null==n?void 0:n.cluster)&&void 0!==l?l:""},((e,t,n,r,i,o)=>{var a,s,u,c,l,f,d,p,h,v,m,y,g,b,_,w,E,S,T,C,O,I,k,A,P,R,N,x,D,L,M,j,U;const F=null!==(s=null===(a=null==e?void 0:e.qualityLimitationDurations)||void 0===a?void 0:a.cpu)&&void 0!==s?s:0,B=null!==(c=null===(u=null==e?void 0:e.qualityLimitationDurations)||void 0===u?void 0:u.bandwidth)&&void 0!==c?c:0,V=Math.max(null!==(l=null==e?void 0:e.bytesSent)&&void 0!==l?l:0,0),H=8*V/(null!=o?o:1),z=Math.max(null!==(f=null==t?void 0:t.packetsLost)&&void 0!==f?f:0,0),G=Math.max(null!==(d=null==e?void 0:e.packetsSent)&&void 0!==d?d:0,0),W=z/Math.max(G,1),q=Ii(null==r?void 0:r.mimeType,null==r?void 0:r.sdpFmtpLine);return{active:!!(null==e?void 0:e.framesPerSecond)&&0!==e.framesPerSecond,bytes_sent:V,codec_mime_type:null==q?void 0:q.mimeSubtype,codec_profile:null==q?void 0:q.profile,codec_level:null==q?void 0:q.level,configured_bitrate:null==i?void 0:i.max_bitrate,connection_bandwidth:null!==(h=null===(p=null==n?void 0:n.candidatePair)||void 0===p?void 0:p.availableOutgoingBitrate)&&void 0!==h?h:0,encode_bitrate:H,encoder_implementation:null!==(v=null==e?void 0:e.encoderImplementation)&&void 0!==v?v:"unknown",fir_count:null!==(m=null==e?void 0:e.firCount)&&void 0!==m?m:0,fraction_packets_lost:W,frame_height:Math.max(null!==(y=null==e?void 0:e.frameHeight)&&void 0!==y?y:0,0),frame_width:Math.max(null!==(g=null==e?void 0:e.frameWidth)&&void 0!==g?g:0,0),frames_encoded:null!==(b=null==e?void 0:e.framesEncoded)&&void 0!==b?b:0,frames_per_second:Math.max(null!==(_=null==e?void 0:e.framesPerSecond)&&void 0!==_?_:0,0),frames_sent:null!==(w=null==e?void 0:e.framesSent)&&void 0!==w?w:0,header_bytes_sent:null!==(E=null==e?void 0:e.headerBytesSent)&&void 0!==E?E:0,huge_frames_sent:null!==(S=null==e?void 0:e.hugeFramesSent)&&void 0!==S?S:0,key_frames_encoded:null!==(T=null==e?void 0:e.keyFramesEncoded)&&void 0!==T?T:0,nack_count:null!==(C=null==e?void 0:e.nackCount)&&void 0!==C?C:0,packets_lost:z,packets_sent:G,power_efficient_encoder:null!==(O=null==e?void 0:e.powerEfficientEncoder)&&void 0!==O&&O,pli_count:null!==(I=null==e?void 0:e.pliCount)&&void 0!==I?I:0,quality_limitation_reason:null!==(k=null==e?void 0:e.qualityLimitationReason)&&void 0!==k?k:"none",quality_limitation_resolution_changes:null!==(A=null==e?void 0:e.qualityLimitationResolutionChanges)&&void 0!==A?A:0,quality_limitation_cpu_duration:F,quality_limitation_bandwidth_duration:B,retransmitted_bytes_sent:null!==(P=null==e?void 0:e.retransmittedBytesSent)&&void 0!==P?P:0,retransmitted_packets_sent:null!==(R=null==e?void 0:e.retransmittedPacketsSent)&&void 0!==R?R:0,rid:null!==(N=null==e?void 0:e.rid)&&void 0!==N?N:"no-rid",scalability_mode:null!==(x=null==e?void 0:e.scalabilityMode)&&void 0!==x?x:"unknown",target_bitrate:Math.max(null!==(D=null==e?void 0:e.targetBitrate)&&void 0!==D?D:0,0),total_encode_time:null!==(L=null==e?void 0:e.totalEncodeTime)&&void 0!==L?L:0,total_encoded_bytes_target:null!==(M=null==e?void 0:e.totalEncodedBytesTarget)&&void 0!==M?M:0,total_packet_send_delay:null!==(j=null==e?void 0:e.totalPacketSendDelay)&&void 0!==j?j:0,protocol:null===(U=null==n?void 0:n.localCandidate)||void 0===U?void 0:U.protocol}})(r,i,o,a,s,u)))}}class Ni extends mt{constructor(e,t,n,r,i,o,a,s,u,c,l,f){var d,p,h,v;super(pt.PUBLISHED_VIDEO_STATS_WINDOW,e,t,!1);const m=Math.max((null!==(d=null==r?void 0:r.timestamp)&&void 0!==d?d:0)-(null!==(p=null==i?void 0:i.timestamp)&&void 0!==p?p:0),0);Object.assign(this.properties,Object.assign({action:Jn.PUBLISH,node:null!==(h=null==n?void 0:n.node)&&void 0!==h?h:"",cluster:null!==(v=null==n?void 0:n.cluster)&&void 0!==v?v:"",window_size_ms:m},((e,t,n,r,i,o,a,s,u,c)=>{var l,f,d,p,h,v,m,y,g,b,_,w,E,S,T,C,O,I,k,A,P,R,N,x,D,L,M,j,U,F,B,V,H,z,G,W,q,$,K,Q,Y,J,Z,X,ee,te,ne,re,ie,oe,ae,se,ue,ce;const le=null!==(f=null===(l=null==e?void 0:e.qualityLimitationDurations)||void 0===l?void 0:l.cpu)&&void 0!==f?f:0,fe=null!==(p=null===(d=null==t?void 0:t.qualityLimitationDurations)||void 0===d?void 0:d.cpu)&&void 0!==p?p:0,de=null!==(v=null===(h=null==e?void 0:e.qualityLimitationDurations)||void 0===h?void 0:h.bandwidth)&&void 0!==v?v:0,pe=null!==(y=null===(m=null==t?void 0:t.qualityLimitationDurations)||void 0===m?void 0:m.bandwidth)&&void 0!==y?y:0,he=Math.max((null!==(g=null==e?void 0:e.bytesSent)&&void 0!==g?g:0)-(null!==(b=null==t?void 0:t.bytesSent)&&void 0!==b?b:0),0),ve="number"!=typeof s?1:s/1e3,me=8*he/ve,ye=Math.max((null!==(_=null==n?void 0:n.packetsLost)&&void 0!==_?_:0)-(null!==(w=null==r?void 0:r.packetsLost)&&void 0!==w?w:0),0),ge=Math.max((null!==(E=null==e?void 0:e.packetsSent)&&void 0!==E?E:0)-(null!==(S=null==t?void 0:t.packetsSent)&&void 0!==S?S:0),0),be=ye/Math.max(ge,1),_e=Ii(null==o?void 0:o.mimeType,null==o?void 0:o.sdpFmtpLine),we=8*(c||0)/ve;return{active:!!(null==e?void 0:e.framesPerSecond)&&0!==(null==e?void 0:e.framesPerSecond),bytes_sent:he,codec_mime_type:null==_e?void 0:_e.mimeSubtype,codec_profile:null==_e?void 0:_e.profile,codec_level:null==_e?void 0:_e.level,configured_bitrate:null==a?void 0:a.max_bitrate,connection_bandwidth:null!==(C=null===(T=null==i?void 0:i.candidatePair)||void 0===T?void 0:T.availableOutgoingBitrate)&&void 0!==C?C:0,encode_bitrate:me,encoder_implementation:null!==(O=null==e?void 0:e.encoderImplementation)&&void 0!==O?O:"unknown",fir_count:Math.max((null!==(I=null==e?void 0:e.firCount)&&void 0!==I?I:0)-(null!==(k=null==t?void 0:t.firCount)&&void 0!==k?k:0),0),fraction_packets_lost:be,frame_height:Math.max(null!==(A=null==e?void 0:e.frameHeight)&&void 0!==A?A:0,0),frame_width:Math.max(null!==(P=null==e?void 0:e.frameWidth)&&void 0!==P?P:0,0),frames_encoded:Math.max((null!==(R=null==e?void 0:e.framesEncoded)&&void 0!==R?R:0)-(null!==(N=null==t?void 0:t.framesEncoded)&&void 0!==N?N:0),0),frames_per_second:Math.max(null!==(x=null==e?void 0:e.framesPerSecond)&&void 0!==x?x:0,0),frames_sent:Math.max((null!==(D=null==e?void 0:e.framesSent)&&void 0!==D?D:0)-(null!==(L=null==t?void 0:t.framesSent)&&void 0!==L?L:0),0),header_bytes_sent:Math.max((null!==(M=null==e?void 0:e.headerBytesSent)&&void 0!==M?M:0)-(null!==(j=null==t?void 0:t.headerBytesSent)&&void 0!==j?j:0),0),huge_frames_sent:Math.max((null!==(U=null==e?void 0:e.hugeFramesSent)&&void 0!==U?U:0)-(null!==(F=null==t?void 0:t.hugeFramesSent)&&void 0!==F?F:0),0),key_frames_encoded:Math.max((null!==(B=null==e?void 0:e.keyFramesEncoded)&&void 0!==B?B:0)-(null!==(V=null==t?void 0:t.keyFramesEncoded)&&void 0!==V?V:0),0),nack_count:Math.max((null!==(H=null==e?void 0:e.nackCount)&&void 0!==H?H:0)-(null!==(z=null==t?void 0:t.nackCount)&&void 0!==z?z:0),0),packets_lost:ye,packets_sent:ge,power_efficient_encoder:null!==(G=null==e?void 0:e.powerEfficientEncoder)&&void 0!==G&&G,pli_count:Math.max((null!==(W=null==e?void 0:e.pliCount)&&void 0!==W?W:0)-(null!==(q=null==t?void 0:t.pliCount)&&void 0!==q?q:0),0),quality_limitation_reason:null!==($=null==e?void 0:e.qualityLimitationReason)&&void 0!==$?$:"none",quality_limitation_resolution_changes:Math.max((null!==(K=null==e?void 0:e.qualityLimitationResolutionChanges)&&void 0!==K?K:0)-(null!==(Q=null==t?void 0:t.qualityLimitationResolutionChanges)&&void 0!==Q?Q:0),0),quality_limitation_cpu_duration:Math.max(le-fe,0),quality_limitation_bandwidth_duration:Math.max(de-pe,0),retransmitted_bytes_sent:Math.max((null!==(Y=null==e?void 0:e.retransmittedBytesSent)&&void 0!==Y?Y:0)-(null!==(J=null==t?void 0:t.retransmittedBytesSent)&&void 0!==J?J:0),0),rid:null!==(Z=null==e?void 0:e.rid)&&void 0!==Z?Z:"no-rid",retransmitted_packets_sent:Math.max((null!==(X=null==e?void 0:e.retransmittedPacketsSent)&&void 0!==X?X:0)-(null!==(ee=null==t?void 0:t.retransmittedPacketsSent)&&void 0!==ee?ee:0),0),scalability_mode:null!==(te=null==e?void 0:e.scalabilityMode)&&void 0!==te?te:"unknown",target_bitrate:Math.max(null!==(ne=null==e?void 0:e.targetBitrate)&&void 0!==ne?ne:0,0),total_encode_time:Math.max((null!==(re=null==e?void 0:e.totalEncodeTime)&&void 0!==re?re:0)-(null!==(ie=null==t?void 0:t.totalEncodeTime)&&void 0!==ie?ie:0),0),total_encoded_bytes_target:Math.max((null!==(oe=null==e?void 0:e.totalEncodedBytesTarget)&&void 0!==oe?oe:0)-(null!==(ae=null==t?void 0:t.totalEncodedBytesTarget)&&void 0!==ae?ae:0),0),total_packet_send_delay:Math.max((null!==(se=null==e?void 0:e.totalPacketSendDelay)&&void 0!==se?se:0)-(null!==(ue=null==t?void 0:t.totalPacketSendDelay)&&void 0!==ue?ue:0),0),sei_write_count:u,sei_bytes_sent:c,sei_bitrate:we,protocol:null===(ce=null==i?void 0:i.localCandidate)||void 0===ce?void 0:ce.protocol}})(r,i,o,a,s,u,c,m,l,f)))}}class xi extends mt{constructor(e,t,n,r,i,o,a,s,u,c){var l,f;super(pt.PUBLISHED_AUDIO_STATS,e,t,!1),Object.assign(this.properties,Object.assign({action:Jn.PUBLISH,node:null!==(l=null==n?void 0:n.node)&&void 0!==l?l:"",cluster:null!==(f=null==n?void 0:n.cluster)&&void 0!==f?f:""},((e,t,n,r,i,o,a)=>{var s,u,c,l,f,d,p,h,v,m,y,g,b;const _=Math.max(null!==(s=null==e?void 0:e.bytesSent)&&void 0!==s?s:0,0),w=8*_/(null!=o?o:1),E=Math.max(null!==(u=null==t?void 0:t.packetsLost)&&void 0!==u?u:0,0),S=Math.max(null!==(c=null==e?void 0:e.packetsSent)&&void 0!==c?c:0,0),T=E/Math.max(S,1),C=Ii(null==r?void 0:r.mimeType,null==r?void 0:r.sdpFmtpLine);return{audio_nacks_enabled:null!==(l=null==a?void 0:a.audioNacks)&&void 0!==l&&l,bytes_sent:_,codec_mime_type:null==C?void 0:C.mimeSubtype,configured_bitrate:null!==(f=null==i?void 0:i.max_audio_bitrate_bps)&&void 0!==f?f:0,connection_bandwidth:null!==(p=null===(d=null==n?void 0:n.candidatePair)||void 0===d?void 0:d.availableOutgoingBitrate)&&void 0!==p?p:0,encode_bitrate:w,fraction_packets_lost:T,header_bytes_sent:null!==(h=null==e?void 0:e.headerBytesSent)&&void 0!==h?h:0,nack_count:null!==(v=null==e?void 0:e.nackCount)&&void 0!==v?v:0,packets_lost:E,packets_sent:S,retransmitted_bytes_sent:null!==(m=null==e?void 0:e.retransmittedBytesSent)&&void 0!==m?m:0,retransmitted_packets_sent:null!==(y=null==e?void 0:e.retransmittedPacketsSent)&&void 0!==y?y:0,target_bitrate:null!==(g=null==e?void 0:e.targetBitrate)&&void 0!==g?g:0,protocol:null===(b=null==n?void 0:n.localCandidate)||void 0===b?void 0:b.protocol}})(r,i,o,a,s,u,c)))}}class Di extends mt{constructor(e,t,n,r,i,o,a,s,u,c,l){var f,d,p,h;super(pt.PUBLISHED_AUDIO_STATS_WINDOW,e,t,!1);const v=Math.max((null!==(f=null==r?void 0:r.timestamp)&&void 0!==f?f:0)-(null!==(d=null==i?void 0:i.timestamp)&&void 0!==d?d:0),0);Object.assign(this.properties,Object.assign({action:Jn.PUBLISH,node:null!==(p=null==n?void 0:n.node)&&void 0!==p?p:"",cluster:null!==(h=null==n?void 0:n.cluster)&&void 0!==h?h:"",window_size_ms:v},((e,t,n,r,i,o,a,s,u)=>{var c,l,f,d,p,h,v,m,y,g,b,_,w,E,S,T,C,O,I,k,A,P;const R=Math.max((null!==(c=null==e?void 0:e.bytesSent)&&void 0!==c?c:0)-(null!==(l=null==t?void 0:t.bytesSent)&&void 0!==l?l:0),0),N=8*R/("number"!=typeof s?1:s/1e3),x=Math.max((null!==(f=null==n?void 0:n.packetsLost)&&void 0!==f?f:0)-(null!==(d=null==r?void 0:r.packetsLost)&&void 0!==d?d:0),0),D=Math.max((null!==(p=null==e?void 0:e.packetsSent)&&void 0!==p?p:0)-(null!==(h=null==t?void 0:t.packetsSent)&&void 0!==h?h:0),0),L=x/Math.max(D,1),M=Ii(null==o?void 0:o.mimeType,null==o?void 0:o.sdpFmtpLine);return{audio_nacks_enabled:null!==(v=null==u?void 0:u.audioNacks)&&void 0!==v&&v,bytes_sent:R,codec_mime_type:null==M?void 0:M.mimeSubtype,configured_bitrate:null!==(m=null==a?void 0:a.max_audio_bitrate_bps)&&void 0!==m?m:0,connection_bandwidth:null!==(g=null===(y=null==i?void 0:i.candidatePair)||void 0===y?void 0:y.availableOutgoingBitrate)&&void 0!==g?g:0,encode_bitrate:N,fraction_packets_lost:L,header_bytes_sent:Math.max((null!==(b=null==e?void 0:e.headerBytesSent)&&void 0!==b?b:0)-(null!==(_=null==t?void 0:t.headerBytesSent)&&void 0!==_?_:0),0),nack_count:Math.max((null!==(w=null==e?void 0:e.nackCount)&&void 0!==w?w:0)-(null!==(E=null==t?void 0:t.nackCount)&&void 0!==E?E:0),0),packets_lost:x,packets_sent:Math.max((null!==(S=null==e?void 0:e.packetsSent)&&void 0!==S?S:0)-(null!==(T=null==t?void 0:t.packetsSent)&&void 0!==T?T:0),0),retransmitted_bytes_sent:Math.max((null!==(C=null==e?void 0:e.retransmittedBytesSent)&&void 0!==C?C:0)-(null!==(O=null==t?void 0:t.retransmittedBytesSent)&&void 0!==O?O:0),0),retransmitted_packets_sent:Math.max((null!==(I=null==e?void 0:e.retransmittedPacketsSent)&&void 0!==I?I:0)-(null!==(k=null==t?void 0:t.retransmittedPacketsSent)&&void 0!==k?k:0),0),target_bitrate:Math.max(null!==(A=null==e?void 0:e.targetBitrate)&&void 0!==A?A:0,0),protocol:null===(P=null==i?void 0:i.localCandidate)||void 0===P?void 0:P.protocol}})(r,i,o,a,s,u,c,v,l)))}}class Li extends mt{constructor(e,t,n,r,i,o,a,s){var u,c;super(pt.SUBSCRIBED_VIDEO_STATS,e,t,!1),Object.assign(this.properties,Object.assign({action:Jn.SUBSCRIBE,node:null!==(u=null==r?void 0:r.node)&&void 0!==u?u:"",cluster:null!==(c=null==r?void 0:r.cluster)&&void 0!==c?c:"",remote_participant_id:n},((e,t,n,r)=>{var i,o,a,s,u,c,l,f,d,p,h,v,m,y,g,b,_,w,E,S,T,C,O,I;let k=0;(null==e?void 0:e.jitterBufferDelay)&&(null==e?void 0:e.jitterBufferEmittedCount)&&e.jitterBufferEmittedCount>0&&(k=e.jitterBufferDelay/e.jitterBufferEmittedCount);const A=null!=r?r:1,P=Math.max(null!==(i=null==e?void 0:e.bytesReceived)&&void 0!==i?i:0,0),R=8*P/A;let N=0;(null==e?void 0:e.totalDecodeTime)&&(null==e?void 0:e.framesDecoded)&&(N=e.totalDecodeTime/Math.max(null==e?void 0:e.framesDecoded,1));const x=Math.max(null!==(o=null==e?void 0:e.packetsLost)&&void 0!==o?o:0,0),D=Math.max(null!==(a=null==e?void 0:e.packetsReceived)&&void 0!==a?a:0,0),L=x/Math.max(D+x,1),M=Ii(null==n?void 0:n.mimeType,null==n?void 0:n.sdpFmtpLine);return{bytes_received:P,codec_mime_type:null==M?void 0:M.mimeSubtype,codec_profile:null==M?void 0:M.profile,codec_level:null==M?void 0:M.level,connection_bandwidth:null!==(u=null===(s=null==t?void 0:t.candidatePair)||void 0===s?void 0:s.availableIncomingBitrate)&&void 0!==u?u:0,decode_bitrate:R,decoder_implementation:null!==(c=null==e?void 0:e.decoderImplementation)&&void 0!==c?c:"unknown",fir_count:Math.max(null!==(l=null==e?void 0:e.firCount)&&void 0!==l?l:0,0),fraction_packets_lost:L,frame_decode_time_avg:N,frame_height:Math.max(null!==(f=null==e?void 0:e.frameHeight)&&void 0!==f?f:0,0),frame_width:Math.max(null!==(d=null==e?void 0:e.frameWidth)&&void 0!==d?d:0,0),frames_decoded:Math.max(null!==(p=null==e?void 0:e.framesDecoded)&&void 0!==p?p:0,0),frames_dropped:Math.max(null!==(h=null==e?void 0:e.framesDropped)&&void 0!==h?h:0,0),frames_received:Math.max(null!==(v=null==e?void 0:e.framesReceived)&&void 0!==v?v:0,0),freeze_count:Math.max(null!==(m=null==e?void 0:e.freezeCount)&&void 0!==m?m:0,0),frames_rendered:Math.max(null!==(y=null==e?void 0:e.framesRendered)&&void 0!==y?y:0,0),frames_per_second:Math.max(null!==(g=null==e?void 0:e.framesPerSecond)&&void 0!==g?g:0,0),header_bytes_received:Math.max(null!==(b=null==e?void 0:e.headerBytesReceived)&&void 0!==b?b:0,0),jitter_buffer_delay_avg:k,key_frames_decoded:Math.max(null!==(_=null==e?void 0:e.keyFramesDecoded)&&void 0!==_?_:0,0),nack_count:Math.max(null!==(w=null==e?void 0:e.nackCount)&&void 0!==w?w:0,0),packets_discarded:Math.max(null!==(E=null==e?void 0:e.packetsDiscarded)&&void 0!==E?E:0,0),packets_lost:x,packets_received:D,pause_count:Math.max(null!==(S=null==e?void 0:e.pauseCount)&&void 0!==S?S:0,0),pli_count:Math.max(null!==(T=null==e?void 0:e.pliCount)&&void 0!==T?T:0,0),power_efficient_decoder:null!==(C=null==e?void 0:e.powerEfficientDecoder)&&void 0!==C&&C,total_freezes_duration:Math.max(null!==(O=null==e?void 0:e.totalFreezesDuration)&&void 0!==O?O:0,0),total_pauses_duration:Math.max(null!==(I=null==e?void 0:e.totalPausesDuration)&&void 0!==I?I:0,0)}})(i,o,a,s)))}}class Mi extends mt{constructor(e,t,n,r,i,o,a,s,u,c,l){var f,d,p,h;super(pt.SUBSCRIBED_VIDEO_STATS_WINDOW,e,t,!1);const v=Math.max((null!==(f=null==i?void 0:i.timestamp)&&void 0!==f?f:0)-(null!==(d=null==o?void 0:o.timestamp)&&void 0!==d?d:0),0);Object.assign(this.properties,Object.assign({action:Jn.SUBSCRIBE,node:null!==(p=null==r?void 0:r.node)&&void 0!==p?p:"",cluster:null!==(h=null==r?void 0:r.cluster)&&void 0!==h?h:"",window_size_ms:v,remote_participant_id:n},((e,t,n,r,i,o,a,s)=>{var u,c,l,f,d,p,h,v,m,y,g,b,_,w,E,S,T,C,O,I,k,A,P,R,N,x,D,L,M,j,U,F,B,V,H,z,G,W,q,$,K,Q,Y,J,Z;let X=0,ee=0;if((null==e?void 0:e.jitterBufferEmittedCount)&&(null==t?void 0:t.jitterBufferEmittedCount)&&e.jitterBufferEmittedCount>t.jitterBufferEmittedCount){(null==e?void 0:e.jitterBufferDelay)&&(null==t?void 0:t.jitterBufferDelay)&&(X=(e.jitterBufferDelay-t.jitterBufferDelay)/(e.jitterBufferEmittedCount-t.jitterBufferEmittedCount));const n=null==t?void 0:t.jitterBufferMinimumDelay,r=null==e?void 0:e.jitterBufferMinimumDelay;n&&r&&(ee=(r-n)/(e.jitterBufferEmittedCount-t.jitterBufferEmittedCount))}const te=Math.max((null!==(u=null==e?void 0:e.bytesReceived)&&void 0!==u?u:0)-(null!==(c=null==t?void 0:t.bytesReceived)&&void 0!==c?c:0),0),ne="number"!=typeof i?1:i/1e3,re=8*te/ne,ie=Math.max((null!==(l=null==e?void 0:e.totalDecodeTime)&&void 0!==l?l:0)-(null!==(f=null==t?void 0:t.totalDecodeTime)&&void 0!==f?f:0),0),oe=Math.max((null!==(d=null==e?void 0:e.framesDecoded)&&void 0!==d?d:0)-(null!==(p=null==t?void 0:t.framesDecoded)&&void 0!==p?p:0),0),ae=ie/Math.max(oe,1),se=Math.max((null!==(h=null==e?void 0:e.packetsLost)&&void 0!==h?h:0)-(null!==(v=null==t?void 0:t.packetsLost)&&void 0!==v?v:0),0),ue=Math.max((null!==(m=null==e?void 0:e.packetsReceived)&&void 0!==m?m:0)-(null!==(y=null==t?void 0:t.packetsReceived)&&void 0!==y?y:0),0),ce=se/Math.max(ue+se,1),le=Ii(null==r?void 0:r.mimeType,null==r?void 0:r.sdpFmtpLine),fe=8*(s||0)/ne;return{bytes_received:te,codec_mime_type:null==le?void 0:le.mimeSubtype,codec_profile:null==le?void 0:le.profile,codec_level:null==le?void 0:le.level,connection_bandwidth:null!==(b=null===(g=null==n?void 0:n.candidatePair)||void 0===g?void 0:g.availableIncomingBitrate)&&void 0!==b?b:0,decode_bitrate:re,decoder_implementation:null!==(_=null==e?void 0:e.decoderImplementation)&&void 0!==_?_:"unknown",fir_count:Math.max((null!==(w=null==e?void 0:e.firCount)&&void 0!==w?w:0)-(null!==(E=null==t?void 0:t.firCount)&&void 0!==E?E:0),0),fraction_packets_lost:ce,frame_decode_time_avg:ae,frame_height:Math.max(null!==(S=null==e?void 0:e.frameHeight)&&void 0!==S?S:0,0),frame_width:Math.max(null!==(T=null==e?void 0:e.frameWidth)&&void 0!==T?T:0,0),frames_decoded:Math.max((null!==(C=null==e?void 0:e.framesDecoded)&&void 0!==C?C:0)-(null!==(O=null==t?void 0:t.framesDecoded)&&void 0!==O?O:0),0),frames_dropped:Math.max((null!==(I=null==e?void 0:e.framesDropped)&&void 0!==I?I:0)-(null!==(k=null==t?void 0:t.framesDropped)&&void 0!==k?k:0),0),frames_received:Math.max((null!==(A=null==e?void 0:e.framesReceived)&&void 0!==A?A:0)-(null!==(P=null==t?void 0:t.framesReceived)&&void 0!==P?P:0),0),freeze_count:Math.max((null!==(R=null==e?void 0:e.freezeCount)&&void 0!==R?R:0)-(null!==(N=null==t?void 0:t.freezeCount)&&void 0!==N?N:0),0),frames_rendered:Math.max(null!==(x=null==e?void 0:e.framesRendered)&&void 0!==x?x:0,0),frames_per_second:Math.max(null!==(D=null==e?void 0:e.framesPerSecond)&&void 0!==D?D:0,0),header_bytes_received:Math.max((null!==(L=null==e?void 0:e.headerBytesReceived)&&void 0!==L?L:0)-(null!==(M=null==t?void 0:t.headerBytesReceived)&&void 0!==M?M:0),0),configured_jitter_buffer_min_delay_ms:null!=o?o:0,jitter_buffer_min_obtainable_delay:ee,jitter_buffer_delay_avg:X,key_frames_decoded:Math.max((null!==(j=null==e?void 0:e.keyFramesDecoded)&&void 0!==j?j:0)-(null!==(U=null==t?void 0:t.keyFramesDecoded)&&void 0!==U?U:0),0),nack_count:Math.max((null!==(F=null==e?void 0:e.nackCount)&&void 0!==F?F:0)-(null!==(B=null==t?void 0:t.nackCount)&&void 0!==B?B:0),0),packets_discarded:Math.max((null!==(V=null==e?void 0:e.packetsDiscarded)&&void 0!==V?V:0)-(null!==(H=null==t?void 0:t.packetsDiscarded)&&void 0!==H?H:0),0),packets_lost:se,packets_received:ue,pause_count:Math.max((null!==(z=null==e?void 0:e.pauseCount)&&void 0!==z?z:0)-(null!==(G=null==t?void 0:t.pauseCount)&&void 0!==G?G:0),0),pli_count:Math.max((null!==(W=null==e?void 0:e.pliCount)&&void 0!==W?W:0)-(null!==(q=null==t?void 0:t.pliCount)&&void 0!==q?q:0),0),power_efficient_decoder:null!==($=null==e?void 0:e.powerEfficientDecoder)&&void 0!==$&&$,total_freezes_duration:Math.max((null!==(K=null==e?void 0:e.totalFreezesDuration)&&void 0!==K?K:0)-(null!==(Q=null==t?void 0:t.totalFreezesDuration)&&void 0!==Q?Q:0),0),total_pauses_duration:Math.max((null!==(Y=null==e?void 0:e.totalPausesDuration)&&void 0!==Y?Y:0)-(null!==(J=null==t?void 0:t.totalPausesDuration)&&void 0!==J?J:0),0),sei_read_count:a,sei_bytes_received:s,sei_bitrate:fe,protocol:null===(Z=null==n?void 0:n.localCandidate)||void 0===Z?void 0:Z.protocol}})(i,o,a,s,v,u,c,l)))}}class ji extends mt{constructor(e,t,n,r,i,o,a,s,u){var c,l;super(pt.SUBSCRIBED_AUDIO_STATS,e,t,!1),Object.assign(this.properties,Object.assign({action:Jn.SUBSCRIBE,node:null!==(c=null==r?void 0:r.node)&&void 0!==c?c:"",cluster:null!==(l=null==r?void 0:r.cluster)&&void 0!==l?l:"",remote_participant_id:n},((e,t,n,r,i)=>{var o,a,s,u,c,l,f,d,p,h,v,m,y,g,b,_,w,E;let S=0;(null==e?void 0:e.jitterBufferDelay)&&(null==e?void 0:e.jitterBufferEmittedCount)&&e.jitterBufferEmittedCount>0&&(S=e.jitterBufferDelay/e.jitterBufferEmittedCount);const T=null!=r?r:1,C=Math.max(null!==(o=null==e?void 0:e.bytesReceived)&&void 0!==o?o:0,0),O=8*C/T,I=Math.max(null!==(a=null==e?void 0:e.packetsLost)&&void 0!==a?a:0,0),k=Math.max(null!==(s=null==e?void 0:e.packetsReceived)&&void 0!==s?s:0,0),A=I/Math.max(k+I,1),P=Math.max(null!==(u=null==e?void 0:e.concealedSamples)&&void 0!==u?u:0,0),R=Math.max(null!==(c=null==e?void 0:e.totalSamplesReceived)&&void 0!==c?c:0,0),N=P/Math.max(R,1),x=Ii(null==n?void 0:n.mimeType,null==n?void 0:n.sdpFmtpLine);return{audio_level:null!==(l=null==e?void 0:e.audioLevel)&&void 0!==l?l:0,audio_nacks_enabled:null!==(f=null==i?void 0:i.audioNacks)&&void 0!==f&&f,bytes_received:C,codec_mime_type:null==x?void 0:x.mimeSubtype,connection_bandwidth:null!==(p=null===(d=null==t?void 0:t.candidatePair)||void 0===d?void 0:d.availableIncomingBitrate)&&void 0!==p?p:0,concealed_samples:P,concealment_events:Math.max(null!==(h=null==e?void 0:e.concealmentEvents)&&void 0!==h?h:0,0),silent_concealed_samples:Math.max(null!==(v=null==e?void 0:e.silentConcealedSamples)&&void 0!==v?v:0,0),decode_bitrate:O,fraction_audio_concealed:N,fraction_packets_lost:A,header_bytes_received:Math.max(null!==(m=null==e?void 0:e.headerBytesReceived)&&void 0!==m?m:0,0),inserted_samples_for_deceleration:Math.max(null!==(y=null==e?void 0:e.insertedSamplesForDeceleration)&&void 0!==y?y:0,0),jitter_buffer_delay_avg:S,packets_discarded:Math.max(null!==(g=null==e?void 0:e.packetsDiscarded)&&void 0!==g?g:0,0),retransmitted_packets_received:Math.max(null!==(b=null==e?void 0:e.retransmittedPacketsReceived)&&void 0!==b?b:0,0),retransmitted_bytes_received:Math.max(null!==(_=null==e?void 0:e.retransmittedBytesReceived)&&void 0!==_?_:0,0),packets_lost:I,packets_received:k,nack_count:Math.max(null!==(w=null==e?void 0:e.nackCount)&&void 0!==w?w:0,0),removed_samples_for_acceleration:Math.max(null!==(E=null==e?void 0:e.removedSamplesForAcceleration)&&void 0!==E?E:0,0),total_samples_received:R}})(i,o,a,s,u)))}}class Ui extends mt{constructor(e,t,n,r,i,o,a,s,u,c){var l,f,d,p;super(pt.SUBSCRIBED_AUDIO_STATS_WINDOW,e,t,!1);const h=Math.max((null!==(l=null==i?void 0:i.timestamp)&&void 0!==l?l:0)-(null!==(f=null==o?void 0:o.timestamp)&&void 0!==f?f:0),0);Object.assign(this.properties,Object.assign({action:Jn.SUBSCRIBE,window_size_ms:h,node:null!==(d=null==r?void 0:r.node)&&void 0!==d?d:"",cluster:null!==(p=null==r?void 0:r.cluster)&&void 0!==p?p:"",remote_participant_id:n},((e,t,n,r,i,o,a)=>{var s,u,c,l,f,d,p,h,v,m,y,g,b,_,w,E,S,T,C,O,I,k,A,P,R,N,x,D,L,M,j,U,F;let B=0,V=0;if((null==e?void 0:e.jitterBufferEmittedCount)&&(null==t?void 0:t.jitterBufferEmittedCount)&&e.jitterBufferEmittedCount>t.jitterBufferEmittedCount){(null==e?void 0:e.jitterBufferDelay)&&(null==t?void 0:t.jitterBufferDelay)&&(B=(e.jitterBufferDelay-t.jitterBufferDelay)/(e.jitterBufferEmittedCount-t.jitterBufferEmittedCount));const n=null==t?void 0:t.jitterBufferMinimumDelay,r=null==e?void 0:e.jitterBufferMinimumDelay;n&&r&&(V=(r-n)/(e.jitterBufferEmittedCount-t.jitterBufferEmittedCount))}const H="number"!=typeof i?1:i/1e3,z=Math.max((null!==(s=null==e?void 0:e.bytesReceived)&&void 0!==s?s:0)-(null!==(u=null==t?void 0:t.bytesReceived)&&void 0!==u?u:0),0),G=8*z/H,W=Math.max((null!==(c=null==e?void 0:e.packetsLost)&&void 0!==c?c:0)-(null!==(l=null==t?void 0:t.packetsLost)&&void 0!==l?l:0),0),q=Math.max((null!==(f=null==e?void 0:e.packetsReceived)&&void 0!==f?f:0)-(null!==(d=null==t?void 0:t.packetsReceived)&&void 0!==d?d:0),0),$=W/Math.max(q+W,1),K=Math.max((null!==(p=null==e?void 0:e.concealedSamples)&&void 0!==p?p:0)-(null!==(h=null==t?void 0:t.concealedSamples)&&void 0!==h?h:0),0),Q=Math.max((null!==(v=null==e?void 0:e.totalSamplesReceived)&&void 0!==v?v:0)-(null!==(m=null==t?void 0:t.totalSamplesReceived)&&void 0!==m?m:0),0),Y=K/Math.max(Q,1),J=Ii(null==r?void 0:r.mimeType,null==r?void 0:r.sdpFmtpLine);return{audio_level:null!==(y=null==e?void 0:e.audioLevel)&&void 0!==y?y:0,audio_nacks_enabled:null!==(g=null==o?void 0:o.audioNacks)&&void 0!==g&&g,bytes_received:z,codec_mime_type:null==J?void 0:J.mimeSubtype,connection_bandwidth:null!==(_=null===(b=null==n?void 0:n.candidatePair)||void 0===b?void 0:b.availableIncomingBitrate)&&void 0!==_?_:0,decode_bitrate:G,concealed_samples:K,concealment_events:Math.max((null!==(w=null==e?void 0:e.concealmentEvents)&&void 0!==w?w:0)-(null!==(E=null==t?void 0:t.concealmentEvents)&&void 0!==E?E:0),0),silent_concealed_samples:Math.max((null!==(S=null==e?void 0:e.silentConcealedSamples)&&void 0!==S?S:0)-(null!==(T=null==t?void 0:t.silentConcealedSamples)&&void 0!==T?T:0),0),fraction_audio_concealed:Y,fraction_packets_lost:$,header_bytes_received:Math.max((null!==(C=null==e?void 0:e.headerBytesReceived)&&void 0!==C?C:0)-(null!==(O=null==t?void 0:t.headerBytesReceived)&&void 0!==O?O:0),0),inserted_samples_for_deceleration:Math.max((null!==(I=null==e?void 0:e.insertedSamplesForDeceleration)&&void 0!==I?I:0)-(null!==(k=null==t?void 0:t.insertedSamplesForDeceleration)&&void 0!==k?k:0),0),configured_jitter_buffer_min_delay_ms:null!=a?a:0,jitter_buffer_min_obtainable_delay:V,jitter_buffer_delay_avg:B,packets_discarded:Math.max((null!==(A=null==e?void 0:e.packetsDiscarded)&&void 0!==A?A:0)-(null!==(P=null==t?void 0:t.packetsDiscarded)&&void 0!==P?P:0),0),packets_lost:W,packets_received:q,nack_count:Math.max((null!==(R=null==e?void 0:e.nackCount)&&void 0!==R?R:0)-(null!==(N=null==t?void 0:t.nackCount)&&void 0!==N?N:0),0),removed_samples_for_acceleration:Math.max((null!==(x=null==e?void 0:e.removedSamplesForAcceleration)&&void 0!==x?x:0)-(null!==(D=null==t?void 0:t.removedSamplesForAcceleration)&&void 0!==D?D:0),0),retransmitted_packets_received:Math.max((null!==(L=null==e?void 0:e.retransmittedPacketsReceived)&&void 0!==L?L:0)-(null!==(M=null==t?void 0:t.retransmittedPacketsReceived)&&void 0!==M?M:0),0),retransmitted_bytes_received:Math.max((null!==(j=null==e?void 0:e.retransmittedBytesReceived)&&void 0!==j?j:0)-(null!==(U=null==t?void 0:t.retransmittedBytesReceived)&&void 0!==U?U:0),0),total_samples_received:Q,protocol:null===(F=null==n?void 0:n.localCandidate)||void 0===F?void 0:F.protocol}})(i,o,a,s,h,u,c)))}}class Fi extends mt{constructor(e,t,n,r,i=Jn.PUBLISH,o=!1,a=""){super(pt.SIMULCAST_LAYER_INFO,e,t,!1),Object.assign(this.properties,{rid:n,active:r,selected:o,source:i===Jn.PUBLISH?"publisher":"subscriber",remote_participant_id:a})}}class Bi extends mt{constructor(e,t,n,r){super(pt.MULTIHOST_CONFIGURATION,e,t,!1),Object.assign(this.properties,Object.assign(Object.assign({},n),{action:r}))}}class Vi extends mt{constructor(e,t,n){super(pt.MULTIHOST_SUBSCRIBE_CONFIGURATION,e,t,!1),Object.assign(this.properties,Object.assign({},n))}}var Hi,zi,Gi;!function(e){e.Mobile="mobile",e.Tablet="tablet",e.Desktop="desktop",e.Tv="tv"}(Hi||(Hi={})),function(e){e.IOS="iOS",e.MacOS="macOS",e.Windows="Windows",e.Android="Android"}(zi||(zi={})),function(e){e.Safari="Safari",e.Firefox="Firefox",e.Chrome="Chrome",e.IE="Internet Explorer",e.Edge="Microsoft Edge"}(Gi||(Gi={}));const Wi=function(e){const t=qi(window.navigator.userAgent);return{platform:{isMobile:$i(Hi.Mobile,t),isTablet:$i(Hi.Tablet,t),isDesktop:$i(Hi.Desktop,t),isTv:$i(Hi.Tv,t)},os:{name:Qi(t),version:Ki(t),isIOS:Yi(zi.IOS,t),isMacOS:Yi(zi.MacOS,t),isWindows:Yi(zi.Windows,t),isAndroid:Yi(zi.Android,t)},browser:{name:Zi(t),version:Ji(t),isSafari:Xi(Gi.Safari,t),isFirefox:Xi(Gi.Firefox,t),isChrome:Xi(Gi.Chrome,t),isIE:Xi(Gi.IE,t),isEdge:Xi(Gi.Edge,t)}}}();function qi(e){try{return vt.getParser(e||window.navigator.userAgent)}catch(e){}}function $i(e,t){return()=>(t||(t=qi()),!(!t||t.getPlatformType(!0)!==e.toLowerCase()))}function Ki(e){return()=>(e||(e=qi()),e&&e.getOSVersion()||"")}function Qi(e){return()=>(e||(e=qi()),e&&e.getOSName()||"")}function Yi(e,t){return()=>(t||(t=qi()),!(!t||t.getOSName(!0)!==e.toLowerCase()))}function Ji(e){return()=>(e||(e=qi()),e&&e.getBrowserVersion()||"")}function Zi(e){return()=>(e||(e=qi()),e&&e.getBrowserName()||"")}function Xi(e,t){return()=>(t||(t=qi()),!(!t||t.getBrowserName().toLowerCase()!==e.toLowerCase()))}const eo={active:!1,maxBitrate:2e5,rid:"low",maxFramerate:15,scaleResolutionDownBy:4},to={width:320,height:180},no={active:!1,maxBitrate:7e5,rid:"mid",maxFramerate:20,scaleResolutionDownBy:2},ro={width:640,height:360},io={active:!1,maxBitrate:17e5,rid:"hi",maxFramerate:30,scaleResolutionDownBy:1},oo={width:1280,height:720};function ao(e){const{config:t}=e;return[{maxBitrate:t.maxBitrateBps}]}function so(e,t){var n,r;const i=null==t?void 0:t.track,o=null==t?void 0:t.config;if(e&&i){const e=(0,Zn.cloneDeep)([{encodingParams:eo,targetResolution:to},{encodingParams:no,targetResolution:ro},{encodingParams:io,targetResolution:oo}]),{height:t,width:a}=i.getSettings(),s=t&&a?{width:a,height:t}:void 0;for(const t of e){t.encodingParams.active=!0;let e=1;s&&(e=Math.floor(Math.sqrt(s.width*s.height/(t.targetResolution.width*t.targetResolution.height))),e=Math.max(e,1)),t.encodingParams.scaleResolutionDownBy=e}let u=null!==(n=null==o?void 0:o.maxBitrateBps)&&void 0!==n?n:io.maxBitrate;const c=null!==(r=null==o?void 0:o.maxFramerate)&&void 0!==r?r:io.maxFramerate;return u<no.maxBitrate&&(u=io.maxBitrate),e[2].encodingParams.maxBitrate=u,e[2].encodingParams.maxFramerate=c,e[2].encodingParams.scaleResolutionDownBy=1,e.map((e=>e.encodingParams))}return o?[{maxBitrate:o.maxBitrateBps,maxFramerate:o.maxFramerate}]:[{maxBitrate:co(yi),maxFramerate:bi}]}const uo=1e3;function co(e){return e*uo}const lo=(e,...t)=>{const n=t.map((e=>"object"!=typeof e)).filter(Boolean).length>0;if("object"==typeof e&&!n)return(0,Zn.merge)({},e,...t)},fo=e=>po(e),po=e=>(0,Zn.cloneDeep)(e),ho=e=>{switch(e){case pi.HIGHEST_QUALITY:return"highest";case pi.LOWEST_QUALITY:default:return"lowest"}};var vo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};const mo="no-rid";class yo{constructor(e,t,n,r,i,o,a){this.analyticsTracker=i,this.receiveVideoTransformer=o,this.senderVideoTransformer=a,this.simulcastEnabled=!1,this.simulcastState={low:!1,mid:!1,hi:!1},this.sdp=new vi(""),this.sdpFeatures={audioNacks:!1},this.multihostConfiguration=yo.defaultMultihostConfiguration(),this.prevOutboundVideoStats=new Map,this.prevInboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.sfuResource={node:"",cluster:""},this.connectionStartedTimestamp=Date.now(),this.prevVideoReceiverTransformerStats={seiReadCnt:0,seiBytesRead:0},this.prevVideoSenderTransformerStats={seiWriteCnt:0,seiBytesWritten:0},this.onPeerConnectionStateChange=()=>{switch(this.getConnectionState()){case yn.CONNECTED:this.connectionStartedTimestamp=Date.now(),this.setupIntervals();break;case yn.FAILED:this.flushStats()}},this.action=e,this.token=t,this.traceId=n,this.identifier=r}static defaultMultihostConfiguration(){return{video_codec:"unknown",width:0,height:0,max_bitrate:0,min_bitrate:0,target_fps:0,echo_cancellation:!1,auto_gain:!1,noise_suppression:!1,enable_simulcast:!1,max_audio_bitrate_bps:co(wi)}}set sdpAnswer(e){try{this.sdp=new vi(e),this.sdpFeatures.audioNacks=this.sdp.hasAudioNacksEnabled()}catch(e){}}start(e,t=!1){this.peerConnection=e,this.simulcastEnabled=t,this.prevOutboundAudioStats=void 0,this.prevOutboundVideoStats=new Map,this.prevRemoteInboundStats=new Map,this.peerConnection.addEventListener("connectionstatechange",this.onPeerConnectionStateChange)}stop(){var e;clearInterval(this.uploadStatsInterval),this.uploadStatsInterval=void 0,null===(e=this.peerConnection)||void 0===e||e.removeEventListener("connectionstatechange",this.onPeerConnectionStateChange)}updateSfuResource(e){this.sfuResource=e}updateMultihostConfiguration(e,t){var n,r,i,o,a,s;return vo(this,void 0,void 0,(function*(){if(this.action!==Jn.PUBLISH||!this.peerConnection)return;const u=yo.defaultMultihostConfiguration();if(t){const e=this.peerConnection.getSenders().filter((e=>null!==e.track&&"video"===e.track.kind));e.length>0&&(yield e[0].getStats()).forEach((e=>{"codec"===e.type&&(u.video_codec=e.mimeType)}));const o=t.track.getSettings();u.width=null!==(n=o.width)&&void 0!==n?n:0,u.height=null!==(r=o.height)&&void 0!==r?r:0,u.target_fps=null!==(i=o.frameRate)&&void 0!==i?i:0,t.config?(u.max_bitrate=t.config.maxBitrateBps,u.min_bitrate=t.config.minBitrateBps,u.enable_simulcast=t.config.simulcastEnabled):(u.max_bitrate=co(yi),u.min_bitrate=co(mi),u.enable_simulcast=!1)}if(e){const t=e.track.getSettings();u.auto_gain=null!==(o=t.autoGainControl)&&void 0!==o&&o,u.echo_cancellation=null!==(a=t.echoCancellation)&&void 0!==a&&a,u.noise_suppression=null!==(s=t.noiseSuppression)&&void 0!==s&&s,u.max_audio_bitrate_bps=e.config.maxBitrateBps,u.stereo=e.config.stereo}(0,Zn.isEqual)(u,this.multihostConfiguration)||(this.analyticsTracker.trackEventNoSharedProps(new Bi(this.token,this.traceId,u,this.action)),this.multihostConfiguration=u)}))}updateJitterBufferMinDelay(e){this.jitterBufferMinDelayInMs=e}setupIntervals(){this.action===Jn.PUBLISH&&this.simulcastEnabled&&!this.pollSimulcastLayerInterval&&(this.pollSimulcastLayers(),this.pollSimulcastLayerInterval=this.startInterval(this.pollSimulcastLayers,5e3)),this.uploadStatsInterval||(this.uploadStats(),this.uploadStatsInterval=this.startInterval(this.uploadStats,1e4))}startInterval(e,t){return setInterval(e.bind(this),t)}getConnectionState(){var e;if(!this.peerConnection)return yn.NONE;const t=null!==(e=this.peerConnection.connectionState)&&void 0!==e?e:this.peerConnection.iceConnectionState;try{return ri(t)}catch(e){return yn.IDLE}}pollSimulcastLayers(){var e;return vo(this,void 0,void 0,(function*(){if(this.getConnectionState()===yn.CONNECTED){const t=yield null===(e=this.peerConnection)||void 0===e?void 0:e.getStats();if(!t)return;t.forEach((e=>{var t;if("outbound-rtp"===e.type){const n=0!==(null!==(t=e.framesPerSecond)&&void 0!==t?t:0);switch(e.rid){case"low":n!==this.simulcastState.low&&(this.simulcastState.low=n,this.analyticsTracker.trackEventNoSharedProps(new Fi(this.token,this.traceId,e.rid,n)));break;case"mid":n!==this.simulcastState.mid&&(this.simulcastState.mid=n,this.analyticsTracker.trackEventNoSharedProps(new Fi(this.token,this.traceId,e.rid,n)));break;case"hi":n!==this.simulcastState.hi&&(this.simulcastState.hi=n,this.analyticsTracker.trackEventNoSharedProps(new Fi(this.token,this.traceId,e.rid,n)))}}}))}}))}flushStats(){var e;return vo(this,void 0,void 0,(function*(){const t=yield null===(e=this.peerConnection)||void 0===e?void 0:e.getStats();t&&(this.action===Jn.PUBLISH?this.uploadPublisherStats(t):this.action===Jn.SUBSCRIBE&&this.uploadSubscriberStats(t))}))}uploadStats(){var e;return vo(this,void 0,void 0,(function*(){if(this.getConnectionState()===yn.CONNECTED){const t=yield null===(e=this.peerConnection)||void 0===e?void 0:e.getStats();if(!t)return;this.action===Jn.PUBLISH?this.uploadPublisherStats(t):this.action===Jn.SUBSCRIBE&&this.uploadSubscriberStats(t)}}))}uploadPublisherStats(e){const t={audio:{},video:[],candidateStats:{}},n=new Map,r=(Date.now()-this.connectionStartedTimestamp)/1e3,i=Object.assign({},this.multihostConfiguration),{seiWriteCnt:o,seiBytesWritten:a}=this.updateAndDiffSeiPublishStatsSinceLastUpdate(this.senderVideoTransformer.getSenderStats());e.forEach((r=>{if("outbound-rtp"===r.type){const i=e.get(r.remoteId),o=this.prevRemoteInboundStats.get(r.remoteId);switch(i&&this.prevRemoteInboundStats.set(i.id,i),r.kind){case"audio":t.audio=this.updateOutboundAudio(r),t.audio.remoteInbound=i,t.audio.prevRemoteInbound=o,t.audio.codec=n.get(r.codecId);break;case"video":t.video.push(Object.assign({},this.updateOutboundVideo(r),{remoteInbound:i,prevRemoteInbound:o,codec:n.get(r.codecId)}))}}"candidate-pair"===r.type&&r.nominated&&(t.candidateStats.candidatePair=r,t.candidateStats.localCandidate=e.get(r.localCandidateId),t.candidateStats.remoteCandidate=e.get(r.remoteCandidate)),"codec"===r.type&&n.set(r.id,r)})),this.analyticsTracker.trackEventNoSharedProps(new xi(this.token,this.traceId,this.sfuResource,t.audio.outbound,t.audio.remoteInbound,t.candidateStats,t.audio.codec,i,r,this.sdpFeatures)),t.audio.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new Di(this.token,this.traceId,this.sfuResource,t.audio.outbound,t.audio.prevOutbound,t.audio.remoteInbound,t.audio.prevRemoteInbound,t.candidateStats,t.audio.codec,i,this.sdpFeatures)),t.video.forEach((e=>{this.analyticsTracker.trackEventNoSharedProps(new Ri(this.token,this.traceId,this.sfuResource,e.outbound,e.remoteInbound,t.candidateStats,e.codec,i,r)),e.prevOutbound&&this.analyticsTracker.trackEventNoSharedProps(new Ni(this.token,this.traceId,this.sfuResource,e.outbound,e.prevOutbound,e.remoteInbound,e.prevRemoteInbound,t.candidateStats,e.codec,i,o,a))}))}uploadSubscriberStats(e){var t;const n={audio:{},video:{},candidateStats:{}},r=new Map,i=(Date.now()-this.connectionStartedTimestamp)/1e3,o=null!==(t=this.jitterBufferMinDelayInMs)&&void 0!==t?t:0,{seiReadCnt:a,seiBytesRead:s}=this.updateAndDiffSeiSubscribeStatsSinceLastUpdate(this.receiveVideoTransformer.getReceiverStats());e.forEach((t=>{if("inbound-rtp"===t.type)switch(t.kind){case"audio":n.audio=this.updateInboundAudio(t),n.audio.codec=r.get(t.codecId);break;case"video":n.video=this.updateInboundVideo(t),n.video.codec=r.get(t.codecId)}"candidate-pair"===t.type&&t.nominated&&(n.candidateStats.candidatePair=t,n.candidateStats.localCandidate=e.get(t.localCandidateId),n.candidateStats.remoteCandidate=e.get(t.remoteCandidate)),"codec"===t.type&&r.set(t.id,t)})),this.analyticsTracker.trackEventNoSharedProps(new ji(this.token,this.traceId,this.identifier,this.sfuResource,n.audio.inbound,n.candidateStats,n.audio.codec,i,this.sdpFeatures)),n.audio.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new Ui(this.token,this.traceId,this.identifier,this.sfuResource,n.audio.inbound,n.audio.prevInbound,n.candidateStats,n.audio.codec,this.sdpFeatures,o)),this.analyticsTracker.trackEventNoSharedProps(new Li(this.token,this.traceId,this.identifier,this.sfuResource,n.video.inbound,n.candidateStats,n.video.codec,i)),n.video.prevInbound&&this.analyticsTracker.trackEventNoSharedProps(new Mi(this.token,this.traceId,this.identifier,this.sfuResource,n.video.inbound,n.video.prevInbound,n.candidateStats,n.video.codec,o,a,s))}updateAndDiffSeiSubscribeStatsSinceLastUpdate(e){const t=this.prevVideoReceiverTransformerStats,n=e.seiReadCnt-t.seiReadCnt,r=e.seiBytesRead-t.seiBytesRead;return this.prevVideoReceiverTransformerStats={seiReadCnt:e.seiReadCnt,seiBytesRead:e.seiBytesRead},{seiReadCnt:n,seiBytesRead:r}}updateAndDiffSeiPublishStatsSinceLastUpdate(e){const t=this.prevVideoSenderTransformerStats,n=e.seiWriteCnt-t.seiWriteCnt,r=e.seiBytesWritten-t.seiBytesWritten;return this.prevVideoSenderTransformerStats={seiWriteCnt:e.seiWriteCnt,seiBytesWritten:e.seiBytesWritten},{seiWriteCnt:n,seiBytesWritten:r}}updateOutboundAudio(e){const t=e,n=this.prevOutboundAudioStats,r=e.id===(null==n?void 0:n.id)?n:void 0;return this.prevOutboundAudioStats=e,{outbound:t,prevOutbound:r}}updateInboundAudio(e){const t=e,n=this.prevInboundAudioStats,r=e.id===(null==n?void 0:n.id)?n:void 0;return this.prevInboundAudioStats=e,{inbound:t,prevInbound:r}}updateInboundVideo(e){const t=e,n=this.prevInboundVideoStats.get(mo),r=e.id===(null==n?void 0:n.id)?n:void 0;return this.prevInboundVideoStats.set(mo,e),{inbound:t,prevInbound:r}}updateOutboundVideo(e){const t=e,n=this.getPrevOutboundVideo(e),r=e.id===(null==n?void 0:n.id)?n:void 0;return this.setPrevVideoStat(e),{outbound:t,prevOutbound:r}}getPrevOutboundVideo(e){return this.simulcastEnabled&&e.rid&&this.prevOutboundVideoStats.has(e.rid)?this.prevOutboundVideoStats.get(e.rid):!this.simulcastEnabled&&this.prevOutboundVideoStats.has(mo)?this.prevOutboundVideoStats.get(mo):void 0}setPrevVideoStat(e){this.simulcastEnabled&&e.rid?this.prevOutboundVideoStats.set(e.rid,e):this.simulcastEnabled||this.prevOutboundVideoStats.set(mo,e)}}class go extends mt{constructor(e,t,n,r,i){super(pt.MINUTE,e,t,!1),Object.assign(this.properties,{action:r?Jn.PUBLISH:Jn.SUBSCRIBE,is_publishing:r,minutes_logged:n,subscribed_number:i})}}class bo extends mt{constructor(e){super(pt.PUBLISH,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.PUBLISH,remote_participant_id:e.token.participantID})}}class _o extends mt{constructor(e){super(pt.UNPUBLISH,e.token,e.traceId,!0),Object.assign(this.properties,{action:Jn.PUBLISH,remote_participant_id:e.token.participantID})}}class wo extends mt{constructor(e){var t,n,r,i;super(pt.SUBSCRIBE,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.SUBSCRIBE,remote_participant_id:e.subscribedId,subscribed_id:e.subscribedId,is_edp_connected:e.isEdpConnected,is_reassignment:e.isReassignment,node:null!==(n=null===(t=e.preAttemptSfuResource)||void 0===t?void 0:t.node)&&void 0!==n?n:"",cluster:null!==(i=null===(r=e.preAttemptSfuResource)||void 0===r?void 0:r.cluster)&&void 0!==i?i:""})}}class Eo extends mt{constructor(e){super(pt.UNSUBSCRIBE,e.token,e.traceId,!0),Object.assign(this.properties,{action:Jn.SUBSCRIBE,remote_participant_id:e.unsubscribedId,unsubscribed_id:e.unsubscribedId})}}class So extends mt{constructor(e){var t,n,r,i;super(pt.PUBLISH_STARTED,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.PUBLISH,options_duration:e.optionsDuration,post_duration:e.postDuration,remote_participant_id:e.token.participantID,time_to_candidate:e.timeToCandidate,total_duration:e.totalDuration,edp_initial_connect_duration:e.edpInitialConnectDuration,edp_initial_connect_retry_times:e.edpInitialConnectRetries,edp_initial_state_duration:e.edpInitialStateDuration,edp_state_update_count:e.edpStateUpdateCount,sdp_exchange_duration:e.sdpExchangeDuration,sdp_exchange_transport:e.sdpExchangeTransport,set_remote_desc_duration:e.setRemoteDescDuration,peer_connection_duration:e.peerConnectionDuration,node:null!==(n=null===(t=e.sfuResource)||void 0===t?void 0:t.node)&&void 0!==n?n:"",cluster:null!==(i=null===(r=e.sfuResource)||void 0===r?void 0:r.cluster)&&void 0!==i?i:"",publish_retry_times:e.publishRetries,total_duration_with_retries:e.totalDurationWithRetries,protocol:e.protocol})}}class To extends mt{constructor(e){super(pt.PUBLISH_FAILED,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.PUBLISH,code:e.code,message:e.message,fatal:e.fatal,nominal:e.nominal,protocol:e.protocol})}}class Co extends mt{constructor(e){super(pt.PUBLISH_ENDED,e.token,e.traceId,!0),Object.assign(this.properties,{action:Jn.PUBLISH,remote_participant_id:e.token.participantID,unpublish_successful:e.isUnpublishSuccessful,reason:e.reason,protocol:e.protocol})}}class Oo extends mt{constructor(e){var t,n,r,i;super(pt.SUBSCRIBE_STARTED,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.SUBSCRIBE,options_duration:e.optionsDuration,post_duration:e.postDuration,remote_participant_id:e.remoteParticipantId,time_to_candidate:e.timeToCandidate,total_duration:e.totalDuration,edp_initial_connect_duration:e.edpInitialConnectDuration,edp_initial_connect_retry_times:e.edpInitialConnectRetries,edp_initial_state_duration:e.edpInitialStateDuration,edp_initial_state_publishing_count:e.edpInitialStatePublishingCount,edp_state_update_count:e.edpStateUpdateCount,sdp_exchange_duration:e.sdpExchangeDuration,sdp_exchange_transport:e.sdpExchangeTransport,set_remote_desc_duration:e.setRemoteDescDuration,peer_connection_duration:e.peerConnectionDuration,node:null!==(n=null===(t=e.sfuResource)||void 0===t?void 0:t.node)&&void 0!==n?n:"",cluster:null!==(i=null===(r=e.sfuResource)||void 0===r?void 0:r.cluster)&&void 0!==i?i:"",total_duration_with_retries:e.totalDurationWithRetries,subscribe_retry_times:e.subscribeRetryTimes,is_reassignment:e.isReassignment,protocol:e.protocol})}}class Io extends mt{constructor(e){super(pt.SUBSCRIBE_FAILED,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.SUBSCRIBE,remote_participant_id:e.remoteParticipantId,code:e.code,message:e.message,fatal:e.fatal,nominal:e.nominal,is_reassignment:e.isReassignment,protocol:e.protocol})}}class ko extends mt{constructor(e){super(pt.SUBSCRIBE_ENDED,e.token,e.traceId,!0),Object.assign(this.properties,{action:Jn.SUBSCRIBE,remote_participant_id:e.remoteParticipantId,unsubscribe_successful:e.isUnsubscribeSuccessful,reason:e.reason,protocol:e.protocol}),this.critical=!0}}class Ao extends mt{constructor(e){super(pt.STATE_UPDATED,e.token,e.traceId,!1),Object.assign(this.properties,{audio_muted:e.isAudioMuted,is_disconnected:e.isDisconnected,is_publishing:e.isPublishing,other_participant_id:e.otherParticipantId,other_participant_user_id:e.otherParticipantUserId,video_stopped:e.isVideoStopped})}}class Po extends mt{constructor(e){var t,n,r,i,o;super(pt.FIRST_FRAME,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.SUBSCRIBE,remote_participant_id:e.remoteParticipantId,edp_initial_connect_duration:e.edpInitialConnectDuration,edp_initial_connect_retry_times:e.edpInitialConnectRetries,edp_initial_state_duration:e.edpInitialStateDuration,edp_initial_state_publishing_count:e.edpInitialStatePublishingCount,edp_state_update_count:e.edpStateUpdateCount,sdp_exchange_duration:e.sdpExchangeDuration,sdp_exchange_transport:e.sdpExchangeTransport,set_remote_desc_duration:e.setRemoteDescDuration,peer_connection_duration:e.peerConnectionDuration,node:null!==(n=null===(t=e.sfuResource)||void 0===t?void 0:t.node)&&void 0!==n?n:"",cluster:null!==(i=null===(r=e.sfuResource)||void 0===r?void 0:r.cluster)&&void 0!==i?i:"",video_was_paused:e.videoWasPaused,first_frame_duration:e.firstFrameDuration,total_duration_with_retries:e.totalDurationWithRetries,subscribe_retry_times:e.subscribeRetryTimes,media_type:e.mediaType,configured_jitter_buffer_min_delay_ms:null!==(o=e.currentJitterBufferMinDelayInMs)&&void 0!==o?o:0,protocol:e.protocol})}}class Ro extends mt{constructor(e){super(pt.EDP_PONG,e.token,e.traceId,!1),Object.assign(this.properties,{event_endpoint:e.eventEndpoint,protocol:e.protocol,edp_rtt:e.edpRttMs})}}class No extends mt{constructor(e){super(pt.JOIN,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.JOIN,event_endpoint:e.eventEndpoint,whip_endpoint:e.whipEndpoint})}}class xo extends mt{constructor(e){super(pt.JOIN_ATTEMPT,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.JOIN,event_endpoint:e.eventEndpoint,whip_endpoint:e.whipEndpoint})}}class Do extends mt{constructor(e){super(pt.JOIN_ATTEMPT_FAILED,e.token,e.traceId,!1),Object.assign(this.properties,{action:Jn.JOIN,event_endpoint:e.eventEndpoint,whip_endpoint:e.whipEndpoint,code:e.code,message:e.message,fatal:e.fatal,nominal:e.nominal,connect_retry_times:e.retryCnt})}}class Lo extends mt{constructor(e){super(pt.EDP_DISCONNECTED,e.token,e.traceId,!1),Object.assign(this.properties,{event_endpoint:e.eventEndpoint,protocol:e.protocol}),this.critical=!0}}class Mo extends mt{constructor(e){super(pt.EDP_CONNECTED,e.token,e.traceId,!1),Object.assign(this.properties,{event_endpoint:e.eventEndpoint,protocol:e.protocol,connect_retry_times:e.numRetries}),this.critical=!0}}var jo;!function(e){e.MESSAGE="message",e.RESPONSE="response"}(jo||(jo={}));class Uo{constructor(e,t,n){this.token=e,this.analyticsTracker=n,this.protocol="",this.connecting=!1,this.closing=!1,this.windowUnloading=!1,this.latestPingTimestamp=0,this.pongCount=0,this.latestSequenceNumber=0,this.nextConnectionAttempt=0,this.pingInterval=0,this.pongTimeout=0,this.connectTimeout=0,this.beforeUnload=()=>{this.emitter.emit(Mr,"beforeunload"),this.windowUnloading=!0},this.sendSdpOffer=(e,t,n,r,i,o,a,s)=>{var u;const c={type:"aws:ivs:SDP_OFFER",payload:{whipUrl:t,requestId:r,traceId:n,platform:"web",sdk:"1.22.1",whipVersion:Jr,content:e,contentType:"application/sdp"}};i&&(c.payload.forceNode=i),o&&(c.payload.assignmentToken=o),a&&(c.payload.multiCodec=a);const l=void 0===Ct(),f=Ct()||l;s&&f&&(c.payload.initialLayerPref=ho(s)),null===(u=this.socket)||void 0===u||u.send(JSON.stringify(c))},this.getRetryCount=()=>Math.max(this.connectionAttempts-1,0),this.trackJoinEnded=()=>{this.analyticsTracker.trackEventNoSharedProps(new Lo({token:this.token,eventEndpoint:this.token.eventsURL,traceId:this.traceId,protocol:this.protocol}))},this.logger=new sn(t,fe.SOCKET),this.emitter=new ht.EventEmitter,this.connectionAttempts=0,this.sentPing=!1,this.receivedPong=!1,this.traceId=or(),this.id=`[${rr().value}] `,window.addEventListener("beforeunload",this.beforeUnload)}connect(e,t,n=!1){this.logger.debug({msg:`${this.id}connecting to ${this.addr}`}),this.addr=e,this.traceId=t,this.latestSequenceNumber=0,n&&!this.connecting&&(window.clearTimeout(this.connectTimeout),this.connectTimeout=window.setTimeout(this.connectTimedOut.bind(this),1e4)),this.attemptConnect(t)}attemptConnect(e){this.traceId=e||or(),this.connectionAttempts++,this.trackJoinAttempt(this.connectionAttempts);const{topic:t,rawToken:n}=this.token;this.connecting=!0,this.closing=!1;try{const e=encodeURIComponent(this.traceId.value);this.socket=this.createWebSocket(`${this.addr}?topic=${t}/publishers&traceid=${e}`,n),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onopen=this.onOpen.bind(this),this.protocol=this.socket.protocol}catch(e){const t=e instanceof Error?e.message:void 0,n=this.createError(mr.EVENT_PLANE_WS_CREATE_FAILED,t);this.trackJoinFailed(n,this.getRetryCount()),this.emitter.emit(Fr,n)}}send(e){var t;this.logger.debug({msg:`${this.id}sending ${JSON.stringify(e)}`}),this.isReady()?null===(t=this.socket)||void 0===t||t.send(JSON.stringify(e)):this.logger.warn({msg:"Trying to send data over stage socket that is not ready"})}close(){this.logger.debug({msg:`${this.id}closing`});const e=this.connecting,t=this.socket&&this.socket.readyState===this.socket.OPEN,n=this.socket&&this.socket.readyState===this.socket.CLOSING,r=this.getRetryCount();if(this.closing=!0,this.connecting=!1,this.cleanPingPongTimeouts(),window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.connectionAttempts=0,this.connectTimeout=0,this.socket)if(this.socket.close(),this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.onopen=null,t){const e="intentional-close";this.trackJoinEnded(),this.emitter.emit(Mr,e)}else if(e&&!n){const e=this.createError(mr.OPERATION_ABORTED);this.trackJoinFailed(e,r),this.analyticsTracker.trackError(e),this.emitter.emit(Fr,e)}}removeAllListeners(){window.removeEventListener("beforeunload",this.beforeUnload),this.emitter.removeAllListeners()}createWebSocket(e,t){return new WebSocket(e,t)}createError(e,t){return new ur(Object.assign({action:Jn.JOIN,traceId:this.traceId,token:this.token,location:"StageSocket.connection",tag:cr,details:t},e))}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}isReady(){return this.logger.debug({msg:`${this.id}isReady called`}),!!this.socket&&this.socket.readyState===this.socket.OPEN}onMessage(e){this.logger.debug({msg:`${this.id}received message: ${e.data}`});try{const t=JSON.parse(e.data);switch(t.type){case"STAGE_STATE":case"aws:ivs:STAGE_STATE":{const e=t.payload.sequenceNumber;e>this.latestSequenceNumber&&(0===this.latestSequenceNumber&&St()&&this.connectTimeout>0&&this.triggerSocketOpen(t),this.emitter.emit(Br,t),this.latestSequenceNumber=e);break}case"PONG":this.receivedPong=!0,this.pongCount%2==0&&this.analyticsTracker.trackEventNoSharedProps(new Ro({token:this.token,eventEndpoint:this.token.eventsURL,protocol:this.protocol,traceId:this.traceId,edpRttMs:performance.now()-this.latestPingTimestamp})),this.pongCount++;break;case"REFRESH":this.emitter.emit(Ur);break;case"aws:ivs:SDP_ANSWER":this.emitter.emit(Vr,t.payload);break;case"aws:ivs:DISCONNECT":this.emitter.emit(Hr,t.payload);break;case"aws:ivs:REASSIGN":this.emitter.emit(zr,t.payload);break;case"aws:ivs:INCOMPATIBLE_CODECS":this.emitter.emit(Gr,t.payload);break;case"aws:ivs:SSU":this.emitter.emit("ssu",t.payload);break;default:(0,Zn.noop)()}}catch(e){this.logger.debug({msg:`onMessage JSON Parse error: ${e}`}),this.emitter.emit(jr,e)}}onError(e){this.logger.debug({msg:`${this.id}error: ${JSON.stringify(e)}`})}onClose(e){if(this.logger.debug({msg:`${this.id}onClose triggered with code (closing = ${this.closing}, connecting = ${this.connecting})`}),this.cleanPingPongTimeouts(),this.closing)this.closing=!1;else if(!this.windowUnloading)if(this.connecting){let t=Math.pow(2,this.connectionAttempts-1);t>64&&(t=64),this.logger.debug({msg:`${this.id}reconnecting in ${t} seconds`}),window.clearTimeout(this.nextConnectionAttempt),this.nextConnectionAttempt=window.setTimeout(this.attemptConnect.bind(this),1e3*t);const n=this.createError(mr.EVENT_PLANE_WS_CLOSE_BEFORE_OPEN,`code: ${null==e?void 0:e.code}, reason: ${null==e?void 0:e.reason}, wasClean: ${null==e?void 0:e.wasClean}`);this.trackJoinFailed(n,this.getRetryCount()),this.analyticsTracker.trackError(n)}else{this.logger.debug({msg:`${this.id}unexpected close`}),this.emitter.emit(Mr,"unknown");const t=this.createError(mr.EVENT_PLANE_WS_UNEXPECTED_CLOSE,`code: ${null==e?void 0:e.code}, reason: ${null==e?void 0:e.reason}, wasClean: ${null==e?void 0:e.wasClean}`);this.trackJoinEnded(),this.emitter.emit(Fr,t)}}onOpen(){this.logger.debug({msg:`${this.id} socket opened`}),this.clearConnectionAttemptTimeouts(),St()?this.connectTimeout=window.setTimeout((()=>{this.triggerSocketOpen()}),1e4):this.triggerSocketOpen()}clearConnectionAttemptTimeouts(){window.clearTimeout(this.nextConnectionAttempt),window.clearTimeout(this.connectTimeout),this.nextConnectionAttempt=0,this.connectTimeout=0}triggerSocketOpen(e){this.clearConnectionAttemptTimeouts();const t=this.getRetryCount();this.connectionAttempts=0,this.connecting=!1,this.trackJoinStarted(),this.emitter.emit(Lr,{retryCnt:t,traceId:this.traceId,initialStageState:e}),this.pingInterval=window.setInterval(this.ping.bind(this),3e4)}ping(){var e;this.logger.debug({msg:`${this.id}sending PING`});try{this.latestPingTimestamp=performance.now(),null===(e=this.socket)||void 0===e||e.send(JSON.stringify({type:"PING"})),this.sentPing=!0,this.receivedPong=!1,this.pongTimeout&&clearTimeout(this.pongTimeout),this.pongTimeout=window.setTimeout(this.pongTimedOut.bind(this),5e3)}catch(e){const t=e instanceof Error?e.message:void 0,n=this.createError(mr.EVENT_PLANE_PING_SEND_FAIL,t);this.emitter.emit(Fr,n)}}connectTimedOut(){const e=this.socket&&this.socket.readyState===this.socket.CONNECTING;this.connecting=!1,this.logger.debug({msg:`${this.id}Connect timed out!`});const t=this.createError(mr.JOIN_TIMED_OUT);e&&this.trackJoinFailed(t,this.getRetryCount()),this.createError(mr.JOIN_TIMED_OUT),this.emitter.emit(Fr,t),this.close()}pongTimedOut(){if(this.sentPing&&!this.receivedPong){this.logger.debug({msg:`${this.id}Pong timed out!`});const e=this.createError(mr.EVENT_PLANE_PONG_TIMEOUT);this.emitter.emit(Fr,e)}}cleanPingPongTimeouts(){this.sentPing=this.receivedPong=!1,window.clearTimeout(this.pongTimeout),window.clearInterval(this.pingInterval)}trackJoinAttempt(e){const{token:t,traceId:n}=this;this.analyticsTracker.trackEvent(new xo({token:t,eventEndpoint:(null==t?void 0:t.eventsURL)||"",whipEndpoint:(null==t?void 0:t.whipURL)||"",traceId:n}))}trackJoinFailed(e,t){const{token:n,traceId:r,code:i,message:o,fatal:a,nominal:s}=e;this.analyticsTracker.trackEvent(new Do({token:n,eventEndpoint:n.eventsURL,whipEndpoint:n.whipURL,traceId:r,code:i,message:o,fatal:a,nominal:s,retryCnt:t}))}trackJoinStarted(){this.analyticsTracker.trackEventNoSharedProps(new Mo({token:this.token,eventEndpoint:this.token.eventsURL,numRetries:this.getRetryCount(),protocol:this.protocol,traceId:this.traceId}))}}var Fo,Bo,Vo,Ho,zo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};!function(e){e.SDP_EXCHANGE="xdp",e.JITTER_BUFFER_MIN_DELAY_MS="jit_buf_min_delay_ms"}(Fo||(Fo={})),function(e){e.USER_INITIATED="user-initiated",e.CLIENT_RECONNECT="reconnect",e.TOKEN_REUSED="token-reused",e.UNKNOWN="unknown",e.PARTICIPANT_DISCONNECTED="participant-disconnected",e.STAGE_DELETED="stage-deleted"}(Bo||(Bo={})),function(e){e[e.NOT_CONNECTED=0]="NOT_CONNECTED",e[e.CONNECTION_LOST=1]="CONNECTION_LOST",e[e.TIMEDOUT=2]="TIMEDOUT",e[e.ABORTED=3]="ABORTED",e[e.INVALID_MESSAGE=4]="INVALID_MESSAGE",e[e.UNEXPECTED_ERROR=5]="UNEXPECTED_ERROR"}(Vo||(Vo={})),function(e){e.DISCONNECTED="disconnected",e.CONNECTING="connecting",e.CONNECTED="connected",e.ERRORED="errored"}(Ho||(Ho={}));class Go extends er{constructor(e,t,n){super(),this.token=e,this.nonScopedLogger=t,this.analyticsTracker=n,this.participants=new Map,this.disconnected=[],this.state={value:Ho.DISCONNECTED,context:{connectStartTime:0,hasConnected:!1}},this.features={sdpExchange:!1},this.stats=this.resetStats(),this.stageMinutesLogged=0,this.isStagePublishing=!1,this.onConnecting=(e,t)=>{this.logger.debug({msg:"onConnecting",context:e,event:t}),e.connectStartTime=performance.now();const n="RECONNECT"===t.type;n&&this.stageSocket.close();const{eventsURL:r}=this.token;this.emit(Sr,Ho.CONNECTING),this.state.value=Ho.CONNECTING;const i=!n;this.stageSocket.connect(r,this.traceId,i)},this.onConnected=(e,t)=>{this.logger.debug({msg:"onConnected",context:e,event:t}),e.hasConnected=!0,this.emit("stageJoined"),this.emit(Sr,Ho.CONNECTED),this.state.value=Ho.CONNECTED},this.onDisconnected=(e,t)=>{this.logger.debug({msg:"onDisconnected",context:e}),this.state.value=Ho.DISCONNECTED,this.stopStageMinuteLoggedInterval(!0),this.stageSocket.close(),e.hasConnected=!1,this.participants=new Map,this.disconnected=[],this.stageSocket.removeAllListeners(),this.resetStats(),this.emit(Sr,Ho.DISCONNECTED,t)},this.onErrored=(e,t)=>{this.logger.error({msg:"Connection failure occurred",err:t.payload.error}),this.emit(Sr,Ho.ERRORED),this.emit(Tr,t.payload.error),this.state.value=Ho.ERRORED,e.hasConnected?this.processStateUpdate({type:"RECONNECT"}):this.stageSocket.close()},this.processStateUpdate=e=>{const t=this.state.value,n=this.state.context;switch(t){case Ho.DISCONNECTED:"CONNECT"===e.type&&this.onConnecting(n,e);break;case Ho.CONNECTING:"RECONNECT"===e.type?this.onConnecting(n,e):"DISCONNECT"===e.type?this.onDisconnected(n,e.reason):"CONNECT_SUCCESS"===e.type?this.onConnected(n,e):"ERROR"===e.type&&this.onErrored(n,e);break;case Ho.CONNECTED:"RECONNECT"===e.type?this.onConnecting(n,e):"DISCONNECT"===e.type?this.onDisconnected(n,e.reason):"ERROR"===e.type&&this.onErrored(n,e);break;case Ho.ERRORED:"RECONNECT"===e.type?this.onConnecting(n,e):"DISCONNECT"===e.type&&this.onDisconnected(n,e.reason)}},this.measureConnect=(e,t)=>{const n=this.stats.edpConnectCount,r=n+1,i=performance.now(),o=i-t;return Object.assign(this.stats,{edpConnectCount:r,edpConnectDuration:o}),0===n&&Object.assign(this.stats,{edpInitialStartConnectTime:t,edpInitialFinishConnectTime:i,edpInitialConnectDuration:o,edpInitialConnectRetries:e}),this.stats},this.measureStateUpdate=e=>{const{edpInitialFinishConnectTime:t}=this.stats,n=this.stats.edpStateUpdateCount,r=n+1;return Object.assign(this.stats,{edpStateUpdateCount:r}),0===n&&Object.assign(this.stats,{edpInitialStateDuration:performance.now()-t,edpInitialStatePublishingCount:e}),this.stats},this.trackMessageParseError=e=>{this.logger.error({msg:"Message Parse Error occurred",err:e.err});const t=new ur({token:e.token,traceId:e.traceId,code:mr.WEBSOCKET_MESSAGE_PARSE_FAILURE.code,tag:e.tag,location:e.location,message:e.message,details:e.err.message});this.analyticsTracker.trackEvent(new yt(t))},this.trackStageSocketMessageParseError=(e,t,n)=>{this.trackMessageParseError({token:e,traceId:t,tag:cr,location:"StageConnection.onMessage",message:mr.WEBSOCKET_MESSAGE_PARSE_FAILURE.message,err:n})},this.trackStageStateMessageParseError=(e,t,n,r)=>{this.trackMessageParseError({token:e,traceId:t,tag:cr,location:"StageConnection.onStageStateMessage",message:r,err:n})},this.onDisconnectMessage=e=>{this.analyticsTracker.trackEventNoSharedProps(new oi(this.token,this.traceId,`DISCONNECT message received: ${e.code}:${e.reason}`,Jn.JOIN));let t=Bo.UNKNOWN;if("PARTICIPANT_DISCONNECTED"===e.code)t=Bo.PARTICIPANT_DISCONNECTED;else if("STAGE_DELETED"===e.code)t=Bo.STAGE_DELETED;else if("TOKEN_REUSED"===e.code&&(t=Bo.TOKEN_REUSED,_t("disableTokenReuseMessage")))return void console.warn("Token reuse is detected, but skipping as feature is disabled");console.warn(`Disconnecting client due to: ${e.reason}`),this.processStateUpdate({type:"DISCONNECT",reason:t})},this.onReassignmentMessage=e=>{this.emit(Cr,e)},this.onIncompatibleCodecsMessage=e=>{this.emit(Or,e)},this.onSsuMessage=e=>{var t;const n=window.atob(null!==(t=e.A)&&void 0!==t?t:"").trim();n&&n.startsWith("http")?this.analyticsTracker.updatePostUrl(n):this.logger.warn({msg:"SSU Url invalid"})},this.onStageStateMessage=(e,t,n)=>{var r,i;this.logger.debug({msg:"State Stage Message occurred",state:n});const o=n.payload,a=null!==(r=o.participants)&&void 0!==r?r:[],s=null!==(i=o.disconnected)&&void 0!==i?i:[],u=[],c=[];this.measureStateUpdate(a.length),this.enableFeaturesBasedOnServerFeatures(o.serverFeatures||[]);const l=(n,r)=>{this.analyticsTracker.trackEventNoSharedProps(new Ao({token:e,otherParticipantId:n.id,otherParticipantUserId:n.userId,isAudioMuted:n.audioMuted,isVideoStopped:n.videoStopped,isPublishing:n.isPublishing,isDisconnected:r,traceId:t}))};this.participants.forEach((e=>{const t=a.find((t=>t.id===e.id));if(t){let n=!0,r=!1;["isPublishing","id","audioMuted","joinedAt","userId","videoStopped"].forEach((i=>{n=n&&t[i.toString()]===e[i.toString()],n||(e[i.toString()]=t[i.toString()],r=!0)})),Object.keys(e.attributes).forEach((i=>{n=n&&t.attributes[i]===e.attributes[i],n||(e.attributes=t.attributes,r=!0)})),r&&(l(e,!1),this.emit(wr,t))}else c.push(e)})),a.forEach((e=>{this.participants.get(e.id)||u.push(e)})),c.forEach((e=>{this.participants.delete(e.id),l(e,!0),this.emit(br,e)})),u.forEach((e=>{this.participants.set(e.id,e),l(e,!1),this.emit(gr,e)})),s.forEach((e=>{this.disconnected.find((t=>t.id===e.id))||(this.disconnected.push(e),"KICKED"===e.status&&this.emit(_r,e))})),this.disconnected=s},this.nonScopedLogger=t,this.logger=new sn(t,fe.CONNECTION),this.stageSocket=new Uo(e,this.nonScopedLogger,n),this.token=e,this.traceId=or()}resetStats(){return this.stats={isConnected:!1,edpInitialStartConnectTime:0,edpInitialFinishConnectTime:0,edpConnectCount:0,edpInitialConnectDuration:0,edpConnectDuration:0,edpInitialStateDuration:0,edpInitialStatePublishingCount:0,edpStateUpdateCount:0,edpInitialConnectRetries:0},this.stats}connect(e){return zo(this,void 0,void 0,(function*(){return this.logger.debug({msg:"connect invoked",token:this.token,traceId:e}),this.traceId=e,this.state.value!==Ho.DISCONNECTED&&(this.logger.debug({msg:"Disconnecting previous connection"}),this.processStateUpdate({type:"DISCONNECT",reason:Bo.CLIENT_RECONNECT})),new Promise(((t,n)=>{this.stageSocket.on(Lr,(e=>{var n,r;const{retryCnt:i,initialStageState:o}=e;o&&this.enableFeaturesBasedOnServerFeatures(null!==(r=null===(n=o.payload)||void 0===n?void 0:n.serverFeatures)&&void 0!==r?r:[]),this.traceId=e.traceId||or(),this.measureConnect(i,this.state.context.connectStartTime),this.processStateUpdate({type:"CONNECT_SUCCESS"}),this.startStageMinuteLoggedInterval(this.token,this.traceId),t(this.traceId)})),this.stageSocket.on(Fr,(e=>{n(e),this.processStateUpdate({type:"ERROR",payload:{error:e}})})),this.stageSocket.on(Ur,(()=>{this.logger.debug({msg:"Refresh event occurred"}),this.emit("stageRefresh"),this.processStateUpdate({type:"RECONNECT"})})),this.stageSocket.on(Br,(e=>this.onStageStateMessage(this.token,this.traceId,e))),this.stageSocket.on(jr,(e=>this.trackStageSocketMessageParseError(this.token,this.traceId,e))),this.stageSocket.on(Hr,this.onDisconnectMessage),this.stageSocket.on(zr,this.onReassignmentMessage),this.stageSocket.on(Gr,this.onIncompatibleCodecsMessage),this.stageSocket.on("ssu",this.onSsuMessage),this.stageSocket.on(Mr,(e=>{this.stopStageMinuteLoggedInterval()})),this.processStateUpdate({type:"CONNECT",payload:{token:this.token,traceId:e}})}))}))}disconnect(){return this.logger.debug({msg:"disconnect invoked"}),this.processStateUpdate({type:"DISCONNECT",reason:Bo.USER_INITIATED}),this.traceId}getParticipant(e){return this.participants.get(e)}listConnectedParticipants(){const e=[];return this.participants.forEach((t=>{t.subscribed&&e.push(t)})),e}listAvailableParticipants(){return Array.from(this.participants.values())}emitStageState(e,t){this.stageSocket.send({audioMuted:e,type:"SET_STATE",version:"0",videoStopped:t})}setStagePublishing(e){this.isStagePublishing=e,this.emit(Er,this.isStagePublishing)}getIsStagePublishing(){return this.isStagePublishing}startStageMinuteLoggedInterval(e,t){this.uploadStageMinutesBroadcastInterval||(this.analyticsTracker.trackEvent(new go(e,t,this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++,this.uploadStageMinutesBroadcastInterval=setInterval((()=>{this.analyticsTracker.trackEvent(new go(e,null!=t?t:or(),this.stageMinutesLogged,this.isStagePublishing,0)),this.stageMinutesLogged++}),6e4))}stopStageMinuteLoggedInterval(e=!1){this.uploadStageMinutesBroadcastInterval&&(clearInterval(this.uploadStageMinutesBroadcastInterval),this.uploadStageMinutesBroadcastInterval=void 0),e&&(this.stageMinutesLogged=0)}enableFeaturesBasedOnServerFeatures(e){const t=(e,t)=>{this.trackStageStateMessageParseError(this.token,this.traceId,t,`Could not parse "${e}" from the Eevee server features list`)},n=e.includes(Fo.SDP_EXCHANGE);this.features.sdpExchange!==n&&(this.logger.debug({msg:`XDP SDP exchange feature toggled: ${n}`}),this.features.sdpExchange=n);const r=e.find((e=>-1!==e.indexOf(Fo.JITTER_BUFFER_MIN_DELAY_MS))),i=e=>{this.logger.debug({msg:`jitterBufferMinDelay feature updated to: ${e}`}),this.features.jitterBufferMinDelayInMs=e};if(void 0!==r)try{const e=r.split("=")[1],t=parseInt(e,10);if(isNaN(t))throw new Error("Unable to parse - result is NaN");if(t<0)throw new Error("Unable to apply - result is negative");void 0!==this.features.jitterBufferMinDelayInMs&&this.features.jitterBufferMinDelayInMs===t||i(t)}catch(e){t(r,e),i(void 0)}else i(void 0)}isConnected(){return this.state.value===Ho.CONNECTED}supportsSdpExchange(){return this.features.sdpExchange}jitterBufferMinDelayInMs(){return this.features.jitterBufferMinDelayInMs}getConnectionStats(){return Object.assign({},this.stats,{isConnected:this.isConnected()})}exchangeSdp(e,t,n,r,i,o,a,s,u){return zo(this,void 0,void 0,(function*(){return this.isConnected()?new Promise(((c,l)=>{const f=window.setTimeout((()=>{d(),l(Vo.TIMEDOUT)}),8e3),d=()=>{window.clearTimeout(f),this.stageSocket.off(Vr,p),this.stageSocket.off(Fr,h)},p=e=>{e.requestId===r&&(d(),c(e))},h=()=>{d(),l(Vo.CONNECTION_LOST)};null==i||i.addEventListener("abort",(()=>{d(),l(Vo.ABORTED)})),this.stageSocket.on(Vr,p),this.stageSocket.on(Fr,h),this.stageSocket.sendSdpOffer(e,t,n,r,o,a,s,u)})):Promise.reject(Vo.NOT_CONNECTED)}))}}class Wo{constructor(e){this.token=e}}const qo=new RegExp("^(?:[a-z+]+:)?//","i");function $o(e){return qo.test(e)}function Ko({sdpExchangeTransport:e,serverHttpResponse:t,serverErrorCode:n}){return`sdpExchangeTransport: ${e}, serverHttpResponse: ${t}, serverErrorCode: ${n}`}const Qo={[Vo.ABORTED]:mr.OPERATION_ABORTED,[Vo.NOT_CONNECTED]:mr.EVENT_PLANE_WS_UNEXPECTED_CLOSE,[Vo.CONNECTION_LOST]:mr.XDP_CONNECTION_LOST,[Vo.TIMEDOUT]:mr.XDP_TIMEOUT,[Vo.INVALID_MESSAGE]:mr.XDP_INVALID_ANSWER_MSG,[Vo.UNEXPECTED_ERROR]:mr.XDP_UNEXPECTED_ERROR};class Yo extends Wo{constructor(e,t,n,r){super(e),this.token=e,this.stageConnection=t,this.contextData=n,this.analyticsTracker=r}exchange(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const t=rr(),{action:n}=this.contextData,{sdpOffer:r,url:i,traceId:o,forceNode:a,assignmentToken:s,multiCodec:u,abortController:c,initialLayerPreference:l}=e;let f;this.trackAttempt(i,t,o);try{f=yield this.stageConnection.exchangeSdp(r,i,o.value,t.value,null==c?void 0:c.signal,a,s,u,l)}catch(e){if("number"==typeof e)throw this.createClientSideErrorFromReasonCode(e,o,t,n)}if(!f)return;const{httpStatusCode:d,errorCode:p,location:h,content:v,sessionDeleteLink:m,subscriberControlLink:y,videoLayersLink:g}=f;if(d>=200&&d<300)return{sdpAnswer:v,url:i,location:h,sessionDeleteLink:m,mediaControls:y,layerControls:g};throw this.createServerSideError(o,t,d,p,n)}))}trackAttempt(e,t,n){const{remoteParticipantId:r,action:i}=this.contextData;this.analyticsTracker.trackEventNoSharedProps(new Yr(i,this.token,e,"POST",t.value,r,n,"xdp"))}createServerSideError(e,t,n,r,i){const o=this.baseErrorProps(e,t);let a=hr(n,r);return a||(a=mr.UNKNOWN_SERVER_ERROR),new ur(Object.assign(Object.assign(Object.assign({action:i},o),a),{details:Ko({sdpExchangeTransport:"xdp",serverHttpResponse:n,serverErrorCode:r})}))}baseErrorProps(e,t){const{remoteParticipantId:n,action:r}=this.contextData;return{token:this.token,traceId:e,tag:dr(r,n),location:"EdpSdpExchanger.exchange",requestUUID:t,remoteParticipantId:n}}createClientSideErrorFromReasonCode(e,t,n,r){const i=this.baseErrorProps(t,n),o=Qo[e];return new ur(o?Object.assign(Object.assign({action:r},i),o):Object.assign(Object.assign({action:r},i),mr.XDP_INVALID_ANSWER_MSG))}getTransport(){return"sdp"}}class Jo extends Wo{constructor(e,t,n){super(e),this.contextData=t,this.analyticsTracker=n}exchange(e){var t,n,r;return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const i=rr(),{token:o}=this,{action:a,remoteParticipantId:s}=this.contextData,{sdpOffer:u,url:c,traceId:l,forceNode:f,assignmentToken:d,multiCodec:p,abortController:h,initialLayerPreference:v}=e;try{const e="POST",t="http";this.analyticsTracker.trackEventNoSharedProps(new Yr(a,o,c,e,i.value,s,l,t));const n={data:u,headers:{Authorization:`Bearer ${o.rawToken}`,"Content-Type":"application/sdp","X-Stages-Platform":"web","X-Stages-Request-ID":i.value,"X-Stages-SDK":"1.22.1","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":l.value,"X-Stages-WHIP-Version":Jr,"X-Stages-Options":(m=JSON.stringify({cap:["sau"]}),btoa(m).replace(/[^A-Za-z0-9+/]/g,""))},method:e,responseType:"text",url:c,signal:null==h?void 0:h.signal,params:{}};f&&(n.params.force_node=f),d&&(n.params.assignment_token=d),p&&(n.params.multi_codec=!0);const r=void 0===Ct(),y=Ct()||r;v&&n.headers&&y&&(n.headers["X-Stages-Initial-Layer-Pref"]=ho(v));const{data:g,headers:b,request:_}=yield ti(n),w=this.parseWhipResource(c,b.location,b.link);return{url:_.responseURL,sdpAnswer:g,location:null==w?void 0:w.location,sessionDeleteLink:null==w?void 0:w.sessionDeleteLink,mediaControls:null==w?void 0:w.mediaControls,layerControls:null==w?void 0:w.layerControls}}catch(e){if(sr().isCancel(e))throw new ur(Object.assign(Object.assign({},pr(mr.OPERATION_ABORTED,e)),{action:a,token:o,traceId:l,tag:dr(a,s),location:"StagePeerClient.start",requestUUID:i,remoteParticipantId:s}));const u=Number(null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status)||-1,c=(null===(r=null===(n=null==e?void 0:e.response)||void 0===n?void 0:n.data)||void 0===r?void 0:r.code)||-1,f=function(e,t){var n;return e instanceof ar.AxiosError&&e.response&&"number"==typeof e.response.status?e instanceof ar.AxiosError&&"ERR_NETWORK"===e.code?mr.NETWORK_FAILURE:hr(Number(e.response.status),null===(n=e.response.data)||void 0===n?void 0:n.code)||t:t}(e,mr.WHIP_POST_FAILURE);throw new ur(Object.assign(Object.assign({},pr(f,e)),{action:a,token:o,traceId:l,tag:dr(a,s),details:Ko({sdpExchangeTransport:"http",serverHttpResponse:u,serverErrorCode:c}),location:"StagePeerClient.start",requestUUID:i,remoteParticipantId:s}))}var m}))}parseWhipResource(e,t,n){const r=new URL(e);let i;return i=function(e,t,n){if(!n)return e;if(e||(e={}),$o(n))return e.location=n,e;const r=t.port?`:${t.port}`:"";return e.location=`${t.protocol}//${t.hostname}${r}${n}`,e}(i,r,t),i=function(e,t,n){if(!n)return e;e||(e={});const r=e;return n.split(",").forEach((e=>{const n=/<(.+)>;\s?rel="([a-z:-]+)"/.exec(e);if(3!==(null==n?void 0:n.length))return;let i;if($o(n[1]))i=n[1];else{const e=t.port?`:${t.port}`:"";i=`${t.protocol}//${t.hostname}${e}${n[1]}`}switch(n[2]){case"urn:ietf:params:whip:ivs-stages:session-delete":r.sessionDeleteLink=i;break;case"urn:ietf:params:whep:core:playback-controls":r.mediaControls=i;break;case"urn:ietf:params:whep:ext:core:layer":r.layerControls=i;break;default:return}})),r}(i,r,n),i}getTransport(){return"http"}}function Zo(e){return e.track.kind===fi.AUDIO}function Xo(e){return e.track.kind===fi.VIDEO&&"object"==typeof e.config}const ea=(e,t)=>function(e){return e.kind===fi.AUDIO}(e)?((e,t)=>{var n;const r={maxBitrateBps:co(null!==(n=null==t?void 0:t.maxAudioBitrateKbps)&&void 0!==n?n:Ei)},i=null==t?void 0:t.stereo;return"boolean"==typeof i&&(r.stereo=i),{track:e,config:r}})(e,t):((e,t)=>{var n,r,i,o,a;const s=null!==(n=null==t?void 0:t.minBitrate)&&void 0!==n?n:mi,u=null!==(r=null==t?void 0:t.maxBitrate)&&void 0!==r?r:yi,c=null!==(i=null==t?void 0:t.maxFramerate)&&void 0!==i?i:bi,l=!!(null===(o=null==t?void 0:t.simulcast)||void 0===o?void 0:o.enabled),f=!!(null===(a=null==t?void 0:t.inBandMessaging)||void 0===a?void 0:a.enabled);return{track:e,config:{minBitrateBps:co(s),maxBitrateBps:co(u),maxFramerate:c,simulcastEnabled:l,inBandMessagingEnabled:f}}})(e,t),ta=(e,t)=>{if("number"==typeof e)return e;const n=t?Si:Ti;return void 0!==n[e]?n[e]:0};function na(e){if(e<mi||e>yi)throw new Error(`Stage bitrate must be between ${mi} kbps and ${yi} kbps`)}function ra({stageErrorValue:e,action:t,token:n,traceId:r,tag:i,identifier:o,details:a}){return new ur(Object.assign(Object.assign({},e),{token:n,traceId:r,location:"peer-client",tag:i,action:t,remoteParticipantId:o,details:a}))}var ia;function oa(e){var t;return(null===(t=null==e?void 0:e.sender)||void 0===t?void 0:t.createEncodedStreams)?ia.INSERTABLE_STREAMS:window.RTCRtpSender&&"transform"in RTCRtpSender.prototype&&window.RTCRtpScriptTransform?ia.ENCODED_TRANSFORMS:ia.NONE}function aa(e){var t;return(null===(t=null==e?void 0:e.receiver)||void 0===t?void 0:t.createEncodedStreams)?ia.INSERTABLE_STREAMS:window.RTCRtpReceiver&&"transform"in RTCRtpReceiver.prototype&&window.RTCRtpScriptTransform?ia.ENCODED_TRANSFORMS:ia.NONE}function sa(){return Bn()('/*! For license information please see transform.worker.worker.js.LICENSE.txt */\n(()=>{"use strict";const e=new Uint8Array([158,80,78,165,238,90,79,2,148,159,176,51,163,118,141,162]);var t;!function(e){e.VIDEO_SEND="video/send",e.VIDEO_RECEIVE="video/receive",e.INSERT_SEI="insertSei"}(t||(t={}));function n(t,n){const{transformerId:s,type:r,payloads:a}=n;let o=[];if("sei"===n.type){const{value:n,messages:s}=function(t,n){function s(e,t,n){return n+t.length<=e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function r(e,t){const n=function(e,t){return new Uint8Array([0,0,1,6,5,...t,...e])}(e,function(e){const t=[];for(;e>=255;)t.push(255),e-=255;return t.push(e),new Uint8Array(t)}(t.length+e.length)),s=function(e){const t=[...e];let n=3;for(;n<t.length-2;)0!==t[n]||0!==t[n+1]||0!==t[n+2]&&1!==t[n+2]&&2!==t[n+2]&&3!==t[n+2]?n+=1:(t.splice(n+2,0,3),n+=3);return t}(new Uint8Array([...n,...t,128]));return new Uint8Array(s)}function a(e,n){const r=function(e){const t=new DataView(e);for(let e=0;e<t.byteLength-4;e++)if(s(t,[0,0,1],e)){const n=31&t.getUint8(e+3);if(n>=1&&n<=5)return e}return-1}(t.data);if(r>=0){const e=new ArrayBuffer(t.data.byteLength+n.byteLength),s=new Uint8Array(e);return s.set(new Uint8Array(t.data.slice(0,r)),0),s.set(n,r),s.set(new Uint8Array(t.data.slice(r)),r+n.byteLength),e}return e}return function(){const s=[];for(let o=0;o<n.length;o+=1){const i=r(e,new Uint8Array(n[o]));t.data=a(t.data,i),s.push({uuid:e,payload:n[o]})}return{value:t,messages:s}}()}(t,a||[]);t=n,o=s}return{success:!0,frame:t,transformerId:s,type:r,seiResult:o}}const s=function(){let e=[];const t=new Map;return{add:({payload:t,repeatCount:n})=>(e.push({payload:t,repeatCount:n}),!0),poll(n){t.has(n)||t.set(n,[]),t.size>0&&(t.forEach((t=>{t.push(...e)})),e=[]);const s=t.get(n)||[],r=s.filter((e=>e.repeatCount>0)).map((e=>Object.assign(Object.assign({},e),{repeatCount:e.repeatCount-1})));return t.set(n,r),s}}}(),r=e=>(t,r)=>{try{const a=t.getMetadata().synchronizationSource,o=(s?s.poll(a):[]).map((e=>e.payload)),i=n(t,Object.assign(Object.assign({},e),{payloads:o}));r.enqueue(i.frame),self.postMessage(Object.assign({success:i.success,seiResult:i.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}},a=e=>(t,n)=>{try{const s=function(e,t){const{type:n,transformerId:s}=t;if("sei"===n){const t=function(e){function t(e,t,n){return n+t.length<e.byteLength&&t.every(((t,s)=>e.getUint8(n+s)===t))}function n(e){const t=[];let n=0;for(;n<e.length;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(t.push(e[n]),t.push(e[n+1]),n+=3):(t.push(e[n]),n+=1);return new Uint8Array(t)}function s(e){let t=2;const n=e.byteLength;for(;t<n;){let s=0;for(;t<n&&255===e[t];)s+=255,t++;s+=e[t],t++;const r=Math.min(t+s,n),a=new Uint8Array(e.slice(t,r));return{uuid:a.slice(0,16),payload:a.slice(16)}}}return{messages:function(e){const r=new DataView(e.data),a=[];let o=0;if(!t(r,[0,0,1],0)&&!t(r,[0,0,0,1],0))return[];for(;o<r.byteLength-5;)if(t(r,[0,0,1],o)){const i=o+3;o=i;const c=31&r.getUint8(o),u=31&r.getUint8(o+1);if(6===c&&5===u){for(;o<r.byteLength&&!t(r,[0,0,1],o);)o++;const c=o,u=s(n(new Uint8Array(e.data.slice(i,c))));u&&a.push(Object.assign({},u))}else o++}else o++;return a}(e),frame:e}}(e),{frame:r,messages:a}=t;return{success:!0,frame:r,type:n,transformerId:s,seiResult:a}}return{success:!0,frame:e,transformerId:s,type:n}}(t,e);n.enqueue(s.frame),self.postMessage(Object.assign({success:s.success,seiResult:s.seiResult},e))}catch(t){self.postMessage(Object.assign({success:!1},e))}};function o(e,t,n,s){const o=new TransformStream({transform:"video/send"===e?r(t):a(t)});n.pipeThrough(o).pipeTo(s)}const i=self;i.addEventListener("message",(function(e){var n,r,a;if(!(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.operation)||!(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.transformerId))return;const{operation:i,transformerId:c}=e.data;switch(i){case t.VIDEO_SEND:case t.VIDEO_RECEIVE:o(i,{method:i,transformerId:c,type:"sei"},e.data.readable,e.data.writable);break;case t.INSERT_SEI:s.add({payload:e.data.payload,repeatCount:null!==(a=e.data.repeatCount)&&void 0!==a?a:0})}})),i.addEventListener("rtctransform",(function(e){const t=e.transformer;if(!t)return;o(t.options.method,t.options,t.readable,t.writable)}))})();',"Worker",void 0,void 0)}!function(e){e.NONE="none",e.ENCODED_TRANSFORMS="encodedTransforms",e.INSERTABLE_STREAMS="insertableStreams"}(ia||(ia={}));const ua=(()=>{const e={};return{getWorker:t=>(e[t]||(e[t]=new sa),e[t]),destroy:t=>{var n;null===(n=e[t])||void 0===n||n.terminate(),e[t]=void 0}}})();var ca;!function(e){e.NOT_PUBLISHING_VIDEO="NOT_PUBLISHING_VIDEO",e.INBAND_MESSAGING_NOT_ENABLED="INBAND_MESSAGING_NOT_ENABLED",e.INVALID_REPEAT_COUNT="INVALID_REPEAT_COUNT",e.PAYLOAD_SIZE_INVALID="PAYLOAD_SIZE_INVALID",e.PAYLOAD_RATE_EXCEEDED="PAYLOAD_RATE_EXCEEDED",e.INVALID_TRACK_TYPE="INVALID_TRACK_TYPE"}(ca||(ca={}));class la{constructor(e){this.maxFramerate=e,this.queued=[]}validateMessagePayload(e,t){if(e.byteLength<=0)return Qr.err(ca.PAYLOAD_SIZE_INVALID);if(t<0||t>30)return Qr.err(ca.INVALID_REPEAT_COUNT);if(e.byteLength>1024)return Qr.err(ca.PAYLOAD_SIZE_INVALID);this.queued=this.trimPastPayloads(this.queued,1e3);const{before:n,after:r}=this.getPayloadSums(this.queued);if(n+e.byteLength>10240)return Qr.err(ca.PAYLOAD_RATE_EXCEEDED);if(r+e.byteLength*Math.max(1,t)>10240)return Qr.err(ca.PAYLOAD_RATE_EXCEEDED);if(this.queued.push({byteLength:e.byteLength,timestamp:Date.now()}),t>0){const n=1e3/this.maxFramerate;let r=Date.now()+n;for(let i=0;i<t;i+=1)this.queued.push({byteLength:e.byteLength,timestamp:r}),r+=n}return Qr.ok(!0)}trimPastPayloads(e,t){const n=Date.now()-t;return e.filter((e=>e.timestamp>n))}getPayloadSums(e){const t=Date.now();return e.reduce(((e,n)=>{const{before:r,after:i}=e;return n.timestamp<=t?{before:r+n.byteLength,after:i}:{before:r,after:i+n.byteLength}}),{before:0,after:0})}}const fa="seiMessageReceived",da="error";var pa;!function(e){e.CREATED="created",e.INITIALIZED="initialized",e.DESTROYED="destroyed"}(pa||(pa={}));class ha extends er{constructor(e){super(),this.sessionId=e,this.state=pa.CREATED,this.transformerId=rr().value,this.prevResultWasError=!1,this.consecutiveErrorResults=0,this.seiReadCnt=0,this.seiBytesRead=0,this.onMessage=e=>{this.onTransformResult(e.data)}}initializeInsertableStreams(e){var t,n;this.worker=ua.getWorker(this.sessionId);const r=e.receiver.createEncodedStreams(),{readable:i,writable:o}=r;null===(t=this.worker)||void 0===t||t.postMessage({operation:"video/receive",transformerId:this.transformerId,readable:i,writable:o},[i,o]),null===(n=this.worker)||void 0===n||n.addEventListener("message",this.onMessage)}initializeEncodedTransforms(e){var t;this.worker=ua.getWorker(this.sessionId);const n={method:"video/receive",type:"sei",transformerId:this.transformerId};e.receiver.transform=new RTCRtpScriptTransform(this.worker,n),null===(t=this.worker)||void 0===t||t.addEventListener("message",this.onMessage)}initialize(e,t){if(this.state!==pa.CREATED)return!1;const n=aa(e);if(n===ia.NONE)return!1;if(t&&n===ia.INSERTABLE_STREAMS)this.initializeInsertableStreams(e);else{if(t||n!==ia.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(e)}return this.transceiver=e,this.state=pa.INITIALIZED,!0}onTransceiverAdd(e){return this.initialize(e,!0)}onTrackEvent(e){return"video"===e.track.kind&&this.initialize(e.transceiver,!1)}static isSupported(e){return aa(e)!==ia.NONE}onTransformResult(e){return e.transformerId===this.transformerId&&(e.success?(this.prevResultWasError=!1,this.consecutiveErrorResults=0,!!e.seiResult&&(e.seiResult.forEach((e=>{const{payload:t,uuid:n}=e;this.updateReadStats(e),this.emit(fa,{uuid:n,payload:t})})),e.seiResult.length>0)):(this.prevResultWasError&&this.consecutiveErrorResults++,this.consecutiveErrorResults>=300&&this.onError(e,mr.TRANSFORM_TOO_MANY_ERRORS),this.prevResultWasError=!0,this.onError(e,mr.TRANSFORM_UNEXPECTED_ERROR),!1))}updateReadStats(e){this.seiReadCnt++,this.seiBytesRead+=e.payload.byteLength}getReceiverStats(){const{seiBytesRead:e,seiReadCnt:t}=this;return{seiReadCnt:t,seiBytesRead:e}}onError(e,t){const{type:n}=e;this.emit(da,{type:n,stageErrorValue:t})}destroy(){var e,t;this.state!==pa.DESTROYED&&(this.removeAllListeners(),null===(e=this.worker)||void 0===e||e.removeEventListener("message",this.onMessage),(null===(t=this.transceiver)||void 0===t?void 0:t.receiver)&&(this.transceiver.receiver.transform=null),this.state=pa.DESTROYED)}getState(){return this.state}}class va{constructor(e){this.sessionId=e,this.state=pa.CREATED,this.transformerId=rr().value,this.seiWriteCnt=0,this.seiBytesWritten=0,this.onMessage=e=>{this.onTransformResult(e.data)}}initializeInsertableStreams(e,t){var n,r;this.worker=ua.getWorker(this.sessionId);const i=e.sender.createEncodedStreams(),{readable:o,writable:a}=i;null===(n=this.worker)||void 0===n||n.postMessage({operation:"video/send",transformerId:this.transformerId,readable:o,writable:a},[o,a]),null===(r=this.worker)||void 0===r||r.addEventListener("message",this.onMessage)}initializeEncodedTransforms(e,t){var n;this.worker=ua.getWorker(this.sessionId);const r={method:"video/send",type:"sei",transformerId:this.transformerId,encodingLayers:t};e.sender.transform=new RTCRtpScriptTransform(this.worker,r),null===(n=this.worker)||void 0===n||n.addEventListener("message",this.onMessage)}initialize(e){var t;if(this.state!==pa.CREATED)return!1;const n=oa(e);if(n===ia.NONE)return!1;const r=e.sender.getParameters(),i=(null===(t=null==r?void 0:r.encodings)||void 0===t?void 0:t.length)||1;if(n===ia.INSERTABLE_STREAMS)this.initializeInsertableStreams(e,i);else{if(n!==ia.ENCODED_TRANSFORMS)return!1;this.initializeEncodedTransforms(e,i)}return this.transceiver=e,this.state=pa.INITIALIZED,!0}static isSupported(e){return oa(e)!==ia.NONE}sendSeiMessage(e,t){var n;return this.state===pa.INITIALIZED&&this.transceiver?(null===(n=this.worker)||void 0===n||n.postMessage({operation:"insertSei",transformerId:this.transformerId,payload:e,repeatCount:t}),Qr.ok(!0)):Qr.err(ca.NOT_PUBLISHING_VIDEO)}onTransceiverAdd(e){return this.initialize(e)}onTrackEvent(e){return!1}onTransformResult(e){return e.transformerId===this.transformerId&&(e.success&&this.updateSendStats(e),e.success)}updateSendStats(e){e.seiResult&&e.seiResult.forEach((e=>{this.seiWriteCnt++,this.seiBytesWritten+=e.payload.byteLength}))}getSenderStats(){const{seiBytesWritten:e,seiWriteCnt:t}=this;return{seiWriteCnt:t,seiBytesWritten:e}}destroy(){var e;this.state!==pa.DESTROYED&&((null===(e=this.transceiver)||void 0===e?void 0:e.receiver)&&(this.transceiver.receiver.transform=null),this.state=pa.DESTROYED)}getState(){return this.state}}class ma extends mt{constructor(e,t,n,r,i,o,a,s,u){super(pt.SELECTED_PAIR_CHANGE,t,n,!1),Object.assign(this.properties,{action:e,protocol:r,local_type:i,local_addr:o,remote_addr:a,local_candidate_priority:s,remote_participant_id:u})}}var ya=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};let ga=null;class ba extends er{constructor(e,t,n,r,i,o,a,s,u){var c;if(super(),this.analyticsTracker=o,this.subscribeConfig=u,this.sfuResource={node:"",cluster:""},this.protocol="",this.stageCapabilities={simulcastNegotiated:!1},this.incompatibleCodecs=new Set,this.connect=({audioOnly:e=!1,traceId:t,iceRestartOptions:n})=>ya(this,void 0,void 0,(function*(){const{token:r,tag:i,identifier:o,action:a}=this,s=!!n,u=new AbortController;let c,l,f;this.abortController=u,this.traceId=t,this.protocol="",this.perfTracker.resetMeasurements(t);const d=()=>{c&&this.off(hn,c),l&&this.off(dn,l)},p=new Promise(((e,n)=>{const d=function({action:e,token:t,traceId:n,tag:r,identifier:i}){const o=e===Jn.SUBSCRIBE?mr.SUBSCRIBE_TIMED_OUT:mr.PUBLISH_TIMED_OUT;return new ur(Object.assign(Object.assign({},o),{action:e,token:t,traceId:n,tag:r,location:"connect",remoteParticipantId:i}))}({action:a,token:r,traceId:t,tag:i,identifier:o}),p=function({action:e,token:t,traceId:n,tag:r}){const i=mr.OPERATION_ABORTED;return new ur(Object.assign(Object.assign({},i),{token:t,traceId:n,location:"peer-client.connect",tag:r,action:e}))}({action:a,token:r,traceId:t,tag:i}),h=setTimeout((()=>{this.stop(),this.analyticsTracker.trackError(d),n(d)}),1e4);c=e=>{clearTimeout(h),s||this.stop(),n(e)},l=o=>{if(o===yn.CONNECTED)clearTimeout(h),e();else if(o===yn.FAILED){const e=function({action:e,token:t,traceId:n,tag:r}){return new ur(Object.assign(Object.assign({},mr.PEER_CONNECTION_NETWORK_FAILURE),{token:t,traceId:n,location:"peer-client.connect",tag:r,action:e}))}({action:a,token:r,traceId:t,tag:i});clearTimeout(h),n(e)}},this.on(hn,c),this.on(dn,l),f=()=>{clearTimeout(h)},u.signal.aborted&&(clearTimeout(h),n(p)),u.signal.addEventListener("abort",(()=>{clearTimeout(h),n(p)}))}));try{const r=yield Promise.all([(()=>ya(this,void 0,void 0,(function*(){s||(yield this.start(),this.mediaStream=yield this.initializePeerConnection(e));const t=null==n?void 0:n.assignmentToken,r=null==n?void 0:n.nodeOverride;return yield this.exchangeSdp({iceRestart:s,nodeOverride:r,assignmentToken:t,abortController:u}),this.mediaStream})))(),p]);this.statsReporter.traceId=t;const i=r[0];if(this.abortController=void 0,!s&&a===Jn.PUBLISH)try{yield this.verifyOrUpdateTransceiverSync()}catch(e){this.logger.error({err:e,msg:"error syncing transceivers"})}return{mediaStream:i}}catch(e){throw f&&f(),e}finally{d()}})),this.disconnect=(e=!1)=>ya(this,void 0,void 0,(function*(){var t;const{token:n,action:r}=this;null===(t=this.abortController)||void 0===t||t.abort(),this.stop(),this.protocol="",e?this.cleanup(r,n.participantID,n,e):yield this.cleanup(r,n.participantID,n,e)})),this.onTrack=e=>{const{token:t,action:n,traceId:r,identifier:i}=this;this.trace(t,r,`onTrack: ${e.track.kind}`,n,i),this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTrackEvent(e),this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTrackEvent(e)},this.onIceGatheringStateChange=()=>{var e,t,n;const{token:r,action:i,traceId:o,identifier:a}=this;if("gathering"===(null===(e=this.peerConnection)||void 0===e?void 0:e.iceGatheringState)?this.perfTracker.markIceGatheringStart():"complete"===(null===(t=this.peerConnection)||void 0===t?void 0:t.iceGatheringState)&&this.perfTracker.markIceGatheringStop(),this.peerConnection){const e=this.peerConnection.iceGatheringState,t=new si(i,r,o,e,a);this.analyticsTracker.trackEventNoSharedProps(t)}this.trace(r,o,`ICE gathering state change: ${null===(n=this.peerConnection)||void 0===n?void 0:n.iceGatheringState}`,i,a)},this.onSelectedCandidatePairChange=()=>{var e,t,n,r,i,o,a,s,u,c,l,f,d,p;const{token:h,action:v,traceId:m,identifier:y}=this,g=null===(t=null===(e=this.peerConnection)||void 0===e?void 0:e.getReceivers()[0].transport)||void 0===t?void 0:t.iceTransport,b=null==g?void 0:g.getSelectedCandidatePair();if(b){const{local:e,remote:t}=b,g=`Selected candidate pair change (local, remote): ${null==e?void 0:e.candidate}, ${null==t?void 0:t.candidate}`;this.logger.debug({msg:g});const _=new ma(v,h,m,null!==(r=null===(n=b.local)||void 0===n?void 0:n.protocol)&&void 0!==r?r:"",null!==(o=null===(i=b.local)||void 0===i?void 0:i.type)&&void 0!==o?o:"",null!==(s=null===(a=b.local)||void 0===a?void 0:a.address)&&void 0!==s?s:"",null!==(c=null===(u=b.remote)||void 0===u?void 0:u.address)&&void 0!==c?c:"",null!==(f=null===(l=b.local)||void 0===l?void 0:l.priority)&&void 0!==f?f:0,y);this.analyticsTracker.trackEvent(_),this.protocol=null!==(p=null===(d=b.local)||void 0===d?void 0:d.protocol)&&void 0!==p?p:""}},this.onIceCandidate=e=>ya(this,void 0,void 0,(function*(){var t,n;const{identifier:r,action:i,traceId:o}=this,a=null===(t=e.target.localDescription)||void 0===t?void 0:t.sdp.includes("relay");this.analyticsTracker.trackEventNoSharedProps(new oi(this.token,o,`ice candidate: hasRelay = ${a}, candidate = ${null===(n=e.candidate)||void 0===n?void 0:n.candidate}`,i,r))})),this.onMute=()=>ya(this,void 0,void 0,(function*(){const{token:e,action:t,traceId:n,identifier:r}=this;this.trace(e,n,"Track has muted",t,r)})),this.onUnMute=()=>ya(this,void 0,void 0,(function*(){const{token:e,action:t,traceId:n,identifier:r}=this;this.trace(e,n,"Track has unmuted",t,r)})),this.fetchAndSetRemoteDescription=e=>ya(this,void 0,void 0,(function*(){var t,n,r,i;const o=null===(n=null===(t=this.peerConnection)||void 0===t?void 0:t.localDescription)||void 0===n?void 0:n.sdp;o||this.logger.warn({msg:"Unexpected state: No SDP offer when attempting to fetch remote description"});const{token:a,traceId:s,action:u,identifier:c,tag:l}=this,{endpointURL:f,nodeOverride:d,assignmentToken:p,multiCodec:h,abortController:v}=e;let m;this.perfTracker.markPostStart(),this.perfTracker.markSdpExchangeStart();try{this.perfTracker.setTransport(this.sdpExchanger.getTransport());const e=d||bt("node")||bt("dataPlaneEndpoint");m=yield this.sdpExchanger.exchange({sdpOffer:o,url:f,traceId:s,forceNode:e,assignmentToken:p,multiCodec:h,abortController:v,initialLayerPreference:null===(r=this.simulcastSubscribeConfig)||void 0===r?void 0:r.initialLayerPreference})}catch(e){let t=e;t instanceof ur||(t=new ur(Object.assign(Object.assign({},mr.UNEXPECTED_ERROR),{action:u,token:a,traceId:s,tag:l,details:e instanceof Error?e.message:"",location:"sdp-exchange"}))),t instanceof ur&&(this.analyticsTracker.trackError(t),this.emit(hn,t))}if(this.perfTracker.markSdpExchangeStop(),!m)return;const{location:y,sessionDeleteLink:g,mediaControls:b}=m;let _=m.sdpAnswer;try{_=this.mungeSdpAnswer(_),m.sdpAnswer=_}catch(e){this.logger.error({err:e,msg:"Error while attempting to munge SDP, keeping original answer"})}this.statsReporter.sdpAnswer=_,this.emit(pn,m),y&&(this.whipResource={location:y,sessionDeleteLink:g,mediaControls:b},this.sfuResource=function(e){const t=e.match(/https:\/\/([^/]+)\//);if(t){const e=t[1].split(".");if(e[0].includes("video-rtx"))return{node:`${e[0]}.${e[1]}`,cluster:e[1]}}}(y)||{node:"",cluster:""},this.statsReporter.updateSfuResource(this.sfuResource));try{this.perfTracker.markSetRemoteDescStart(),yield null===(i=this.peerConnection)||void 0===i?void 0:i.setRemoteDescription({sdp:_,type:"answer"}),this.perfTracker.markSetRemoteDescStop(),this.perfTracker.markPostStop()}catch(e){const t=new ur(Object.assign(Object.assign({},mr.SET_ANSWER_FAILURE),{action:u,token:a,traceId:s,tag:dr(u,c),location:"setRemoteDescription",remoteParticipantId:c,details:e instanceof Error?e.message:""}));this.analyticsTracker.trackError(t),this.emit(hn,t)}})),this.cleanup=(e,t,n,r=!1)=>ya(this,void 0,void 0,(function*(){var i,o,a;const s=rr();if(this.toggleStageConnectionListeners(!1),this.currentJitterBufferMinDelayInMs=void 0,this.stageConnection=void 0,this.closeFailedPeerConnections(),!(null===(i=this.whipResource)||void 0===i?void 0:i.location))return this.trace(n,this.traceId,"whipResource location not known, exiting cleanup",e,t),void this.analyticsTracker.trackError(new ur(Object.assign(Object.assign({},mr.WHIP_URL_MISSING),{action:e,token:n,traceId:this.traceId,tag:dr(e,t),location:e===Jn.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:s,remoteParticipantId:t})));let u=this.whipResource.location;if(this.trace(n,this.traceId,`use hostnamecachedurl: ${u}`,e,t),r){if(null===(a=this.whipResource)||void 0===a?void 0:a.sessionDeleteLink){u=this.whipResource.sessionDeleteLink,this.trace(n,this.traceId,`DELETE via session-delete beacon path: ${u}`,e,t);try{navigator.sendBeacon(u,JSON.stringify({authorization:n.rawToken}))}catch(r){this.analyticsTracker.trackErrorAndThrow(new ur(Object.assign(Object.assign({},pr(mr.WHIP_DELETE_FAILURE,r)),{action:e,token:n,traceId:this.traceId,tag:dr(e,t),location:Jn.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:s,remoteParticipantId:t})))}}}else try{yield sr().delete(u,{headers:{Authorization:`Bearer ${n.rawToken}`,"X-Stages-Platform":"web","X-Stages-Request-ID":s.value,"X-Stages-SDK":"1.22.1","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":this.traceId.value,"X-Stages-WHIP-Version":Jr}})}catch(r){404===(null===(o=r.response)||void 0===o?void 0:o.status)?this.trace(n,this.traceId,`DELETE returned 404, ignoring, action = ${e}, uuid = ${s.value}`,e,t):this.analyticsTracker.trackErrorAndThrow(new ur(Object.assign(Object.assign({},pr(mr.WHIP_DELETE_FAILURE,r)),{action:e,token:n,traceId:this.traceId,tag:dr(e,t),location:Jn.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:s,remoteParticipantId:t})))}})),this.getConnectionState=()=>{if(!this.peerConnection)return yn.NONE;const e=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;try{return ri(e)}catch(t){return this.logger.warn({msg:"Unhandled connection state:",rawState:e}),yn.IDLE}},this.onIceCandidateError=e=>{const{token:t,traceId:n,tag:r}=this;if(701!==e.errorCode){const e=new ur(Object.assign(Object.assign({},mr.ICE_CANDIDATE_ERROR),{action:this.action,token:t,traceId:n,tag:r,location:"onIceCandidateError",remoteParticipantId:this.identifier}));this.analyticsTracker.trackError(e),this.emit(hn,e)}},this.onIceConnectionStateChange=()=>{var e,t;const{token:n,traceId:r,action:i,identifier:o}=this;this.trace(n,r,`ICE connection state change: ${null===(e=this.peerConnection)||void 0===e?void 0:e.iceConnectionState}`,i,o),"checking"===(null===(t=this.peerConnection)||void 0===t?void 0:t.iceConnectionState)&&this.peerConnection.getTransceivers().forEach((({receiver:e,sender:t})=>{[e,t].forEach((e=>{var t,n;null===(n=null===(t=null==e?void 0:e.transport)||void 0===t?void 0:t.iceTransport)||void 0===n||n.addEventListener("selectedcandidatepairchange",this.onSelectedCandidatePairChange)}))})),this.onConnectionStateChange()},this.createVideoReceiverTransformer=()=>{const e=new ha(this.analyticsTracker.getSessionId()),{token:t,tag:n,identifier:r,action:i,traceId:o}=this;e.on(fa,(e=>{this.emit(vn,e)}));const a=function(e,t){let n=0;return function(...t){const r=Date.now();r-n>=1e3&&(n=r,e(...t))}}((e=>{const a=`Transform error occurred: ${e.type}`,s=ra({traceId:o,token:t,tag:n,identifier:r,action:i,details:a,stageErrorValue:mr.TRANSFORM_UNEXPECTED_ERROR});this.logger.warn({err:s,msg:"Error encountered when transforming receiver",error:e})})),s=a=>{const s=`Too many errors occurred: ${a.type}`,u=ra({traceId:o,token:t,tag:n,identifier:r,action:i,details:s,stageErrorValue:mr.TRANSFORM_TOO_MANY_ERRORS});this.logger.error({err:u,msg:"Too many errors encountered when transforming receiver. Shutting down transformer.",error:a}),e.destroy(),this.analyticsTracker.trackError(u),this.emit(mn,u)};return e.on(da,(e=>{e.stageErrorValue.code!==mr.TRANSFORM_TOO_MANY_ERRORS.code?a(e):s(e)})),e},this.onConnectionStateChange=()=>{if(this.peerConnection){const e=this.peerConnection.connectionState||this.peerConnection.iceConnectionState,{token:t,traceId:n,identifier:r,action:i}=this,o=new ai(i,t,n,e,r);this.analyticsTracker.trackEventNoSharedProps(o),this.trace(t,n,`connection state change: ${e}`,i,r)}const e=this.getConnectionState();switch(e){case yn.CONNECTED:this.closeFailedPeerConnections(),this.perfTracker.markActionStop(),this.emit(dn,e),this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub);break;case yn.FAILED:this.storeFailedPeerConnection(this.peerConnection),this.destroyPeerConnection({closeConnection:!1}),this.emit(dn,e),this.handleConnectionFailure();break;default:this.emit(dn,e)}},this.onIncompatibleCodecs=e=>ya(this,void 0,void 0,(function*(){if(e.forEach((e=>{let t=!1;this.incompatibleCodecs.forEach((n=>{n.config===e.config&&n.mime===e.mime&&(t=!0)})),t||this.incompatibleCodecs.add(e)})),this.peerConnection)try{yield(t=this.peerConnection,n=[...this.incompatibleCodecs],function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function*(){var e;for(const r of t.getSenders()){const t=r.getParameters();if(t.codecs.length>1){const i=t.codecs[0];let o=!1;for(const e of n)Ai(i,e)&&(o=!0);if(o){const i=Pi(n,t.codecs);null===(e=t.encodings)||void 0===e||e.forEach((e=>{e.active&&(e.codec=i)})),yield r.setParameters(t)}}}})))}catch(e){const{token:t,action:n,traceId:r,identifier:i}=this,o=new ur(Object.assign(Object.assign({},mr.CODEC_HANDLE_INCOMPATIBLE_UNEXPECTED_ERROR),{action:n,token:t,traceId:r,tag:dr(n,i),location:"onIncompatibleCodecs",remoteParticipantId:i,details:e instanceof Error?e.message:""}));this.analyticsTracker.trackError(o),this.emit(hn,o)}var t,n})),this.token=e,this.logger=new sn(t,fe.WEBRTC),this.action=n,this.tag=r,this.traceId=i,n===Jn.SUBSCRIBE&&!a)throw new Error("Subscribe action provided without subscriber Id");this.jitterBufferConfig=null==u?void 0:u.jitterBuffer,this.simulcastSubscribeConfig=null==u?void 0:u.simulcast,this.subscriberId=a,this.stageConnection=s,this.failedPeerConnections=[],this.receiveInBandMessagingEnabled=!!(null===(c=this.subscribeConfig)||void 0===c?void 0:c.inBandMessaging.enabled),this.videoSenderTransformer=new va(this.analyticsTracker.getSessionId()),this.videoReceiverTransformer=this.createVideoReceiverTransformer(),this.perfTracker=new li(this.action,this.traceId),this.statsReporter=new yo(n,e,i,this.identifier,this.analyticsTracker,this.videoReceiverTransformer,this.videoSenderTransformer),this.sdpExchanger=function(e){const{connection:t,token:n,action:r,identifier:i,tracker:o}=e,a=t&&t.supportsSdpExchange(),s=r===Jn.SUBSCRIBE&&a&&!Et(),u=r===Jn.PUBLISH&&a&&St()&&!Et();return s||u?new Yo(n,t,{action:r,remoteParticipantId:i},o):new Jo(n,{action:r,remoteParticipantId:i},o)}({connection:s,action:n,token:e,identifier:this.identifier,tracker:o}),this.handlePublishingChangedBinding=this.handlePublishingChanged.bind(this),this.toggleStageConnectionListeners(!0)}get videoMediaId(){var e,t;return null!==(t=null===(e=this.videoTransceiver)||void 0===e?void 0:e.mid)&&void 0!==t?t:null}toggleStageConnectionListeners(e){var t,n;e?null===(t=this.stageConnection)||void 0===t||t.on(Er,this.handlePublishingChangedBinding):null===(n=this.stageConnection)||void 0===n||n.off(Er,this.handlePublishingChangedBinding)}updateSubscribeConfig(e){var t,n;if(this.jitterBufferConfig=e.jitterBuffer,this.simulcastSubscribeConfig=e.simulcast,this.action===Jn.SUBSCRIBE){const t=e.inBandMessaging.enabled;this.receiveInBandMessagingEnabled!==t&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for receiver"})}this.applyJitterBufferMinDelayConditionally(null!==(n=null===(t=this.stageConnection)||void 0===t?void 0:t.getIsStagePublishing())&&void 0!==n&&n)}verifyOrUpdateTransceiverSync(){var e,t;return ya(this,void 0,void 0,(function*(){if(this.videoTrackForPub){const t=this.getTransceiverForKind("video");t?this.videoTrackForPub.track.id!==(null===(e=t.sender.track)||void 0===e?void 0:e.id)&&(this.logger.debug({msg:"found out of sync video transceiver... updating"}),yield this.replaceOrUpdateTrack(this.videoTrackForPub)):this.logger.warn({msg:"missing transceiver for video"})}if(this.audioTrackForPub){const e=this.getTransceiverForKind("audio");e?this.audioTrackForPub.track.id!==(null===(t=e.sender.track)||void 0===t?void 0:t.id)&&(this.logger.debug({msg:"found out of sync audio transceiver... updating"}),yield this.replaceOrUpdateTrack(this.audioTrackForPub)):this.logger.warn({msg:"missing transceiver for audio"})}}))}start(){var e,t,n;return ya(this,void 0,void 0,(function*(){const{token:r,action:i,traceId:o,identifier:a}=this;i!==Jn.PUBLISH||r.claims.capabilities.allow_publish||this.analyticsTracker.trackErrorAndThrow(new ur(Object.assign(Object.assign({},pr(mr.TOKEN_PERMISSIONS_DENIED,new Error("Cannot publish with subscribe only token"))),{action:i,token:r,traceId:o,tag:dr(i,a),location:"StagePeerClient.start",remoteParticipantId:a})));const s=function({action:e,identifier:t,token:n,analyticsTracker:r}){let i="";const o=$r(n,r);switch(e){case Jn.PUBLISH:i=o.getPublishEndpoint();break;case Jn.SUBSCRIBE:t&&(i=o.getSubscribeEndpoint(t))}return i}({action:i,identifier:a,token:r.rawToken,analyticsTracker:this.analyticsTracker});try{this.perfTracker.markActionStart(),this.stageCapabilities={simulcastNegotiated:null!==(n=null===(t=null===(e=this.videoTrackForPub)||void 0===e?void 0:e.config)||void 0===t?void 0:t.simulcastEnabled)&&void 0!==n&&n},this.endpointURL=s,this.createPeerConnection(),this.trace(r,o,"peer connection created",i,a)}catch(e){const t=new ur(Object.assign(Object.assign({action:i},pr(mr.CREATE_PEER_CONNECTION_FAILURE,e)),{token:r,traceId:o,tag:dr(i,a),location:"StagePeerClient.start",remoteParticipantId:a}));i===Jn.PUBLISH&&this.emit(dn,yn.FAILED),this.emit(hn,t),this.analyticsTracker.trackErrorAndThrow(t)}}))}mungeSdpOffer(e,t,n){if(n.simulcastNegotiated&&(e=new vi(e).withVideoLayersAllocationRtpHeaderExtension().sdp),t===Jn.SUBSCRIBE)e=new vi(e).withOpusAudioConfig(co(wi),!0).sdp;else if(t===Jn.PUBLISH&&n.audioConfig){const{maxBitrateBps:t,stereo:r}=n.audioConfig;e=new vi(e).withOpusAudioConfig(t,r).sdp}return e}mungeSdpAnswer(e){Wi.browser.isFirefox()&&this.audioTrackForPub&&this.action===Jn.PUBLISH&&(e=new vi(e).withOpusAudioConfig(this.audioTrackForPub.config.maxBitrateBps,void 0).sdp);const t=Wi.browser.isChrome()||Wi.browser.isEdge();this.action===Jn.SUBSCRIBE&&t&&(e=new vi(e).withoutAudioRtcpRSize().sdp);const n=function(){const e=bt("subscribeForceIceProtocol");if("tcp"===e||"udp"===e)return e}();return this.action===Jn.SUBSCRIBE&&n&&(e=new vi(e).withFilteredCandidates(n).sdp),e}createPeerConnection(){this.logger.debug({msg:"setting up peer connection"}),this.peerConnection&&(this.logger.debug({msg:"peer connection is already established, cleaning up previous connection"}),this.destroyPeerConnection({closeConnection:!1})),this.peerConnection=new RTCPeerConnection({iceTransportPolicy:"all"}),this.statsReporter.start(this.peerConnection,this.stageCapabilities.simulcastNegotiated),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.peerConnection.addEventListener("icecandidateerror",this.onIceCandidateError),this.peerConnection.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this.peerConnection.addEventListener("icecandidate",this.onIceCandidate),this.peerConnection.addEventListener("track",this.onTrack),this.peerConnection.addEventListener("mute",this.onMute),this.peerConnection.addEventListener("unmute",this.onUnMute)}destroyPeerConnection(e){var t,n,r,i,o,a,s,u,c;this.statsReporter.stop(),null===(t=this.peerConnection)||void 0===t||t.removeEventListener("connectionstatechange",this.onConnectionStateChange),null===(n=this.peerConnection)||void 0===n||n.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),null===(r=this.peerConnection)||void 0===r||r.removeEventListener("icecandidateerror",this.onIceCandidateError),null===(i=this.peerConnection)||void 0===i||i.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),null===(o=this.peerConnection)||void 0===o||o.removeEventListener("icecandidate",this.onIceCandidate),null===(a=this.peerConnection)||void 0===a||a.removeEventListener("track",this.onTrack),null===(s=this.peerConnection)||void 0===s||s.removeEventListener("mute",this.onMute),null===(u=this.peerConnection)||void 0===u||u.removeEventListener("unmute",this.onUnMute),e.closeConnection&&(null===(c=this.peerConnection)||void 0===c||c.close()),this.peerConnection=void 0}closeFailedPeerConnections(){for(const e of this.failedPeerConnections)null==e||e.close();this.failedPeerConnections=[]}storeFailedPeerConnection(e){e&&this.failedPeerConnections.push(e)}stop(){this.videoReceiverTransformer.destroy(),this.videoSenderTransformer.destroy(),this.destroyPeerConnection({closeConnection:!0})}getTransceiverForKind(e){if(!this.peerConnection)return;const t=this.peerConnection.getTransceivers();return"audio"===e?t.find((e=>"0"===e.mid)):"video"===e?t.find((e=>"1"===e.mid)):void 0}removeTrack(e){return ya(this,void 0,void 0,(function*(){if("audio"===e||"video"===e)if(this.peerConnection)try{const t=this.getTransceiverForKind(e);if(!t)return void this.logger.warn({msg:`tried removing track type ${e} but couldn't find transceiver`});yield t.sender.replaceTrack(null),e===fi.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0,yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(e){this.logger.warn({msg:"error replacing track",err:e})}else e===fi.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0;else this.logger.warn({msg:"RemoveTrack called with invalid track type",trackType:e})}))}replaceOrUpdateTrack(e){return ya(this,void 0,void 0,(function*(){if(e.track){if(Zo(e)?this.audioTrackForPub=e:Xo(e)&&(this.videoTrackForPub=e),this.peerConnection)try{const t=this.getTransceiverForKind(e.track.kind);if(!t)return void this.logger.warn({msg:`tried replacing track type ${e.track.kind} but couldn't find transceiver`,track:e.track});if(Xo(e)){const n=t.sender.getParameters(),r=so(this.stageCapabilities.simulcastNegotiated,e);n.encodings=n.encodings.map((e=>{var t;const n=null!==(t=e.rid)&&void 0!==t?t:"",i=r.find((e=>{var t;return(null!==(t=e.rid)&&void 0!==t?t:"")===n}));return i?Object.assign(Object.assign({},e),i):e})),yield t.sender.setParameters(n)}else if(Zo(e)){const n=t.sender.getParameters(),r=ao(e)[0];n.encodings=n.encodings.map((e=>Object.assign(Object.assign({},e),r))),yield t.sender.setParameters(n)}yield t.sender.replaceTrack(e.track),yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(e){this.logger.warn({msg:"error replacing track",err:e})}}else this.logger.warn({msg:"Unexpected call to replaceOrUpdateTrack with no track"})}))}initializePeerConnection(e=!1){var t,n,r,i,o;return ya(this,void 0,void 0,(function*(){const{traceId:a,token:s,action:u,identifier:c}=this;xn(this.peerConnection);let l=new MediaStream;if(u===Jn.PUBLISH){this.audioTrackForPub||(this.audioTrackForPub={track:this.getSilentAudio(),config:{maxBitrateBps:co(_i),stereo:!1}});const e=this.peerConnection.getTransceivers(),i=[];e.forEach((e=>{var t;i.concat(null===(t=e.sender.track)||void 0===t?void 0:t.id)})),l=new MediaStream([this.audioTrackForPub.track,null===(t=this.videoTrackForPub)||void 0===t?void 0:t.track].filter((e=>!!e&&!i.includes(e.id))));const o=l.getAudioTracks()[0]||"audio",f=l.getVideoTracks()[0]||"video",d={direction:"sendonly",streams:[l],sendEncodings:ao(this.audioTrackForPub)},p={direction:"sendrecv",streams:[l],sendEncodings:so(this.stageCapabilities.simulcastNegotiated,this.videoTrackForPub)};this.peerConnection.addTransceiver(o,d),this.trace(s,a,`track added, type: ${o.kind||o}`,u,c);const h=this.peerConnection.addTransceiver(f,p);this.trace(s,a,`track added, type: ${f.kind||f}`,u,c);const v=!!(null===(r=null===(n=this.videoTrackForPub)||void 0===n?void 0:n.config)||void 0===r?void 0:r.inBandMessagingEnabled);void 0===this.sendInBandMessagingEnabled?this.sendInBandMessagingEnabled=v:this.sendInBandMessagingEnabled!==v&&this.logger.warn({msg:"Cannot mutate in-band messaging config value for sender"}),this.sendInBandMessagingEnabled&&!va.isSupported(h)?this.handleTransformNotSupported():this.sendInBandMessagingEnabled&&this.videoSenderTransformer.onTransceiverAdd(h)}else u===Jn.SUBSCRIBE&&(s.shouldSendSilentAudio()?this.peerConnection.addTransceiver(this.getSilentAudio(),{direction:"sendrecv"}):this.peerConnection.addTransceiver("audio",{direction:"recvonly"}),this.trace(s,a,"track added, type: audio",u,c),e||(this.videoTransceiver=this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.trace(s,a,"track added, type: video",u,c),this.receiveInBandMessagingEnabled&&!ha.isSupported(this.videoTransceiver)?this.handleTransformNotSupported():this.receiveInBandMessagingEnabled&&this.videoReceiverTransformer.onTransceiverAdd(this.videoTransceiver)),this.peerConnection.getTransceivers().forEach((e=>{e.receiver?(this.logger.info({msg:"dbg: Subscribe succeeded, adding media track to participant mediaStream"}),null==l||l.addTrack(e.receiver.track)):this.logger.info({msg:"dbg: Subscribe succeeded, but Transceiver were negotiated without Receiver"})})),this.applyJitterBufferMinDelayConditionally(null!==(o=null===(i=this.stageConnection)||void 0===i?void 0:i.getIsStagePublishing())&&void 0!==o&&o));return l}))}handlePublishingChanged(e){this.logger.debug({msg:`[handlePublishingChanged (${this.subscriberId})] isStagePublishing: ${e}, currentMinDelay: ${this.currentJitterBufferMinDelayInMs}`}),this.action===Jn.SUBSCRIBE&&this.applyJitterBufferMinDelayConditionally(e)}applyJitterBufferMinDelayConditionally(e){const t=this.currentJitterBufferMinDelayInMs,n=this.calcJitterBufferMinDelay(e,this.jitterBufferConfig);if(e){if(void 0===t||t>n){const e=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is publishing and min delay is unset or > configured; attempting to update to ${n}`;this.logger.debug({msg:e}),this.trace(this.token,this.traceId,e,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(n)}}else if(void 0===t||n!==t){const e=`[applyJitterBufferMinDelayConditionally (${this.subscriberId})] participant is subscribe-only and min delay is unset or != configured; attempting to update to ${n}`;this.logger.debug({msg:e}),this.trace(this.token,this.traceId,e,this.action,this.identifier),this.applyAndTrackJitterBufferMinDelay(n)}}calcJitterBufferMinDelay(e,t){var n,r,i;let o=0;if(!(()=>{const e=RTCRtpReceiver.prototype;return!(!e||"object"!=typeof e)&&("jitterBufferTarget"in e||"playoutDelayHint"in e)})())return 0;if(e)o=ta(null!==(n=null==t?void 0:t.minDelayWhenPublishing)&&void 0!==n?n:di.DEFAULT,e);else{o=ta(null!==(r=null==t?void 0:t.minDelayWhenSubscribeOnly)&&void 0!==r?r:di.DEFAULT,e);const n=null===(i=this.stageConnection)||void 0===i?void 0:i.jitterBufferMinDelayInMs();(null==t?void 0:t.minDelayWhenSubscribeOnly)===di.DEFAULT&&void 0!==n&&(o=n,this.logger.debug({msg:`[calcJitterBufferMinDelay] overriding min delay with remote value: ${o}`}))}return o}applyAndTrackJitterBufferMinDelay(e){var t,n;this.currentJitterBufferMinDelayInMs=e,this.statsReporter.updateJitterBufferMinDelay(e),void 0!==e&&(null===(n=null===(t=this.peerConnection)||void 0===t?void 0:t.getTransceivers())||void 0===n||n.forEach((t=>{t.receiver&&this.applyJitterBufferMinDelay(t.receiver,e)})))}applyJitterBufferMinDelay(e,t){let n="Unable to set jitter buffer min delay";if("jitterBufferTarget"in e)n=`setting jitterBufferTarget to: ${t} for track: ${e.track.kind}`,this.logger.debug({msg:n}),e.jitterBufferTarget=t;else if("playoutDelayHint"in e){const r=t/1e3;n=`setting playoutDelayHint to: ${t} for track: ${e.track.kind}`,this.logger.debug({msg:n}),e.playoutDelayHint=r}else this.logger.warn({msg:n});this.trace(this.token,this.traceId,n,this.action,this.identifier)}exchangeSdp(e){var t;return ya(this,void 0,void 0,(function*(){const{traceId:n,token:r,action:i,identifier:o,tag:a,endpointURL:s}=this,{iceRestart:u=!1,nodeOverride:c,assignmentToken:l,abortController:f}=e;let d;this.logger.debug({msg:`Exchanging SDP: ${n.value}, iceRestart=${u}, nodeOverride=${c}, assignmentToken=${l}`}),xn(this.peerConnection),i===Jn.PUBLISH&&Tt()&&(this.logger.debug({msg:"Applying publisher codec preference for main profile."}),((e,t)=>{var n,r;const i=null===(n=RTCRtpReceiver.getCapabilities("video"))||void 0===n?void 0:n.codecs;if(!i)return;let o=i;o=ki(i,"42e0"),t.preferMainProfile&&(o=ki(i,"4d00")),null===(r=e.getTransceivers().find((e=>"video"===e.receiver.track.kind)))||void 0===r||r.setCodecPreferences(o)})(this.peerConnection,{preferMainProfile:Tt()}));try{this.trace(r,n,"Creating offer",i,o),d=yield this.peerConnection.createOffer({iceRestart:u})}catch(e){const t=new ur(Object.assign(Object.assign({},pr(mr.CREATE_OFFER_FAILURE,e)),{action:i,token:r,traceId:n,tag:a,location:"exchangeSdp",remoteParticipantId:o}));this.emit(hn,t),this.analyticsTracker.trackErrorAndThrow(t)}d.sdp&&(d.sdp=this.mungeSdpOffer(d.sdp,i,{simulcastNegotiated:this.stageCapabilities.simulcastNegotiated,audioConfig:null===(t=this.audioTrackForPub)||void 0===t?void 0:t.config})),this.trace(r,n,"Setting local description",i,o),yield this.peerConnection.setLocalDescription(d),this.trace(r,n,"local description set",i,o),s||this.logger.warn({msg:"Unexpected state: No endpointURL specified for fetching of remote description."});const p=i===Jn.PUBLISH&&Tt()||i===Jn.SUBSCRIBE&&_t("multiCodecAnswer");yield this.fetchAndSetRemoteDescription({endpointURL:s,nodeOverride:c,assignmentToken:l,multiCodec:p,abortController:f})}))}getReports(){var e;return ya(this,void 0,void 0,(function*(){try{const t=(yield null===(e=this.peerConnection)||void 0===e?void 0:e.getStats())||[],n=[];return t.forEach((e=>{n.push(e)})),n}catch(e){return[]}}))}requestRTCStats(e){return ya(this,void 0,void 0,(function*(){if(this.peerConnection)return this.peerConnection.getStats(e)}))}get identifier(){return this.subscriberId||this.token.participantID}handleTransformNotSupported(){const{token:e,tag:t,identifier:n,action:r,traceId:i}=this,o=ra({traceId:i,token:e,tag:t,identifier:n,action:r,stageErrorValue:mr.TRANSFORM_NOT_SUPPORTED_BY_PLATFORM});this.logger.error({err:o,msg:"Transforms not supported by this platform"}),this.analyticsTracker.trackError(o),this.emit(mn,o)}handleConnectionFailure(){return ya(this,void 0,void 0,(function*(){const{token:e,traceId:t,tag:n}=this;this.analyticsTracker.trackError(new ur(Object.assign(Object.assign({},mr.PEER_CONNECTION_NETWORK_FAILURE),{action:this.action,token:e,traceId:t,tag:n,location:"onIceCandidateError",remoteParticipantId:this.identifier})))}))}getSilentAudio(){ga||(ga=new AudioContext);const e=ga.createOscillator(),t=ga.createGain();e.connect(t);const n=ga.createMediaStreamDestination();return t.connect(n),t.gain.value=0,e.start(),n.stream.getAudioTracks()[0]}getActionMeasurements(){return this.perfTracker.getMeasurements()}getProtocol(){return this.protocol}initTracksToPublish(e){this.videoTrackForPub=e.find(Xo),this.audioTrackForPub=e.find(Zo)}getSfuResource(){return this.sfuResource}getExpectedJitterBufferMinDelayInMs(){var e,t;return this.calcJitterBufferMinDelay(null!==(t=null===(e=this.stageConnection)||void 0===e?void 0:e.getIsStagePublishing())&&void 0!==t&&t,this.jitterBufferConfig)}trace(e,t,n,r,i){this.analyticsTracker.trackEventNoSharedProps(new oi(e,t,n,r,i))}sendSeiMessage(e,t){const n=this.getTransceiverForKind("video");return this.sendInBandMessagingEnabled?this.action===Jn.PUBLISH&&n?this.videoSenderTransformer.sendSeiMessage(e,t):Qr.err(ca.NOT_PUBLISHING_VIDEO):Qr.err(ca.INBAND_MESSAGING_NOT_ENABLED)}}const _a=Jn.SUBSCRIBE;class wa{constructor(e,t,n){this.analyticsTracker=e,this.token=t,this.remoteId=n,this.action=_a}trackAttempt({stageConnectionStats:e,isReassignment:t=!1,traceIdOverride:n,preAttemptSfuResource:r}){const{action:i,analyticsTracker:o,token:a,remoteId:s}=this,u=n||or();return o.trackEvent(new wo({token:this.token,subscribedId:this.remoteId,traceId:u,isEdpConnected:e.isConnected,isReassignment:t,preAttemptSfuResource:r})),{getTraceId:()=>u,trackSubscribeStarted({totalDurationWithRetries:n,retryTimes:r,sfuResource:i,peerClientPerfStats:c,protocol:l}){const{optionsDuration:f,postDuration:d,timeToCandidate:p,timeToConnected:h,sdpExchangeDuration:v,sdpExchangeTransport:m,setRemoteDescDuration:y,peerConnectionDuration:g}=c,{edpInitialConnectDuration:b,edpInitialConnectRetries:_,edpInitialStateDuration:w,edpInitialStatePublishingCount:E,edpStateUpdateCount:S}=e;o.trackEvent(new Oo({token:a,traceId:u,remoteParticipantId:s,optionsDuration:f,postDuration:d,timeToCandidate:p,totalDuration:h,edpInitialConnectDuration:b,edpInitialConnectRetries:_,edpInitialStateDuration:w,edpInitialStatePublishingCount:E,edpStateUpdateCount:S,sdpExchangeDuration:v,sdpExchangeTransport:m,setRemoteDescDuration:y,peerConnectionDuration:g,sfuResource:i,totalDurationWithRetries:n,subscribeRetryTimes:r,isReassignment:t,protocol:l}))},trackSubscribeFirstFrame:({peerClientPerfStats:t,totalDurationWithRetries:n,sfuResource:r,retryTimes:i,currentJitterBufferMinDelayInMs:o,mediaType:a,firstFrameDuration:c,protocol:l})=>{const{sdpExchangeDuration:f,sdpExchangeTransport:d,setRemoteDescDuration:p,peerConnectionDuration:h}=t,{edpInitialConnectDuration:v,edpInitialConnectRetries:m,edpInitialStateDuration:y,edpInitialStatePublishingCount:g,edpStateUpdateCount:b}=e;this.analyticsTracker.trackEvent(new Po({token:this.token,traceId:u,remoteParticipantId:s,edpInitialConnectDuration:v,edpInitialConnectRetries:m,edpInitialStateDuration:y,edpInitialStatePublishingCount:g,edpStateUpdateCount:b,sdpExchangeDuration:f,sdpExchangeTransport:d,setRemoteDescDuration:p,peerConnectionDuration:h,videoWasPaused:!1,firstFrameDuration:c,mediaType:a,sfuResource:r,totalDurationWithRetries:n,subscribeRetryTimes:i,currentJitterBufferMinDelayInMs:o,protocol:l}))},trackSubscribeFailed(n,r,c){const l=((e,t,n)=>{if(e instanceof ur)return e;let r="";return e instanceof ar.AxiosError&&(r+=`AxiosError - ${e.code}`),new ur(Object.assign(Object.assign(Object.assign({},mr.SUBSCRIBE_FAILURE),{action:_a,token:t,traceId:n,tag:fr,location:"subscribe",details:`${r} ${null==e?void 0:e.message}`}),{fatal:!0}))})(n,a,u);o.trackEvent(new Io({token:a,traceId:u,remoteParticipantId:s,code:l.code,message:l.message,fatal:l.fatal,nominal:l.nominal,isReassignment:t,protocol:r}));const{isConnected:f}=e,d=new ur(Object.assign(Object.assign({},mr.SUBSCRIBE_FAILURE),{action:i,token:a,traceId:u,tag:dr(Jn.SUBSCRIBE,s),location:"subscribe",remoteParticipantId:s,isEdpConnected:f,details:c}));return n instanceof ur&&(d.fatal=n.fatal,d.nominal=n.nominal,d.location=`subscribe > ${n.location}`),o.trackError(d),l},trackUnsubscribe:()=>{o.trackEvent(new Eo({token:a,unsubscribedId:s,traceId:u}))},trackEndSucceeded:(e,t)=>{o.trackEvent(new ko({token:a,traceId:u,remoteParticipantId:s,isUnsubscribeSuccessful:!0,reason:e,protocol:t}))},trackEndFailed:(e,t)=>{const n=new ur(Object.assign(Object.assign({},mr.UNSUBSCRIBE_FAILURE),{token:a,traceId:u,tag:dr(Jn.SUBSCRIBE,s),location:"unsubscribe",remoteParticipantId:s}));return e!==yr.UNLOAD&&e!==yr.UNSUBSCRIBE||o.trackError(n),o.trackEvent(new ko({token:a,traceId:u,remoteParticipantId:s,isUnsubscribeSuccessful:!0,reason:e,protocol:t})),n}}}}class Ea extends mt{constructor(e,t,n,r,i,o){super(pt.PLAYBACK_LAYER_REQUEST,e,t,!1),Object.assign(this.properties,{media_type:n,remote_participant_id:r,track_id:i,layer_id:o})}}class Sa extends mt{constructor(e,t,n,r,i,o=1){super(pt.PLAYBACK_LAYER_STATE,e,t,!1),Object.assign(this.properties,{media_type:n,remote_participant_id:r,track_id:i,request_count:o})}}var Ta,Ca,Oa,Ia;!function(e){e.PAUSE="pause",e.PLAY="play"}(Ta||(Ta={})),function(e){e.IDLE="idle",e.ACTIVE="active",e.ERRORED="errored",e.DESTROYED="destroyed"}(Ca||(Ca={})),function(e){e.SUCCESS="success"}(Oa||(Oa={})),function(e){e.FAILED="failed",e.DESTROYED="destroyed",e.THROTTLED="throttled"}(Ia||(Ia={}));var ka=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};class Aa{constructor(e){this.state=Ca.IDLE,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null,this.stopVideo=()=>ka(this,void 0,void 0,(function*(){return this.state!==Ca.ACTIVE?(this.logCommandSkipped("stopVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(Ta.PAUSE)})),this.startVideo=()=>ka(this,void 0,void 0,(function*(){return this.state!==Ca.ACTIVE?(this.logCommandSkipped("startVideo"),this.mapSkippedResultFromState(this.state)):this.sendPlaybackRequest(Ta.PLAY)})),this.setLayer=e=>ka(this,void 0,void 0,(function*(){return this.state!==Ca.ACTIVE?(this.logCommandSkipped("setLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest(e)})),this.unsetLayer=()=>ka(this,void 0,void 0,(function*(){return this.state!==Ca.ACTIVE?(this.logCommandSkipped("unsetLayer"),this.mapSkippedResultFromState(this.state)):this.sendLayerRequest()})),this.getLayers=()=>ka(this,void 0,void 0,(function*(){return this.state!==Ca.ACTIVE?(this.logCommandSkipped("getLayers"),this.mapSkippedResultFromState(this.state)):this.sendLayerStateRequest()})),this.sendPlaybackRequest=e=>ka(this,void 0,void 0,(function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,Qr.err)(Ia.FAILED);if(!this.playbackEndpoint)return this.logger.warn({msg:"Playback endpoint is unset and required for playback control requests"}),(0,Qr.err)(Ia.FAILED);this.logger.info({msg:`Sending ${e} request to ${this.playbackEndpoint}`});const t=e===Ta.PAUSE?{pause:[this.mid]}:{play:[this.mid]},n=this.createPostWhepRequest(t);return fetch(this.playbackEndpoint,n).then((t=>{if(t.status>=300){const e=new Error(`Error sending media controls request: ${t.status}:${t.statusText}`);return this.logger.error({err:e}),(0,Qr.err)(Ia.FAILED)}return this.logger.debug({msg:`Request to ${e} was successful: ${t.status}`}),(0,Qr.ok)(Oa.SUCCESS)})).catch((e=>(this.logger.error({err:e,msg:"Error sending media controls request"}),(0,Qr.err)(Ia.FAILED))))})),this.sendLayerRequest=e=>ka(this,void 0,void 0,(function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,Qr.err)(Ia.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,Qr.err)(Ia.FAILED);const t="string"==typeof e,n=t?{mediaId:this.mid,encodingId:e}:{},r=t?`set : ${e}`:"unset layer";this.logger.info({msg:`sendLayerRequest for ${r} at ${this.layersEndpoint}`});const i=this.createPostWhepRequest(n);return this.trackLayerRequest(null!=e?e:"auto"),fetch(this.layersEndpoint,i).then((e=>this.state===Ca.DESTROYED?(0,Qr.err)(Ia.DESTROYED):e.status>=300?this.handleLayerRequestError(e.status,e.statusText):(this.logger.debug({msg:`Request to ${r} was successful: ${e.status}`}),(0,Qr.ok)(Oa.SUCCESS)))).catch((e=>this.handleLayerRequestError(0,e.message)))})),this.sendLayerStateRequest=()=>ka(this,void 0,void 0,(function*(){if(!this.mid)return this.logger.warn({msg:"mid is unexpectedly undefined"}),(0,Qr.err)(Ia.FAILED);if(!this.layersEndpoint)return this.logger.warn({msg:"Layers endpoint is unset and required for layer requests"}),(0,Qr.err)(Ia.FAILED);this.logger.info({msg:`sendLayerStateRequest for ${this.mid} at ${this.layersEndpoint}`});const e=this.createGetWhepRequest();return this.trackLayerStateRequest(),fetch(this.layersEndpoint,e).then((e=>ka(this,void 0,void 0,(function*(){var t;if(this.state===Ca.DESTROYED)return(0,Qr.err)(Ia.DESTROYED);if(e.status>=300)return this.handleLayerStateRequestError(e.status,e.statusText);const n=yield e.json(),r=null!==(t=null==n?void 0:n.layers)&&void 0!==t?t:[],i=JSON.stringify(r,null,2);return this.logger.debug({msg:`sendLayerStateRequest was successful: ${i}`}),(0,Qr.ok)(r)})))).catch((e=>this.handleLayerStateRequestError(0,e.message)))})),this.logger=new sn(e.logger,fe.REMOTE_PLAYBACK),this.token=e.token,this.traceId=e.traceId,this.analyticsTracker=e.analyticsTracker,this.remoteParticipantId=e.remoteParticipantId}set mediaId(e){if(this.state!==Ca.DESTROYED){if(this.mid=e,null===this.mid)return this.logger.info({msg:"media id is unset, controller is transitioning to idle state"}),void(this.state=Ca.IDLE);(this.playbackEndpoint||this.layersEndpoint)&&(this.state=Ca.ACTIVE)}else this.logCommandSkipped("set mediaId")}set endpoints(e){var t,n;if(this.state!==Ca.DESTROYED){if(this.playbackEndpoint=null!==(t=e.playback)&&void 0!==t?t:null,this.layersEndpoint=null!==(n=e.layers)&&void 0!==n?n:null,!this.playbackEndpoint||!this.layersEndpoint){const e={playbackEndpoint:this.playbackEndpoint,layersEndpoint:this.layersEndpoint};return this.logger.info({msg:`no endpoints are set, transitioning to idle state: ${JSON.stringify(e,null)}`}),void(this.state=Ca.IDLE)}this.mid&&(this.state=Ca.ACTIVE)}else this.logCommandSkipped("set endpoints")}destroy(){this.state=Ca.DESTROYED,this.mid=null,this.playbackEndpoint=null,this.layersEndpoint=null}logCommandSkipped(e="command"){this.logger.info({msg:`skipping ${e}, controller state invalid: ${this.state}`})}mapSkippedResultFromState(e){return e===Ca.DESTROYED?(0,Qr.err)(Ia.DESTROYED):(0,Qr.err)(Ia.FAILED)}createPostWhepRequest(e){return{method:"POST",headers:this.createRequestHeaders(),body:JSON.stringify(e)}}createGetWhepRequest(){return{method:"GET",headers:this.createRequestHeaders()}}createRequestHeaders(){var e,t;return{Authorization:`Bearer ${this.token.rawToken}`,"Content-Type":"application/json","X-Stages-Platform":"web","X-Stages-Request-ID":rr().value,"X-Stages-SDK":"1.22.1","X-Stages-Session-ID":this.analyticsTracker.getSessionId(),"X-Stages-Trace-ID":null!==(t=null===(e=this.traceId)||void 0===e?void 0:e.value)&&void 0!==t?t:"","X-Stages-WHIP-Version":Jr}}trackLayerRequest(e){var t;this.analyticsTracker.trackEventNoSharedProps(new Ea(this.token,this.traceId,_n.VIDEO,this.remoteParticipantId,null!==(t=this.mid)&&void 0!==t?t:"unknown",e))}trackLayerStateRequest(e=1){var t;this.analyticsTracker.trackEventNoSharedProps(new Sa(this.token,this.traceId,_n.VIDEO,this.remoteParticipantId,null!==(t=this.mid)&&void 0!==t?t:"unknown",e))}handleLayerRequestError(e,t){const n=`sendLayerRequest failed for reason: ${e} ${t}`;let r,i;return 429===e?(r=Ia.THROTTLED,i=mr.WHEP_SET_LAYER_REQUEST_THROTTLED):(r=Ia.FAILED,i=mr.WHEP_SET_LAYER_REQUEST_FAILED),this.trackRequestError(i,n),(0,Qr.err)(r)}handleLayerStateRequestError(e,t){const n=`sendLayerStateRequest failed for reason: ${e} ${t}`;let r,i;return 429===e?(r=Ia.THROTTLED,i=mr.WHEP_GET_LAYER_STATE_THROTTLED):(r=Ia.FAILED,i=mr.WHEP_GET_LAYER_STATE_FAILED),this.trackRequestError(i,n),(0,Qr.err)(r)}trackRequestError(e,t){const n=new Error(t);this.logger.error({err:n}),e.message=t;const r=this.createError(e);this.analyticsTracker.trackError(r)}createError(e,t){return new ur(Object.assign({action:Jn.SUBSCRIBE,traceId:this.traceId,token:this.token,location:"RemotePlaybackController",tag:fr,details:t},e))}}var Pa,Ra,Na,xa,Da,La,Ma=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},ja=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};!function(e){e.DISCONNECTED="disconnected",e.CONNECTING="connecting",e.CONNECTED="connected",e.ERRORED="errored"}(Na||(Na={})),function(e){e.NONE="none",e.AUDIO_ONLY="audio_only",e.AUDIO_VIDEO="audio_video"}(xa||(xa={}));class Ua extends er{constructor(e,t,n,r,i,o,a){super(),this.id=e,this.token=t,this.stageConnection=n,this.nonScopedLogger=r,this.analyticsTracker=i,this.desiredSubscribeType=o,Pa.add(this),this.isSubscriptionActive=!1,this.subscriptionState={connectionState:Na.DISCONNECTED,subscribeInProgress:!1},this.previousSignalState={isTargetPublishing:!1},this.failedRetries=0,this.startConnectingTimestamp=-1,this.throttler=new Kr(1e3),this.cleanupFirstFrameTracking=ni,this.actualSubscribeType=xa.NONE,this.action=Jn.SUBSCRIBE,this.updateDesiredSubscribeType=e=>{this.desiredSubscribeType=e,this.attemptToActualizeSubscribeType()},this.updateSubscribeConfig=e=>{this.peerClient.updateSubscribeConfig(e)},this.getDesiredSubscribeType=()=>this.desiredSubscribeType,this.attemptToActualizeSubscribeType=()=>{const e=this.actualSubscribeType,t=this.desiredSubscribeType;this.logger.debug({msg:`Attempt to actualize subscribe type to ${t}`}),this.subscriptionState.connectionState===Na.CONNECTED&&t!==xa.NONE&&e!==t&&this.applyVideoControlsBySubscribeType(t,e)},this.onParticipantUpdated=e=>{ja(this,Pa,"m",Ra).call(this,e)&&(this.logger.debug({msg:"onParticipantUpdated",participant:e}),this.processStateUpdate({isTargetPublishing:e.isPublishing}))},this.onParticipantJoined=e=>{ja(this,Pa,"m",Ra).call(this,e)&&(this.logger.debug({msg:"onParticipantJoined",participant:e}),this.processStateUpdate({isTargetPublishing:e.isPublishing}))},this.onParticipantLeft=e=>{ja(this,Pa,"m",Ra).call(this,e)&&(this.logger.debug({msg:"onParticipantLeft",participant:e}),this.processStateUpdate({isTargetPublishing:!1}))},this.requestRTCStats=e=>Ma(this,void 0,void 0,(function*(){return this.peerClient.requestRTCStats(e)})),this.trySubscribe=e=>Ma(this,void 0,void 0,(function*(){var t,n;if(this.logger.debug({msg:`Subscribe attempt started: ${e}`}),!this.isSubscriptionActive)return this.logger.warn({msg:"Subscribe attempt invalid: Subscription is inactive"}),!1;this.logger.debug({msg:"Subscribe attempt is valid."}),this.startConnectingTimestamp<0&&(this.startConnectingTimestamp=performance.now()),this.subscriptionState.connectionState!==Na.ERRORED&&(this.logger.debug({msg:"Updating state to CONNECTING"}),this.updateState({connectionState:Na.CONNECTING}));const r=this.stageConnection.getConnectionStats(),i=this.peerClient.getExpectedJitterBufferMinDelayInMs(),o=this.peerClient.getSfuResource();this.attemptTracker=this.subscribeTracker.trackAttempt({stageConnectionStats:r,preAttemptSfuResource:o});try{this.remotePlaybackController.traceId=this.attemptTracker.getTraceId();const{mediaStream:e}=yield this.subscribe(this.attemptTracker.getTraceId()),t=performance.now()-this.startConnectingTimestamp,n=this.peerClient.getSfuResource();this.remotePlaybackController.mediaId=this.peerClient.videoMediaId;const r=this.failedRetries;this.attemptToActualizeSubscribeType();const o=this.peerClient.getActionMeasurements(),a=this.peerClient.getProtocol();if(this.attemptTracker.trackSubscribeStarted({sfuResource:n,totalDurationWithRetries:t,retryTimes:r,peerClientPerfStats:o,protocol:a}),e){this.cleanupFirstFrameTracking();const s=this.actualSubscribeType,u=this.attemptTracker,c=(e,s)=>{u.trackSubscribeFirstFrame({peerClientPerfStats:o,sfuResource:n,totalDurationWithRetries:t,retryTimes:r,currentJitterBufferMinDelayInMs:i,mediaType:s,firstFrameDuration:e,protocol:a})};this.cleanupFirstFrameTracking=this.measureFirstFrameDuration({mediaStream:e,subscribeType:s,callback:c})}return this.throttler.clear(),this.failedRetries=0,this.startConnectingTimestamp=-1,e&&this.emit(kr,e,this.remotePlaybackController),this.logger.debug({msg:"Subscribe attempt succeeded"}),!0}catch(r){const i=null!==(n=null===(t=this.peerClient)||void 0===t?void 0:t.getProtocol())&&void 0!==n?n:"",o=this.attemptTracker.trackSubscribeFailed(r,i);this.logger.error({log:"Subscribe attempt failed",err:r}),this.onTrySubscribeFailure(o,e)}return!1}));const s=or();this.peerClient=new ba(t,this.nonScopedLogger,this.action,dr(this.action,e),s,i,e,n,a),this.logger=new sn(r,fe.SUBSCRIPTION),this.subscribeTracker=new wa(this.analyticsTracker,t,e),this.remotePlaybackController=new Aa({token:t,analyticsTracker:i,traceId:s,logger:this.nonScopedLogger,remoteParticipantId:this.id})}applyVideoControlsBySubscribeType(e,t){try{e===xa.AUDIO_ONLY?this.remotePlaybackController.stopVideo().catch((e=>{this.logger.error({err:e,msg:"Remote playback request to stop video failed"})})):e===xa.AUDIO_VIDEO&&this.remotePlaybackController.startVideo().catch((e=>{this.logger.error({err:e,msg:"Remote playback request to start video failed"})})),this.actualSubscribeType=e,this.logger.debug({msg:`Desired subscribe type actualized from ${t} to ${e}.`})}catch(n){this.logger.error({err:n,msg:`Error updating subscribe type from ${t} to ${e}.`})}}onPeerClientConnectionStateChange(e){const t=this.stageConnection.getParticipant(this.id);this.logger.debug({msg:`onPeerClientConnectionStateChange: ${e}`,state:e,targetParticipant:t}),this.processStateUpdate({peerClientState:e})}onPeerClientTransformError(e){this.emit(Rr,e)}processStateUpdate(e){const t=this.previousSignalState,n=Object.assign({},t,e);if(!this.isSubscriptionActive)return void this.logger.warn({msg:"Unexpected processStateUpdate when subscription is inactive"});n.isTargetPublishing?e.peerClientState===yn.CONNECTED?this.updateState({connectionState:Na.CONNECTED,subscribeInProgress:!0}):e.peerClientState===yn.FAILED&&this.subscriptionState.subscribeInProgress&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(yr.CONNECTION_FAIL,this.peerClient.getProtocol()),this.updateState({subscribeInProgress:!1})):(t.isTargetPublishing&&this.subscriptionState.subscribeInProgress&&(this.logger.debug({msg:"Scheduling an unsubscribe on the event loop"}),this.unsubscribe()),this.throttler.clear(),this.updateState({connectionState:Na.DISCONNECTED}));const r=!t.isTargetPublishing&&e.isTargetPublishing,i=this.subscriptionState.connectionState===Na.CONNECTED&&e.peerClientState===yn.FAILED;(r||i)&&this.throttledTrySubscribe("onSignalState change: isTargetPublishing is now true"),Object.assign(this.previousSignalState,e)}onTrySubscribeFailure(e,t){this.logger.debug({msg:"Changing/keeping state FAILED"});const n=e.fatal,r=e.code===mr.OPERATION_ABORTED.code,i=this.failedRetries<=4;if(r||n||!i)this.updateState({connectionState:Na.ERRORED}),this.emit(Ar,e),this.onTerminalFailure();else{const e=1e3*Math.pow(2,this.failedRetries);this.logger.debug({msg:`Retrying in ${e}ms`}),this.failedRetries++,this.nextAttemptTimerId=window.setTimeout((()=>Ma(this,void 0,void 0,(function*(){this.throttledTrySubscribe(t)}))),e)}}onTerminalFailure(){this.previousSignalState.isTargetPublishing=!1,this.startConnectingTimestamp=-1,this.failedRetries=0}start(){this.isSubscriptionActive=!0,this.peerClient.on(dn,this.onPeerClientConnectionStateChange,this),this.peerClient.on(pn,(e=>{this.remotePlaybackController.endpoints={playback:e.mediaControls,layers:e.layerControls}})),this.peerClient.on(vn,(e=>{this.emit(Pr,e)})),this.peerClient.on(mn,this.onPeerClientTransformError,this),this.stageConnection.on(wr,this.onParticipantUpdated),this.stageConnection.on(gr,this.onParticipantJoined),this.stageConnection.on(br,this.onParticipantLeft),this.stageConnection.on(_r,this.onParticipantLeft);let e=!0;if(this.stageConnection.isConnected()){const t=this.stageConnection.getParticipant(this.id);e=!!(null==t?void 0:t.isPublishing)}this.processStateUpdate({isTargetPublishing:e})}throttledTrySubscribe(e){return this.throttler.invoke(this.trySubscribe,e)}updateState(e){void 0!==e.subscribeInProgress&&(this.subscriptionState.subscribeInProgress=e.subscribeInProgress),e.connectionState&&this.subscriptionState.connectionState!==e.connectionState&&(this.subscriptionState.connectionState=e.connectionState,this.emit(Ir,this.subscriptionState.connectionState))}stop(e=!1){this.peerClient.off(dn,this.onPeerClientConnectionStateChange,this),this.peerClient.off(mn,this.onPeerClientTransformError,this),this.unsubscribe(e),this.throttler.clear(),this.stageConnection.off(wr,this.onParticipantUpdated),this.stageConnection.off(gr,this.onParticipantJoined),this.stageConnection.off(br,this.onParticipantLeft),this.stageConnection.off(_r,this.onParticipantLeft),this.isSubscriptionActive=!1,this.updateState({connectionState:Na.DISCONNECTED})}isActive(){return this.isSubscriptionActive}subscribe(e,t){return Ma(this,void 0,void 0,(function*(){const{token:n,id:r}=this;n.assertTokenIsUnexpired(e,dr(Jn.SUBSCRIBE,r),"subscribe",r);const{mediaStream:i}=yield this.peerClient.connect({audioOnly:t,traceId:e});return{peerClient:this.peerClient,mediaStream:i}}))}unsubscribe(e=!1){return Ma(this,void 0,void 0,(function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.remotePlaybackController.destroy(),!this.isSubscriptionActive||!this.attemptTracker||this.subscriptionState.connectionState===Na.DISCONNECTED)return;this.cleanupFirstFrameTracking(),this.attemptTracker.trackUnsubscribe();const t=e?yr.UNLOAD:yr.UNSUBSCRIBE,n=this.peerClient.getProtocol();try{e?this.peerClient.disconnect(e):yield this.peerClient.disconnect(e),this.updateState({subscribeInProgress:!1}),this.attemptTracker.trackEndSucceeded(t,n)}catch(e){this.attemptTracker.trackEndFailed(t,n)}}))}triggerIceRestart(e){var t;return Ma(this,void 0,void 0,(function*(){const n=this.stageConnection.getConnectionStats(),r=this.peerClient.getSfuResource(),i=this.subscribeTracker.trackAttempt({stageConnectionStats:n,isReassignment:!0,traceIdOverride:e.traceId,preAttemptSfuResource:r}),o=performance.now();try{this.emit(Nr),this.logger.debug({msg:`Triggering attempt. Current node: ${this.peerClient.getSfuResource().node}`}),yield this.peerClient.connect({iceRestartOptions:e,traceId:e.traceId}),this.logger.debug({msg:`Successful ICE restart attempt. Current node: ${this.peerClient.getSfuResource().node}`});const n=performance.now()-o,r=this.peerClient.getSfuResource(),a=this.peerClient.getActionMeasurements();null===(t=this.attemptTracker)||void 0===t||t.trackEndSucceeded(yr.REASSIGNMENT,this.peerClient.getProtocol()),this.applyVideoControlsBySubscribeType(this.actualSubscribeType,this.actualSubscribeType),i.trackSubscribeStarted({totalDurationWithRetries:n,sfuResource:r,retryTimes:0,peerClientPerfStats:a,protocol:this.peerClient.getProtocol()}),this.emit(xr)}catch(e){this.emit(Dr),this.logger.error({msg:"ICE restart attempt failed",err:e});const t=this.peerClient.getSfuResource(),n=i.trackSubscribeFailed(e,this.peerClient.getProtocol(),`iceRestart=true, startNode=${r.node}, endNode=${null==t?void 0:t.node}`);throw n.code===mr.SUBSCRIBE_TIMED_OUT.code&&this.onTrySubscribeFailure(n,"ice restart timeout"),e}}))}measureFirstFrameDuration({mediaStream:e,subscribeType:t,callback:n}){const r=performance.now(),i=e=>{const t=performance.now()-r;n(t,e),"audio"===e?a():o()};let o=ni,a=ni;return t!==xa.AUDIO_ONLY&&(o=function(e,t){return ii(e,"video",t)}(e,i)),a=function(e,t){return ii(e,"audio",t)}(e,i),()=>{o(),a()}}}Pa=new WeakSet,Ra=function(e){return e.id===this.id},function(e){e.JOIN_ERROR="JOIN_ERROR",e.PUBLISH_ERROR="PUBLISH_ERROR",e.SUBSCRIBE_ERROR="SUBSCRIBE_ERROR"}(Da||(Da={})),function(e){e[e.TOKEN_MALFORMED=1]="TOKEN_MALFORMED",e[e.TOKEN_EXPIRED=2]="TOKEN_EXPIRED",e[e.TIMEOUT=3]="TIMEOUT",e[e.FAILED=4]="FAILED",e[e.CANCELED=5]="CANCELED",e[e.STAGE_AT_CAPACITY=6]="STAGE_AT_CAPACITY",e[e.CODEC_MISMATCH=7]="CODEC_MISMATCH",e[e.TOKEN_NOT_ALLOWED=8]="TOKEN_NOT_ALLOWED"}(La||(La={}));const Fa={[La.TOKEN_MALFORMED]:"Token is malformed",[La.TOKEN_EXPIRED]:"Token expired and is no longer valid",[La.TIMEOUT]:"Operation timed out",[La.FAILED]:"Operation failed",[La.CANCELED]:"Operation canceled",[La.STAGE_AT_CAPACITY]:"Stage at capacity",[La.CODEC_MISMATCH]:"Client codec is not supported",[La.TOKEN_NOT_ALLOWED]:"Token not allowed to perform operation"},Ba={[mr.EXPIRED_TOKEN.code]:La.TOKEN_EXPIRED,[mr.MALFORMED_TOKEN.code]:La.TOKEN_MALFORMED,[mr.TOKEN_PERMISSIONS_DENIED.code]:La.TOKEN_NOT_ALLOWED,[mr.OPERATION_ABORTED.code]:La.CANCELED,[mr.JOIN_TIMED_OUT.code]:La.TIMEOUT,[mr.EVENT_PLANE_WS_CREATE_FAILED.code]:La.FAILED,[mr.EVENT_PLANE_PONG_TIMEOUT.code]:La.FAILED,[mr.EVENT_PLANE_WS_UNEXPECTED_CLOSE.code]:La.FAILED,[mr.PUBLISH_TIMED_OUT.code]:La.TIMEOUT,[mr.PUBLISH_FAILURE.code]:La.FAILED,[mr.SUBSCRIBE_TIMED_OUT.code]:La.TIMEOUT,[mr.SUBSCRIBE_FAILURE.code]:La.FAILED,[mr.STAGE_AT_CAPACITY.code]:La.STAGE_AT_CAPACITY,[mr.NO_MATCHING_CODEC.code]:La.CODEC_MISMATCH,[mr.NETWORK_FAILURE.code]:La.FAILED,[mr.INTERNAL_SERVER_ERROR.code]:La.FAILED,[mr.REMOTE_STREAM_NOT_FOUND.code]:La.FAILED,[mr.INTERNAL_MHCP_ERROR.code]:La.FAILED,[mr.UNREACHABLE_MHCP.code]:La.FAILED,[mr.INVALID_SESSION_STATUS.code]:La.FAILED,[mr.MHCP_ABORTED.code]:La.FAILED},Va={[mr.SEI_INSERT_NOT_PUBLISHING_VIDEO.code]:"SEI insert failed due to not publishing video",[mr.SEI_INSERT_INBAND_NOT_ENABLED.code]:"SEI insert failed due to in-band messaging not being enabled for the stage stream"};class Ha extends Error{constructor(e,t,n){super(),this.code=e,this.category=t,this.message=n,this.name="StageError",this.errorDetails=[],this.message=`[${t}] ${n}`}addDetails(e){this.errorDetails.push(e)}get details(){return this.errorDetails.length?JSON.stringify(this.errorDetails):""}toString(){return`\n${this.message}\ndetails - ${this.details}\n        `.trim()}}var za,Ga,Wa;!function(e){e.ERROR="error"}(za||(za={}));class qa extends er{constructor(e){super(),this.logger=e,this.handleError=(e,t,n=!0)=>{const r=function(e){let t;return e instanceof ur&&(t=Va[e.code]),t}(e),i=function(e,t){let n;if(e instanceof ur){const r=Ba[e.code];r&&(n=function(e,t,n){var r,i;const o=Fa[e],a=new Ha(e,t,o);return a.addDetails({stageErrorMessage:o,stageErrorCode:e,stageErrorCategory:t,stageArn:null===(r=n.token)||void 0===r?void 0:r.stageARN,traceId:null===(i=n.traceId)||void 0===i?void 0:i.value,causeCode:n.code,causeDetails:n.details,causeMessage:n.message,causeLocation:n.location}),a}(r,t,e))}return n}(e,t);if(r&&this.logger.warn({msg:r}),i)return n&&this.emit(za.ERROR,i),i}}}!function(e){e.INTERNAL="internal",e.API="api"}(Ga||(Ga={})),function(e){e.ADDITIVE="additive",e.REPLACE="replace"}(Wa||(Wa={}));class $a{constructor(e){this.logger=new sn(e.logger,fe.CONNECTION),this.subscribeConfig={defaults:e.subscribeDefaults,participants:{}}}handleSubscribeConfigUpdate(e,t,n,r=Wa.REPLACE){t=(e=>{const t=po(e);if(void 0!==t.jitterBuffer){const e=e=>{if("number"==typeof e){if(e<0)return 0;if(e>4e3)return 4e3}return e};void 0!==t.jitterBuffer.minDelayWhenPublishing&&(t.jitterBuffer.minDelayWhenPublishing=e(t.jitterBuffer.minDelayWhenPublishing)),void 0!==t.jitterBuffer.minDelayWhenSubscribeOnly&&(t.jitterBuffer.minDelayWhenSubscribeOnly=e(t.jitterBuffer.minDelayWhenSubscribeOnly))}return t})(t),void 0===this.subscribeConfig.participants[e]&&(this.subscribeConfig.participants[e]={internalOverrides:{},apiOverrides:{},lastMerged:this.subscribeConfig.defaults});const i=this.subscribeConfig.participants[e];switch(n){case Ga.INTERNAL:i.internalOverrides=this.handleSubscribeConfigLevelMerging(i.internalOverrides,t,r);break;case Ga.API:i.apiOverrides=this.handleSubscribeConfigLevelMerging(i.apiOverrides,t,r);break;default:!function(e){throw new Error(`Unknown case kind: ${e}`)}(n)}const o=lo(this.subscribeConfig.defaults,i.internalOverrides,i.apiOverrides);if(void 0===o)return this.logger.warn({msg:`Unable to merge subscribe configs for participant: ${e} | ${i}, ${t}`}),!1;const a=!1===(u=o,"object"==typeof(s=i.lastMerged)&&"object"==typeof u&&(0,Zn.isEqual)(s,u));var s,u;return i.lastMerged=o,this.subscribeConfig.participants[e]=i,a}handleExternalSubscribeConfigUpdate(e,t,n,r=Wa.REPLACE){const i=(e=>{const t={};return"object"!=typeof e?Qr.err(new Error("Invalid input")):(void 0!==e.jitterBuffer&&(t.jitterBuffer={},void 0!==e.jitterBuffer.minDelay&&(t.jitterBuffer.minDelayWhenSubscribeOnly=e.jitterBuffer.minDelay)),void 0!==e.inBandMessaging&&(t.inBandMessaging={enabled:!0===e.inBandMessaging.enabled}),void 0!==e.simulcast&&(t.simulcast={},void 0!==e.simulcast.initialLayerPreference&&(t.simulcast.initialLayerPreference=e.simulcast.initialLayerPreference)),Qr.ok(t))})(t);return!0===i.ok&&this.handleSubscribeConfigUpdate(e,i.value,n,r)}handleSubscribeConfigLevelMerging(e,t,n){if(n===Wa.REPLACE)return t;{const r=lo(e,t);return void 0===r?(this.logger.warn({msg:`Unable to merge '${e}' and '${t}' with type ${n}`}),e):r}}getSubscribeConfigSnapshot(e){return void 0===this.subscribeConfig.participants[e]?fo(this.subscribeConfig.defaults):fo(this.subscribeConfig.participants[e].lastMerged)}}class Ka extends mt{constructor(e){super(pt.REASSIGNMENT_REQUEST,e.token,e.traceId,!1),Object.assign(this.properties,{target_local_participant_id:e.targetLocalParticipantId,target_remote_participant_id:e.targetRemoteParticipantId}),this.critical=!0}}var Qa,Ya,Ja,Za,Xa,es,ts,ns,rs,is,os=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};class as extends er{constructor(e,t){super(),this.setGetStats=e=>{this.getInternalStats=e},this.getStats=()=>os(this,void 0,void 0,(function*(){return this.requestRTCStats()})),this.requestRTCStats=()=>os(this,void 0,void 0,(function*(){if(this.getInternalStats)return this.getInternalStats(this.mediaStreamTrack)})),this.getInternalStats=t,this.id=e.id,this.isMuted=!e.enabled,this.mediaStreamTrack=e,this.streamType="audio"===this.mediaStreamTrack.kind?_n.AUDIO:_n.VIDEO}cleanup(){this.removeAllListeners(),this.getInternalStats=void 0}}!function(e){e.IDLE="IDLE",e.INITIALIZING="INITIALIZING",e.ACTIVE="ACTIVE",e.CONTROLS_PAUSED="CONTROLS_PAUSED",e.DESTROYED="DESTROYED"}(Qa||(Qa={})),function(e){e.LAYERS_CHANGED="LAYERS_CHANGED",e.LAYER_SELECTED="LAYER_SELECTED",e.ADAPTION_CHANGED="ADAPTION_CHANGED"}(Ya||(Ya={})),function(e){e.LAYERS_CHANGED="LAYERS_CHANGED",e.LAYER_SELECTED="LAYER_SELECTED",e.ADAPTION_CHANGED="ADAPTION_CHANGED"}(Ja||(Ja={})),function(e){e.UNAVAILABLE="unavailable",e.SELECTED="selected"}(Za||(Za={})),function(e){e.LOCAL_STREAM_MUTE_CHANGED="localStreamMutedChanged",e.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST="localStreamInsertSeiMsgRequest"}(Xa||(Xa={}));class ss extends as{constructor(e,t){super(e),this.setMuted=e=>{e!==this.isMuted&&(this.mediaStreamTrack.enabled=!e,this.isMuted=e,this.emit(Xa.LOCAL_STREAM_MUTE_CHANGED,this))},this.insertSeiMessage=(e,t)=>function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){var n;let r;if("audio"===this.streamType)r=ca.INVALID_TRACK_TYPE;else if(null===(n=this.mediaConfig)||void 0===n?void 0:n.inBandMessaging.enabled){const n=this.validator.validateMessagePayload(e,(null==t?void 0:t.repeatCount)||0);r=Qr.getErr(n)}else r=ca.INBAND_MESSAGING_NOT_ENABLED;r?console.warn(`Unable to insert SEI message due to ${r}`):this.emit(Xa.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this,e,t)})),this.mediaConfig=function(e,t){const n={minBitrate:mi,maxBitrate:yi,maxFramerate:bi,simulcast:{enabled:!1},maxAudioBitrateKbps:Ei,stereo:!1,inBandMessaging:{enabled:!1}};let r=Object.assign({},n,(0,Zn.cloneDeep)(t));return r=function(e,t){var n,r,i;const o=Object.assign({},(0,Zn.cloneDeep)(t)),a=!Wi.browser.isChrome()&&!Wi.browser.isEdge(),s=null!==(i=null===(r=null===(n=e.getSettings)||void 0===n?void 0:n.call(e))||void 0===r?void 0:r.displaySurface)&&void 0!==i&&i,u=co(o.maxBitrate)<no.maxBitrate;return(a||s||u)&&(o.simulcast.enabled=!1),o}(e,r),na(r.maxBitrate),na(r.minBitrate),function(e){if(e&&(e>bi||e<gi))throw new Error(`framerate cannot exceed ${bi} fps`)}(r.maxFramerate),function(e){if(e<_i||e>wi)throw new Error(`Stage audio bitrate must be between ${_i} kbps and ${wi} kbps`)}(r.maxAudioBitrateKbps),function(e){if("boolean"!=typeof e)throw new Error("Stage stereo prop must be a boolean")}(r.stereo),function(e){if("object"!=typeof e)throw new Error("In-band messaging config must be an object");if("boolean"!=typeof e.enabled)throw new Error("In-band messaging config enabled property must be a boolean")}(r.inBandMessaging),r}(e,t),this.validator=new la(bi)}}class us{constructor(e,t){this.strategy=e,this.logger=t}setStrategy(e){this.strategy=e}stageStreamsToPublish(){let e=[];try{e=this.strategy.stageStreamsToPublish(),e=e.filter((e=>e instanceof ss))}catch(e){return this.logger.warn({msg:"error executing stageStreamsToPublish treating this as a no-op",err:e}),console.error("Error executing stageStreamsToPublish",e),Qr.err(e)}let t=0,n=0;for(const r of e)"audio"===r.mediaStreamTrack.kind?t++:"video"===r.mediaStreamTrack.kind&&n++;if(t>1||n>1){const e=Error("stageStreamsToPublish strategy function returned more than 1 video or audio stream and as a result will not publish",{cause:"UserStrategy"});return Qr.err(e)}return Qr.ok(e)}shouldPublishParticipant(e){try{return Qr.ok(this.strategy.shouldPublishParticipant(e))}catch(e){return this.logger.warn({msg:"error executing shouldPublishParticipant treating this as a no-op",err:e}),console.error("Error executing shouldPublishParticipant",e),Qr.err(e)}}shouldSubscribeToParticipant(e){try{return Qr.ok(this.strategy.shouldSubscribeToParticipant(e))}catch(e){return this.logger.warn({msg:"error executing shouldSubscribeToParticipant. Treating it as a no-op",err:e}),console.error("Error executing shouldSubscribeToParticipant",e),Qr.err(e)}}subscribeConfiguration(e){var t,n;try{return Qr.ok(null===(n=(t=this.strategy).subscribeConfiguration)||void 0===n?void 0:n.call(t,e))}catch(e){return this.logger.warn({msg:"error executing subscribeConfiguration. Treating it as a no-op",err:e}),console.error("Error executing subscribeConfiguration",e),Qr.err(e)}}preferredLayerForStream(e,t){var n,r;try{return Qr.ok(null===(r=(n=this.strategy).preferredLayerForStream)||void 0===r?void 0:r.call(n,e,t))}catch(e){return this.logger.warn({msg:"error executing preferredLayerForStream. Treating it as a no-op",err:e}),console.error("Error executing preferredLayerForStream",e),Qr.err(e)}}}class cs extends er{constructor(e,t){super(),this.audioMuted=!0,this.videoStopped=!0,this.publishState=ts.NOT_PUBLISHED,this.logger=t,this.info=e,this.audioMuted=e.audioMuted,this.videoStopped=e.videoStopped}}function ls(e){return e.map((e=>e.remote))}function fs(e){return{label:e.encodingId,bitrateBps:1e3*e.bitrate,width:e.width,height:e.height,framesPerSecond:e.framesPerSecond,selected:e.selected}}function ds(e,t){const n=e.width*e.height,r=t.width*t.height;return n>r||e.bitrateBps>t.bitrateBps||e.framesPerSecond>t.framesPerSecond?1:n===r||e.bitrateBps===t.bitrateBps||e.framesPerSecond>t.framesPerSecond?0:-1}!function(e){e.PUBLISH="publish",e.SUBSCRIBE="subscribe"}(es||(es={})),function(e){e.NOT_PUBLISHED="not_published",e.ATTEMPTING_PUBLISH="attempting_publish",e.PUBLISHED="published",e.ERRORED="errored"}(ts||(ts={})),function(e){e.NOT_SUBSCRIBED="not_subscribed",e.ATTEMPTING_SUBSCRIBE="attempting_subscribe",e.SUBSCRIBED="subscribed",e.ERRORED="errored"}(ns||(ns={}));class ps extends er{constructor(e){super(),this.setGetStats=()=>{},this.requestRTCStats=()=>this.internalStream.requestRTCStats(),this.getStats=()=>function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return this.internalStream.requestRTCStats()})),this.setMuted=e=>{this.internalStream.setMuted(e)},this.getLayers=()=>this.internalStream.layers,this.getSelectedLayer=()=>this.internalStream.selectedLayer,this.getLowestQualityLayer=()=>this.internalStream.lowestQualityLayer,this.getHighestQualityLayer=()=>this.internalStream.highestQualityLayer,this.internalStream=e,this.internalStream.on(Ya.ADAPTION_CHANGED,(e=>{this.emit(Ja.ADAPTION_CHANGED,e)})),this.internalStream.on(Ya.LAYERS_CHANGED,(e=>{this.emit(Ja.LAYERS_CHANGED,e)})),this.internalStream.on(Ya.LAYER_SELECTED,((e,t)=>{this.emit(Ja.LAYER_SELECTED,e,t)}))}get id(){return this.internalStream.id}get participantInfo(){return this.internalStream.participantInfo}get streamType(){return this.internalStream.streamType}get mediaStreamTrack(){return this.internalStream.mediaStreamTrack}get isMuted(){return this.internalStream.isMuted}set isMuted(e){this.internalStream.setMuted(e)}get isAdapting(){return this.internalStream.isAdapting}cleanup(){this.removeAllListeners()}}class hs extends as{constructor({track:e,info:t,getStats:n,remotePlaybackController:r,analyticsTracker:i,token:o}){super(e,n),this.setMuted=e=>{this.isMuted=e},this.setLayer=e=>{const t=(0,Zn.cloneDeep)(e);if(this.queueLayerUpdateForValidState(t))return void this.logger.debug({msg:`setLayer:${t} queued, skipping for now`});const n=function(e,t){if(!e)return(0,Qr.ok)(void 0);const n="string"==typeof e?e:e.label,r=t.filter((e=>e.label===n))[0];return r?(0,Qr.ok)(r):(0,Qr.err)(`Provided layer with id ${n} does not exist`)}(t,this._layers);if(!n.ok){const e=n.error;return void this.logger.error({err:e,msg:"Unable to select layer, skipping skipping selection"})}const r=n.value;if(this.isNextUpdateAdaptionOnly(r))return this.logger.warn({msg:"setLayer:dynamic"}),void this.handleDynamicUpdate();this.isFirstLayerUpdate()||!this.isRepeatLayerSelection(r)||this.isAdapting?r&&(this.logger.warn({msg:`setLayer:${JSON.stringify(r)} `}),this.handleManualUpdate(r)):this.logger.debug({msg:"Setting the same layer, same adaption state, skipping selection"})},this.state=Qa.INITIALIZING,this.prevState=Qa.IDLE,this.analyticsTracker=i,this.token=o,this.id=e.id,this.info=t,this.mediaStreamTrack=e,this.remotePlaybackController=r,this.layerPollingTimeoutId=null,this.weakRemoteMap=new WeakMap,this.weakRemoteKey={id:"remote"},this.commandMap=new Map,this._isAdapting=!0,this._layers=[],this._selectedLayer=null;const a=wt();this.logger=new sn(new an(a),fe.REMOTE_STAGE_STREAM),this.streamType===_n.AUDIO?this.isMuted=t.audioMuted:this.isMuted=t.videoStopped,this.initializeLayerPolling(),this.pollInternalLayers()}transitionStateTo(e){this.state!==e&&(this.prevState=this.state,this.state=e)}initializeLayerPolling(){this.streamType!==_n.AUDIO?(this.logger.debug({msg:"Setting up RemoteStageStream, requesting initial layers"}),this.layerPollingTimeoutId=setInterval((()=>{this.pollInternalLayers()}),3e3)):this.logger.debug({msg:"Skipping initializing polling for audio streams"})}startLayerPolling(){null===this.layerPollingTimeoutId?this.initializeLayerPolling():this.logger.debug({msg:"Skipping start polling request, already started"})}stopLayerPolling(){null!==this.layerPollingTimeoutId?(clearInterval(this.layerPollingTimeoutId),this.layerPollingTimeoutId=null):this.logger.debug({msg:"Skipping stop polling request, already stopped"})}pollInternalLayers(){this.streamType!==_n.AUDIO?this.remotePlaybackController.getLayers().then((e=>{if(this.isStateValidForLayerUpdates()){if(!e.ok)throw Error(e.error);this.updateInternalLayersFromRemote(e.value),this.transitionStateTo(Qa.ACTIVE),this.flushCommandQueue()}else this.logger.warn({msg:"Stream controls have been paused, skipping getLayers"})})).catch((e=>{this.logger.error({err:e,msg:"Error calling getLayers, returning current layers"})})):this.logger.debug({msg:"Skipping layer poll request for audio stream"})}updateInternalLayersFromRemote(e){const t=this._layers,n=e.map(fs).sort(ds),r=!(0,Zn.isEqual)(n,t);this._layers=n;const i=this._selectedLayer,o=this._layers.filter((e=>e.selected))[0],a=!(0,Zn.isEqual)(o,i);i&&(i.selected=!1),this._selectedLayer=o,a&&(this.trackLayerUpdate(i),this.trackLayerUpdate(o)),this.isCommandQueueEmpty()&&(r&&this.emitLayersChanged(),a&&this.emitLayerSelected(o))}flushCommandQueue(){if(this.isCommandQueueEmpty())return;const e=Array.from(this.commandMap.keys());this.logger.debug({msg:`Flushing active commands from map ${e}`});for(const e of this.commandMap.keys()){const t=this.commandMap.get(e);null==t||t()}this.commandMap.clear()}queueLayerUpdateForValidState(e){if(!e)return this.commandMap.delete("setLayer"),!1;if(this.state===Qa.INITIALIZING){const t=this.setLayer.bind(this,e);return this.commandMap.set("setLayer",t),!0}return!1}handleDynamicUpdate(){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const e=this._isAdapting;this._isAdapting=!0,this.emitAdaptionChanged(),this.remotePlaybackController.unsetLayer().then((t=>{if(!this.isStateValidForLayerUpdates())return this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"}),void this.resetAdaptionStateOnError(e,`Stream in invalid state: ${this.state}`);t.ok?this.logger.debug({msg:"Layer successfully unset, restarting dynamic adaption"}):this.resetAdaptionStateOnError(e,t.error)})).catch((()=>{}))}resetAdaptionStateOnError(e,t){this._isAdapting=e,this.emitAdaptionChanged(),this.logger.error({err:t,msg:"Error unsetting layer, reverting adaption state"})}handleManualUpdate(e){if(!this.isStateValidForLayerUpdates())return void this.logger.warn({msg:"Stream controls have been paused, skipping manual updates"});const t=this._isAdapting,n=this._selectedLayer;n&&(n.selected=!1),this._isAdapting=!1,this._selectedLayer=e,e.selected=!0,t!==this._isAdapting&&this.emitAdaptionChanged(),this.updateLocalLayerStateBeforeRemote(e,n),this.trackLayerUpdate(n),this.trackLayerUpdate(e),this.emitLayersChanged(),this.emitLayerSelected(e),this.remotePlaybackController.setLayer(e.label).then((r=>{if(!this.isStateValidForLayerUpdates()){this.logger.warn({msg:"Stream controls have been paused, skipping dynamic mode transition"});const r=`Stream in invalid state: ${this.state}`;return this.resetAdaptionStateOnError(t,r),void this.resetLayerOnError(n,e,r)}if(!r.ok){const i=r.error;return this.resetAdaptionStateOnError(t,i),void this.resetLayerOnError(n,e,i)}this.logger.debug({msg:`Layer successfully selected: ${e.label}`})})).catch((()=>{}))}applyExistingControlState(){var e;this._isAdapting?this.remotePlaybackController.unsetLayer().then((()=>{})).catch((()=>{})):(null===(e=this._selectedLayer)||void 0===e?void 0:e.label)&&this.remotePlaybackController.setLayer(this._selectedLayer.label).then((()=>{})).catch((()=>{}))}resetLayerOnError(e,t,n){t&&(t.selected=!1),e&&(e.selected=!0),this._selectedLayer=e,this.logger.error({err:n,msg:"Error unsetting layer, leaving current selection in place"}),this.updateLocalLayerStateBeforeRemote(e,t),this.emitLayersChanged(),null!==e&&this.emitLayerSelected(e,Za.UNAVAILABLE),this.trackLayerUpdate(t),this.trackLayerUpdate(e)}updateLocalLayerStateBeforeRemote(e,t){this._layers=this._layers.map((n=>n.label===(null==e?void 0:e.label)?e:n.label===(null==t?void 0:t.label)?t:n)).sort(ds)}trackLayerUpdate(e){var t,n;this.analyticsTracker.trackEventNoSharedProps(new Fi(this.token,or(),null!==(t=null==e?void 0:e.label)&&void 0!==t?t:"auto",!0,Jn.SUBSCRIBE,null!==(n=null==e?void 0:e.selected)&&void 0!==n&&n,this.info.id))}isNextUpdateAdaptionOnly(e){return void 0===e&&this.isFirstLayerUpdate()||void 0===e&&!this.isAdapting}isFirstLayerUpdate(){return null===this._selectedLayer}isRepeatLayerSelection(e){var t;return(null===(t=this._selectedLayer)||void 0===t?void 0:t.label)===(null==e?void 0:e.label)}isStateValidForLayerUpdates(){return this.state===Qa.ACTIVE||this.state===Qa.INITIALIZING}isCommandQueueEmpty(){return 0===this.commandMap.size}emitLayerSelected(e,t=Za.SELECTED){this.logger.debug({msg:`Emitting layers selected ${JSON.stringify(e,null,2)}`}),this.emit(Ya.LAYER_SELECTED,(0,Zn.cloneDeep)(e),t)}emitLayersChanged(){this.emit(Ya.LAYERS_CHANGED,(0,Zn.cloneDeep)(this._layers))}emitAdaptionChanged(){this.emit(Ya.ADAPTION_CHANGED,this._isAdapting)}get remote(){const e=this.weakRemoteMap.get(this.weakRemoteKey);if(e)return e;const t=new ps(this);return this.weakRemoteMap.set(this.weakRemoteKey,t),t}get participantInfo(){return(0,Zn.cloneDeep)(this.info)}get isAdapting(){return this._isAdapting}get layers(){return(0,Zn.cloneDeep)(this._layers)}get selectedLayer(){var e;return(0,Zn.cloneDeep)(null!==(e=this._selectedLayer)&&void 0!==e?e:void 0)}get highestQualityLayer(){return(0,Zn.cloneDeep)(this.layers[this.layers.length-1])}get lowestQualityLayer(){return(0,Zn.cloneDeep)(this.layers[0])}pauseControls(){this.transitionStateTo(Qa.CONTROLS_PAUSED),this.stopLayerPolling()}resumeControls(){this.applyExistingControlState(),this.startLayerPolling(),this.transitionStateTo(Qa.ACTIVE)}cleanup(){this.transitionStateTo(Qa.DESTROYED),super.cleanup(),this.stopLayerPolling(),this._layers=[],this._selectedLayer=null,this._isAdapting=!0,this.commandMap.clear()}}!function(e){e.STATE_CHANGE="stateChange",e.MEDIA_STREAM_ADDED="mediaStreamAdded",e.MEDIA_STREAM_REMOVED="mediaStreamRemoved",e.MEDIA_STREAM_MUTE_CHANGED="mediaStreamMuteChanged",e.ERROR="error"}(rs||(rs={})),function(e){e.SUBSCRIPTION_STATE_CHANGE="subscriptionStateChange",e.MEDIA_STREAM_SEI_MESSAGE_RECEIVED="mediaStreamSeiMessageReceived"}(is||(is={}));const vs=Object.assign(Object.assign({},rs),is);var ms;!function(e){e.PUBLICATION_STATE_CHANGE="publicationStateChange"}(ms||(ms={}));const ys=Object.assign(Object.assign({},rs),ms);class gs extends cs{constructor(e,t,n,r,i,o,a,s=!1){super(e,new sn(r,fe.REMOTE_PARTICIPANT)),this.subscribeState=ns.NOT_SUBSCRIBED,this.reassigning=!1,this.streams=[],this.left=!1,this.onSubscriptionStateChange=e=>{this.logger.debug({msg:"subscriptionStateChange",state:e}),e===Na.DISCONNECTED?this.updateSubscriptionState(ns.NOT_SUBSCRIBED):e===Na.CONNECTED?this.updateSubscriptionState(ns.SUBSCRIBED):e===Na.CONNECTING?this.updateSubscriptionState(ns.ATTEMPTING_SUBSCRIBE):e===Na.ERRORED?this.updateSubscriptionState(ns.ERRORED):this.logger.warn({msg:"FIXME onSubscriptionStateChange UNHANDLED STATE",state:e})},this.onSubscriptionMediaStream=(e,t)=>{this.logger.debug({msg:"onSubscriptionMediaStream",stream:e});let n=e.getTracks().map((e=>{const n=new hs({track:e,info:this.info,getStats:this.subscription.requestRTCStats,remotePlaybackController:t,analyticsTracker:this.analyticsTracker,token:this.token});return this.streams.push(n),n}));this.subscription.getDesiredSubscribeType()===xa.AUDIO_ONLY&&(n=n.filter((e=>e.streamType!==_n.VIDEO))),this.emit(vs.MEDIA_STREAM_ADDED,n)},this.onSubscriptionError=e=>{this.emit(vs.ERROR,e)},this.onSubscriptionSeiMessageReceived=e=>{this.emit(vs.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,e)},this.onSubscriptionTransformError=e=>{this.emit(vs.ERROR,e)},this.onSubscriptionReassignmentStart=()=>{for(const e of this.streams)e.pauseControls()},this.onSubscriptionReassignmentDone=()=>{for(const e of this.streams)e.resumeControls()},this.updateSubscribeStateIfNecessary=(e,t)=>{if(!this.info.capabilities.has(es.SUBSCRIBE))return;void 0!==t&&this.subscription.updateSubscribeConfig(t);const n=e!==xa.NONE&&this.publishState===ts.PUBLISHED,r=this.subscribeState!==ns.NOT_SUBSCRIBED&&this.subscribeState!==ns.ERRORED;if(n&&!r)this.subscription.updateDesiredSubscribeType(e),this.subscribe();else if(!n&&r)this.unsubscribe(),this.subscription.updateDesiredSubscribeType(e);else if(this.subscribeState===ns.SUBSCRIBED&&this.subscription.getDesiredSubscribeType()!==e)try{e===xa.AUDIO_ONLY?this.emit(vs.MEDIA_STREAM_REMOVED,this.streams.filter((e=>e.streamType===_n.VIDEO))):e===xa.AUDIO_VIDEO&&this.emit(vs.MEDIA_STREAM_ADDED,this.streams.filter((e=>e.streamType===_n.VIDEO))),this.subscription.updateDesiredSubscribeType(e)}catch(e){this.logger.error({err:e,msg:"error updating subscribe type"})}},this.updatePublishState=e=>{const t=e&&this.publishState===ts.PUBLISHED,n=!e&&this.publishState===ts.NOT_PUBLISHED;return!t&&!n&&(this.info.isPublishing=e,this.publishState=e?ts.PUBLISHED:ts.NOT_PUBLISHED,!0)},this.updateStreamState=(e,t)=>{this.audioMuted!==e&&(this.audioMuted=e,this.info.audioMuted=e,this.updateStreamMuteState(_n.AUDIO,e)),this.videoStopped!==t&&(this.videoStopped=t,this.info.videoStopped=t,this.updateStreamMuteState(_n.VIDEO,t))},this.updateStreamMuteState=(e,t)=>{const n=this.streams.find((t=>t.streamType===e));n?(n.setMuted(t),this.emit(vs.MEDIA_STREAM_MUTE_CHANGED,n)):this.logger.warn({msg:`tried to update mute state for ${e} stream on participant ${this.info.id} that didn't exist`})},this.cleanup=()=>{for(const e of this.streams)e.remote.removeAllListeners(),e.removeAllListeners();this.removeAllListeners()},this.quickUnsubscribe=()=>this.subscribeState!==ns.NOT_SUBSCRIBED&&this.subscription.stop(!0),this.getDesiredSubscribeType=()=>this.subscription.getDesiredSubscribeType(),this.isReassigning=()=>this.reassigning,this.analyticsTracker=a,this.token=t,this.createSubscription=()=>{const s=new Ua(e.id,t,n,r,a,i,o);return s.on(Ir,this.onSubscriptionStateChange),s.on(kr,this.onSubscriptionMediaStream),s.on(Ar,this.onSubscriptionError),s.on(Pr,this.onSubscriptionSeiMessageReceived),s.on(Rr,this.onSubscriptionTransformError),s.on(Nr,this.onSubscriptionReassignmentStart),s.on(xr,this.onSubscriptionReassignmentDone),s.on(Dr,this.onSubscriptionReassignmentDone),s},this.subscription=this.createSubscription(),s&&(this.publishState=ts.PUBLISHED)}updateSubscriptionState(e){e!==this.subscribeState&&(this.subscribeState=e,this.emit(vs.SUBSCRIPTION_STATE_CHANGE,this.subscribeState))}participantLeave(){this.left=!0}subscribe(){this.left?this.logger.warn({msg:"tried to subscribe to a participant that left"}):(this.updateSubscriptionState(ns.ATTEMPTING_SUBSCRIBE),this.logger.debug({msg:"subscribe"}),this.subscription.start())}unsubscribe(){if(this.subscribeState===ns.NOT_SUBSCRIBED)return;this.logger.debug({msg:"unsubscribe"}),this.subscription.stop(),this.subscription.off(Ir,this.onSubscriptionStateChange),this.subscription.off(kr,this.onSubscriptionMediaStream),this.subscription.off(Ar,this.onSubscriptionError),this.subscription.off(Rr,this.onSubscriptionTransformError);const e=this.getDesiredSubscribeType();this.subscription=this.createSubscription(),e===xa.AUDIO_ONLY?this.emit(vs.MEDIA_STREAM_REMOVED,this.streams.filter((e=>e.streamType===_n.AUDIO))):this.emit(vs.MEDIA_STREAM_REMOVED,this.streams),this.updateSubscriptionState(ns.NOT_SUBSCRIBED),this.streams.forEach((e=>{e.cleanup()})),this.streams=[]}triggerIceRestart(e){return function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){this.reassigning=!0;try{yield this.subscription.triggerIceRestart(e)}finally{this.reassigning=!1}}))}}const bs=Jn.PUBLISH;function _s(e,t,n){return new ur(Object.assign(Object.assign({},e),{token:t,traceId:n,location:"stage-publication.sendSeiMessage",tag:lr,action:Jn.PUBLISH}))}class ws{constructor(e,t){this.analyticsTracker=e,this.token=t,this.action=bs,this.traceId=or()}trackPublish(e){const{action:t,traceId:n,analyticsTracker:r,token:i}=this;return r.trackEvent(new bo({token:i,traceId:n})),{getTraceId:()=>n,trackPublishStarted({totalDurationWithRetries:t,retryTimes:o,sfuResource:a,peerClientPerfStats:s,protocol:u}){const{optionsDuration:c,postDuration:l,timeToCandidate:f,timeToConnected:d,sdpExchangeDuration:p,sdpExchangeTransport:h,setRemoteDescDuration:v,peerConnectionDuration:m}=s,{edpInitialConnectDuration:y,edpInitialConnectRetries:g,edpInitialStateDuration:b,edpStateUpdateCount:_}=e;r.trackEvent(new So({token:i,traceId:n,optionsDuration:c,postDuration:l,timeToCandidate:f,totalDuration:d,edpInitialConnectDuration:y,edpInitialConnectRetries:g,edpInitialStateDuration:b,edpStateUpdateCount:_,sdpExchangeDuration:p,sdpExchangeTransport:h,setRemoteDescDuration:v,peerConnectionDuration:m,publishRetries:o,totalDurationWithRetries:t,sfuResource:a,protocol:u}))},trackPublishFailed(e,o){const a=((e,t,n)=>{if(e instanceof ur)return e;let r="";return e instanceof ar.AxiosError&&(r+=`AxiosError - ${e.code}`),new ur(Object.assign(Object.assign(Object.assign({},mr.PUBLISH_FAILURE),{action:bs,token:t,traceId:n,tag:lr,location:"publish",details:`${r} ${e.message}`}),{fatal:!0}))})(e,i,n);r.trackEvent(new To({token:i,traceId:n,code:a.code,message:a.message,fatal:a.fatal,nominal:a.nominal,protocol:o}));const s=new ur(Object.assign(Object.assign({},mr.PUBLISH_FAILURE),{action:t,token:i,traceId:n,tag:lr,location:"publish"}));return e instanceof ur&&(s.fatal=e.fatal,s.nominal=e.nominal,s.location=`publish > ${e.location}`),r.trackError(s),a},trackUnpublish:()=>{r.trackEvent(new _o({token:i,traceId:n}))},trackEndSucceeded:(e,t)=>{r.trackEvent(new Co({token:i,isUnpublishSuccessful:!0,traceId:n,reason:e,protocol:t}))},trackEndFailed:(e,t)=>{const o=new ur(Object.assign(Object.assign({},mr.UNPUBLISH_FAILURE),{token:i,traceId:n,tag:"webrtc_unsink",location:"unpublish"}));return e!==yr.UNLOAD&&e!==yr.UNPUBLISH||this.analyticsTracker.trackError(o),r.trackEvent(new Co({token:i,isUnpublishSuccessful:!1,traceId:n,reason:e,protocol:t})),o},createSeiNotPublishingVideoError:()=>_s(mr.SEI_INSERT_NOT_PUBLISHING_VIDEO,i,n),createSeiInBandMessagingNotEnabledError:()=>_s(mr.SEI_INSERT_INBAND_NOT_ENABLED,i,n)}}}var Es,Ss,Ts=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};!function(e){e.DISCONNECTED="disconnected",e.CONNECTING="connecting",e.CONNECTED="connected",e.ERRORED="errored"}(Es||(Es={})),function(e){e.STATE_CHANGE="stateChange",e.ERROR="error",e.TRANSFORM_ERROR="transformError"}(Ss||(Ss={}));class Cs extends er{constructor(e,t,n,r){super(),this.token=e,this.stageConnection=t,this.nonScopedLogger=n,this.analyticsTracker=r,this.tracksToPublish=[],this.publicationState=Es.DISCONNECTED,this.latestPubAttemptNum=0,this.startConnectingTimestamp=-1,this.action=Jn.PUBLISH,this.start=e=>{this.publicationState===Es.DISCONNECTED||this.publicationState===Es.ERRORED?(this.tracksToPublish=e,this.latestPubAttemptNum=0,this.processStateUpdate()):this.logger.warn({msg:"publication cannot be started if not in disconnected or error state"})},this.requestRTCStats=e=>Ts(this,void 0,void 0,(function*(){return this.peerClient.requestRTCStats(e)})),this.stop=(e=!1)=>Ts(this,void 0,void 0,(function*(){this.peerClient.off(dn,this.onPeerClientConnectionStateChange,this),this.peerClient.off(mn,this.onPeerClientTransformError,this),yield this.unpublish(e),this.updateState(Es.DISCONNECTED)})),this.processStateUpdate=e=>{const{publicationState:t}=this;t===Es.DISCONNECTED||t===Es.ERRORED?0===this.latestPubAttemptNum&&(this.startConnectingTimestamp=performance.now(),this.updateState(Es.CONNECTING),this.tryPublish()):t===Es.CONNECTING?e===yn.CONNECTED&&this.updateState(Es.CONNECTED):t===Es.CONNECTED&&e===yn.FAILED&&(this.attemptTracker&&this.attemptTracker.trackEndFailed(yr.CONNECTION_FAIL,this.peerClient.getProtocol()),0===this.latestPubAttemptNum&&(this.startConnectingTimestamp=performance.now(),this.updateState(Es.CONNECTING),this.tryPublish()))},this.updateState=e=>{this.publicationState=e,this.emit(Ss.STATE_CHANGE,e)},this.tryPublish=()=>Ts(this,void 0,void 0,(function*(){if(this.latestPubAttemptNum++,this.latestPubAttemptNum<=4){const e=this.stageConnection.getConnectionStats();this.attemptTracker=this.publishTracker.trackPublish(e);try{this.logger.debug({msg:`attempting to publish, attemptNum: ${this.latestPubAttemptNum}`}),yield this.publish(this.tracksToPublish,this.attemptTracker.getTraceId()),this.logger.debug({msg:"publish succeeded!"});const e=this.peerClient.getSfuResource(),t=this.latestPubAttemptNum-1,n=performance.now()-this.startConnectingTimestamp,r=this.peerClient.getActionMeasurements();this.attemptTracker.trackPublishStarted({sfuResource:e,totalDurationWithRetries:n,retryTimes:t,peerClientPerfStats:r,protocol:this.peerClient.getProtocol()}),this.latestPubAttemptNum=0}catch(e){this.logger.error({msg:"publish failed!",err:e});const t=this.attemptTracker.trackPublishFailed(e,this.peerClient.getProtocol()),n=t.code===mr.OPERATION_ABORTED.code,r=t.fatal,i=4===this.latestPubAttemptNum;if(n)return;if(r||i)return this.logger.error({msg:`Stopping attempts: isFatal=${r}, isLastAttempt=${i}`,err:e}),this.updateState(Es.ERRORED),void this.emit(Ss.ERROR,t);const o=1e3*Math.pow(2,this.latestPubAttemptNum);this.logger.debug({msg:`attempt failed, retrying in ${o}ms`}),this.nextAttemptTimerId=window.setTimeout((()=>{this.tryPublish()}),o)}}})),this.publish=(e,t)=>Ts(this,void 0,void 0,(function*(){this.peerClient.initTracksToPublish(e),yield this.peerClient.connect({audioOnly:!1,traceId:t})})),this.unpublish=(e=!1)=>Ts(this,void 0,void 0,(function*(){if(window.clearTimeout(this.nextAttemptTimerId),this.publicationState===Es.DISCONNECTED||this.publicationState===Es.ERRORED||!this.attemptTracker)return;this.attemptTracker.trackUnpublish();const t=e?yr.UNLOAD:yr.UNPUBLISH,n=this.peerClient.getProtocol();try{e?this.peerClient.disconnect(e):yield this.peerClient.disconnect(e),this.attemptTracker.trackEndSucceeded(t,n)}catch(e){this.attemptTracker.trackEndFailed(t,n)}})),this.replaceOrUpdateTrack=e=>Ts(this,void 0,void 0,(function*(){this.tracksToPublish.find((t=>t.track.kind===e.track.kind))?this.tracksToPublish=this.tracksToPublish.map((t=>t.track.kind===e.track.kind?e:t)):this.tracksToPublish.push(e),yield this.peerClient.replaceOrUpdateTrack(e)})),this.onPeerClientConnectionStateChange=e=>{this.logger.debug({msg:`onPeerClientConnectionStateChange: ${e}`,state:e}),this.processStateUpdate(e)},this.onPeerClientTransformError=e=>{this.emit(Ss.TRANSFORM_ERROR,e)},this.onIncompatibleCodecs=e=>Ts(this,void 0,void 0,(function*(){yield this.peerClient.onIncompatibleCodecs(e)})),this.sendSeiMessage=(e,t)=>{if(this.publicationState!==Es.CONNECTED)return this.attemptTracker&&this.emit(Ss.ERROR,this.attemptTracker.createSeiNotPublishingVideoError()),Qr.err(ca.NOT_PUBLISHING_VIDEO);const n=this.peerClient.sendSeiMessage(e,t),r=Qr.getErr(n);return r&&this.attemptTracker&&(r===ca.INBAND_MESSAGING_NOT_ENABLED?this.emit(Ss.ERROR,this.attemptTracker.createSeiInBandMessagingNotEnabledError()):r===ca.NOT_PUBLISHING_VIDEO&&this.emit(Ss.ERROR,this.attemptTracker.createSeiNotPublishingVideoError())),n},this.peerClient=new ba(e,this.nonScopedLogger,this.action,dr(this.action),or(),this.analyticsTracker,void 0,t,void 0),this.logger=new sn(n,fe.PUBLICATION),this.peerClient.on(dn,this.onPeerClientConnectionStateChange,this),this.peerClient.on(mn,this.onPeerClientTransformError,this),this.publishTracker=new ws(this.analyticsTracker,this.token)}removeTrack(e){return Ts(this,void 0,void 0,(function*(){this.tracksToPublish=this.tracksToPublish.filter((t=>t.track.kind!==e)),yield this.peerClient.removeTrack(e)}))}}var Os,Is=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};class ks extends cs{constructor(e,t,n,r,i){super(e,new sn(n,fe.LOCAL_PARTICIPANT)),this.onPublicationStateChange=e=>{switch(this.logger.debug({msg:"publicationStateChange",state:e}),e){case"connected":this.connection.setStagePublishing(!0),this.updatePublishState(ts.PUBLISHED);break;case"connecting":this.updatePublishState(ts.ATTEMPTING_PUBLISH);break;case"errored":this.updatePublishState(ts.ERRORED),this.connection.setStagePublishing(!1);break;default:return void this.logger.warn({msg:"FIXME onPublicationStateChange UNHANDLED STATE",state:e})}},this.onPublicationError=e=>{this.emit(ys.ERROR,e)},this.updatePublishState=e=>{this.info.isPublishing=e===ts.PUBLISHED,this.publishState=e,this.emit(ys.PUBLICATION_STATE_CHANGE,this.publishState)},this.handleMute=e=>{e.streamType===_n.AUDIO&&(this.audioMuted=e.isMuted,this.info.audioMuted=e.isMuted),e.streamType===_n.VIDEO&&(this.videoStopped=e.isMuted,this.info.videoStopped=e.isMuted),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.emit(ys.MEDIA_STREAM_MUTE_CHANGED,e)},this.handleInsertSeiMsgRequest=(e,t,n)=>{this.sendSeiMessage(t,null==n?void 0:n.repeatCount)},this.publish=e=>{this.logger.debug({msg:"publish"}),e.forEach((e=>{e&&(this.setupStreamListener(e),e.streamType===_n.AUDIO?(this.audioStream=e,this.audioMuted=!e.mediaStreamTrack.enabled,this.info.audioMuted=this.audioMuted):e.streamType===_n.VIDEO&&(this.videoStream=e,this.videoStream.on(Xa.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleInsertSeiMsgRequest),this.videoStopped=!e.mediaStreamTrack.enabled,this.info.videoStopped=this.videoStopped),e.setGetStats(this.publication.requestRTCStats))})),this.connection.emitStageState(this.audioMuted,this.videoStopped);const t=e.map((e=>ea(e.mediaStreamTrack,e.mediaConfig)));this.publication.start(t)},this.cleanup=()=>this.removeAllListeners(),this.quickUnpublish=()=>this.publishState!==ts.NOT_PUBLISHED&&this.publishState!==ts.ERRORED&&void this.publication.stop(!0),this.onIncompatibleCodecs=e=>Is(this,void 0,void 0,(function*(){yield this.publication.onIncompatibleCodecs(e)})),this.sendSeiMessage=(e,t=0)=>this.publication.sendSeiMessage(e,t),this.sendSeiMessageString=(e,t=0)=>{const n=(new TextEncoder).encode(e);return this.publication.sendSeiMessage(n,t)},this.connection=r,this.createPublication=()=>{const e=new Cs(t,r,n,i);return e.on(Ss.STATE_CHANGE,this.onPublicationStateChange),e.on(Ss.ERROR,this.onPublicationError),e.on(Ss.TRANSFORM_ERROR,this.onPublicationError),e},this.publication=this.createPublication()}setupStreamListener(e){e.on(Xa.LOCAL_STREAM_MUTE_CHANGED,this.handleMute)}removeTrack(e){var t,n,r;e.streamType===_n.AUDIO?(null===(t=this.audioStream)||void 0===t||t.off(Xa.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),this.audioStream=void 0,this.audioMuted=!0,this.info.audioMuted=!0):e.streamType===_n.VIDEO&&(null===(n=this.videoStream)||void 0===n||n.off(Xa.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),null===(r=this.videoStream)||void 0===r||r.off(Xa.LOCAL_STREAM_INSERT_SEI_MSG_REQUEST,this.handleMute),this.videoStream=void 0,this.videoStopped=!0,this.info.videoStopped=!0),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.publication.removeTrack(e.streamType)}replaceOrAddTrack(e){return Is(this,void 0,void 0,(function*(){this.setupStreamListener(e),e.setGetStats(this.publication.requestRTCStats),e.streamType===_n.AUDIO?(this.audioStream=e,this.audioMuted=!e.mediaStreamTrack.enabled):e.streamType===_n.VIDEO&&(this.videoStream=e,this.videoStopped=!e.mediaStreamTrack.enabled),this.connection.emitStageState(this.audioMuted,this.videoStopped);const t=ea(e.mediaStreamTrack,e.mediaConfig);yield this.publication.replaceOrUpdateTrack(t)}))}unpublish(){if(this.publishState===ts.NOT_PUBLISHED||this.publishState===ts.ERRORED)return;this.logger.debug({msg:"unpublish"}),this.connection.setStagePublishing(!1),this.publication.stop(),this.publication.off(Ss.STATE_CHANGE,this.onPublicationStateChange),this.publication.off(Ss.ERROR,this.onPublicationError),this.publication.off(Ss.TRANSFORM_ERROR,this.onPublicationError);const e=[this.audioStream,this.videoStream].filter((e=>!!e));e.forEach((e=>{e.cleanup()})),this.audioStream=void 0,this.videoStream=void 0,this.emit(ys.MEDIA_STREAM_REMOVED,e),this.updatePublishState(ts.NOT_PUBLISHED),this.publication=this.createPublication()}}!function(e){e.STAGE_CONNECTION_STATE_CHANGED="stageConnectionStateChanged",e.STAGE_PARTICIPANT_JOINED="stageParticipantJoined",e.STAGE_PARTICIPANT_LEFT="stageParticipantLeft",e.STAGE_PARTICIPANT_STREAMS_ADDED="stageParticipantStreamsAdded",e.STAGE_PARTICIPANT_STREAMS_REMOVED="stageParticipantStreamsRemoved",e.STAGE_STREAM_MUTE_CHANGED="stageStreamMuteChanged",e.STAGE_STREAM_SEI_MESSAGE_RECEIVED="stageStreamSeiMessageReceived",e.STAGE_STREAM_LAYERS_CHANGED="stageStreamLayersChanged",e.STAGE_STREAM_LAYER_SELECTED="stageStreamLayerSelected",e.STAGE_STREAM_ADAPTION_CHANGED="stageStreamAdaptionChanged",e.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED="stageParticipantSubscribeStateChanged",e.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED="stageParticipantPublishStateChanged",e.ERROR="error",e.STAGE_LEFT="stageLeft"}(Os||(Os={}));var As=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};const Ps=e=>!!e;class Rs extends er{constructor(e,t){super(),this.connectionState=Ho.DISCONNECTED,this.participants=new Map,this.connectionStateErrored=!1,this.onConnectionStateChanged=(e,t)=>{var n,r;if(this.connectionState=e,e===Ho.ERRORED&&(this.connectionStateErrored=!0),e===Ho.CONNECTED&&this.localParticipant&&this.localParticipant.publishState!==ts.NOT_PUBLISHED&&this.stageConnection.emitStageState(null===(n=this.localParticipant)||void 0===n?void 0:n.audioMuted,null===(r=this.localParticipant)||void 0===r?void 0:r.videoStopped),e===Ho.CONNECTED&&this.connectionStateErrored&&(this.connectionStateErrored=!1,this.refreshStrategy()),e===Ho.DISCONNECTED){if(t&&t!==Bo.CLIENT_RECONNECT&&t!==Bo.USER_INITIATED){let e=Ns.UNKNOWN;!function(e){return Object.values(Ns).includes(e)}(t)?this.logger.warn({msg:`DISCONNECTED reason is not a StageLeftReason: ${t}`}):e=t,this.cleanup(e)}}else this.emit(Os.STAGE_CONNECTION_STATE_CHANGED,this.connectionState)},this.setupLocalParticipantOnce=()=>{var e;this.localParticipant?this.analyticsTracker.trackEventNoSharedProps(new oi(this.token,null!==(e=this.joinTraceId)&&void 0!==e?e:new ir,"reusing local participant from repeat join",Jn.JOIN,"")):this.createLocalParticipant()},this.createLocalParticipant=()=>{const e=function(e){var t,n;const r=new Set;return e.token.claims.capabilities.allow_publish&&r.add(es.PUBLISH),e.token.claims.capabilities.allow_subscribe&&r.add(es.SUBSCRIBE),{id:e.token.participantID,userId:null!==(t=e.token.userID)&&void 0!==t?t:"",attributes:null!==(n=e.token.claims.attributes)&&void 0!==n?n:{},capabilities:r,isLocal:!0,userInfo:{},videoStopped:e.videoStopped,audioMuted:e.audioMuted,isPublishing:e.isPublishing}}({token:this.token,videoStopped:!0,audioMuted:!0,isPublishing:!1});this.localParticipant=new ks(e,this.token,this.logger.unwrap(),this.stageConnection,this.analyticsTracker),this.localParticipant.on(ys.PUBLICATION_STATE_CHANGE,(e=>{this.onPublishStateChanged(this.localParticipant.info,e)})),this.localParticipant.on(ys.MEDIA_STREAM_REMOVED,this.onLocalStreamsRemoved),this.localParticipant.on(ys.MEDIA_STREAM_MUTE_CHANGED,(e=>{this.localParticipant?this.onStreamMuteChange(this.localParticipant.info,e):this.logger.warn({msg:"tried to emit a stream mute change event for undefined local participant"})})),this.localParticipant.on(ys.ERROR,(e=>{this.errorManager.handleError(e,Da.PUBLISH_ERROR)})),this.emit(Os.STAGE_PARTICIPANT_JOINED,e)},this.onRemoteParticipantJoined=e=>{var t;if(e.id!==(null===(t=this.localParticipant)||void 0===t?void 0:t.info.id)){const t=function(e){return{id:e.id,userId:e.userId,attributes:e.attributes,capabilities:new Set([es.SUBSCRIBE]),isLocal:!1,userInfo:{},videoStopped:e.videoStopped,audioMuted:e.audioMuted,isPublishing:e.isPublishing}}(e);if(this.participants.has(t.id))return void this.logger.warn({msg:"Remote participant already tracked"});let n=xa.NONE;t.capabilities.has(es.SUBSCRIBE)&&(n=Qr.getOk_or(this.strategyWrapper.shouldSubscribeToParticipant(t),n),this.updateManagerWithExternalSubscribeConfig(t,"joined"));const r=this.configManager.getSubscribeConfigSnapshot(t.id),i=new gs(t,this.token,this.stageConnection,this.logger.unwrap(),n,r,this.analyticsTracker,e.isPublishing);this.participants.set(t.id,i),this.setupRemoteParticipantListeners(i),this.emit(Os.STAGE_PARTICIPANT_JOINED,i.info),i.updateSubscribeStateIfNecessary(n)}},this.setupRemoteParticipantListeners=e=>{e.on(vs.SUBSCRIPTION_STATE_CHANGE,(t=>{this.onParticipantSubscribeStateChanged(e.info.id,t)})),e.on(vs.MEDIA_STREAM_ADDED,(t=>{const n=this.participants.get(e.info.id);if(n){for(const e of t)this.setupRemoteParticipantStreamEvents(n.info,e);this.emit(Os.STAGE_PARTICIPANT_STREAMS_ADDED,n.info,ls(t)),this.updateStreamLayerForParticipantInfo(e.info,e.streams)}else this.logger.warn({msg:"Got stream add for participant no longer being tracked"})})),e.on(vs.MEDIA_STREAM_REMOVED,(t=>{const n=this.participants.get(e.info.id);n?this.emit(Os.STAGE_PARTICIPANT_STREAMS_REMOVED,n.info,ls(t)):this.logger.warn({msg:"Got stream remove for participant no longer being tracked"})})),e.on(vs.MEDIA_STREAM_MUTE_CHANGED,(t=>{this.onStreamMuteChange(e.info,t.remote)})),e.on(vs.ERROR,(e=>{this.errorManager.handleError(e,Da.SUBSCRIBE_ERROR)})),e.on(vs.MEDIA_STREAM_SEI_MESSAGE_RECEIVED,(t=>{this.onSeiMessageReceived(e.info,t)}))},this.onRemoteParticipantLeft=e=>{if(this.connectionState!==Ho.CONNECTED)return;const t=this.participants.get(e);t?(t.participantLeave(),t.unsubscribe(),t.cleanup(),this.participants.delete(e),this.emitParticipantLeave(t.info)):this.logger.warn({msg:"Remote participant no longer tracked"})},this.emitParticipantLeave=e=>{this.emit(Os.STAGE_PARTICIPANT_LEFT,e)},this.onRemoteParticipantStateChanged=e=>{const t=this.participants.get(e.id);if(!t)return void this.logger.warn({msg:"Remote participant updated but not tracked"});t.updatePublishState(e.isPublishing)&&this.onPublishStateChanged(t.info,t.publishState),t.updateStreamState(e.audioMuted,e.videoStopped);const n=this.strategyWrapper.shouldSubscribeToParticipant(t.info);if(Qr.isNotOk(n))return;this.updateManagerWithExternalSubscribeConfig(t.info,"updated");const r=this.configManager.getSubscribeConfigSnapshot(t.info.id),i=Qr.getOk_or(n,xa.NONE);t.updateSubscribeStateIfNecessary(i,r)},this.onPublishStateChanged=(e,t)=>{this.emit(Os.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED,e,t)},this.onParticipantSubscribeStateChanged=(e,t)=>{const n=this.participants.get(e);n?this.emit(Os.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED,n.info,t):this.logger.warn({msg:"Remote participant subscribe state changed but not tracked"})},this.onLocalStreamsAdded=e=>{this.localParticipant&&this.emit(Os.STAGE_PARTICIPANT_STREAMS_ADDED,this.localParticipant.info,e)},this.onLocalStreamsRemoved=e=>{this.localParticipant&&this.emit(Os.STAGE_PARTICIPANT_STREAMS_REMOVED,this.localParticipant.info,e)},this.onStreamMuteChange=(e,t)=>{this.emit(Os.STAGE_STREAM_MUTE_CHANGED,e,t)},this.onSeiMessageReceived=(e,t)=>{this.emit(Os.STAGE_STREAM_SEI_MESSAGE_RECEIVED,e,t)},this.leave=()=>{this.cleanup(Ns.USER_INITIATED)},this.onBeforeUnloadCleanup=()=>{var e;this.participants.forEach((e=>{e.quickUnsubscribe()})),null===(e=this.localParticipant)||void 0===e||e.quickUnpublish(),this.stageConnection.disconnect(),this.emit(Os.STAGE_CONNECTION_STATE_CHANGED,Ho.DISCONNECTED),this.analyticsTracker.stop(!0)},this.cleanup=e=>{if(!this.localParticipant)return;this.analyticsTracker.trackEventNoSharedProps(new Xn({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId,reason:e})),this.localParticipant.unpublish(),this.localParticipant.cleanup();const t=this.localParticipant.info;this.localParticipant=void 0,this.emitParticipantLeave(t);const n=this.participants.entries();for(const[e,t]of n)t.unsubscribe(),this.participants.delete(e),t.cleanup(),this.emitParticipantLeave(t.info);ua.destroy(this.analyticsTracker.getSessionId()),this.stageConnection.disconnect(),this.emit(Os.STAGE_CONNECTION_STATE_CHANGED,Ho.DISCONNECTED),this.emit(Os.STAGE_LEFT,e),this.stageConnection.removeAllListeners(),this.stageConnection=new Go(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners(),this.analyticsTracker.stop(!1),window.removeEventListener("beforeunload",this.onBeforeUnloadCleanup)},this.refreshStrategy=()=>{this.participants.forEach((e=>{if(e.info.capabilities.has(es.SUBSCRIBE)){const t=this.strategyWrapper.shouldSubscribeToParticipant(e.info);if(Qr.isNotOk(t))return;const n=Qr.getOk_or(t,xa.NONE);this.updateManagerWithExternalSubscribeConfig(e.info,"updated");const r=this.configManager.getSubscribeConfigSnapshot(e.info.id);e.updateSubscribeStateIfNecessary(n,r),this.updateStreamLayerForParticipantInfo(e.info,e.streams)}})),this.updateStreamsToPublishIfNecessary()},this.updateStreamsToPublishIfNecessary=()=>{var e;if(!this.localParticipant)return;if(!(null===(e=this.localParticipant)||void 0===e?void 0:e.info.capabilities.has(es.PUBLISH)))return;const t=this.localParticipant.publishState!==ts.NOT_PUBLISHED&&this.localParticipant.publishState!==ts.ERRORED,n=this.strategyWrapper.shouldPublishParticipant(this.localParticipant.info);if(Qr.isNotOk(n))return;let r=Qr.getOk_or(n,!1);if(!t&&!r)return;if(t&&!r)return void this.localParticipant.unpublish();const i=this.strategyWrapper.stageStreamsToPublish();if(Qr.isNotOk(i)){const e=Qr.getErr(i);if(e instanceof Error&&"UserStrategy"===e.cause)throw e;return}const o=Qr.getOk_or(i,[]);r=r&&o.length>0,!t&&r?(this.localParticipant.publish(o),this.onLocalStreamsAdded(o)):this.syncTracksToPublish(o)},this.syncTracksToPublish=e=>{var t;if(!this.localParticipant)return;const n=this.localParticipant.audioStream,r=this.localParticipant.videoStream,{updates:i,streamsToAdd:o,streamsToRemove:a}=this.determineStreamUpdates(n,r,e);if(i.length){for(const e of i)e.newStream?null===(t=this.localParticipant)||void 0===t||t.replaceOrAddTrack(e.newStream):e.oldStream&&this.localParticipant.removeTrack(e.oldStream);0!==a.length&&this.onLocalStreamsRemoved(a),0!==o.length&&this.onLocalStreamsAdded(o)}},this.determineStreamUpdates=(e,t,n=[])=>{const r=[],i=n.slice(0,2);if(i.sort(((e,t)=>e.streamType===_n.AUDIO?-1:1)),0===i.length)e&&r.push({oldStream:e}),t&&r.push({oldStream:t});else if(1===i.length){const n=i[0];n.streamType===_n.AUDIO?t&&r.push({oldStream:t}):n.streamType===_n.VIDEO&&e&&r.push({oldStream:e})}i.forEach((n=>{var i,o;n.streamType===_n.AUDIO?e?e.id===n.id&&(0,Zn.isEqual)(e.mediaConfig,n.mediaConfig)||(!!(null===(i=e.mediaConfig)||void 0===i?void 0:i.stereo)!=!!(null===(o=n.mediaConfig)||void 0===o?void 0:o.stereo)&&this.logger.warn({msg:"Ignoring change to audio stream's stereo configuration. Re-publish to change stereo configuraiton."}),r.push({oldStream:e,newStream:n})):r.push({newStream:n}):n.streamType===_n.VIDEO&&(t?t.id===n.id&&(0,Zn.isEqual)(t.mediaConfig,n.mediaConfig)||r.push({oldStream:t,newStream:n}):r.push({newStream:n}))}));const o=r.map((e=>e.newStream)).filter(Ps),a=r.map((e=>e.oldStream)).filter(Ps);return{updates:r,streamsToAdd:o,streamsToRemove:a}},this.onReassignmentMessage=e=>As(this,void 0,void 0,(function*(){if(_t("disableReassignments"))return void this.logger.debug({msg:"REASSIGN message ignored: disableReassignments is configured"});if(!Wi.browser.isChrome())return void this.logger.debug({msg:"REASSIGN message ignored: browser is not chrome"});const t=or();this.trackReassignmentRequest(e,t);const n=this.participants.get(e.remoteParticipantId),r=this.token.participantID,i=function(e,{localParticipantId:t,remoteParticipant:n}){const{participantId:r}=e;if(t!==r)return Qr.err(Object.assign(Object.assign({},mr.REASSIGNMENT_REQUEST_INVALID_LOCAL_PARTICIPANT_ID),{details:`Invalid participantId received: ${r}`}));if(!n)return Qr.err(Object.assign(Object.assign({},mr.REASSIGNMENT_REQUEST_INVALID_REMOTE_PARTICIPANT_ID),{details:`Invalid remoteParticipantId received: ${n}`}));if(n.isReassigning())return Qr.err(mr.REASSIGNMENT_REQUEST_ALREADY_IN_PROGRESS);const i=n.subscription.peerClient.getConnectionState();return[yn.CONNECTED,yn.DISCONNECTED].includes(i)?Qr.ok(n):Qr.err(Object.assign(Object.assign({},mr.REASSIGNMENT_REQUEST_INVALID_REMOTE_PEER_CONNECTION_STATE),{details:`connectionState: ${i}`}))}(e,{localParticipantId:r,remoteParticipant:n});if(i.ok)try{const{token:n,nodeOverride:r}=e;yield i.value.triggerIceRestart({assignmentToken:n,traceId:t,nodeOverride:r})}catch(e){this.logger.error({msg:"Reassignment failed.",err:e})}else this.trackReassignmentRequestRejected(i.error,t)})),this.onIncompatibleCodecsMessage=e=>As(this,void 0,void 0,(function*(){var t;yield null===(t=this.localParticipant)||void 0===t?void 0:t.onIncompatibleCodecs(e.codecs)})),this.analyticsTracker=new xt;const n=wt();this.logger=new sn(new an(n),fe.STAGE),this.strategyWrapper=new us(t,this.logger),this.configManager=new $a({logger:this.logger.unwrap(),subscribeDefaults:{jitterBuffer:{minDelayWhenPublishing:di.DEFAULT,minDelayWhenSubscribeOnly:di.DEFAULT},inBandMessaging:{enabled:!1},simulcast:{initialLayerPreference:pi.LOWEST_QUALITY}}}),this.errorManager=new qa(this.logger.unwrap());try{this.token=$r(e,this.analyticsTracker)}catch(t){const n=new ur(Object.assign({action:Jn.JOIN,token:e,traceId:or(),tag:cr,location:"Stage.constructor"},mr.MALFORMED_TOKEN));throw t instanceof Error&&(n.details=t.message),this.errorManager.handleError(n,Da.JOIN_ERROR)||t}this.stageConnection=new Go(this.token,this.logger.unwrap(),this.analyticsTracker),this.setupListeners()}setupListeners(){this.stageConnection.on(Sr,((e,t)=>{this.onConnectionStateChanged(e,t)})),this.stageConnection.on(gr,(e=>{this.onRemoteParticipantJoined(e)})),this.stageConnection.on(br,(e=>{this.onRemoteParticipantLeft(e.id)})),this.stageConnection.on(wr,(e=>{var t;e.id!==(null===(t=this.localParticipant)||void 0===t?void 0:t.info.id)&&this.onRemoteParticipantStateChanged(e)})),this.stageConnection.on(Cr,(e=>As(this,void 0,void 0,(function*(){yield this.onReassignmentMessage(e)})))),this.stageConnection.on(Or,(e=>As(this,void 0,void 0,(function*(){yield this.onIncompatibleCodecsMessage(e)})))),this.stageConnection.on(Tr,(e=>{e instanceof ur&&this.analyticsTracker.trackError(e),this.errorManager.handleError(e,Da.JOIN_ERROR)})),this.errorManager.on(za.ERROR,(e=>{this.emit(Os.ERROR,e)}))}setupRemoteParticipantStreamEvents(e,t){const n=t.remote;t.on(Ya.ADAPTION_CHANGED,(t=>{this.emit(Os.STAGE_STREAM_ADAPTION_CHANGED,e,n,t)})),t.on(Ya.LAYERS_CHANGED,(r=>{this.emit(Os.STAGE_STREAM_LAYERS_CHANGED,e,n,r),this.updateStreamLayerForParticipantInfo(e,[t])})),t.on(Ya.LAYER_SELECTED,((t,r)=>{this.emit(Os.STAGE_STREAM_LAYER_SELECTED,e,n,t,r)})),t.layers.length>0&&(this.emit(Os.STAGE_STREAM_LAYERS_CHANGED,e,n,n.getLayers()),this.emit(Os.STAGE_STREAM_LAYER_SELECTED,e,n,n.getSelectedLayer(),Za.SELECTED))}join(){return As(this,void 0,void 0,(function*(){this.analyticsTracker.start(),this.joinTraceId=or(),this.analyticsTracker.trackEvent(new No({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId}));try{this.token.assertTokenIsUnexpired(or(),cr,"join")}catch(e){throw this.errorManager.handleError(e,Da.JOIN_ERROR)||e}try{this.joinTraceId=yield this.stageConnection.connect(this.joinTraceId),this.connectionState===Ho.CONNECTED&&(this.setupLocalParticipantOnce(),this.updateStreamsToPublishIfNecessary()),window.addEventListener("beforeunload",this.onBeforeUnloadCleanup)}catch(e){throw this.logger.error({err:e,msg:"error joining stage"}),this.errorManager.handleError(e,Da.JOIN_ERROR,!1)||e}}))}replaceStrategy(e){this.strategyWrapper.setStrategy(e),this.refreshStrategy()}updateManagerWithExternalSubscribeConfig(e,t){const n=Qr.getOk(this.strategyWrapper.subscribeConfiguration(e));if(void 0===n)return;const r=e.id;if(this.configManager.handleExternalSubscribeConfigUpdate(r,n,Ga.API)){const e=this.configManager.getSubscribeConfigSnapshot(r);this.analyticsTracker.trackEventNoSharedProps(new Vi(this.token,this.joinTraceId,{trigger:"joined"===t?"initial":"ad-hoc",remote_participant_id:r,min_delay_when_publishing:ta(e.jitterBuffer.minDelayWhenPublishing,!0),min_delay_when_subscribe_only:ta(e.jitterBuffer.minDelayWhenSubscribeOnly,!1),in_band_messaging_enabled:e.inBandMessaging.enabled,simulcast_initial_layer_preference:e.simulcast.initialLayerPreference}))}}updateStreamLayerForParticipantInfo(e,t){t.forEach((t=>{if("audio"===t.streamType)return;const n=this.strategyWrapper.preferredLayerForStream(e,t.remote),r=Qr.getOk_or(n,void 0);t.setLayer(r)}))}trackReassignmentRequestRejected(e,t){const{token:n}=this,r=new ur(Object.assign(Object.assign({},e),{token:n,action:Jn.JOIN,traceId:t,tag:fr,location:"publish"}));this.logger.error({err:r,msg:"Reassignment request rejected."}),this.analyticsTracker.trackError(r)}trackReassignmentRequest(e,t){const{token:n}=this;this.analyticsTracker.trackEvent(new Ka({token:n,traceId:t,targetLocalParticipantId:e.participantId,targetRemoteParticipantId:e.remoteParticipantId}))}}var Ns;!function(e){e.UNKNOWN="unknown",e.USER_INITIATED="user-initiated",e.TOKEN_REUSED="token-reused",e.PARTICIPANT_DISCONNECTED="participant-disconnected",e.STAGE_DELETED="stage-deleted"}(Ns||(Ns={}));const xs=s})(),r})(),e.exports=r()},82201:(e,t,n)=>{e.exports=n(73893)},72734:(e,t,n)=>{"use strict";var r=n(59984),i=n(36893),o=n(2690),a=n(64364),s=n(83268),u=n(54713),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(43248);e.exports=function(e){return new Promise((function(t,l){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,h="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";d.Authorization="Basic "+c(m+":"+y)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};i(t,l,r),p=null}},p.onerror=function(){l(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=n(90640),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(d,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),l(e),p=null)})),void 0===f&&(f=null),p.send(f)}))}},73893:(e,t,n)=>{"use strict";var r=n(59984),i=n(17195),o=n(64169),a=n(99010);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(a);u.Axios=o,u.create=function(e){return s(r.merge(a,e))},u.Cancel=n(67769),u.CancelToken=n(39162),u.isCancel=n(46531),u.all=function(e){return Promise.all(e)},u.spread=n(27507),e.exports=u,e.exports.default=u},67769:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},39162:(e,t,n)=>{"use strict";var r=n(67769);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},46531:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},64169:(e,t,n)=>{"use strict";var r=n(99010),i=n(59984),o=n(84751),a=n(83315),s=n(36921),u=n(56550);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,this.defaults,{method:"get"},e)).method=e.method.toLowerCase(),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url));var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=c},84751:(e,t,n)=>{"use strict";var r=n(59984);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},54713:(e,t,n)=>{"use strict";var r=n(57466);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},83315:(e,t,n)=>{"use strict";var r=n(59984),i=n(72961),o=n(46531),a=n(99010);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},57466:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},36893:(e,t,n)=>{"use strict";var r=n(54713);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},72961:(e,t,n)=>{"use strict";var r=n(59984);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},99010:(e,t,n)=>{"use strict";var r=n(5806),i=n(59984),o=n(91076),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r)&&(u=n(72734)),u),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(a)})),e.exports=c},17195:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},43248:e=>{"use strict";function t(){this.message="String contains an invalid character"}t.prototype=new Error,t.prototype.code=5,t.prototype.name="InvalidCharacterError",e.exports=function(e){for(var n,r,i=String(e),o="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|a)||(s="=",a%1);o+=s.charAt(63&n>>8-a%1*8)){if((r=i.charCodeAt(a+=3/4))>255)throw new t;n=n<<8|r}return o}},2690:(e,t,n)=>{"use strict";var r=n(59984);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)&&(t+="[]"),r.isArray(e)||(e=[e]),r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},56550:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},90640:(e,t,n)=>{"use strict";var r=n(59984);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},36921:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},83268:(e,t,n)=>{"use strict";var r=n(59984);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},91076:(e,t,n)=>{"use strict";var r=n(59984);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},64364:(e,t,n)=>{"use strict";var r=n(59984);e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),(function(e){i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t&&(o[t]=o[t]?o[t]+", "+n:n)})),o):o}},27507:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},59984:(e,t,n)=>{"use strict";var r=n(17195),i=n(36129),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"==typeof e||a(e)||(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},84756:(e,t,n)=>{"use strict";n.d(t,{M:()=>be,e:()=>ge});var r=n(96947),i=n.n(r),o=n(38025),a=i()({HEADER_DATA:null,HEADER_DATA_SUCCESS:null,HEADER_DATA_FAILURE:null}),s={fetchHeaderData:function(e){var t=e.url;return function(e){return e(s.fetchingHeaderData()),(0,o.uL)(t).then((function(t){return e(s.fetchHeaderDataSuccess(t.data)),t.data}),(function(t){throw e(s.fetchHeaderDataFailure()),new Error(t)}))}},fetchingHeaderData:function(){return{type:a.HEADER_DATA}},fetchHeaderDataSuccess:function(e){return{type:a.HEADER_DATA_SUCCESS,payload:e}},fetchHeaderDataFailure:function(){return{type:a.HEADER_DATA_FAILURE}}},u=i()({HEADER_TIMER_UPDATE_TIME_SUCCESS:null,HEADER_TIMER_UPDATE_TIME_FAILURE:null,HEADER_TIMER_TEST_STARTED:null,HEADER_TIMER_TEST_ENDED:null}),c={syncTimer:function(e){var t=e.url;return function(e){return(0,o.uL)(t).then((function(t){return e(c.updateTimeSuccess(t.data)),t.data}),(function(t){var n;throw e(c.updateTimeFailure()),403===(null==t||null===(n=t.response)||void 0===n?void 0:n.status)&&window.location.reload(),new Error(t)}))}},updateTimeSuccess:function(e){return{type:u.HEADER_TIMER_UPDATE_TIME_SUCCESS,payload:e}},updateTimeFailure:function(){return{type:u.HEADER_TIMER_UPDATE_TIME_FAILURE}},startTimer:function(){return{type:u.HEADER_TIMER_TEST_STARTED}},endTimer:function(){return{type:u.HEADER_TIMER_TEST_ENDED}}},l=n(82201),f=n.n(l),d=i()({FAQ_KEY_DATA:null,FAQ_KEY_DATA_SUCCESS:null,FAQ_KEY_DATA_FAILURE:null,FAQ_KEY_VALUE_DATA:null,FAQ_KEY_VALUE_DATA_SUCCESS:null,FAQ_KEY_VALUE_DATA_FAILURE:null,FAQ_ALL_KEY_VALUE_DATA_FETCHED:null}),p={fetchKeyData:function(e){var t=e.url;return function(e){return e(p.fetchKeyDataStart()),(0,o.uL)(t).then((function(t){var n=t.data,r=(void 0===n?{}:n).webcam_faqs,i=void 0===r?[]:r,o={};return i.length&&i.forEach((function(e){o[e]=null})),e(p.fetchKeyDataSuccess(o)),t.data}),(function(){e(p.fetchKeyDataFailure())}))}},fetchKeyDataStart:function(){return{type:d.FAQ_KEY_DATA}},fetchKeyDataSuccess:function(e){return{type:d.FAQ_KEY_DATA_SUCCESS,payload:e}},fetchKeyDataFailure:function(){return{type:d.FAQ_KEY_DATA_FAILURE}},fetchKeyValueData:function(e){var t=e.url;return function(e){return e(p.fetchKeyValueDataStart()),f().get(t).then((function(n){var r=n.data,i=(void 0===r?{}:r).article,o=void 0===i?{}:i,a=o.title,s=o.body;return e(p.fetchKeyValueDataSuccess({key:t,value:{title:a,description:s}})),n.data}),(function(){e(p.fetchKeyValueDataFailure())}))}},fetchKeyValueDataStart:function(){return{type:d.FAQ_KEY_VALUE_DATA}},fetchKeyValueDataSuccess:function(e){return{type:d.FAQ_KEY_VALUE_DATA_SUCCESS,payload:e}},fetchKeyValueDataFailure:function(){return{type:d.FAQ_KEY_VALUE_DATA_FAILURE}},allFAQsKeyValueFetched:function(){return{type:d.FAQ_ALL_KEY_VALUE_DATA_FETCHED}}},h=i()({GET_END_TEST_DATA:null,GET_END_TEST_DATA_SUCCESS:null,GET_END_TEST_DATA_FAILURE:null,CLEAR_END_TEST_DATA:null,TEST_MARKED_AS_COMPLETED:null}),v={getEndTestData:function(e){var t=e.url;return function(e){return e(v.fetchingEndTestData()),(0,o.uL)(t).then((function(t){var n=t.data,r=(void 0===n?{}:n).data,i=void 0===r?{}:r;return e(v.getEndTestDataSuccess(i)),i}),(function(t){throw e(v.getEndTestDataFailure()),new Error(t)}))}},fetchingEndTestData:function(){return{type:h.GET_END_TEST_DATA}},getEndTestDataSuccess:function(e){return{type:h.GET_END_TEST_DATA_SUCCESS,payload:e}},getEndTestDataFailure:function(){return{type:h.GET_END_TEST_DATA_FAILURE}},clearEndTestData:function(){return{type:h.CLEAR_END_TEST_DATA}},markTestAsCompleted:function(){return{type:h.TEST_MARKED_AS_COMPLETED}},endTest:function(e){var t=e.url;return function(e){return(0,o.e$)(t,{}).then((function(t){var n=t.data,r=void 0===n?{}:n;e(v.markTestAsCompleted()),window.location.href=r.url}),(function(){window.location.reload()}))}}};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={TimerActions:c,AppActions:s,FAQActions:p,EndTestActions:v},w=g(g(g(g({},u),a),d),h),E=i()({NOTIFICATIONS_END_TEST_MESSAGE_SHOW:null,NOTIFICATIONS_END_TEST_MESSAE_UPDATE:null,NOTIFICATIONS_END_TEST_MESSAE_HIDE:null}),S={showMessage:function(e){return{type:E.NOTIFICATIONS_END_TEST_MESSAGE_SHOW,payload:e}},updateMessage:function(e){return{type:E.NOTIFICATIONS_END_TEST_MESSAE_UPDATE,payload:e}},hideMessage:function(){return{type:E.NOTIFICATIONS_END_TEST_MESSAE_HIDE}}},T=i()({SHOW_NOTIFICATION:null,HIDE_NOTIFICATION:null}),C={showNotification:function(e,t,n){return{type:T.SHOW_NOTIFICATION,content:e,selfClose:n,notificationType:t}},hideNotification:function(){return{type:T.HIDE_NOTIFICATION}}};function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={EndTestWarningActions:S,commonActions:C},R=k(k({},E),T),N=i()({HELP_DATA:null,HELP_DATA_SUCCESS:null,HELP_DATA_FAILURE:null}),x={fetchInstructions:function(e){var t=e.url;return function(e){return e(x.fetchingInstructions()),(0,o.uL)(t).then((function(t){var n=t.data,r=(void 0===n?{}:n).data,i=void 0===r?{}:r;return e(x.fetchInstructionsSuccess(i)),i}),(function(t){throw e(x.fetchInstructionsFailure()),new Error(t)}))}},fetchingInstructions:function(){return{type:N.HELP_DATA}},fetchInstructionsSuccess:function(e){return{type:N.HELP_DATA_SUCCESS,payload:e}},fetchInstructionsFailure:function(){return{type:N.HELP_DATA_FAILURE}}},D=i()({JUDGE_ENVIRONMENT_DATA:null,JUDGE_ENVIRONMENT_DATA_SUCCESS:null,JUDGE_ENVIRONMENT_DATA_FAILURE:null}),L={fetchJudgeEnvironmentData:function(e){var t=e.url;return function(e){return e(L.fetchingJudgeEnvironmentData()),(0,o.uL)(t).then((function(t){return e(L.fetchJudgeEnvironmentDataSuccess(t.data)),t.data}),(function(t){throw e(L.fetchJudgeEnvironmentDataFailure()),new Error(t)}))}},fetchingJudgeEnvironmentData:function(){return{type:D.JUDGE_ENVIRONMENT_DATA}},fetchJudgeEnvironmentDataSuccess:function(e){return{type:D.JUDGE_ENVIRONMENT_DATA_SUCCESS,payload:e}},fetchJudgeEnvironmentDataFailure:function(){return{type:D.JUDGE_ENVIRONMENT_DATA_FAILURE}}};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B,V={InstructionsActions:x,JudgeEnvironmentActions:L},H=U(U({},N),D),z=n(62285),G=i()({WEBCAM_PROCTORING_PERMISSION_SUCCESS:null,WEBCAM_PROCTORING_PERMISSION_FAILURE:null,SHOW_WEBCAM_ERROR:null,CAN_MOUNT_WEBCAM:null,FULLSCREEN_PROCTORING_PERMISSION_SUCCESS:null,FULLSCREEN_PROCTORING_PERMISSION_FAILURE:null,HIDE_PROBLEMS_CONTAINER:null,SHOW_PROBLEMS_CONTAINER:null,FETCHING_AUDIO_PROCTORING_TOKEN:null,FETCH_AUDIO_PROCTORING_TOKEN_SUCCESS:null,FETCH_AUDIO_PROCTORING_TOKEN_FAILURE:null}),W={webcamProctoringPermissionSuccess:function(){return{type:G.WEBCAM_PROCTORING_PERMISSION_SUCCESS}},webcamProctoringPermissionFailure:function(){return{type:G.WEBCAM_PROCTORING_PERMISSION_FAILURE}},handleWebcamError:function(e){return{type:G.SHOW_WEBCAM_ERROR,payload:e}},fullscreenProctoringPermissionSuccess:function(){return{type:G.FULLSCREEN_PROCTORING_PERMISSION_SUCCESS}},fullscreenProctoringPermissionFailure:function(){return{type:G.FULLSCREEN_PROCTORING_PERMISSION_FAILURE}},loadWebcam:function(){return{type:G.CAN_MOUNT_WEBCAM}},showProblemsContainer:function(){return{type:G.SHOW_PROBLEMS_CONTAINER}},hideProblemsContainer:function(){return{type:G.HIDE_PROBLEMS_CONTAINER}},getAudioProctoringToken:function(e){return function(t){return t(W.fetchingAudioProctoringToken()),(0,o.uL)(e).then((function(e){var n=e.data,r=(void 0===n?{}:n).token;return t(W.fetchAudioProctoringTokenSuccess(r)),r})).catch((function(e){throw t(W.fetchAudioProctoringTokenFailure(e)),t(C.showNotification(e.message||window.SOMETHING_WENT_WRONG_ERROR_TEXT,z.Z.ERROR)),Error(e)}))}},fetchingAudioProctoringToken:function(){return{type:G.FETCHING_AUDIO_PROCTORING_TOKEN}},fetchAudioProctoringTokenSuccess:function(e){return{type:G.FETCH_AUDIO_PROCTORING_TOKEN_SUCCESS,payload:e}},fetchAudioProctoringTokenFailure:function(e){return{type:G.FETCH_AUDIO_PROCTORING_TOKEN_FAILURE,error:e}}},q=n(44269),$=n(23206),K=i()({RESET_SECTION_TIMER:null,SET_TIME:null}),Q={startSectionTimer:function(e){return function(t,n){t(Q.setRemaingTime(e)),B=setInterval((function(){var e=n().duringReducer.sectionTimerReducer.remainingTime;e>0&&t(Q.setRemaingTime(e-1))}),1e3)}},setRemaingTime:function(e){return{type:K.SET_TIME,payload:e}},resetSectionTimer:function(){return function(e){clearInterval(B),e({type:K.RESET_SECTION_TIMER})}},endCurrentSection:function(e){return function(){return new Promise((function(t,n){var r=(0,$.YX)(e);(0,o.e$)(r).then((function(e){t(e.data)}),(function(e){n(e)}))}))}}},Y=n(23108);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===J(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=i()({GET_PROBLEM_DATA:null,GET_PROBLEM_DATA_SUCCESS:null,GET_PROBLEM_DATA_FAILURE:null,UPDATE_PROBLEM_DATA:null,ADD_ATTEMPTED_PROBLEMS:null,REMOVE_ATTEMPTED_PROBLEMS:null,UPDATE_COMPLETED_TIMED_SECTIONS:null,UPDATE_CURRENT_SECTION_ID:null,SAVE_TIMED_SECTION_IDS:null,UPDATE_EDITOR_SINGLE_OPTION_CONFIGURATION:null,UPDATE_EDITOR_MULTI_OPTIONS_CONFIGURATION:null,UPDATE_EDITOR_LAST_LANG:null}),ne={getProblemsData:function(e){var t=e.url,n=e.isEncrypted,r=void 0!==n&&n;return function(e){return(0,o.uL)(t).then((function(t){var n=t.data,i=void 0===n?{}:n;if(!r){var o=q.Z.modifyJSONAndSetIndexAndNext(i),a=q.Z.getTimedSectionDetails(i),s=a.completedTimedSections,u=a.allTimedSectionIds;return e(ne.getProblemsDataSuccess(o)),e(ne.updateCompletedSections(s)),e(ne.updateCurrentSectionId(o.currentSection)),e(ne.saveTimedSectionIds(u)),o.currentSectionRemainingTime&&e(Q.startSectionTimer(o.currentSectionRemainingTime)),o}return i}),(function(t){throw e(ne.getProblemsDataFailure()),new Error(t)}))}},getProblemsDataSuccess:function(e){return{type:te.GET_PROBLEM_DATA_SUCCESS,payload:e}},getProblemsDataFailure:function(){return{type:te.GET_PROBLEM_DATA_FAILURE}},updateProblemData:function(e){var t=e.hash,n=e.type,r=e.data;return function(e,i){var o=i().duringReducer.problemsListReducer.problems,a=function(e,t){return e.problem_private_url_hash===t?X(X({},e),r):e},s=o.other_sections,u=o.timed_sections,c=s.map((function(e){if(e.p_type===n){var r=e.non_section_problems,i=e.sections,o=r.map((function(e){return a(e,t)})),s=i.map((function(e){var n=e.problems.map((function(e){return a(e,t)}));return X(X({},e),{},{problems:n})}));return X(X({},e),{},{non_section_problems:o,sections:s})}return e})),l=u.map((function(e){if(e.p_type===n){var r=e.sections.map((function(e){return X(X({},e),{},{problems:e.problems.map((function(e){return a(e,t)}))})}));return X(X({},e),{},{sections:r})}return e}));e({type:te.UPDATE_PROBLEM_DATA,payload:{otherSections:c,timedSections:l}})}},addAttemptedProblems:function(e){return{type:te.ADD_ATTEMPTED_PROBLEMS,payload:e}},removeAttemptedProblems:function(e){return{type:te.REMOVE_ATTEMPTED_PROBLEMS,payload:e}},updateCompletedSections:function(e){return{type:te.UPDATE_COMPLETED_TIMED_SECTIONS,payload:e}},updateCurrentSectionId:function(e){return{type:te.UPDATE_CURRENT_SECTION_ID,payload:e}},saveTimedSectionIds:function(e){return{type:te.SAVE_TIMED_SECTION_IDS,payload:e}},updateEditorSingleOptionConfiguration:function(e){return{type:te.UPDATE_EDITOR_SINGLE_OPTION_CONFIGURATION,payload:e}},updateEditorMultiOptionsConfiguration:function(e){return{type:te.UPDATE_EDITOR_MULTI_OPTIONS_CONFIGURATION,payload:e}},updateEditorLastLang:function(e){return{type:te.UPDATE_EDITOR_LAST_LANG,payload:e}},fetchVideoAnswerToken:function(e){return function(t,n){var r=n().duringReducer.problemsListReducer.problems,i=(0,Y.ro)(e,r).problem;return i.token?Promise.resolve(i.token):(0,o.uL)((0,$.O6)(e)).then((function(n){var r=n.data.token,o={hash:e,type:i.p_type,data:{token:r,error:!1}};return t(ne.updateProblemData(o)),r})).catch((function(n){var r={hash:e,type:i.p_type,data:{error:n}};t(ne.updateProblemData(r)),t(C.showNotification(n.message||window.SOMETHING_WENT_WRONG_ERROR_TEXT,z.Z.ERROR))}))}},syncVideoTimer:function(e){return function(t,n){var r=n().duringReducer.problemsListReducer.problems,i=(0,Y.ro)(e,r).problem;return(0,o.uL)((0,$.oj)(e)).then((function(n){var r=n.data,o=r.total_time,a=r.remaining_time,s=Math.round(a),u={hash:e,type:i.p_type,data:{totalTime:o,remainingTime:s,isVideoSubmitted:0===s,error:!1}};return t(ne.updateProblemData(u)),{totalTime:o,remainingTime:s}})).catch((function(n){var r={hash:e,type:i.p_type,data:{error:n}};t(ne.updateProblemData(r)),t(C.showNotification(n.message||window.SOMETHING_WENT_WRONG_ERROR_TEXT,z.Z.ERROR))}))}},decreaseVideoTimer:function(e){return function(t,n){var r=n().duringReducer.problemsListReducer.problems,i=(0,Y.ro)(e,r).problem,o=i.remainingTime,a=i.p_type,s={hash:e,type:a,data:{remainingTime:o-1}};t(ne.updateProblemData(s))}},submitVideoRecording:function(e){return function(t,n){var r=n().duringReducer.problemsListReducer.problems,i=(0,Y.ro)(e,r).problem;return(0,o.e$)((0,$.oj)(e),{process:"end"}).then((function(){var n={hash:e,type:i.p_type,data:{remainingTime:0,isVideoSubmitted:!0,error:!1}};t(ne.updateProblemData(n))})).catch((function(n){var r={hash:e,type:i.p_type,data:{error:n}};t(ne.updateProblemData(r)),t(C.showNotification(n.message||window.SOMETHING_WENT_WRONG_ERROR_TEXT,z.Z.ERROR))}))}},startBackendTimer:function(e){return function(){return(0,o.e$)((0,$.oj)(e),{process:"start"})}}},re=i()({FETCH_CHAT_DATA:null,FETCH_CHAT_DATA_FAILURE:null,UPDATE_CHAT:null,GET_CONVERSATION_COUNT_SUCCESS:null,GET_CONVERSATION_COUNT_FAILURE:null,UPDATE_CONVERSATION_COUNT:null}),ie={getQueryResponse:function(e){return function(t){return new Promise((function(n,r){(0,o.e$)((0,$.fR)(),{usecase:"assessment_code",prompt:e}).then((function(e){var t=e.data;n(t)})).catch((function(e){t(ie.getQueryResponseFailure(e)),r(e)}))}))}},getQueryResponseFailure:function(e){return{type:re.FETCH_CHAT_DATA_FAILURE,err:e}},updateChat:function(e){return{type:re.UPDATE_CHAT,data:e}},getConversationCount:function(){return function(e){(0,o.uL)((0,$.h5)()).then((function(t){e(ie.getConversationCountSuccess()),e(ie.updateConversationCount(t.data.chats))})).catch((function(t){e(ie.getConversationCountFailure(t))}))}},getConversationCountSuccess:function(){return{type:re.GET_CONVERSATION_COUNT_SUCCESS}},getConversationCountFailure:function(e){return{type:re.GET_CONVERSATION_COUNT_FAILURE,err:e}},updateConversationCount:function(e){return{type:re.UPDATE_CONVERSATION_COUNT,data:e}}};function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce={ProctoringPermissionsActions:W,ProblemsListActions:ne,sectionTimerActions:Q,ChatActions:ie},le=se(se(se(se({},G),te),K),re),fe=n(68940),de=i()({FETCH_EVENT_META_DATA:null,FETCH_SURPRISE_QUESTION_TIMER:null,SURPRISE_QUESTION_FETCH_SUCCESS:null,INITIAL_DATA_LOADING:null,INCREASE_QUESTION_ATTEMPTED_COUNT:null}),pe={dispatchData:function(e,t){return{type:e,data:t}},fetchedInitialData:function(){return function(e){e(pe.dispatchData(de.INITIAL_DATA_LOADING,!1))}},increateQuestionAttemptedCount:function(e){return function(t){t(pe.dispatchData(de.INCREASE_QUESTION_ATTEMPTED_COUNT,e))}},fetchEventMetaData:function(e){var t=e.eventSlug;return function(e){return new Promise((function(n,r){(0,o.uL)((0,fe.p4)({eventSlug:t})).then((function(t){e(pe.dispatchData(de.FETCH_EVENT_META_DATA,t.data)),n()}),(function(){r()}))}))}},fetchSurpriseQuestionTimer:function(e){var t=e.eventSlug;return function(e){return new Promise((function(n,r){return(0,o.uL)((0,fe.my)({eventSlug:t})).then((function(t){e(pe.dispatchData(de.FETCH_SURPRISE_QUESTION_TIMER,t.data)),n()}),(function(){r()}))}))}},decreaseSurpriseQuestionTimerByOneSecond:function(e){var t=e.eventSlug;return function(e,n){var r=n().surpriseQuestionReducer.time.left;e(r-1<=0?pe.fetchSurpriseQuestionTimer({eventSlug:t}):pe.dispatchData(de.FETCH_SURPRISE_QUESTION_TIMER,{left:r-1}))}},getSurpriseQuestions:function(e){var t=e.eventSlug;return function(e){return new Promise((function(n,r){(0,o.uL)((0,fe.UQ)({eventSlug:t})).then((function(t){var r=t.data,i=r.surprise_questions[0],o=i.answer,a=i.problem,s="".concat(a.id,"-").concat(a.p_type);e(pe.dispatchData(de.SURPRISE_QUESTION_FETCH_SUCCESS,r)),o&&e(pe.increateQuestionAttemptedCount(s)),n()}),(function(){r()}))}))}}};function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==he(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===he(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge={HeaderActions:_,NotificationsActions:P,HelpActions:V,DuringActions:ce,SurpriseQuestionActions:pe},be=i()(me(me(me(me(me({},w),R),H),le),de))},82760:(e,t,n)=>{"use strict";n.d(t,{Jr:()=>a,Me:()=>o,Yt:()=>i,bt:()=>s,uP:()=>r});var r="133ada4b-0629-4905-805a-401e473dfdd6",i="pub0f2888f2087597c3b526d45374b9a234",o="datadoghq.com",a="he-assess",s="https://rum.hackerearth.com"},44509:(e,t,n)=>{"use strict";n.d(t,{$H:()=>o,He:()=>w,Kt:()=>E,LW:()=>b,Qq:()=>s,Rl:()=>v,SW:()=>a,T3:()=>y,UV:()=>h,Vn:()=>u,Vq:()=>S,XB:()=>l,Zm:()=>c,eV:()=>g,il:()=>m,oe:()=>_,qB:()=>f,wo:()=>p,zw:()=>d});var r=n(2363);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var o=function(e){var t=e.classNames;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"locked-timer ".concat(t)},r.createElement("path",{d:"M12.3333 7.33325C12.7975 7.33325 13.2426 7.52289 13.5708 7.86046C13.899 8.19803 14.0833 8.65586 14.0833 9.13325V9.73325H14.6667V12.7333C14.6667 12.8924 14.6052 13.045 14.4958 13.1575C14.3864 13.27 14.238 13.3333 14.0833 13.3333H10.5833C10.4286 13.3333 10.2803 13.27 10.1709 13.1575C10.0615 13.045 10 12.8924 10 12.7333V9.73325H10.5833V9.13325C10.5833 8.65586 10.7677 8.19803 11.0959 7.86046C11.4241 7.52289 11.8692 7.33325 12.3333 7.33325ZM13.5 10.9333H11.1667V12.1333H13.5V10.9333ZM12.3333 8.53325C12.037 8.53325 11.75 8.80325 11.75 9.13325V9.73325H12.9167V9.13325C12.9167 8.97412 12.8552 8.82151 12.7458 8.70899C12.6364 8.59647 12.488 8.53325 12.3333 8.53325Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.33301 8.00006C1.33301 11.3473 4.04634 14.0607 7.39361 14.0607C8.59123 14.0607 9.7077 13.7133 10.6478 13.1139C10.3696 12.8202 10.1496 12.4709 10.0062 12.0845C9.23221 12.5795 8.32678 12.8485 7.39361 12.8485C6.10772 12.8485 4.87448 12.3377 3.96522 11.4285C3.05595 10.5192 2.54513 9.28596 2.54513 8.00006C2.54513 6.71416 3.05595 5.48093 3.96522 4.57166C4.87448 3.6624 6.10772 3.15157 7.39361 3.15157C8.67951 3.15157 9.91274 3.6624 10.822 4.57166C11.7313 5.48093 12.2421 6.71416 12.2421 8.00006C12.2421 8.02031 12.242 8.04054 12.2417 8.06076C12.4377 8.02096 12.6405 8.00006 12.8482 8.00006C13.0556 8.00006 13.2582 8.02091 13.4539 8.06062C13.4541 8.04046 13.4542 8.02027 13.4542 8.00006C13.4542 4.65279 10.7409 1.93945 7.39361 1.93945C4.04634 1.93945 1.33301 4.65279 1.33301 8.00006ZM9.81786 8.00006H7.99967V4.96976H6.78755V9.21218H9.81786V8.00006Z"}))},a=function(e){var t=e.classNames;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",className:"vector ".concat(t)},r.createElement("path",{d:"M11.75 13.75V10.75H4.25V13.75H2.75V10C2.75 9.80109 2.82902 9.61032 2.96967 9.46967C3.11032 9.32902 3.30109 9.25 3.5 9.25H12.5C12.6989 9.25 12.8897 9.32902 13.0303 9.46967C13.171 9.61032 13.25 9.80109 13.25 10V13.75H11.75ZM4.25 0.25V3.25H11.75V0.25H13.25V4C13.25 4.19891 13.171 4.38968 13.0303 4.53033C12.8897 4.67098 12.6989 4.75 12.5 4.75H3.5C3.30109 4.75 3.11032 4.67098 2.96967 4.53033C2.82902 4.38968 2.75 4.19891 2.75 4V0.25H4.25ZM0.5 4.75L3.5 7L0.5 9.25V4.75ZM15.5 4.75V9.25L12.5 7L15.5 4.75Z"}))},s=function(e){var t=e.classNames;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",className:"vector ".concat(t)},r.createElement("path",{d:"M0 10.572V12.072H13.5V10.572H0ZM10.803 0L9.7425 1.0605L12.129 3.447L9.7425 5.8335L10.803 6.894L14.25 3.447L10.803 0ZM0 5.322V6.822H6.75V5.322H0ZM0 0.072V1.572H6.75V0.072H0Z"}))},u=function(e){var t=e.classNames;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",className:t},r.createElement("g",{clipPath:"url(#clip0_1756_7751)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 5.5C8 4.4 8.9 3.5 10 3.5C11.1 3.5 12 4.4 12 5.5C12 6.6 11.1 7.5 10 7.5C8.9 7.5 8 6.6 8 5.5ZM8 19.5C8 18.4 8.9 17.5 10 17.5C11.1 17.5 12 18.4 12 19.5C12 20.6 11.1 21.5 10 21.5C8.9 21.5 8 20.6 8 19.5ZM8 12.5C8 11.4 8.9 10.5 10 10.5C11.1 10.5 12 11.4 12 12.5C12 13.6 11.1 14.5 10 14.5C8.9 14.5 8 13.6 8 12.5ZM13 5.5C13 4.4 13.9 3.5 15 3.5C16.1 3.5 17 4.4 17 5.5C17 6.6 16.1 7.5 15 7.5C13.9 7.5 13 6.6 13 5.5ZM13 19.5C13 18.4 13.9 17.5 15 17.5C16.1 17.5 17 18.4 17 19.5C17 20.6 16.1 21.5 15 21.5C13.9 21.5 13 20.6 13 19.5ZM13 12.5C13 11.4 13.9 10.5 15 10.5C16.1 10.5 17 11.4 17 12.5C17 13.6 16.1 14.5 15 14.5C13.9 14.5 13 13.6 13 12.5Z",fill:"#999999"})),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_1756_7751"},r.createElement("rect",{width:"24",height:"24",fill:"white",transform:"translate(0 0.5)"}))))},c=function(e){var t=e.classNames,n=e.color,i=void 0===n?"#333333":n;return r.createElement("svg",{width:"10",height:"18",viewBox:"0 0 10 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r.createElement("path",{d:"M1 17L9 9L1 1",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},l=function(e){var t=e.classNames;return r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r.createElement("path",{d:"M9.99984 4.99984V9.99984L13.3332 11.6665M18.3332 9.99984C18.3332 14.6022 14.6022 18.3332 9.99984 18.3332C5.39746 18.3332 1.6665 14.6022 1.6665 9.99984C1.6665 5.39746 5.39746 1.6665 9.99984 1.6665C14.6022 1.6665 18.3332 5.39746 18.3332 9.99984Z",stroke:"#666666",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},f=function(){return r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99984 0.666504C3.94975 0.666504 0.666504 3.94975 0.666504 7.99984C0.666504 12.0499 3.94975 15.3332 7.99984 15.3332C12.0499 15.3332 15.3332 12.0499 15.3332 7.99984C15.3332 3.94975 12.0499 0.666504 7.99984 0.666504ZM11.4712 6.47124C11.7316 6.21089 11.7316 5.78878 11.4712 5.52843C11.2109 5.26808 10.7888 5.26808 10.5284 5.52843L6.99984 9.05703L5.47124 7.52843C5.21089 7.26808 4.78878 7.26808 4.52843 7.52843C4.26808 7.78878 4.26808 8.21089 4.52843 8.47124L6.52843 10.4712C6.78878 10.7316 7.21089 10.7316 7.47124 10.4712L11.4712 6.47124Z",fill:"#0F8F10"}))},d=function(){return r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99984 0.666504C3.94975 0.666504 0.666504 3.94975 0.666504 7.99984C0.666504 12.0499 3.94975 15.3332 7.99984 15.3332C12.0499 15.3332 15.3332 12.0499 15.3332 7.99984C15.3332 3.94975 12.0499 0.666504 7.99984 0.666504ZM8.6665 5.33317C8.6665 4.96498 8.36803 4.6665 7.99984 4.6665C7.63165 4.6665 7.33317 4.96498 7.33317 5.33317V7.99984C7.33317 8.36803 7.63165 8.6665 7.99984 8.6665C8.36803 8.6665 8.6665 8.36803 8.6665 7.99984V5.33317ZM7.99984 9.99984C7.63165 9.99984 7.33317 10.2983 7.33317 10.6665C7.33317 11.0347 7.63165 11.3332 7.99984 11.3332H8.0065C8.37469 11.3332 8.67317 11.0347 8.67317 10.6665C8.67317 10.2983 8.37469 9.99984 8.0065 9.99984H7.99984Z",fill:"#D41F00"}))},p=function(e){var t=e.classNames;return r.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r.createElement("path",{opacity:"0.12",d:"M14 17.6587C13.3744 17.8798 12.7013 18.0001 12 18.0001C11.2987 18.0001 10.6256 17.8798 10 17.6587V22.0001H14V17.6587Z",fill:"#BE1B00"}),r.createElement("path",{d:"M10 17.6586V20C10 21.1046 10.8954 22 12 22C13.1046 22 14 21.1046 14 20V17.6586M12 2V3M3 12H2M5.5 5.5L4.8999 4.8999M18.5 5.5L19.1002 4.8999M22 12H21M18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12Z",stroke:"#BE1B00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},h=function(e){var t=e.classNames;return r.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.833252 10.0002C0.833252 15.0628 4.93731 19.1668 9.99992 19.1668C15.0625 19.1668 19.1666 15.0628 19.1666 10.0002C19.1666 4.93755 15.0625 0.833496 9.99992 0.833496C4.93731 0.833496 0.833252 4.93755 0.833252 10.0002ZM5.83325 10.0002C5.83325 9.53993 6.20635 9.16683 6.66659 9.16683H11.3214L9.41066 7.25609C9.08523 6.93065 9.08523 6.40301 9.41066 6.07757C9.7361 5.75214 10.2637 5.75214 10.5892 6.07757L13.9225 9.41091C14.2479 9.73635 14.2479 10.264 13.9225 10.5894L10.5892 13.9228C10.2637 14.2482 9.7361 14.2482 9.41066 13.9228C9.08523 13.5973 9.08523 13.0697 9.41066 12.7442L11.3214 10.8335H6.66659C6.20635 10.8335 5.83325 10.4604 5.83325 10.0002Z",fill:"white"}))},v=function(e){var t=e.classNames;return r.createElement("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},r.createElement("circle",{cx:"13",cy:"13",r:"13",fill:"#3FA53F"}),r.createElement("path",{d:"M18.3334 9L11.0001 16.3333L7.66675 13",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},m=function(e){return r.createElement("svg",i({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M8 7V4.66667M8 9.33333H8.00667M6.6 12.8L7.57333 14.0978C7.71808 14.2908 7.79045 14.3873 7.87918 14.4218C7.95689 14.452 8.04311 14.452 8.12082 14.4218C8.20955 14.3873 8.28192 14.2908 8.42667 14.0978L9.4 12.8C9.59543 12.5394 9.69315 12.4091 9.81234 12.3097C9.97126 12.177 10.1589 12.0832 10.3603 12.0357C10.5114 12 10.6743 12 11 12C11.9319 12 12.3978 12 12.7654 11.8478C13.2554 11.6448 13.6448 11.2554 13.8478 10.7654C14 10.3978 14 9.93188 14 9V5.2C14 4.0799 14 3.51984 13.782 3.09202C13.5903 2.71569 13.2843 2.40973 12.908 2.21799C12.4802 2 11.9201 2 10.8 2H5.2C4.0799 2 3.51984 2 3.09202 2.21799C2.71569 2.40973 2.40973 2.71569 2.21799 3.09202C2 3.51984 2 4.07989 2 5.2V9C2 9.93188 2 10.3978 2.15224 10.7654C2.35523 11.2554 2.74458 11.6448 3.23463 11.8478C3.60218 12 4.06812 12 5 12C5.32572 12 5.48858 12 5.63967 12.0357C5.84113 12.0832 6.02874 12.177 6.18766 12.3097C6.30685 12.4091 6.40457 12.5394 6.6 12.8Z",stroke:"#116DE3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},y=function(e){return r.createElement("svg",i({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{clipPath:"url(#clip0_2637_5951)"},r.createElement("path",{d:"M10.0001 5.00008V10.0001L13.3334 11.6667M18.3334 10.0001C18.3334 14.6025 14.6025 18.3334 10.0001 18.3334C5.39771 18.3334 1.66675 14.6025 1.66675 10.0001C1.66675 5.39771 5.39771 1.66675 10.0001 1.66675C14.6025 1.66675 18.3334 5.39771 18.3334 10.0001Z",stroke:"#666666",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_2637_5951"},r.createElement("rect",{width:"20",height:"20",fill:"white"}))))},g=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),r.createElement("g",{id:"ic/warning-circle",clipPath:"url(#clip0_744_2187)"},r.createElement("path",{id:"Icon",d:"M8.00065 5.33334V8.00001M8.00065 10.6667H8.00732M14.6673 8.00001C14.6673 11.6819 11.6826 14.6667 8.00065 14.6667C4.31875 14.6667 1.33398 11.6819 1.33398 8.00001C1.33398 4.31811 4.31875 1.33334 8.00065 1.33334C11.6826 1.33334 14.6673 4.31811 14.6673 8.00001Z",stroke:"#D41F00",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_744_2187"},r.createElement("rect",{width:"16",height:"16",fill:"white"}))))},b=function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"15",viewBox:"0 0 18 15",fill:"none"},r.createElement("path",{d:"M0 9.86842C0 8.03021 1.00169 6.41771 2.50712 5.51147C2.91656 2.40316 5.66743 0 9 0C12.3325 0 15.0834 2.40316 15.4928 5.51147C16.9983 6.41771 18 8.03021 18 9.86842C18 12.5697 15.8369 14.7834 13.0909 14.9851L4.90909 15C2.16309 14.7834 0 12.5697 0 9.86842ZM12.9668 13.4106C14.8759 13.2705 16.3636 11.7285 16.3636 9.86842C16.3636 8.62658 15.6996 7.497 14.6267 6.85113L13.9675 6.45426L13.8696 5.71056C13.5601 3.3616 11.4781 1.57895 9 1.57895C6.52186 1.57895 4.43984 3.3616 4.13043 5.71056L4.03246 6.45426L3.37327 6.85113C2.30037 7.497 1.63636 8.62658 1.63636 9.86842C1.63636 11.7285 3.12409 13.2705 5.03321 13.4106L5.175 13.4211H12.825L12.9668 13.4106ZM9.81818 8.68421V11.8421H8.18182V8.68421H5.72727L9 4.73684L12.2727 8.68421H9.81818Z",fill:"#666666"}))},_=function(e){return r.createElement("svg",i({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),r.createElement("path",{d:"M4 6L8 10L12 6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},w=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"},e),r.createElement("path",{d:"M12 3C12.4142 3 12.75 3.33579 12.75 3.75V6.9L16.66 4.16303C16.8296 4.04426 17.0635 4.08553 17.1822 4.2552C17.2263 4.31823 17.25 4.39331 17.25 4.47025V13.5298C17.25 13.7368 17.0821 13.9048 16.875 13.9048C16.798 13.9048 16.723 13.8811 16.66 13.837L12.75 11.1V14.25C12.75 14.6642 12.4142 15 12 15H1.5C1.08579 15 0.75 14.6642 0.75 14.25V3.75C0.75 3.33579 1.08579 3 1.5 3H12ZM5.55 6.6215C5.40503 6.6215 5.28407 6.72433 5.2561 6.86104L5.25 6.9215V11.0785C5.25 11.1356 5.26627 11.1914 5.29691 11.2396C5.37473 11.3619 5.52643 11.4087 5.65679 11.3589L5.71106 11.3316L8.97727 9.25312C9.01433 9.2295 9.04575 9.19807 9.0693 9.1611C9.14715 9.03877 9.12533 8.8815 9.02497 8.78452L8.97727 8.74688L5.71106 6.6684C5.66293 6.63777 5.60705 6.6215 5.55 6.6215Z",fill:"white"}))},E=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"},e),r.createElement("path",{d:"M8.99984 17.3333C4.39746 17.3333 0.666504 13.6023 0.666504 8.99996C0.666504 4.39758 4.39746 0.666626 8.99984 0.666626C13.6022 0.666626 17.3332 4.39758 17.3332 8.99996C17.3332 13.6023 13.6022 17.3333 8.99984 17.3333ZM6.49984 6.49996V11.5H11.4998V6.49996H6.49984Z",fill:"white"}))},S=function(e){return r.createElement("svg",i({width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M1.25 0.25H14.75C15.1642 0.25 15.5 0.58579 15.5 1V13C15.5 13.4142 15.1642 13.75 14.75 13.75H1.25C0.83579 13.75 0.5 13.4142 0.5 13V1C0.5 0.58579 0.83579 0.25 1.25 0.25ZM8 9.25V10.75H12.5V9.25H8ZM5.31066 7L3.18934 9.1213L4.25 10.1819L7.43195 7L4.25 3.81802L3.18934 4.87868L5.31066 7Z",fill:"#116DE3"}))}},55956:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r,i=n(1310);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(a(r={},i.Z.o.key,{key:i.Z.o.key,title:"MCQ_QUESTION",titleSingular:"MCQ_QUESTION_SINGULAR",submissionUrl:"/AJAX/mcq-submission-view/"}),a(r,i.Z.s.key,{key:i.Z.s.key,titleSingular:"SUBJECTIVE_QUESTION_SINGULAR",title:"SUBJECTIVE_QUESTION",submissionUrl:"/AJAX/generic-subjective-cbv/"}),a(r,i.Z.p.key,{key:i.Z.p.key,title:"PROGRAMMING_QUESTION",titleSingular:"PROGRAMMING_QUESTION_SINGULAR"}),a(r,i.Z.u.key,{key:i.Z.u.key,title:"FRONTEND_QUESTION",titleSingular:"FRONTEND_QUESTION_SINGULAR"}),a(r,i.Z.a.key,{key:i.Z.a.key,title:"APPROXIMATE_QUESTION",titleSingular:"APPROXIMATE_QUESTION_SINGULAR"}),a(r,i.Z.g.key,{key:i.Z.g.key,title:"GOLF_QUESTION",titleSingular:"GOLF_QUESTION_SINGULAR"}),a(r,i.Z.f.key,{key:i.Z.f.key,submissionUrl:"/AJAX/file-submission-view/",title:"FILE_UPLOAD_QUESTION",titleSingular:"FILE_UPLOAD_QUESTION_SINGULAR"}),a(r,i.Z.q.key,{key:i.Z.q.key,title:"SQL_QUESTION",titleSingular:"SQL_QUESTION_SINGULAR"}),a(r,i.Z.l.key,{key:i.Z.l.key,submissionUrl:"/AJAX/ml-submission-view/",title:"ML_QUESTION",titleSingular:"ML_QUESTION_SINGULAR"}),a(r,i.Z.dg.key,{key:i.Z.dg.key,submissionUrl:"/AJAX/generic-diagram-cbv/",title:"DIAGRAM_QUESTION",titleSingular:"DIAGRAM_QUESTION_SINGULAR"}),a(r,i.Z.prj.key,{key:i.Z.prj.key,title:"JPQ_QUESTION",titleSingular:"JPQ_QUESTION_SINGULAR"}),a(r,i.Z.prc.key,{key:i.Z.prc.key,title:"CPQ_QUESTION",titleSingular:"CPQ_QUESTION_SINGULAR"}),a(r,i.Z.prp.key,{key:i.Z.prp.key,title:"PPQ_QUESTION",titleSingular:"PPQ_QUESTION_SINGULAR"}),a(r,i.Z.rf.key,{key:i.Z.rf.key,submissionUrl:"/AJAX/rf-submission-view/",title:"RAPIDFIRE_QUESTION",titleSingular:"RAPIDFIRE_QUESTION_SINGULAR"}),a(r,i.Z.fs.key,{key:i.Z.fs.key,title:"FULLSTACK_QUESTION",titleSingular:"FULLSTACK_QUESTION_SINGULAR"}),a(r,i.Z.sl.key,{key:i.Z.sl.key,title:"SELENIUM_QUESTION",titleSingular:"SELENIUM_QUESTION_SINGULAR"}),a(r,i.Z.ds.key,{key:i.Z.ds.key,title:"DATA_SCIENCE_QUESTION",titleSingular:"DATA_SCIENCE_QUESTION_SINGULAR"}),a(r,i.Z.do.key,{key:i.Z.do.key,title:"DEVOPS_QUESTION",titleSingular:"DEVOPS_QUESTION_SINGULAR"}),r)},44269:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r,i=n(1310);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}a(r={},i.Z.o.key,{key:i.Z.o.key,title:"Multiple Choice Questions",submissionUrl:"/AJAX/mcq-submission-view/"}),a(r,i.Z.s.key,{key:i.Z.s.key,titleSingular:"Multiple Choice Question",title:"Multiple Choice Questions",submissionUrl:"/AJAX/generic-subjective-cbv/"}),a(r,i.Z.p.key,{key:i.Z.p.key}),a(r,i.Z.u.key,{key:i.Z.u.key}),a(r,i.Z.a.key,{key:i.Z.a.key}),a(r,i.Z.g.key,{key:i.Z.g.key}),a(r,i.Z.f.key,{key:i.Z.f.key,submissionUrl:"/AJAX/file-submission-view/"}),a(r,i.Z.d.key,{key:i.Z.d.key,submissionUrl:"/AJAX/android-submission-view/"}),a(r,i.Z.ds.key,{key:i.Z.ds.key}),a(r,i.Z.mr.key,{key:i.Z.mr.key}),a(r,i.Z.q.key,{key:i.Z.q.key}),a(r,i.Z.l.key,{key:i.Z.l.key,submissionUrl:"/AJAX/ml-submission-view/"}),a(r,i.Z.prj.key,{key:i.Z.prj.key}),a(r,i.Z.prc.key,{key:i.Z.prc.key}),a(r,i.Z.prp.key,{key:i.Z.prp.key}),a(r,i.Z.fs.key,{key:i.Z.fs.key}),a(r,i.Z.dg.key,{key:i.Z.dg.key,submissionUrl:"/AJAX/generic-diagram-cbv/"}),a(r,i.Z.rf.key,{key:i.Z.rf.key,submissionUrl:"/AJAX/rf-submission-view/"});var s="completed";function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===u(o)?o:String(o)),r)}var i,o}const l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"modifyJSONAndSetIndexAndNext",value:function(e){var t=0,n=0,r=null,i=function(i,o,a,s){r||(r=e.currentProblemHash||i.problem_private_url_hash),t+=1,i.indx=t,n+=Number(i.max_marks)||0,i.isTimedSection=o,i.sectionTime=a,i.sectionName=s},o=e.timed_sections,a=void 0===o?[]:o,s=e.other_sections,u=void 0===s?[]:s;return a.forEach((function(e){(e.sections||[]).forEach((function(e){var t=e.problems,n=e.sectionTime,r=e.name;t.forEach((function(e){i(e,!0,n,r)}))}))})),u.forEach((function(e){var t=e.sections||[],n=e.non_section_problems||[];t.forEach((function(e){var t=e.problems,n=e.sectionTime,r=e.name;t.forEach((function(e){i(e,!1,n,r)}))})),n.forEach((function(e){i(e,!1)}))})),e.totalProblems=t,e.sumOfMarks=n,e.firstActiveHash=r,e}},{key:"getTimedSectionDetails",value:function(e){var t=e.timed_sections,n=[],r=[];return(void 0===t?[]:t).forEach((function(e){(e.sections||[]).forEach((function(e){r.push(e.sectionId),e.status===s&&n.push(e.sectionId)}))})),{completedTimedSections:n,allTimedSectionIds:r}}},{key:"getSectionDetailsFromHash",value:function(e,t){var n,r=t.timed_sections,i=void 0===r?[]:r,o=t.other_sections,a=void 0===o?[]:o,s=null,u=function(t){t.forEach((function(t){(t.sections||[]).forEach((function(t){var r=t.sectionId,i=t.sectionTime;(null==t?void 0:t.problems).forEach((function(t){!function(t,r,i){t===e&&(s=r,n=i)}(t.problem_private_url_hash,r,i)}))}))}))};return u(i),u(a),{sectionId:s,sectionTime:n}}}],(n=null)&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},68855:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(2363);var i=function(e){var t=e.title,n=e.url;return r.createElement("span",{className:"logo-wrapper"},r.createElement("img",{alt:t,src:n,className:"logo"}))}},3855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(2363),i=n(69348),o=n.n(i);n(85680);var a=function(e){var t=e.list;return t&&t.length?r.createElement("ul",{className:"dropdown-list"},t.map((function(e,t){var n=e.link,i=e.onClick,a=e.title,s=e.isSelected,u=e.html;return u?r.createElement("li",{key:t,role:"presentation",className:o()("dropdown-item-wrapper",{selected:s}),onClick:i,onKeyDown:i},r.createElement("div",{className:"dropdown-item"},u)):r.createElement("li",{key:a,className:o()("dropdown-item-wrapper")},n?s?r.createElement("button",{type:"button",className:o()("dropdown-item btn-plain width-100",{selected:s})},a):r.createElement("a",{className:"dropdown-item width-100",href:n},a):r.createElement("button",{type:"button",className:"dropdown-item btn-plain width-100",onClick:s?function(){}:i},a))}))):null};a.propTypes={};const s=a},92027:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(2363);var i=function(e){var t=e.children;return r.createElement("div",{className:"center"},t)}},94752:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var r=n(2363);var i=function(e){var t=e.children;return r.createElement("header",{className:"header-wrapper"},t)}},72007:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(2363);var i=function(e){var t=e.children;return r.createElement("div",{className:"left"},t)}},91223:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(2363);var i=function(e){var t=e.children;return r.createElement("div",{className:"right"},t)}},92833:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(2363);var i=function(){return r.createElement("span",{className:"border-seperator"})}},66631:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var r=n(2363),i=n(58242);var o=function(){var e=(window.AppTextConstants||{}).candidateExperience.header,t=e.PREVIEW,n=e.PREVIEW_TOOLTIP;return r.createElement(i.u,{multiline:!0,position:"bottom",ariaLabel:n,klass:"margin-left-24"},r.createElement("span",{className:"preview-mode"},t))}},48980:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(2363);var i=function(e){var t=e.label,n=e.progress;return r.createElement("div",{className:"progressbar-wrapper"},r.createElement("div",{className:"progressbar-label margin-right-16"},t),r.createElement("div",{className:"progressbar-container"},r.createElement("div",{className:"progressbar",style:{width:"".concat(n,"%")}})))}},40530:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(2363),i=n(69348),o=n.n(i);var a=function(e){var t=e.hours,n=e.minutes,i=e.seconds,a=e.showWarning;return r.createElement("div",{className:o()("timer",{"timer-warning-color":a})},null==t?void 0:t.split("").map((function(e){return r.createElement("span",{className:"timer-span inline-block"},e)})),r.createElement("span",{className:"margin-left-4 margin-right-4"},":"),null==n?void 0:n.split("").map((function(e){return r.createElement("span",{className:"timer-span inline-block"},e)})),r.createElement("span",{className:"margin-left-4 margin-right-4"},":"),null==i?void 0:i.split("").map((function(e){return r.createElement("span",{className:"timer-span inline-block"},e)})))}},63382:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i;function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{ZP:()=>f});var a=window.assessmentObj,s=(void 0===a?{}:a).isHighFrequencySnapshotEnabled,u=void 0!==s&&s,c={snapshotCounter:0,previousSnap:null,logWebcamIssueAfterConsecutiveTries:3,imageRatio:3/4,cameraWidth:160,snapShotWidth:613.3333333333334,snapShotHeight:460,minSnapTime:u?2:8,maxSnapTime:u?3:12,waitTimeToRetryLoadingWorker:120,waitTimeToFallbackToPrevFlow:300,offscreenCanvasHeight:640,offscreenCanvasWidth:480,screenshotFormat:"image/jpeg",screenshotQuality:.92};c.cameraHeight=c.cameraWidth*c.imageRatio;var l=1;o(i={},0,"person"),o(i,l,"cell phone");const f=c},50589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(38025),i=n(90470),o=n(63382),a=n(23206);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var d,p,h,v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorCallback=null}var t,n,s;return t=e,s=[{key:"takeSnapshotAfter",value:function(e,t){return 1e3*(Math.random()*(e-t)+t)}},{key:"takeSnapshot",value:function(t,n){var r=o.ZP.snapshotCounter,a=o.ZP.previousSnap,s=o.ZP.snapShotWidth,u=o.ZP.snapShotHeight;this.errorCallback=t;try{var c=n.current.getScreenshot({width:s,height:u});if(0!==r&&c===a)return(0,i.R)({origin:"react-webcam-error",error:"prev and current image are same"}),console.log("prev and current image are same - updated pkg"),t(),void e.snapshotHandler.clearInterval();o.ZP.previousSnap=c,o.ZP.snapshotCounter+=1,e.getPresignedUrl(c,n)}catch(n){if(e.snapshotHandler.clearInterval(),t(),null==n?void 0:n.message)return void(0,i.R)({origin:"react-webcam-error",error:n.message});(0,i.R)({origin:"react-webcam-error",error:n})}}},{key:"getPresignedUrl",value:function(t,n){e.getPresignedUrlReq().then((function(r){var i=r.data;if(i&&Object.keys(i).length){var o="PUT"===i.method?e.PUTImageToS3(i.requestData,t):e.POSTImageToS3(i.requestData,t);o.then((function(){e.afterUploadUrl(i.requestData.filename,n)})),o.catch((function(e){var n;console.error("Error in uploading image to s3",e),console.error(null==e||null===(n=e.response)||void 0===n?void 0:n.data,i.requestData,t)}))}})).catch((function(e){var t;console.error("Pre-signed req failed",e),console.error(null==e||null===(t=e.response)||void 0===t?void 0:t.data)}))}},{key:"getPresignedUrlReq",value:function(){var e=(window.headerObj||{}).eventSlug,t=(0,a.D$)(e);return(0,r.uL)(t)}},{key:"base64DecToArr",value:function(e,t){for(var n,r,i,o=e.replace(/[^A-Za-z0-9\+\/]/g,""),a=o.length,s=t?Math.ceil((3*a+1>>2)/t)*t:3*a+1>>2,u=new Uint8Array(s),c=0,l=0,f=0;f<a;f++)if(r=3&f,c|=((i=o.charCodeAt(f))>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:0)<<18-6*r,3===r||a-f==1){for(n=0;n<3&&l<s;n++,l++)u[l]=c>>>(16>>>n&24)&255;c=0}return u}},{key:"PUTImageToS3",value:function(t,n){var i=n.replace(/^data\:image\/\w+\;base64\,/,"");return(0,r.R3)(t.url,e.base64DecToArr(i),{headers:{"Content-Type":"binary/octet-stream","x-amz-acl":"public-read",crossDomain:"true",processData:"false"}})}},{key:"POSTImageToS3",value:function(t,n){var i=n.replace(/^data\:image\/\w+\;base64\,/,""),o=new FormData;return Object.entries(t.fields).forEach((function(e){var t=u(e,2),n=t[0],r=t[1];o.append(n,r)})),o.append("file",new Blob([e.base64DecToArr(i)],{type:"image/jpeg"})),(0,r.e$)(t.url,o,{"Content-Type":"multipart/form-data"})}},{key:"afterUploadUrl",value:function(t,n){var r=this,i=o.ZP.minSnapTime,a=o.ZP.maxSnapTime,s=e.takeSnapshotAfter(i,a);e.snapshotHandler.setInterval((function(){e.takeSnapshot(r.errorCallback,n)}),s)}}],(n=null)&&l(t.prototype,n),s&&l(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();d=v,p="snapshotHandler",h={_handler:null,setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){this.clearInterval(),this._handler=setInterval(e,t)})),clearInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!=this._handler&&(clearInterval(this._handler),this._handler=null)}))},(p=f(p))in d?Object.defineProperty(d,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[p]=h;const m=v},73847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(2363),i=n(33258),o=(n(85680),n(76441)),a=n(97328),s=n(88691),u=n(47422),c=n(94098),l=n(3855),f=n(67824),d=n(60509),p=n(77383),h=n(84756);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var m;function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===v(o)?o:String(o)),r)}var i,o}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function w(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var E=(m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(h,e);var t,n,i,o=b(h);function h(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=o.call(this,e)).state={isOpen:!1,componentIDToOpenInModal:null,hasError:!1},t.hubspotRef=(0,r.createRef)();var n=window.testExperienceApp||{};return n.help=n.help||{},n.help.showJudgeEnvironment=t.forceShowJudgeEnvironment,t}return t=h,i=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(n=[{key:"setComponentToOpenInModal",value:function(e){this.handleHideOptions(),this.setState({componentIDToOpenInModal:e})}},{key:"getListOfOptions",value:function(){var e=this,t=[],n=AppTextConstants.candidateExperience,i=(void 0===n?{}:n).instructions,o=(void 0===i?{}:i).dropdownOptions,a=void 0===o?{}:o,s=a.supportText,u=void 0===s?"":s,l=a.testInstructionText,f=void 0===l?"":l,p=a.judgeText,h=void 0===p?"":p,v=a.questionText,m=this.props.instructions.question_type,y=void 0===m?{}:m,g=!1,b=!1;y&&Object.keys(y).length&&(g=!!y[d.vK.p.key],b=!!y[d.vK.l.key]||!!y[d.vK.ds.key]);var _=r.createElement("button",{type:"button",className:"btn-plain width-100"},r.createElement("i",{className:"icon ui-browser-s margin-right-16 vertical-align-middle"}),f);if(t.push({html:_,onClick:function(){return e.setComponentToOpenInModal(d.pr.TI)}}),g){var w=r.createElement("button",{type:"button",className:"btn-plain width-100"},r.createElement("i",{className:"icon ui-code-editor-s margin-right-16 vertical-align-middle"}),h);t.push({html:w,onClick:function(){return e.setComponentToOpenInModal(d.pr.JE)}})}if(b){var E=r.createElement("button",{type:"button",className:"btn-plain width-100"},r.createElement("i",{className:"icon ui-task-s margin-right-16 vertical-align-middle question-specific-icon"}),v);t.push({html:E,onClick:function(){return e.setComponentToOpenInModal(d.pr.QI)}})}var S=r.createElement(c.M,{parentUnmounts:!0,ref:this.hubspotRef},r.createElement("i",{className:"icon ui-question-mark-o margin-right-16 vertical-align-middle"}),u);return t.push({html:S,onClick:function(){e.hubspotRef.current.click()}}),t}},{key:"handleHideOptions",value:function(){this.setState({isOpen:!1})}},{key:"handleShowOptions",value:function(){return this.setState({isOpen:!0}),this.fetchInstructionsData()}},{key:"handleZendeskOptionClick",value:function(){this.handleHideOptions(),this.setComponentToOpenInModal(null)}},{key:"fetchInstructionsData",value:function(){var e=this.props,t=e.instructions,n=e.fetchInstructions,r=e.eventSlug;return t&&Object.keys(t).length?Promise.resolve():n({url:p.Z.getAllInstructions({slug:r})})}},{key:"duringTestComponent",value:function(){var e=this.state,t=e.isOpen,n=e.componentIDToOpenInModal,i=this.props,o=i.isLoading,c=i.error,d=AppTextConstants.candidateExperience,p=void 0===d?{}:d,h=p.instructions,v=(void 0===h?{}:h).fallBackMessage,m=void 0===v?"":v,y=p.header.HELP_TEXT,g=null;return g=t&&o?r.createElement("div",{className:"help-popup-wrapper"},r.createElement(s.u,null)):t&&c?r.createElement("div",{className:"padding-20"},m):r.createElement(l.Z,{list:this.getListOfOptions()}),r.createElement(r.Fragment,null,t&&r.createElement(u.i,{isFocusTrapActive:t},r.createElement("div",{className:"relative"},r.createElement(a.S,{show_popup:t,closePopup:this.handleHideOptions,hideIfInsideClick:!0,pointer:"right",klass:"help-popup-wrapper"},g))),r.createElement("button",{type:"button",className:"help-wrapper btn-plain","aria-label":y,onClick:this.handleShowOptions},r.createElement("i",{className:"icon ui-question-mark-o"})),n&&r.createElement(f.Z,{componentID:n,onClose:this.handleZendeskOptionClick}))}},{key:"forceShowJudgeEnvironment",value:function(){var e=this;this.handleShowOptions().then((function(){e.setComponentToOpenInModal(d.pr.JE)})).catch((function(){})).finally((function(){e.handleHideOptions()}))}},{key:"render",value:function(){return this.state.hasError?null:r.createElement("div",{className:"help-container"},this.duringTestComponent())}}])&&y(t.prototype,n),i&&y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.PureComponent),w(m.prototype,"setComponentToOpenInModal",[o.Nj],Object.getOwnPropertyDescriptor(m.prototype,"setComponentToOpenInModal"),m.prototype),w(m.prototype,"getListOfOptions",[o.Nj],Object.getOwnPropertyDescriptor(m.prototype,"getListOfOptions"),m.prototype),w(m.prototype,"handleHideOptions",[o.Nj],Object.getOwnPropertyDescriptor(m.prototype,"handleHideOptions"),m.prototype),w(m.prototype,"handleShowOptions",[o.Nj],Object.getOwnPropertyDescriptor(m.prototype,"handleShowOptions"),m.prototype),w(m.prototype,"handleZendeskOptionClick",[o.Nj],Object.getOwnPropertyDescriptor(m.prototype,"handleZendeskOptionClick"),m.prototype),w(m.prototype,"fetchInstructionsData",[o.Nj],Object.getOwnPropertyDescriptor(m.prototype,"fetchInstructionsData"),m.prototype),w(m.prototype,"duringTestComponent",[o.Nj],Object.getOwnPropertyDescriptor(m.prototype,"duringTestComponent"),m.prototype),w(m.prototype,"forceShowJudgeEnvironment",[o.Nj],Object.getOwnPropertyDescriptor(m.prototype,"forceShowJudgeEnvironment"),m.prototype),m);E.propTypes={};const S=(0,i.$j)((function(e){return{isLoading:e.helpReducer.instructionsReducer.isLoading,error:e.helpReducer.instructionsReducer.error,instructions:e.helpReducer.instructionsReducer.instructions}}),(function(e){return{fetchInstructions:function(t){return e(h.e.HelpActions.InstructionsActions.fetchInstructions(t))}}}))(E)},67824:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var r=n(2363),i=n(76441),o=(n(85680),n(7178)),a=n(70363),s=n(78252),u=n(33258),c=n(86300);const l=(0,u.$j)((function(e){return{isLoading:e.helpReducer.instructionsReducer.isLoading,error:e.helpReducer.instructionsReducer.error,instructions:e.helpReducer.instructionsReducer.instructions}}),null)(c.Z);var f=n(90003);const d=(0,u.$j)((function(e){return{isLoading:e.helpReducer.instructionsReducer.isLoading,error:e.helpReducer.instructionsReducer.error,instructions:e.helpReducer.instructionsReducer.instructions}}),null)(f.Z);var p=n(88691),h=n(84756),v=n(77383);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===m(o)?o:String(o)),r)}var i,o}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,i,o=b(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.fetchJudgeEnvironmentData;t||n({url:v.Z.getJudgeContent()})}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.error,i=e.data,o=void 0===i?{}:i,a=AppTextConstants.candidateExperience,s=(void 0===a?{}:a).instructions,u=void 0===s?{}:s,c=u.fallBackMessage,l=void 0===c?"":c,f=u.noContentMessage,d=void 0===f?"":f,h=u.dropdownOptions,v=(void 0===h?{}:h).judgeText,m=void 0===v?"":v;return t?r.createElement(p.u,null):n?r.createElement("div",null,l):o&&o.html?r.createElement("div",{className:"judge-environment instructions"},r.createElement("div",{className:"title"},m),r.createElement("div",{className:"judge-content",dangerouslySetInnerHTML:{__html:o.html}})):d}}])&&y(t.prototype,n),i&&y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);w.propTypes={};const E=(0,u.$j)((function(e){return{isLoading:e.helpReducer.judgeEnvironmentReducer.isLoading,error:e.helpReducer.judgeEnvironmentReducer.error,data:e.helpReducer.judgeEnvironmentReducer.data}}),(function(e){return{fetchJudgeEnvironmentData:function(t){return e(h.e.HelpActions.JudgeEnvironmentActions.fetchJudgeEnvironmentData(t))}}}))(w);var S,T=n(69348),C=n.n(T),O=n(60509);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function A(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var x,D,L,M,j,U,F=(S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,n,i,o=R(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleOnClick",value:function(e){(0,this.props.onClick)(e)}},{key:"render",value:function(){var e=this,t=AppTextConstants.candidateExperience,n=(void 0===t?{}:t).instructions,i=(void 0===n?{}:n).dropdownOptions,o=void 0===i?{}:i,a=o.testInstructionText,s=void 0===a?"":a,u=o.judgeText,c=void 0===u?"":u,l=o.questionText,f=this.props,d=f.selectedComponentId,p=f.instructions.question_type,h=void 0===p?{}:p,v=!1,m=!1;h&&Object.keys(h).length&&(v=!!h[O.vK.p.key],m=!!h[O.vK.l.key]||!!h[O.vK.ds.key]);var y,g,b,_=(y={},g=O.pr.TI,b={key:O.pr.TI,text:s,icon:"icon ui-browser-s"},(g=A(g))in y?Object.defineProperty(y,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[g]=b,y);return v&&(_[O.pr.JE]={key:O.pr.JE,text:c,icon:"icon ui-code-editor-s"}),m&&(_[O.pr.QI]={key:O.pr.QI,text:l,icon:"icon ui-task-s"}),r.createElement("ul",{className:"instruction-modal-left"},Object.keys(_).map((function(t){var n=_[t];return r.createElement("li",{key:n.key,onClick:function(){e.handleOnClick(n.key)},role:"presentation",className:C()({selected:n.key===d})},r.createElement("i",{className:C()("margin-right-8 vertical-align-middle",n.icon)}),n.text)})))}}])&&k(t.prototype,n),i&&k(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent),x=S.prototype,D="handleOnClick",L=[i.Nj],M=Object.getOwnPropertyDescriptor(S.prototype,"handleOnClick"),j=S.prototype,U={},Object.keys(M).forEach((function(e){U[e]=M[e]})),U.enumerable=!!U.enumerable,U.configurable=!!U.configurable,("value"in U||U.initializer)&&(U.writable=!0),U=L.slice().reverse().reduce((function(e,t){return t(x,D,e)||e}),U),j&&void 0!==U.initializer&&(U.value=U.initializer?U.initializer.call(j):void 0,U.initializer=void 0),void 0===U.initializer&&(Object.defineProperty(x,D,U),U=null),S);F.propTypes={};const B=(0,u.$j)((function(e){return{instructions:e.helpReducer.instructionsReducer.instructions}}),null)(F);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}var H;function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===V(o)?o:String(o)),r)}var i,o}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var i=q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function $(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var K=(H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(c,e);var t,n,i,u=W(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this,e)).state={componentIDToOpenInModal:e.componentID},t}return t=c,(n=[{key:"componentDidMount",value:function(){this.getComponentInModalToShow()}},{key:"getComponentInModalToShow",value:function(){var e=this.state.componentIDToOpenInModal;return O.pr.TI===e?r.createElement(l,null):O.pr.JE===e?r.createElement(E,null):O.pr.QI===e?r.createElement(d,null):null}},{key:"handleOnClick",value:function(e){this.setState({componentIDToOpenInModal:e})}},{key:"render",value:function(){var e=this.state.componentIDToOpenInModal,t=this.props.onClose,n=this.getComponentInModalToShow();return n?r.createElement(o.Z,{show:!0,onClose:t,className:"help-modal-wrapper",sm:s.Z.small.sm,md:s.Z.small.md,lg:s.Z.small.lg,xl:s.Z.small.xl,hideEsc:!1},r.createElement(a.Z,null,r.createElement("div",{className:"help-modal-container"},r.createElement(B,{selectedComponentId:e,onClick:this.handleOnClick}),r.createElement("div",{className:"instruction-modal-body"},n)))):null}}])&&z(t.prototype,n),i&&z(t,i),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component),$(H.prototype,"getComponentInModalToShow",[i.Nj],Object.getOwnPropertyDescriptor(H.prototype,"getComponentInModalToShow"),H.prototype),$(H.prototype,"handleOnClick",[i.Nj],Object.getOwnPropertyDescriptor(H.prototype,"handleOnClick"),H.prototype),H);K.propTypes={};const Q=K},90003:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(2363),i=(n(85680),n(76441)),o=n(88691),a=n(28340),s=n(60509),u=n(64173),c=n(44313),l=n(80292),f=n(17925),d={"Python 2":["Backports.functools-lru-cache 1.5","Blis 0.2.4","Certifi 2019.3.9","Chardet 3.0.4","Cycler 0.10.0","Cymem 2.0.2","Dask 1.2.2","Functools32 3.2.3.post2","Idna 2.8","Jsonschema 2.6.0","Kiwsolver 1.1.0","Lightgbm 2.2.3","Matplotlib 2.2.4","Murmurhash 1.0.2","Nltk 3.4.1","Numpy 1.16.3","Opencv-python 3.4.0.14","Pandas 0.20.3","Pathlib 1.0.1","Patsy 0.5.1","Plac 0.9.6","Preshed 2.0.1","Pyparsing 2.4.2","Python-dateutil 2.6.1","Pytz 2017.2","Requests 2.21.0","Scikit-learn 0.20.4","Scipy 0.19.0","Seaborn 0.9.0","Singledispatch 3.4.0.3","Six 1.10.0","Sklearn 0.0","Spacy 2.1.3","Srsly 0.0.5","Statsmodels 0.9.0","Subprocess32 3.5.4","Thinc 7.0.4","Tqdm 4.31.1","Urllib3 1.24.2","Wasabi 0.2.1","Xgboost 0.82","Imbalanced-learn 0.1.1","Pymeeus 0.5.11","Convertdate 2.2.0","Korean-lunar-calendar 0.2.1","Holidays 0.10.4","Pywavelets 1.0.3","Cloudpickle 1.3.0","Decorator 4.4.2","Networkx 2.2","Pillow 6.2.2","Scikit-image 0.14.5"],"Python 3.10":["Six 1.15.0","Tqdm 4.65.0","Urllib3 1.26.7","Wasabi 0.9.0","Werkzeug 2.0.2","Wrapt 1.12.1","Termcolor 1.1.0","Tensorflow-estimator 2.8.0","Absl-py 0.15.0","Cachetools 4.2.4","Certifi 2021.10.8","Cycler 0.11.0","Gast 0.4.0","Google-pasta 0.2.0","Idna 3.3","Zipp 3.6.0","Importlib-metadata 4.8.3","Markdown 3.3.6","Click 8.0.3","Joblib 1.1.0","Regex 2021.11.10","Nltk 3.6.7","Oauthlib 3.1.1","Protobuf 3.19.1","Pyasn1 0.4.8","Pyasn1-modules 0.2.8","Pyparsing 3.0.6","Rsa 4.8","Charset-normalizer 2.0.10","Requests 2.27.1","Requests-oauthlib 1.3.0","Google-auth 1.35.0","Google-auth-oauthlib 0.4.6","Cymem 2.0.6","Grpcio 1.43.0","Kiwsolver 1.4.4","Murmurhash 1.0.6","Preshed 3.0.6","Python-dateutil 2.8.2","Pytz 2021.3","Numpy 1.22.2","Pandas 1.4.4","H5py 3.8.0","Blis 0.7.5","Opencv-python 4.5.5.62","Catalogue 2.0.6","Srsly 2.4.2","Typing-extensions 3.7.4.3","Pydantic 1.8.2","Thinc 8.0.13","Markupsafe 2.0.1","Jinja2 3.0.3","Langcodes 3.3.0","Packaging 21.3","Typer 0.4.0","Smart-open 5.2.1","Pathy 0.6.1","Spacy-loggers 1.0.1","Spacy-legacy 3.0.8","Spacy 3.2.1","Scipy 1.9.3","Xgboost 1.7.4","Threadpoolctl 3.0.0","Scikit-learn 1.1.3","Keras-preprocessing 1.1.2","Opt-einsum 3.3.0","Sklearn 0.0","Pillow 10.2.0","Contourpy 1.0.7","Fonttools 4.39.4","Matplotlib 3.6.3","Tensorboard-data-server 0.6.1","Tensorboard-plugin-wit 1.8.1","Tensorboard 2.8.0","Seaborn 0.11.2","Astunparse 1.6.3","Flatbuffers 1.12","Keras 2.8.0","Wheel 0.37.1","Libclang 16.0.0","Tensorflow-io-gcs-filesystem 0.32.0","Tensorflow 2.8.4","Cached-property 1.5.2","Immutables 0.19","Contextvars 2.4","Astor 0.8.1","Dask 2.6.0","Jsonschema 2.6.0","Keras-applications 1.0.8","Lightgbm 2.2.3","Plac 0.9.6","Patsy 0.5.2","Statsmodels 0.13.1","Imbalanced-learn 0.8.1","Ipynb 7.31.1","Gensim 4.3.1","Pymeeus 0.5.11","Convertdate 2.4.0","Hijri-converter 2.2.4","Korean-lunar-calendar 0.2.1","Holidays 0.14.2","Tifffile 2023.12.9","Networkx 3.2.1","Lazy-loader 0.3","Imageio 2.33.1","Scikit-image 0.22.0"],"Python 3.8":["Six 1.15.0","Tqdm 4.62.3","Urllib3 1.26.7","Wasabi 0.9.0","Werkzeug 2.0.2","Wrapt 1.12.1","Termcolor 1.1.0","Tensorflow-estimator 2.6.0","Absl-py 0.15.0","Cachetools 4.2.4","Certifi 2021.10.8","Cycler 0.11.0","Gast 0.4.0","Google-pasta 0.2.0","Idna 3.3","Zipp 3.6.0","Importlib-metadata 4.8.3","Markdown 3.3.6","Click 8.0.3","Joblib 1.1.0","Regex 2021.11.10","Nltk 3.6.7","Oauthlib 3.1.1","Protobuf 3.19.1","Pyasn1 0.4.8","Pyasn1-modules 0.2.8","Pyparsing 3.0.6","Rsa 4.8","Charset-normalizer 2.0.10","Requests 2.27.1","Requests-oauthlib 1.3.0","Google-auth 1.35.0","Google-auth-oauthlib 0.4.6","Cymem 2.0.6","Grpcio 1.43.0","Kiwsolver 1.3.1","Murmurhash 1.0.6","Preshed 3.0.6","Python-dateutil 2.8.2","Pytz 2021.3","Numpy 1.19.5","Pandas 1.1.5","H5py 3.1.0","Blis 0.7.5","Opencv-python 4.5.5.62","Catalogue 2.0.6","Srsly 2.4.2","Typing-extensions 3.7.4.3","Pydantic 1.8.2","Thinc 8.0.13","Markupsafe 2.0.1","Jinja2 3.0.3","Langcodes 3.3.0","Packaging 21.3","Typer 0.4.0","Smart-open 5.2.1","Pathy 0.6.1","Spacy-loggers 1.0.1","Spacy-legacy 3.0.8","Spacy 3.2.1","Scipy 1.5.4","Xgboost 1.5.1","Threadpoolctl 3.0.0","Scikit-learn 0.24.2","Keras-preprocessing 1.1.2","Opt-einsum 3.3.0","Sklearn 0.0","Pillow 8.4.0","Matplotlib 3.3.4","Tensorboard-data-server 0.6.1","Tensorboard-plugin-wit 1.8.1","Tensorboard 2.6.0","Seaborn 0.11.2","Astunparse 1.6.3","Flatbuffers 1.12","Keras 2.6.0","Wheel 0.37.1","Clang 5.0","Tensorflow 2.6.2","Cached-property 1.5.2","Immutables 0.16","Contextvars 2.4","Astor 0.8.1","Dask 2.6.0","Jsonschema 2.6.0","Keras-applications 1.0.8","Lightgbm 2.2.3","Plac 0.9.6","Patsy 0.5.2","Statsmodels 0.13.1","Imbalanced-learn 0.8.1","Ipynb 7.31.1","Gensim 4.1.2","Pymeeus 0.5.11","Convertdate 2.4.0","Hijri-converter 2.2.4","Korean-lunar-calendar 0.2.1","Holidays 0.14.2","Pywavelets 1.4.1","Imageio 2.33.1","Networkx 3.1","Tifffile 2023.7.10","Scikit-image 0.19.3"],"R (RScript)":["Pkgconfig","Magrittr","Rlang","Purrr","Glue","Cli","Fansi","Crayon","Utf8","Ellipsis","Generics","Lifecycle","R6","Vctrs","Pillar","Tibble","Tidyselect","Dplyr","Stringi","Stringr","Cpp11","Tidyr","Data.table","Hms","Forcats","Iterators","Foreach","Evaluate","Xfun","Highr","Yaml","Knitr","Rcpp","Plyr","Quadprog","TimeDate","Withr","Zoo","Assertthat","Backports","Bindr","Base64enc","Checkmate","Bbmisc","Bh","Plogr","Bindrcpp","Colorspace","Farver","Labeling","Munsell","Rcolorbrewer","ViridisLite","Digest","Gtable","Isoband","Scales","Ggplot2","Broom","Ps","Processx","Callr","Listenv","Parallelly","Globals","Future","Future.apply","Progressr","Numderiv","Squarem","Lava","Prodlim","Proxy","Gower","Ipred","Lubridate","E1071","Modelmetrics","Proc","Recipes","Reshape2","Caret","Rematch","Cellranger","Curl","Kernlab","Cvst","Dbi","Blob","Dbplyr","Abind","Deoptimr","Magic","Lpsolve","Linprog","Rcppprogress","Robustbase","Sfsmisc","Geometry","Ddalpha","Debugme","Dichromat","Drr","Dimred","Xts","Ttr","Quantmod","Fracdiff","Lmtest","Tseries","Urca","Rcpparmadillo","Forecast","Bit","Prettyunits","Bit64","Progress","Clipr","Tzdb","Vroom","Readr","Haven","Fastmap","Htmltools","Sys","Askpass","Jsonlite","Mime","Openssl","Httr","Igraph","Lazyeval","Markdown","Fastmatch","Paramhelpers","Parallelmap","Xml2","Xml","Mlr","Tmvnsim","Mnormt","Modelr","Nnet","Praise","Psych","Randomforest","Rcpproll","Readxl","Tinytex","Jquerylib","Fs","Rmarkdown","Rstudioapi","Reprex","Rpart","Rprojroot","Selectr","Rvest","Diffobj","Rematch2","Brio","Desc","Pkgload","Waldo","Testthat","Rappdirs","Gargle","Uuid","Ids","Dtplyr","Googledrive","Googlesheets4","Tidyverse","Whisker"]};function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=window.AppTextConstants.preTest.headerConstants.SUPPORTED_LIBRARIES_TERMINAL,m=function(){var e=Object.keys(d).map((function(e){return{value:e,label:e}})),t=e[0],n=p((0,r.useState)(t),2),i=n[0],o=n[1];return r.createElement("section",{className:"supported-libraries"},r.createElement("header",{className:"flex justify-between items-center"},r.createElement("span",{className:"title"},v),r.createElement(c.ZP,{options:e,onChange:function(e){o(e)},defaultValue:t,components:{ClearIndicator:l.k2,DropdownIndicator:l.ms,IndicatorSeparator:l.$},styles:f.Y})),i&&d[i.value]&&r.createElement("ul",{className:"library-list flex padding-0"},d[i.value].map((function(e){return r.createElement("li",{key:e,className:"library-item"},e)}))))};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var g;function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function E(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function O(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var I=(g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(l,e);var t,n,i,c=T(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.apply(this,arguments)}return t=l,n=[{key:"getQuestionSpecificInstructions",value:function(){var e=this.getQuestionSpecificInstructionsObjects(),t=AppTextConstants.candidateExperience,n=(void 0===t?{}:t).instructions,i=(void 0===n?{}:n).questionSpecificInstrucitons,o=(void 0===i?{}:i).TITLE,s=this.props,u=s.instructions,c=(void 0===u?{}:u).question_type,l=void 0===c?{}:c,f=s.isReadInstructionsPage,d=void 0!==f&&f;return r.createElement(r.Fragment,null,e&&e.length>0&&r.createElement("div",{className:"question-specific-instructions instructions"},r.createElement("div",{className:"title bold"},o),e.map((function(e){return r.createElement("div",{key:e.TITLE},r.createElement("div",{className:"sub-title"},e.TITLE),a.Z.formTestInstructionHTML(e.instructions))}))),!d&&(null==l?void 0:l.ds)&&r.createElement(m,null))}},{key:"getQuestionSpecificInstructionsObjects",value:function(){var e=(window.AppTextConstants||{}).candidateExperience,t=(void 0===e?{}:e).instructions,n=(void 0===t?{}:t).questionSpecificInstrucitons,r=(void 0===n?{}:n).instructions,i=void 0===r?{}:r,o=this.props.instructions,a=(void 0===o?{}:o).question_type,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},void 0===a?{}:a),l=Object.keys(c).filter((function(e){return e===u.jd.MACHINE_LEARNING||e===u.jd.DATASCIENCE||e===u.jd.SUBJECTIVE||e===u.jd.SELENIUM}));if(l.length){var f=Object.keys(s.Y6),d=l.filter((function(e){return!0===c[e]}));return f.filter((function(e){return d.indexOf(e)>-1})).map((function(e){return i[s.Y6[e]]}))}return null}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.error,i=e.instructions,a=(void 0===i?{}:i).question_type,s=void 0===a?{}:a,u=AppTextConstants.candidateExperience,c=(void 0===u?{}:u).instructions,l=(void 0===c?{}:c).fallBackMessage,f=void 0===l?"":l,d=Object.keys(s).length>0;return t?r.createElement(o.u,null):n||!d?r.createElement("div",null,f):this.getQuestionSpecificInstructions()}}],n&&w(t.prototype,n),i&&w(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component),O(g.prototype,"getQuestionSpecificInstructions",[i.Nj],Object.getOwnPropertyDescriptor(g.prototype,"getQuestionSpecificInstructions"),g.prototype),O(g.prototype,"getQuestionSpecificInstructionsObjects",[i.Nj],Object.getOwnPropertyDescriptor(g.prototype,"getQuestionSpecificInstructionsObjects"),g.prototype),g);I.propTypes={};const k=I},86300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(2363),i=(n(85680),n(76441)),o=n(88691),a=n(60509),s=n(28340);const u=function(){function e(){var e=document.querySelectorAll("img, iframe"),t=new window.IntersectionObserver((function(e,t){e.forEach((function(e){var n=e;n.isIntersecting&&n.target.getAttribute("data-src")&&(n.target.src=n.target.getAttribute("data-src"),n.target.removeAttribute("data-src"),t.unobserve(n.target))}))}),{});return Array.prototype.map.call(e,(function(e){t.observe(e)})),t}var t;if(!("IntersectionObserver"in window)){var n=document.createElement("script");return n.src="https://polyfill.io/v2/polyfill.min.js?features=IntersectionObserver",document.head.appendChild(n),void(n.onload=function(){t=e()})}return t=e(),function(e){var n=null==e?void 0:e.querySelectorAll("img, iframe");Array.prototype.map.call(n,(function(e){t.observe(e)}))}};function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l;function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===c(o)?o:String(o)),r)}var i,o}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(l,e);var t,n,i,c=p(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.apply(this,arguments)}return t=l,(n=[{key:"componentDidMount",value:function(){u()}},{key:"getGeneralInstructions",value:function(){var e=AppTextConstants.candidateExperience,t=(void 0===e?{}:e).instructions,n=void 0===t?{}:t,i=n.testInstructions.TITLE,o=n.generalInstructions,s=(void 0===o?{}:o).instructions,u=void 0===s?{}:s,c=u.PROBLEMS_INFO,l=u.SURPRISE_QUESTION_INFO,f=u.DURATION_INFO,d=u.PROCTORING_INFO_TECH,p=u.PROCTORING_INFO_NON_TECH,h=u.QUESTION,v=u.QUESTIONS,m=u.TIMED_SECTION_INFO,y=u.TIMED_SECTION_STARTING_SECTION_INFO,g=u.TEST_SECTION_INFO,b=u.TEST_QUESTIONS_INFO,_=u.TEST_TIMED_SECTION_INFO,w=u.TEST_TOTAL_SCORE_INFO,E=this.props.instructions,S=void 0===E?{}:E,T=S.general,C=void 0===T?{}:T,O=C.duration,I=C.problem_count,k=void 0===I?{}:I,A=C.timed_sections,P=void 0===A?0:A,R=C.total_score,N=void 0===R?0:R,x=C.total_sections,D=void 0===x?0:x,L=S.proctoring.show_surprise_question,M=Object.keys(k).filter((function(e){return k[e]>0})),j=Object.keys(k).reduce((function(e,t){return e+k[t]}),0),U=(M=M.filter((function(e){return null!=a.vK[e]}))).map((function(e){return"".concat(k[e]," ").concat(a.vK[e].verbose)})),F=v;1===M.length&&1===k[M[0]]&&(F=h);var B="".concat(b.format({totalQuestions:j}),", ");D>0&&(B+="".concat(g.format({totalSections:D}),", ")),P>0&&(B+="".concat(_.format({timedSections:P}),", ")),B+=w.format({totalScore:N});var V=Object.keys(k).every((function(e){return e===a.vK.o.key||e===a.vK.s.key}));return r.createElement("div",{className:"general-instructions instructions"},r.createElement("div",{className:"title"},i),r.createElement("ul",null,r.createElement("li",{dangerouslySetInnerHTML:{__html:c.format({problemStr:U.join(", "),questionText:F})}}),L&&r.createElement("li",null,l),r.createElement("li",{dangerouslySetInnerHTML:{__html:B}}),r.createElement("li",{dangerouslySetInnerHTML:{__html:f.format({duration:O})}}),P>0&&r.createElement(r.Fragment,null,r.createElement("li",{dangerouslySetInnerHTML:{__html:m}}),r.createElement("li",{dangerouslySetInnerHTML:{__html:y}})),r.createElement("li",{dangerouslySetInnerHTML:{__html:V?p:d}})),this.getTestInstructionsHTML())}},{key:"getProctoringInstructions",value:function(){var e=AppTextConstants.candidateExperience,t=(void 0===e?{}:e).instructions,n=(void 0===t?{}:t).proctoringInstructions,i=void 0===n?{}:n,o=i.TITLE,a=i.instructions,s=void 0===a?{}:a,u=s.DISABLE_TAB_WITH_NUMBER,c=s.DISABLE_TAB,l=s.DISABLE_EDITOR_COPY_PASTE,f=s.DISABLE_PROBLEM_STATEMENT_COPY_PASTE,d=s.HIDE_SUBMISSION_REPORT,p=s.SNAPSHOT_TEXT,h=s.FULLSCREEN_MODE_TEXT,v=this.props.instructions,m=(void 0===v?{}:v).proctoring,y=void 0===m?{}:m,g=y.disable_copy_paste_in_editor,b=y.disable_copy_paste_in_problem_statement,_=y.disable_tab_switch,w=void 0===_?{}:_,E=y.enable_fullscreen_mode,S=y.hide_submit_result,T=y.take_candidate_snapshot,C=w.disable,O=w.num_allowed;return 0===Object.keys(y).length?null:r.createElement("div",{className:"proct-instructions instructions"},r.createElement("div",{className:"title"},o),r.createElement("ul",null,C?O?r.createElement("li",{dangerouslySetInnerHTML:{__html:u.format({num_allowed:O})}}):r.createElement("li",{dangerouslySetInnerHTML:{__html:c}}):null,g&&r.createElement("li",null,l),b&&r.createElement("li",null,f),S&&r.createElement("li",null,d),T&&r.createElement("li",{dangerouslySetInnerHTML:{__html:p}}),E&&r.createElement("li",{dangerouslySetInnerHTML:{__html:h}})))}},{key:"getTestInstructionsObject",value:function(){var e=window.AppTextConstants||{},t=e.candidateExperience,n=(void 0===t?{}:t).instructions,r=(void 0===n?{}:n).testInstructions,i=(void 0===r?{}:r).instructions,o=void 0===i?{}:i,s=e.candidateExperience,u=(void 0===s?{}:s).instructions,c=(void 0===u?{}:u).testInstructions,l=(void 0===c?{}:c).instructions,f=(void 0===l?{}:l).DEFAULT,d=this.props.instructions,p=(void 0===d?{}:d).event,h=(void 0===p?{}:p).type,v=null;return h&&(v=o[a.e3[h]]),v||(v=f),v}},{key:"getTestInstructionsHTML",value:function(){var e=this.props.instructions,t=(void 0===e?{}:e).event,n=void 0===t?{}:t,i=n.type,o=n.instructions;if(!i)return null;if("custom"===i)return r.createElement("div",{dangerouslySetInnerHTML:{__html:o}});var a=this.getTestInstructionsObject();return a&&a.length?s.Z.formTestInstructionHTML(a):null}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.error,i=e.instructions,a=AppTextConstants.candidateExperience,s=(void 0===a?{}:a).instructions,u=(void 0===s?{}:s).fallBackMessage,c=void 0===u?"":u,l=Object.keys(i).length>0;return t?r.createElement(o.u,null):n||!l?r.createElement("div",null,c):r.createElement("div",null,this.getGeneralInstructions())}}])&&f(t.prototype,n),i&&f(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component),v(l.prototype,"getGeneralInstructions",[i.Nj],Object.getOwnPropertyDescriptor(l.prototype,"getGeneralInstructions"),l.prototype),v(l.prototype,"getProctoringInstructions",[i.Nj],Object.getOwnPropertyDescriptor(l.prototype,"getProctoringInstructions"),l.prototype),v(l.prototype,"getTestInstructionsObject",[i.Nj],Object.getOwnPropertyDescriptor(l.prototype,"getTestInstructionsObject"),l.prototype),v(l.prototype,"getTestInstructionsHTML",[i.Nj],Object.getOwnPropertyDescriptor(l.prototype,"getTestInstructionsHTML"),l.prototype),l);m.propTypes={};const y=m},60509:(e,t,n)=>{"use strict";var r;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Y6:()=>c,e3:()=>s,pr:()=>a,vK:()=>u});var a={TI:"ti",QI:"qi",JE:"je"},s={algorithm:"DEFAULT",frontend:"FRONTEND",bot:"BOT",sql:"SQL","mobile-android":"ANDROID","mobile-ios":"IOS","full-stack":"FULLSTACK",mobile:"MOBILE",backend:"DEFAULT",ml:"ML",jpq:"JPQ",selenium:"SELENIUM"},u={a:{key:"a",verbose:"approximate"},d:{key:"d",verbose:"android"},dg:{key:"dg",verbose:"diagram"},f:{key:"f",verbose:"file"},u:{key:"u",verbose:"frontend"},g:{key:"g",verbose:"golf"},fe:{key:"fe",verbose:"fileeval"},i:{key:"i",verbose:"interview"},l:{key:"l",verbose:"machine-learning"},ds:{key:"ds",verbose:"data-science"},m:{key:"m",verbose:"multiplayer"},o:{key:"o",verbose:"objective"},p:{key:"p",verbose:"programming"},pr:{key:"pr",verbose:"project"},prj:{key:"prj",verbose:"java-project"},prc:{key:"prc",verbose:"csharp-project"},prp:{key:"prp",verbose:"python-project"},r:{key:"r",verbose:"regexp"},q:{key:"q",verbose:"sql"},s:{key:"s",verbose:"subjective"},mr:{key:"mr",verbose:"mapreduce"},pg:{key:"pg",verbose:"pig"},rf:{key:"rf",verbose:"rapidfire"},fs:{key:"fs",verbose:"fullstack"},sl:{key:"sl",verbose:"selenium"}},c=(o(r={},"".concat(u.p.key,"-").concat(u.q.key),"QSI_PROGGRAMMING_AND_SQL"),o(r,u.p.key,"QSI_PROGRAMMING"),o(r,u.q.key,"QSI_SQL"),o(r,u.u.key,"QSI_FRONTEND"),o(r,u.f.key,"QSI_FILE"),o(r,u.prj.key,"QSI_JAVA_PROJECT"),o(r,u.dg.key,"QSI_DIAGRAM"),o(r,u.l.key,"QSI_ML"),o(r,u.ds.key,"QSI_DS"),o(r,u.fs.key,"QSI_FS"),o(r,u.sl.key,"QSI_SL"),o(r,u.s.key,"QSI_SUBJECTIVE"),r)},77383:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={getAllInstructions:function(e){var t=e.slug;return"/api/hackathon/".concat(t,"/instructions/")},getJudgeContent:function(){return"/api/hackathon/doc/judge/"}}},28340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2363);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}const a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"formTestInstructionHTML",value:function(e){var t=this;return r.createElement("ul",null,e.map((function(e){var n=e.isHTML,i=e.HTML,o=e.subInstructions,a=e.className;return o?n?r.createElement("li",{className:a},r.createElement("div",{className:"sub-instructions",dangerouslySetInnerHTML:{__html:i}}),t.formTestInstructionHTML(o)):r.createElement("li",{className:a},r.createElement("div",{className:"sub-instructions"},i),t.formTestInstructionHTML(o)):n?r.createElement("li",{className:a,dangerouslySetInnerHTML:{__html:i}}):r.createElement("li",{className:a},i)})))}}],(n=null)&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},36057:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(2363);var i=function(e){var t=e.children;return r.createElement("nav",{className:"collapsed-left-nav"},t)}},38498:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var r=n(2363),i=n(69348),o=n.n(i);var a=["children","id","selected","attempted","disabled","onClick","tabIndex"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.children,n=e.id,i=e.selected,c=e.attempted,l=e.disabled,f=e.onClick,d=e.tabIndex,p=u(e,a);return r.createElement("button",s({className:o()("left-nav-btn"),type:"button",id:n,onClick:f,disabled:l,tabIndex:d},p),r.createElement("div",{className:o()("left-nav-btn-label",{selected:i,attempted:c,disabled:l})},t))}},68940:(e,t,n)=>{"use strict";n.d(t,{UQ:()=>o,kz:()=>r,my:()=>a,nQ:()=>i,p4:()=>s});var r=function(e){var t=e.eventSlug;return"/api/hackathon/".concat(t,"/mark-surprise-questions-completed/")},i=function(e){var t=e.problemId,n=e.pType;return"/api/surprise-questions/".concat(n,"/").concat(t,"/save/")},o=function(e){var t=e.eventSlug;return"/api/hackathon/".concat(t,"/surprise-questions/")},a=function(e){var t=e.eventSlug;return"/api/hackathon/".concat(t,"/surprise-question-time-completed/")},s=function(e){var t=e.eventSlug;return"/api/hackathon/".concat(t,"/meta-data/")}},64173:(e,t,n)=>{"use strict";n.d(t,{Ae:()=>l,Ah:()=>d,Ej:()=>u,GE:()=>g,Hm:()=>s,L:()=>b,Mt:()=>y,SM:()=>f,TD:()=>o,XM:()=>c,g_:()=>m,hU:()=>p,jd:()=>i,mx:()=>v,pY:()=>h,qq:()=>r,ys:()=>a});var r={SUCCESS:"success",ERROR:"error",WARN:"warn"},i={OBJECTIVE:"o",SUBJECTIVE:"s",PROGRAMMING:"p",APPROXIMATE:"a",GOLF:"g",SQL:"q",FRONTEND:"u",DIAGRAM:"dg",DATASCIENCE:"ds",MACHINE_LEARNING:"l",FILE:"f",JAVA_PROJECT:"prj",CSHARP_PROJECT:"prc",PYTHON_PROJECT:"prp",FULLSTACK:"fs",SELENIUM:"sl",RAPIDFIRE:"rf",DEVOPS:"do",JUPYTER_CHOICE:"Jupyter",SCRIPT_CHOICE:"Script",ADDED:"added",SUCCESS:"SUCCESS",START:"START",FAILED:"FAILED",PENDING:"PENDING"},o={PREVIEW_DELAY_IN_MILLI_SECONDS:5e3,VISIBLE_TEST_CASE_MODAL_SIZE:{sm:{size:24,layout:"compact"},md:{size:24,layout:"compact"},lg:{size:20,layout:"compact"},xl:{size:20,layout:"compact"}},TEST_CASE_PREVIEW_BOX_HEIGHT:220,TEST_CASE_MODAL_BOX_HEIGHT:298},a={Lines:10,Characters:1e3},s={SINGLE_CHOICE:1,MULTIPLE_CHOICE:2},u=4e3,c={VANILLA:"vanilla",REACT:"react",ANGULAR:"angular"},l=(window.VANILLA_JS_TEXT,window.REACT_TEXT,window.ANGULAR_TEXT,1e3),f={START:"START",STOP:"STOP",LAUNCH:"LAUNCH",LAUNCH_FAILURE:"LAUNCH_FAILURE",CONFIGURE:"CONFIGURE",CONFIGURE_FAILURE:"CONFIGURE_FAILURE",SUCCESS:"SUCCESS"},d={INITIATE_PLATFORM_LAUNCH_REQUEST:"INIT_REQ",TERMINAL_SHOWN_TO_USER:"SHOW_TERMINAL"},p={passed:"passed",loading:"loading",failed:"failed"},h="chatgpt",v="assessment",m=60,y=30,g=1e3,b=5},78252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={small:{sm:{layout:"compact"},md:{layout:"compact"},lg:{layout:"compact"},xl:{layout:"compact"}},compact14Size:{sm:{size:14,layout:"compact"},md:{size:14,layout:"compact"},lg:{size:14,layout:"compact"},xl:{size:14,layout:"compact"}},compact12Size:{sm:{size:12,layout:"compact"},md:{size:12,layout:"compact"},lg:{size:12,layout:"compact"},xl:{size:12,layout:"compact"}},compact24Size:{sm:{size:24},md:{size:24},lg:{size:24},xl:{size:24}}}},1310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={a:{key:"a",verbose:"A"},d:{key:"d",verbose:"D"},dg:{key:"dg",verbose:"DG"},f:{key:"f",verbose:"F"},u:{key:"u",verbose:"U"},g:{key:"g",verbose:"G"},fe:{key:"fe",verbose:"FE"},i:{key:"i",verbose:"I"},l:{key:"l",verbose:"L"},ds:{key:"ds",verbose:"DS"},m:{key:"m",verbose:"M"},o:{key:"o",verbose:"O"},p:{key:"p",verbose:"P"},pr:{key:"pr",verbose:"PR"},prj:{key:"prj",verbose:"PRJ"},prc:{key:"prc",verbose:"PRC"},prp:{key:"prp",verbose:"PRP"},r:{key:"r",verbose:"R"},q:{key:"q",verbose:"Q"},s:{key:"s",verbose:"S"},mr:{key:"mr",verbose:"MR"},pg:{key:"pg",verbose:"PG"},rf:{key:"rf",verbose:"RF"},fs:{key:"fs",verbose:"FS"},sl:{key:"sl",verbose:"SL"},do:{key:"do",verbose:"DO"}}},23206:(e,t,n)=>{"use strict";n.d(t,{D$:()=>d,I6:()=>o,O6:()=>b,RB:()=>y,Um:()=>c,X5:()=>a,XD:()=>i,YX:()=>f,Yh:()=>l,d0:()=>h,fC:()=>g,fR:()=>v,h5:()=>m,i8:()=>E,l7:()=>p,lk:()=>w,oj:()=>_,zy:()=>s,zz:()=>u});var r=(window.headerObj||{}).eventId,i=function(e){var t=e.slug,n=e.state;return"/api/hackathon/private/".concat(t,"/header/?test_state=").concat(n)},o=function(e){var t=e.slug,n=e.pType,r=e.problemId;return"/api/hackathon/".concat(t,"/problem-status/").concat(n,"/").concat(r,"/")},a=function(e){return"/AJAX/get-fs-problem-json/".concat(e,"/")},s=function(e){return"/AJAX/get-sl-problem-json/".concat(e,"/")},u=function(e){return"/recruiter/api/problems/devops/launch/".concat(e,"/")},c=function(){return"/problems/api/submit/devops/"},l=function(e,t){return"/challenges/".concat(e,"/").concat(t,"/mark-completed/")},f=function(e){return"".concat(window.getCurrentLanguageCodeURL(),"/AJAX/next-section/").concat(r,"/").concat(e,"/")},d=function(e){return"/AJAX/".concat(e,"/get-pre-signed/")},p=function(e){var t=e.eventSlug,n=e.pType,r=e.problemId;return"/api/hackathon/".concat(t,"/questions-feedback/").concat(n,"/").concat(r,"/")},h=function(e){return"/AJAX/".concat(e,"/problems-lazy-load/")},v=function(){return"".concat(window.getCurrentLanguageCodeURL(),"/recommendation/chatgpt/").concat(r,"/")},m=function(){return"".concat(window.getCurrentLanguageCodeURL(),"/recommendation/chatgpt/count/").concat(r,"/")},y=function(e){var t=e.submission_id,n=e.testcase_id;return"/problems/error_log/p/".concat(t,"/").concat(n)},g=function(){return"/AJAX/tracelog/devops/launch/state/"},b=function(e){return"/recording/".concat(e,"/token/")},_=function(e){return"/recording/".concat(e,"/")},w=function(e){var t=e.eventSlug;return"/api/audio-proctoring/token/".concat(t,"/")},E=function(){return"/logout/"}},5661:(e,t,n)=>{"use strict";n.d(t,{G:()=>Fe});var r=n(85465),i=(n(40367),n(46340)),o=n(84756);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={isLoading:!1,data:{},error:!1};const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.HEADER_DATA:return u(u({},l),{},{isLoading:!0});case o.M.HEADER_DATA_SUCCESS:return u(u({},e),{},{data:t.payload,isLoading:!1});case o.M.HEADER_DATA_FAILURE:return u(u({},l),{},{error:!0});default:return e}};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={left:-1,started:!1,ended:!1};const y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.HEADER_TIMER_UPDATE_TIME_SUCCESS:return h(h({},e),t.payload);case o.M.HEADER_TIMER_TEST_STARTED:return h(h({},e),{},{started:!0});case o.M.HEADER_TIMER_TEST_ENDED:return h(h({},e),{},{started:!1,ended:!0});default:return e}};function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={isLoading:!1,data:{},error:!1};const S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.FAQ_KEY_DATA:case o.M.FAQ_KEY_VALUE_DATA:return _(_({},e),{},{isLoading:!0});case o.M.FAQ_KEY_DATA_FAILURE:case o.M.FAQ_KEY_VALUE_DATA_FAILURE:return _(_({},E),{},{error:!0});case o.M.FAQ_KEY_DATA_SUCCESS:return _(_({},e),{},{data:t.payload});case o.M.FAQ_KEY_VALUE_DATA_SUCCESS:var n=t.payload,r=void 0===n?{}:n,i=r.key,a=r.value;return _(_({},e),{},{data:_(_({},e.data),{},w({},i,a))});case o.M.FAQ_ALL_KEY_VALUE_DATA_FETCHED:return _(_({},e),{},{isLoading:!1,error:!1});default:return e}};function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k={isLoading:!1,data:{},error:!1,isTestMarkedAsCompleted:!1};const A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.GET_END_TEST_DATA:return O(O({},k),{},{isLoading:!0});case o.M.GET_END_TEST_DATA_SUCCESS:return O(O({},k),{},{data:t.payload});case o.M.GET_END_TEST_DATA_FAILURE:return O(O({},k),{},{error:!0});case o.M.CLEAR_END_TEST_DATA:return k;case o.M.TEST_MARKED_AS_COMPLETED:return O(O({},k),{},{isTestMarkedAsCompleted:!0});default:return e}};const P=(0,r.UY)({timerReducer:y,appReducer:f,FAQReducer:S,endTestReducer:A});function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={message:"",type:"",selfClose:!0,isClosed:!1};const M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.NOTIFICATIONS_END_TEST_MESSAGE_SHOW:case o.M.NOTIFICATIONS_END_TEST_MESSAE_UPDATE:return x(x(x({},e),t.payload),{},{isClosed:!1});case o.M.NOTIFICATIONS_END_TEST_MESSAE_HIDE:return x(x({},L),{},{isClosed:!0});default:return e}};function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V={notificationData:{isVisible:!1,selfClose:!0,content:null,type:null}};const H=(0,r.UY)({endTestWarningReducer:M,commonActionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.SHOW_NOTIFICATION:return F(F({},e),{},{notificationData:{isVisible:!0,content:t.content,selfClose:t.selfClose,type:t.notificationType}});case o.M.HIDE_NOTIFICATION:return F(F({},e),{},{notificationData:V.notificationData});default:return e}}});function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $={isLoading:!1,instructions:{},error:!1};const K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.HELP_DATA:return W(W({},$),{},{isLoading:!0});case o.M.HELP_DATA_SUCCESS:return W(W({},e),{},{instructions:t.payload,isLoading:!1});case o.M.HELP_DATA_FAILURE:return W(W({},$),{},{error:!0});default:return e}};function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={isLoading:!1,data:null,error:!1};const ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.JUDGE_ENVIRONMENT_DATA:return J(J({},X),{},{isLoading:!0});case o.M.JUDGE_ENVIRONMENT_DATA_SUCCESS:return J(J({},e),{},{data:t.payload,isLoading:!1});case o.M.JUDGE_ENVIRONMENT_DATA_FAILURE:return J(J({},X),{},{error:!0});default:return e}};const te=(0,r.UY)({instructionsReducer:K,judgeEnvironmentReducer:ee});function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ne(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae={webcamPermission:!1,canShowWebcamError:!1,canMountWebcam:!1,fullscreenPermission:!1,showProblemsContainer:!0,audioProctoringToken:{data:null,error:null,isLoading:!1}};const se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.WEBCAM_PROCTORING_PERMISSION_SUCCESS:return ie(ie({},e),{},{webcamPermission:!0});case o.M.WEBCAM_PROCTORING_PERMISSION_FAILURE:return ie(ie({},e),{},{webcamPermission:!1});case o.M.SHOW_WEBCAM_ERROR:return ie(ie({},e),{},{canShowWebcamError:t.payload});case o.M.FULLSCREEN_PROCTORING_PERMISSION_SUCCESS:return ie(ie({},e),{},{fullscreenPermission:!0});case o.M.FULLSCREEN_PROCTORING_PERMISSION_FAILURE:return ie(ie({},e),{},{fullscreenPermission:!1});case o.M.CAN_MOUNT_WEBCAM:return ie(ie({},e),{},{canMountWebcam:!0});case o.M.SHOW_PROBLEMS_CONTAINER:return ie(ie({},e),{},{showProblemsContainer:!0});case o.M.HIDE_PROBLEMS_CONTAINER:return ie(ie({},e),{},{showProblemsContainer:!1});case o.M.FETCHING_AUDIO_PROCTORING_TOKEN:return ie(ie({},e),{},{audioProctoringToken:ie(ie({},e.audioProctoringToken),{},{isLoading:!0})});case o.M.FETCH_AUDIO_PROCTORING_TOKEN_SUCCESS:return ie(ie({},e),{},{audioProctoringToken:ie(ie({},e.audioProctoringToken),{},{data:t.payload,isLoading:!1})});case o.M.FETCH_AUDIO_PROCTORING_TOKEN_FAILURE:return ie(ie({},e),{},{audioProctoringToken:ie(ie({},e.audioProctoringToken),{},{error:t.payload,isLoading:!1})});default:return e}};function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function ce(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ue(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he={isLoading:!0,problems:{},attemptedProb:[],completedTimedSections:[],currentSectionId:null,timedSectionIds:[],error:!1};const ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.GET_PROBLEM_DATA:return de(de({},he),{},{isLoading:!0});case o.M.GET_PROBLEM_DATA_SUCCESS:return de(de({},e),{},{problems:t.payload,isLoading:!1});case o.M.GET_PROBLEM_DATA_FAILURE:return de(de({},he),{},{error:!0});case o.M.UPDATE_PROBLEM_DATA:return de(de({},e),{},{problems:de(de({},e.problems),{},{other_sections:t.payload.otherSections,timed_sections:t.payload.timedSections})});case o.M.ADD_ATTEMPTED_PROBLEMS:return de(de({},e),{},{attemptedProb:[].concat(ce(e.attemptedProb.filter((function(e){return e!==t.payload}))),[t.payload])});case o.M.REMOVE_ATTEMPTED_PROBLEMS:return de(de({},e),{},{attemptedProb:e.attemptedProb.filter((function(e){return e!==t.payload}))});case o.M.UPDATE_COMPLETED_TIMED_SECTIONS:return de(de({},e),{},{completedTimedSections:[].concat(ce(e.completedTimedSections),ce(t.payload))});case o.M.UPDATE_CURRENT_SECTION_ID:return de(de({},e),{},{currentSectionId:t.payload});case o.M.SAVE_TIMED_SECTION_IDS:return de(de({},e),{},{timedSectionIds:t.payload});case o.M.UPDATE_EDITOR_SINGLE_OPTION_CONFIGURATION:var n=t.payload,r=n.value,i=n.key;return de(de({},e),{},{problems:de(de({},e.problems),{},{editorContext:de(de({},e.problems.editorContext),{},{CONFIGURATION:de(de({},e.problems.editorContext.CONFIGURATION),{},pe({},i,{INITIAL:r}))})})});case o.M.UPDATE_EDITOR_MULTI_OPTIONS_CONFIGURATION:var a=t.payload,s=a.value,u=a.key;return de(de({},e),{},{problems:de(de({},e.problems),{},{editorContext:de(de({},e.problems.editorContext),{},{CONFIGURATION:de(de({},e.problems.editorContext.CONFIGURATION),{},pe({},u,de(de({},e.problems.editorContext.CONFIGURATION[u]),{},{INITIAL:s})))})})});case o.M.UPDATE_EDITOR_LAST_LANG:var c=t.payload,l=c.hash,f=c.lastLang;return de(de({},e),{},{problems:de(de({},e.problems),{},{editorContext:de(de({},e.problems.editorContext),{},{CONFIGURATION:de(de({},e.problems.editorContext.CONFIGURATION),{},{PROBLEM_DATA:de(de({},e.problems.editorContext.CONFIGURATION.PROBLEM_DATA),{},pe({},l,de(de({},e.problems.editorContext.CONFIGURATION.PROBLEM_DATA[l]),{},{LAST_LANGUAGE:f})))})})})});default:return e}};function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===me(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e={remainingTime:-1};const we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.SET_TIME:return ge(ge({},e),{},{remainingTime:t.payload});case o.M.RESET_SECTION_TIMER:return ge({},_e);default:return e}};function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Se(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke={chatData:{isLoading:!1,data:JSON.parse(sessionStorage.getItem("chat-data"))||[],error:!1},conversationCount:{isLoading:!1,count:0,error:!1}};const Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.M.FETCH_CHAT_DATA:return Oe(Oe({},e),{},{chatData:Oe(Oe({},e.chatData),{},{isLoading:!0})});case o.M.UPDATE_CHAT:return sessionStorage.setItem("chat-data",JSON.stringify([].concat(Se(e.chatData.data),[t.data]))),Oe(Oe({},e),{},{chatData:Oe(Oe({},e.chatData),{},{data:[].concat(Se(e.chatData.data),[t.data])})});case o.M.UPDATE_CONVERSATION_COUNT:return Oe(Oe({},e),{},{conversationCount:Oe(Oe({},e.conversationCount),{},{count:t.data})});case o.M.GET_CONVERSATION_COUNT_SUCCESS:return Oe(Oe({},e),{},{conversationCount:Oe(Oe({},e.conversationCount),{},{isLoading:!1,error:!1})});case o.M.GET_CONVERSATION_COUNT_FAILURE:return Oe(Oe({},e),{},{conversationCount:Oe(Oe({},e.conversationCount),{},{error:t.err})});default:return e}};const Pe=(0,r.UY)({proctoringPermissionsReducer:se,problemsListReducer:ve,sectionTimerReducer:we,chatReducer:Ae});function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Re(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le={initialDataLoading:!0,eventMetaData:{error:!1,data:{}},time:{ended:!1,left:5400},questions:{data:{}},questionAttemptedIds:{}};const Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0,n=t.data;switch(t.type){case o.M.FETCH_EVENT_META_DATA:return xe(xe({},e),{},{eventMetaData:xe(xe({},e.eventMetaData),{},{data:n})});case o.M.FETCH_SURPRISE_QUESTION_TIMER:return xe(xe({},e),{},{time:xe(xe({},e.time),n)});case o.M.INITIAL_DATA_LOADING:return xe(xe({},e),{},{initialDataLoading:n});case o.M.SURPRISE_QUESTION_FETCH_SUCCESS:return xe(xe({},e),{},{questions:xe(xe({},e.questions),{},{data:n})});case o.M.INCREASE_QUESTION_ATTEMPTED_COUNT:return xe(xe({},e),{},{questionAttemptedIds:xe(xe({},e.questionAttemptedIds),{},De({},n,!0))});default:return e}};const je=(0,r.UY)({headerReducer:P,notificationsReducer:H,helpReducer:te,duringReducer:Pe,surpriseQuestionReducer:Me});var Ue=[];Ue.push(i.I);var Fe=(0,r.MT)(je,r.md.apply(void 0,Ue))},15297:(e,t,n)=>{"use strict";n.d(t,{Lt:()=>c,OS:()=>u,TS:()=>o,bP:()=>f,xK:()=>l});var r=null,i=function(){var e=null;return window.getSelection?e=window.getSelection():document.getSelection?e=document.getSelection():document.selection&&(e=document.selection.createRange().text),e&&(e=e.toString()),e},o=function(){document.addEventListener("copy",(function(e){e.preventDefault(),r=i()}))},a=function(e){e.preventDefault(),r=i();var t=e.target;if("textarea"===t.type){var n=t.selectionStart,o=t.selectionEnd,a=t.value.substring(0,n),s=t.value.substring(o);t.value=a+s,t.selectionStart=n,t.selectionEnd=n}},s=function(e){var t=e.target;if(r&&"textarea"===t.type){var n=t.selectionStart,i=t.selectionEnd,o=t.value.substring(0,n),a=t.value.substring(i);t.value=o+r+a,t.selectionStart=n+r.length,t.selectionEnd=n+r.length}e.preventDefault()},u=function(e){e.addEventListener("cut",a),e.addEventListener("paste",s)},c=function(e){e&&(e.removeEventListener("cut",a),e.removeEventListener("paste",s))},l=function(e){r=e},f=function(e){return window.isCopyPasteDisabled?r:e.clipboardData.getData("text/plain")}},23108:(e,t,n)=>{"use strict";n.d(t,{$9:()=>p,$r:()=>i,Kw:()=>u,Tn:()=>a,VL:()=>o,_n:()=>f,fM:()=>v,oK:()=>l,ro:()=>s,wh:()=>c,x4:()=>d});var r=n(90470),i=function(e){var t=document.querySelector("#load-editor-button-".concat(e));t&&t.click&&t.click()},o=function(e,t){return t.includes(e)},a=function(e,t){var n,r=e.timed_sections,i=void 0===r?[]:r,o=e.other_sections,a=void 0===o?[]:o,s=null,u=function(e,n){e===t&&(s=n)},c=function(e){e.forEach((function(e){var t=e.sections||[],n=e.non_section_problems||[];t.forEach((function(e){(null==e?void 0:e.problems).forEach((function(e){u(e.id,e)}))})),n.forEach((function(e){u(e.id,e)}))}))};return c(i),s||c(a),{problemHash:(null===(n=s)||void 0===n?void 0:n.problem_private_url_hash)||""}},s=function(e,t){var n=t.timed_sections,r=void 0===n?[]:n,i=t.other_sections,o=void 0===i?[]:i,a=null,s=function(t,n){t===e&&(a=n)},u=function(e){e.forEach((function(e){var t=e.sections||[],n=e.non_section_problems||[];t.forEach((function(e){(null==e?void 0:e.problems).forEach((function(e){s(e.problem_private_url_hash,e)}))})),n.forEach((function(e){s(e.problem_private_url_hash,e)}))}))};return u(r),u(o),{problem:a}},u=function(e){var t=Math.floor(e/60),n=e-60*t;return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),{mins:t,secs:n}},c=function(e){var t=new FormData;return Object.keys(e).forEach((function(n){return t.append(n,e[n])})),t},l=function(e){var t="{}";if(null!=(t=void 0===e?$("#bigpipe-json").html():$("#bigpipe-json-".concat(e)).html())&&""!==(t=t.trim())){try{window.debug&&console.log(t);var n=JSON.parse(t)}catch(e){return void(0,r.R)({origin:"bigpipe",data:t,error:e})}for(var i in n)if({}.hasOwnProperty.call(n,i)){window.debug&&console.log(i," = ",n[i]);e=i;var o=n[i];$.ajax({url:o,id:e,success:function(e){var t=this.id;$("#".concat(t)).html(e);try{window.domElementLive()}catch(e){window.debug&&console.log(e.message)}}})}}},f=function(){var e=window.headerObj.currentLangCode;return e?"en-us"===e.toLocaleLowerCase()?"":"/".concat(e):""},d=function(){var e=window,t=e.assessmentObj,n=void 0===t?{}:t,r=e.is_user_logged_in,i=n.IS_USER_AUTHENTICATED,o=void 0!==i&&i,a=window.location.pathname.split("/").filter((function(e){return e}));return(o||r)&&!n.event.IS_ADMIN_PREVIEW&&"test"===n.event.TYPE&&!n.event.IS_PRACTICE&&!n.event.IS_PRACTICE_EVENT&&"feedback"!==a[a.length-1]&&!0},p=function(e){if(e){var t=$(e),n=t.attr("id"),r=window.getCurrentLanguageCodeURL()+"/AJAX/log/problem/viewed/",i={event_id:window.headerObj.eventId,p_type_v:t.attr("p-type"),private_url_hash:n};$.ajax({url:r,type:"POST",data:i})}},h=function(e){return e?String.prototype.padStart?e.toString().padStart(2,"0"):1===e.length?"0".concat(e):e:"00"},v=function(e){var t=new Date(1e3*e);return{hours:h(Math.floor(e/3600)),minutes:h(t.getUTCMinutes()),seconds:h(t.getSeconds())}}},91166:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var r=function(e){return{sm:{size:e,layout:"compact"},md:{size:e,layout:"compact"},lg:{size:e,layout:"compact"},xl:{size:e,layout:"compact"}}}},30536:(e,t,n)=>{"use strict";n.d(t,{A4:()=>b,DG:()=>w,Lv:()=>h,V_:()=>_,Z2:()=>y,_L:()=>E,kq:()=>m,mU:()=>g});var r=n(82201),i=n.n(r),o=n(38025),a=n(84756),s=n(5661),u=n(64173),c=n(23108);function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d={};function h(){}function v(){}function m(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==t&&n.call(b,o)&&(y=b);var _=m.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(r,o,a,s){var u=f(e[r],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==p(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function T(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,r(_,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function f(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,s,"next",e)}function s(e){f(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e){for(var t in e)e.hasOwnProperty(t)&&v(parseInt(t),parseInt(e[t]))}function v(e,t,n){var r;function i(){n&&$(".problem-".concat(n)).children().not(".next-button-banner, .disabled-mcq").detach()}window.mcq_timers||(window.mcq_timers=[]),-1===window.mcq_timers.indexOf(e)&&(window.mcq_timers.push(parseInt(e)),t>=0?r=setInterval((function(){$(".countdown-left-".concat(e)).show();var n=$(".countdown-".concat(e)),o=$(".countdown-left-".concat(e));if(n.length>0&&o.length>0){var a=Math.floor(t/60);a<10&&(a="0".concat(a));var s=t-60*a;s<10&&(s="0".concat(s)),n.html("".concat(a,":").concat(s)),o.html("<i class='float-left fa-clock-o fa timer-icon margin-left-12 margin-right-12'></i>".concat(a,":").concat(s))}if(0===t){clearInterval(r),$("#question-".concat(e)).html("<i class='float-left fa-clock-o fa timer-icon margin-left-12 margin-right-12'></i> ".concat(window.TIME_UP_MESSAGE));var u=$(".answer-".concat(e));u.length>0&&u.find(".load-next-question").trigger("click"),i()}t-=1}),1e3):i())}var m=function(e){e&&s.G.dispatch(a.e.DuringActions.ProblemsListActions.addAttemptedProblems(e))},y=function(e){e&&s.G.dispatch(a.e.DuringActions.ProblemsListActions.removeAttemptedProblems(e))},g=function(e){var t=[];try{var n=JSON.parse($("#attempted-problems").val())}catch(e){n={}}Object.keys(n).forEach((function(e){t=t.concat(n[e])})),t.forEach((function(t){var n=(0,c.Tn)(e,t).problemHash;m(n)}))};function b(){$("body").on("click","#end-test-click",(function(){CLOSE_BROWSER=!0})),$(".alert-message").on("click",".close-icon",(function(){var e=$(this);if(e.hasClass("alert-message"))e.remove();else{var t=e.closest(".alert-message");t.length?t.remove():$("#alert-message-holder").find(".alert-message").not(".hidden").remove()}})),$("body").on("click",".show-hide",(function(e){e.preventDefault();var t=$(this),n=t.attr("hide"),r=$("#".concat(n)),i=t.attr("show"),o=$("#".concat(i));r.hide(),o.show()}))}function _(e,t){var n=$("#alert-message-holder");0===n.length&&(n=$("#fancy-alert-message-holder"));var r=n.find(".alert-message").first().clone();r.find(".message").text(e),r.removeClass("permanent"),r.removeClass("hidden"),void 0!==p(t)&&!0===t&&r.addClass("permanent"),n.append(r),function(){var e=$("#alert-message-holder");0===e.length&&(e=$("#fancy-alert-message-holder"));var t=e.find(".alert-message"),n=t.first().clone();n.addClass("hidden"),t.each((function(){var e=$(this);e.hasClass("hidden")?e.remove():e.hasClass("permanent")||(e.hasClass("fancy-alert-message")?setTimeout((function(){e.slideUp(1e3)}),2e3):setTimeout((function(){e.fadeOut((function(){e.remove()}))}),5e3))})),e.append(n)}()}var w=function(){var e=d(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i()({method:"get",url:t,headers:{Range:"bytes=0-".concat(u.GE)},transformResponse:[function(e){return e}]});case 3:return n=e.sent,e.abrupt("return","".concat(n.data));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return","");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=d(l().mark((function e(t){var n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=t.split("?")[0]).indexOf(".hackerearth.com")>=1&&(n=t),e.next=5,(0,o.pi)(n);case 5:return r=e.sent,i=r.headers,a=parseInt(i["content-length"]),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},90470:(e,t,n)=>{"use strict";n.d(t,{j:()=>ji,R:()=>Ui});const r="7.88.0",i="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var o=n(49310);const a=["debug","info","warn","error","log","assert","trace"],s={};function u(e){if(!("console"in o.n2))return e();const t=o.n2.console,n={},r=Object.keys(s);r.forEach((e=>{const r=s[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const c=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return i?a.forEach((n=>{t[n]=(...t)=>{e&&u((()=>{o.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):a.forEach((e=>{t[e]=()=>{}})),t}(),l=Object.prototype.toString;function f(e){switch(l.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return w(e,Error)}}function d(e,t){return l.call(e)===`[object ${t}]`}function p(e){return d(e,"ErrorEvent")}function h(e){return d(e,"DOMError")}function v(e){return d(e,"String")}function m(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function y(e){return d(e,"Object")}function g(e){return"undefined"!=typeof Event&&w(e,Event)}function b(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function _(e){return"number"==typeof e&&e!=e}function w(e,t){try{return e instanceof t}catch(e){return!1}}function E(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}const S=(0,o.Rf)(),T=80;function C(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,a=0;const s=" > ",u=s.length;let c;const l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||T;for(;n&&o++<r&&(c=O(n,l),!("html"===c||o>1&&a+i.length*u+c.length>=f));)i.push(c),a+=c.length,n=n.parentNode;return i.reverse().join(s)}catch(e){return"<unknown>"}}function O(e,t){const n=e,r=[];let i,o,a,s,u;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&v(i))for(o=i.split(/\s+/),u=0;u<o.length;u++)r.push(`.${o[u]}`);const l=["aria-label","type","name","title","alt"];for(u=0;u<l.length;u++)a=l[u],s=n.getAttribute(a),s&&r.push(`[${a}="${s}"]`);return r.join("")}function I(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function k(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{E(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function A(e,t,n=!1){return!!v(e)&&(d(t,"RegExp")?t.test(e):!!v(t)&&(n?e===t:e.includes(t)))}function P(e,t=[],n=!1){return t.some((t=>A(e,t,n)))}function R(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);"function"==typeof i&&x(i,r),e[t]=i}function N(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){i&&c.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function x(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,N(e,"__sentry_original__",t)}catch(e){}}function D(e){return e.__sentry_original__}function L(e){if(f(e))return{message:e.message,name:e.name,stack:e.stack,...j(e)};if(g(e)){const t={type:e.type,target:M(e.target),currentTarget:M(e.currentTarget),...j(e)};return"undefined"!=typeof CustomEvent&&w(e,CustomEvent)&&(t.detail=e.detail),t}return e}function M(e){try{return t=e,"undefined"!=typeof Element&&w(t,Element)?C(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function j(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function U(e){return F(e,new Map)}function F(e,t){if(y(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=F(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(F(e,t))})),r}return e}function B(){const e=o.n2,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>t.getRandomValues(new Uint8Array(1))[0])}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function V(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function H(e){const{message:t,event_id:n}=e;if(t)return t;const r=V(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function z(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function G(e,t){const n=V(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function W(e){if(e&&e.__sentry_captured__)return!0;try{N(e,"__sentry_captured__",!0)}catch(e){}return!1}function q(e){return Array.isArray(e)?e:[e]}const $="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,K=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Q=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class Y{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=Y.id,this._options=e}setupOnce(e,t){}processEvent(e,t,n){const r=n.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:K],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Q],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(this._options,r);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return $&&c.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${H(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));$&&0===t.length&&c.error(`Could not extract message for event ${H(e)}`);return t}(e).some((e=>P(e,t)))}(e,t.ignoreErrors))return $&&c.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${H(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&P(n,t)}(e,t.ignoreTransactions))return $&&c.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${H(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=J(e);return!!n&&P(n,t)}(e,t.denyUrls))return $&&c.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${H(e)}.\nUrl: ${J(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=J(e);return!n||P(n,t)}(e,t.allowUrls))return $&&c.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${H(e)}.\nUrl: ${J(e)}`),!0;return!1}(e,i)?null:e}}function J(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return $&&c.error(`Cannot extract url for event ${H(e)}`),null}}let Z;Y.__initStatic();class X{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=X.id}setupOnce(){Z=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=D(this)||this;return Z.apply(t,e)}}catch(e){}}}var ee;function te(e){return new re((t=>{t(e)}))}function ne(e){return new re(((t,n)=>{n(e)}))}X.__initStatic(),function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(ee||(ee={}));class re{constructor(e){re.prototype.__init.call(this),re.prototype.__init2.call(this),re.prototype.__init3.call(this),re.prototype.__init4.call(this),this._state=ee.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new re(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new re(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(ee.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ee.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===ee.PENDING&&(b(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ee.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===ee.RESOLVED&&e[1](this._value),this._state===ee.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function ie(){return(0,o.YO)("globalEventProcessors",(()=>[]))}function oe(e){ie().push(e)}function ae(e,t,n,r=0){return new re(((i,o)=>{const a=e[r];if(null===t||"function"!=typeof a)i(t);else{const s=a({...t},n);$&&a.id&&null===s&&c.log(`Event processor "${a.id}" dropped event`),b(s)?s.then((t=>ae(e,t,n,r+1).then(i))).then(null,o):ae(e,s,n,r+1).then(i).then(null,o)}}))}var se=n(66686);const ue="production";function ce(e){const t=(0,se.ph)(),n={sid:B(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return U({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&le(n,e),n}function le(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,se.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:B()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class fe{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=de()}static clone(e){return e?e.clone():new fe}clone(){const e=new fe;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&le(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof fe?t:this}return e instanceof fe?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):y(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=de(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,se.yW)(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={},n){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const n=t.name;n&&(e.tags={transaction:n,...e.tags})}}this._applyFingerprint(e);const r=this._getBreadcrumbs(),i=[...e.breadcrumbs||[],...r];return e.breadcrumbs=i.length>0?i:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},ae([...n||[],...ie(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?q(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function de(){return{traceId:B(),spanId:B().substring(16)}}const pe=parseFloat(r),he=100;class ve{constructor(e,t=new fe,n=pe){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:B(),r=new Error("Sentry syntheticException");return this._withClient(((i,o)=>{i.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},o)})),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:B(),i=new Error(e);return this._withClient(((o,a)=>{o.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},a)})),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:B();return e.type||(this._lastEventId=n),this._withClient(((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=he}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const a={timestamp:(0,se.yW)(),...e},s=i?u((()=>i(a,t))):a;null!==s&&(r.emit&&r.emit("beforeAddBreadcrumb",s,t),n.addBreadcrumb(s,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=ye(this);try{e(this)}finally{ye(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return $&&c.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if($&&!n){this.getClient()?c.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):c.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),le(e,n)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:i=ue}=n&&n.getOptions()||{},{userAgent:a}=o.n2.navigator||{},s=ce({release:r,environment:i,user:t.getUser(),...a&&{userAgent:a},...e}),u=t.getSession&&t.getSession();return u&&"ok"===u.status&&le(u,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=me().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);$&&c.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function me(){return o.n2.__SENTRY__=o.n2.__SENTRY__||{extensions:{},hub:void 0},o.n2}function ye(e){const t=me(),n=we(t);return Ee(t,e),n}function ge(){const e=me();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return be(e)}function be(e=me()){return _e(e)&&!we(e).isOlderThan(pe)||Ee(e,new ve),we(e)}function _e(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function we(e){return(0,o.YO)("hub",(()=>new ve),e)}function Ee(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}const Se=[];function Te(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?q(n(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),o=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(i,(e=>"Debug"===e.name));if(-1!==o){const[e]=i.splice(o,1);i.push(e)}return i}function Ce(e,t,n){if(n[t.name]=t,-1===Se.indexOf(t.name)&&(t.setupOnce(oe,ge),Se.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}$&&c.log(`Integration installed: ${t.name}`)}const Oe=50,Ie=/\(error: (.*)\)/,ke=/captureMessage|captureException/;function Ae(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],i=e.split("\n");for(let e=n;e<i.length;e++){const n=i[e];if(n.length>1024)continue;const o=Ie.test(n)?n.replace(Ie,"$1"):n;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){r.push(t);break}}if(r.length>=Oe)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),ke.test(t[t.length-1].function||"")&&(t.pop(),ke.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,Oe).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const Pe="<anonymous>";function Re(e){try{return e&&"function"==typeof e&&e.name||Pe}catch(e){return Pe}}const Ne=(0,o.Rf)();function xe(){if(!("fetch"in Ne))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function De(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const Le=(0,o.Rf)();const Me={},je={};function Ue(e,t){Me[e]=Me[e]||[],Me[e].push(t)}function Fe(e,t){je[e]||(t(),je[e]=!0)}function Be(e,t){const n=e&&Me[e];if(n)for(const r of n)try{r(t)}catch(t){i&&c.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Re(r)}\nError:`,t)}}const Ve=o.n2;let He;function ze(e){const t="history";Ue(t,e),Fe(t,Ge)}function Ge(){if(!function(){const e=Le.chrome,t=e&&e.app&&e.app.runtime,n="history"in Le&&!!Le.history.pushState&&!!Le.history.replaceState;return!t&&n}())return;const e=Ve.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=He,t=String(n);He=t;Be("history",{from:e,to:t})}return e.apply(this,t)}}Ve.onpopstate=function(...t){const n=Ve.location.href,r=He;He=n;if(Be("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},R(Ve.history,"pushState",t),R(Ve.history,"replaceState",t)}const We=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function qe(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:a,protocol:s,publicKey:u}=e;return`${s}://${u}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${a}`}function $e(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Ke(e){const t="string"==typeof e?function(e){const t=We.exec(e);if(!t)return void u((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i="",o,a="",s]=t.slice(1);let c="",l=s;const f=l.split("/");if(f.length>1&&(c=f.slice(0,-1).join("/"),l=f.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return $e({host:o,pass:i,path:c,projectId:l,port:a,protocol:n,publicKey:r})}(e):$e(e);if(t&&function(e){if(!i)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(c.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(c.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(c.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(c.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}function Qe(e,t=100,n=1/0){try{return Je("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Ye(e,t=3,n=102400){const r=Qe(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?Ye(e,t-1,n):r;var i}function Je(e,t,r=1/0,i=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[a,s]=o;if(null==t||["number","boolean","string"].includes(typeof t)&&!_(t))return t;const u=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(E(t))return"[VueViewModel]";if(y(r=t)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Re(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const i=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(i)?`[HTMLElement: ${i}]`:`[object ${i}]`}catch(e){return`**non-serializable** (${e})`}var r}(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:r;if(0===c)return u.replace("object ","");if(a(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return Je("",l.toJSON(),c-1,i,o)}catch(e){}const f=Array.isArray(t)?[]:{};let d=0;const p=L(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(d>=i){f[e]="[MaxProperties ~]";break}const t=p[e];f[e]=Je(e,t,c-1,i,o),d++}return s(t),f}function Ze(e,t=[]){return[e,t]}function Xe(e,t){const[n,r]=e;return[n,[...r,t]]}function et(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function tt(e,t){return(t||new TextEncoder).encode(e)}function nt(e,t){const[n,r]=e;let i=JSON.stringify(n);function o(e){"string"==typeof i?i="string"==typeof e?i+e:[tt(i,t),e]:i.push("string"==typeof e?tt(e,t):e)}for(const e of r){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(Qe(n))}o(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(i)}function rt(e,t){const n="string"==typeof e.data?tt(e.data,t):e.data;return[U({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const it={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function ot(e){return it[e]}function at(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}class st extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const ut="7";function ct(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function lt(e,t){return n={sentry_key:e.publicKey,sentry_version:ut,...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}function ft(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${ct(e)}${e.projectId}/envelope/`}(e)}?${lt(e,r)}`}function dt(e,t,n,r){const i=at(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=function(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:qe(r)},...i&&{trace:U({...i})}}}(e,i,r,t);delete e.sdkProcessingMetadata;return Ze(a,[[{type:o},e]])}function pt(e,t,n,r){const i={sent_at:(new Date).toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=qe(t));const o=function(e){const t=function(e){let t="";for(const[n,r,i,o,a,s]of e)t+=`${o}@${a}:${n}|${i}${Object.keys(s).length?`|#${Object.entries(s).map((([e,t])=>`${e}:${String(t)}`)).join(",")}`:""}|T${r}\n`;return t}(e);return[{type:"statsd",length:t.length},t]}(e);return Ze(i,[o])}function ht(e,t,n){const r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:o}=n&&n.getUser()||{},a=U({environment:r.environment||ue,release:r.release,user_segment:o,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",a),a}function vt(e,t,n,r,i){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,u={...t,event_id:t.event_id||n.event_id||B(),timestamp:t.timestamp||(0,se.yW)()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:ue);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=I(e.message,o));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=I(a.value,o));const s=e.request;s&&s.url&&(s.url=I(s.url,o))}(u,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(u,c),void 0===t.type&&function(e,t){const n=o.n2._sentryDebugIds;if(!n)return;let r;const i=mt.get(t);i?r=i:(r=new Map,mt.set(t,r));const a=Object.keys(n).reduce(((e,i)=>{let o;const a=r.get(i);a?o=a:(o=t(i),r.set(i,o));for(let t=o.length-1;t>=0;t--){const r=o[t];if(r.filename){e[r.filename]=n[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=a[e.filename])}))}))}catch(e){}}(u,e.stackParser);const l=function(e,t){if(!t)return e;const n=e?e.clone():new fe;return n.update(t),n}(r,n.captureContext);n.mechanism&&G(u,n.mechanism);let f=te(u);const d=i&&i.getEventProcessors?i.getEventProcessors():[];if(l){if(l.getAttachments){const e=[...n.attachments||[],...l.getAttachments()];e.length&&(n.attachments=e)}f=l.applyToEvent(u,n,d)}else f=ae([...d,...ie()],u,n);return f.then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof a&&a>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Qe(e.data,t,n)}})))},...e.user&&{user:Qe(e.user,t,n)},...e.contexts&&{contexts:Qe(e.contexts,t,n)},...e.extra&&{extra:Qe(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Qe(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=Qe(e.data,t,n)),e))));return r}(e,a,s):e)))}const mt=new WeakMap;function yt(e){if(e)return function(e){return e instanceof fe||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>gt.includes(e)))}(e)?{captureContext:e}:e}const gt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];const bt="Not capturing exception because it's already been captured.";class _t{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Ke(e.dsn):$&&c.warn("No DSN provided, client will not send events."),this._dsn){const t=ft(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(W(e))return void($&&c.log(bt));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let i=n&&n.event_id;const o=m(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((e=>this._captureEvent(e,n,r))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&W(t.originalException))return void($&&c.log(bt));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release?$&&c.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),le(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):te(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&Ce(e,t,n)})),n}(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return $&&c.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){Ce(this,e,this._integrations)}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=dt(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Xe(n,rt(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const i=at(n);return Ze({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:qe(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;$&&c.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){const t=pt(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(le(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new re((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n){const r=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),vt(r,e,t,n,this).then((e=>{if(null===e)return e;const{propagationContext:t}=e.sdkProcessingMetadata||{};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:i,parentSpanId:o,dsc:a}=t;e.contexts={trace:{trace_id:r,span_id:i,parent_span_id:o},...e.contexts};const s=a||ht(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if($){const t=e;"log"===t.logLevel?c.log(t.message):c.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r,o=Et(e),a=wt(e),s=e.type||"error",u=`before send for type \`${s}\``;if(a&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),ne(new st(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c="replay_event"===s?"replay":s;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new st("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;if(wt(t)&&r)return r(t,n);if(Et(t)&&i)return i(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(b(e))return e.then((e=>{if(!y(e)&&null!==e)throw new st(n);return e}),(e=>{throw new st(`${t} rejected with ${e}`)}));if(!y(e)&&null!==e)throw new st(n);return e}(i,u)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",c,e),new st(`${u} returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!o&&i&&this._updateSessionFromEvent(i,r);const a=r.transaction_info;if(o&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof st)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new st(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{$&&c.error("Error while sending event:",e)}));$&&c.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function wt(e){return void 0===e.type}function Et(e){return"transaction"===e.type}var St=n(99311);const Tt="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Ct(e,t){const n=It(e,t),r={type:t&&t.name,value:At(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Ot(e,t){return{exception:{values:[Ct(e,t)]}}}function It(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(kt.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const kt=/Minified React error #\d+;/i;function At(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Pt(e,t,n,r,i){let o;if(p(t)&&t.error){return Ot(e,t.error)}if(h(t)||d(t,"DOMException")){const i=t;if("stack"in t)o=Ot(e,t);else{const t=i.name||(h(i)?"DOMError":"DOMException"),a=i.message?`${t}: ${i.message}`:t;o=Rt(e,a,n,r),z(o,a)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}if(f(t))return Ot(e,t);if(y(t)||g(t)){return o=function(e,t,n,r){const i=ge().getClient(),o=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:g(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Nt(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Ye(t,o)}};if(n){const t=It(e,n);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,n,i),G(o,{synthetic:!0}),o}return o=Rt(e,t,n,r),z(o,`${t}`,void 0),G(o,{synthetic:!0}),o}function Rt(e,t,n,r){const i={message:t};if(r&&n){const r=It(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}function Nt(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(L(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return I(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:I(r,t)}return""}(e),r=t?"promise rejection":"exception";if(p(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(g(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function xt(e,t){return ge().captureException(e,yt(t))}function Dt(e){ge().withScope(e)}function Lt(){return ge().getClient()}const Mt=o.n2;let jt=0;function Ut(){return jt>0}function Ft(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(D(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const i=r.map((e=>Ft(e,t)));return e.apply(this,i)}catch(e){throw jt++,setTimeout((()=>{jt--})),Dt((n=>{n.addEventProcessor((e=>(t.mechanism&&(z(e,void 0,void 0),G(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),xt(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}x(r,e),N(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}class Bt extends _t{constructor(e){const t=Mt.SENTRY_SDK_SOURCE||(0,St.S)();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:r}],version:r},super(e),e.sendClientReports&&Mt.document&&Mt.document.addEventListener("visibilitychange",(()=>{"hidden"===Mt.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const i=Pt(e,t,n&&n.syntheticException||void 0,r);return G(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),te(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){const o=Rt(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),te(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Tt&&c.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:qe(r)}},o=function(e){return[{type:"user_report"},e]}(e);return Ze(i,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(Tt&&c.log("No outcomes to send"));if(!this._dsn)return void(Tt&&c.log("No dsn provided, will not send outcomes"));Tt&&c.log("Sending outcomes:",e);const t=(n=e,Ze((r=this._options.tunnel&&qe(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:i||(0,se.yW)(),discarded_events:n}]]));var n,r,i;this._sendEnvelope(t)}}let Vt=null;function Ht(e){const t="error";Ue(t,e),Fe(t,zt)}function zt(){Vt=o.n2.onerror,o.n2.onerror=function(e,t,n,r,i){return Be("error",{column:r,error:i,line:n,msg:e,url:t}),!(!Vt||Vt.__SENTRY_LOADER__)&&Vt.apply(this,arguments)},o.n2.onerror.__SENTRY_INSTRUMENTED__=!0}let Gt=null;function Wt(e){const t="unhandledrejection";Ue(t,e),Fe(t,qt)}function qt(){Gt=o.n2.onunhandledrejection,o.n2.onunhandledrejection=function(e){return Be("unhandledrejection",e),!(Gt&&!Gt.__SENTRY_LOADER__)||Gt.apply(this,arguments)},o.n2.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}class $t{static __initStatic(){this.id="GlobalHandlers"}constructor(e){this.name=$t.id,this._options={onerror:!0,onunhandledrejection:!0,...e},this._installFunc={onerror:Kt,onunhandledrejection:Qt}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(t=n,Tt&&c.log(`Global Handler attached: ${t}`),r(),this._installFunc[n]=void 0)}var t}}function Kt(){Ht((e=>{const[t,n,r]=Jt();if(!t.getIntegration($t))return;const{msg:i,url:o,line:a,column:s,error:u}=e;if(Ut())return;const c=void 0===u&&v(i)?function(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=p(e)?e.message:e,a="Error";const s=o.match(i);s&&(a=s[1],o=s[2]);const u={exception:{values:[{type:a,value:o}]}};return Yt(u,t,n,r)}(i,o,a,s):Yt(Pt(n,u||i,void 0,r,!1),o,a,s);c.level="error",t.captureEvent(c,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}))}function Qt(){Wt((e=>{const[t,n,r]=Jt();if(!t.getIntegration($t))return;if(Ut())return!0;const i=function(e){if(m(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(e),o=m(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Pt(n,i,void 0,r,!0);o.level="error",t.captureEvent(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}function Yt(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,f=v(t)&&t.length>0?t:function(){try{return S.document.location.href}catch(e){return""}}();return 0===u.length&&u.push({colno:c,filename:f,function:"?",in_app:!0,lineno:l}),e}function Jt(){const e=ge(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}$t.__initStatic();const Zt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Xt{static __initStatic(){this.id="TryCatch"}constructor(e){this.name=Xt.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&R(Mt,"setTimeout",en),this._options.setInterval&&R(Mt,"setInterval",en),this._options.requestAnimationFrame&&R(Mt,"requestAnimationFrame",tn),this._options.XMLHttpRequest&&"XMLHttpRequest"in Mt&&R(XMLHttpRequest.prototype,"send",nn);const e=this._options.eventTarget;if(e){(Array.isArray(e)?e:Zt).forEach(rn)}}}function en(e){return function(...t){const n=t[0];return t[0]=Ft(n,{mechanism:{data:{function:Re(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function tn(e){return function(t){return e.apply(this,[Ft(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Re(e)},handled:!1,type:"instrument"}})])}}function nn(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&R(n,e,(function(t){const n={mechanism:{data:{function:e,handler:Re(t)},handled:!1,type:"instrument"}},r=D(t);return r&&(n.mechanism.data.handler=Re(r)),Ft(t,n)}))})),e.apply(this,t)}}function rn(e){const t=Mt,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(R(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=Ft(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Re(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Ft(r,{mechanism:{data:{function:"addEventListener",handler:Re(r),target:e},handled:!1,type:"instrument"}}),i])}})),R(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,i,r)}})))}function on(){"console"in o.n2&&a.forEach((function(e){e in o.n2.console&&R(o.n2.console,e,(function(t){return s[e]=t,function(...t){Be("console",{args:t,level:e});const n=s[e];n&&n.apply(o.n2.console,t)}}))}))}Xt.__initStatic();const an=o.n2,sn=1e3;let un,cn,ln;function fn(){if(!an.document)return;const e=Be.bind(null,"dom"),t=dn(e,!0);an.document.addEventListener("click",t,!1),an.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=an[t]&&an[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(R(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){const r=dn(e);a.handler=r,t.call(this,n,r,i)}a.refCount++}catch(e){}return t.call(this,n,r,i)}})),R(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function dn(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;N(n,"_sentryCaptured",!0),r&&!r._sentryId&&N(r,"_sentryId",B());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==cn)return!1;try{if(!e.target||e.target._sentryId!==ln)return!1}catch(e){}return!0}(n)){e({event:n,name:i,global:t}),cn=n.type,ln=r?r._sentryId:void 0}clearTimeout(un),un=an.setTimeout((()=>{ln=void 0,cn=void 0}),sn)}}const pn=o.n2,hn="__sentry_xhr_v3__";function vn(e){Ue("xhr",e),Fe("xhr",mn)}function mn(){if(!pn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;R(e,"open",(function(e){return function(...t){const n=Date.now(),r=v(t[0])?t[0].toUpperCase():void 0,i=function(e){if(v(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!r||!i)return e.apply(this,t);this[hn]={method:r,url:i,request_headers:{}},"POST"===r&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const e=this[hn];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}Be("xhr",{args:[r,i],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?R(this,"onreadystatechange",(function(e){return function(...t){return o(),e.apply(this,t)}})):this.addEventListener("readystatechange",o),R(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,i=this[hn];return i&&v(n)&&v(r)&&(i.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),R(e,"send",(function(e){return function(...t){const n=this[hn];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return Be("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function yn(e){const t="fetch";Ue(t,e),Fe(t,gn)}function gn(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!xe())return!1;if(De(Ne.fetch))return!0;let e=!1;const t=Ne.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=De(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){i&&c.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&R(o.n2,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:_n(t),method:bn(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:_n(t),method:bn(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Be("fetch",{...i}),e.apply(o.n2,t).then((e=>(Be("fetch",{...i,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Be("fetch",{...i,endTimestamp:Date.now(),error:e}),e}))}}))}function bn(e,t){return!!e&&"object"==typeof e&&!!e[t]}function _n(e){return"string"==typeof e?e:e?bn(e,"url")?e.url:e.toString?e.toString():"":""}const wn=["fatal","error","warning","log","info","debug"];function En(e){return"warn"===e?"warning":wn.includes(e)?e:"log"}function Sn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Tn=1024;class Cn{static __initStatic(){this.id="Breadcrumbs"}constructor(e){this.name=Cn.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){if(this.options.console&&function(e){const t="console";Ue(t,e),Fe(t,on)}(In),this.options.dom&&(Ue("dom",function(e){function t(t){let n,r="object"==typeof e?e.serializeAttribute:void 0,i="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>Tn&&(Tt&&c.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=Tn),"string"==typeof r&&(r=[r]);try{const e=t.event;n=function(e){return!!e&&!!e.target}(e)?C(e.target,{keyAttrs:r,maxStringLength:i}):C(e,{keyAttrs:r,maxStringLength:i})}catch(e){n="<unknown>"}0!==n.length&&ge().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),Fe("dom",fn)),this.options.xhr&&vn(kn),this.options.fetch&&yn(An),this.options.history&&ze(Pn),this.options.sentry){const e=Lt();e&&e.on&&e.on("beforeSendEvent",On)}}}function On(e){ge().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:H(e)},{event:e})}function In(e){const t={category:"console",data:{arguments:e.args,logger:"console"},level:En(e.level),message:k(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${k(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}ge().addBreadcrumb(t,{input:e.args,level:e.level})}function kn(e){const{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[hn];if(!t||!n||!r)return;const{method:i,url:o,status_code:a,body:s}=r,u={method:i,url:o,status_code:a},c={xhr:e.xhr,input:s,startTimestamp:t,endTimestamp:n};ge().addBreadcrumb({category:"xhr",data:u,type:"http"},c)}function An(e){const{startTimestamp:t,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){const r=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};ge().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{const r=e.response,i={...e.fetchData,status_code:r&&r.status},o={input:e.args,response:r,startTimestamp:t,endTimestamp:n};ge().addBreadcrumb({category:"fetch",data:i,type:"http"},o)}}function Pn(e){let t=e.from,n=e.to;const r=Sn(Mt.location.href);let i=t?Sn(t):void 0;const o=Sn(n);i&&i.path||(i=r),r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),ge().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}function Rn(e,t,n=250,r,i,o,a){if(!(o.exception&&o.exception.values&&a&&w(a.originalException,Error)))return;const s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var u,c;s&&(o.exception.values=(u=Nn(e,t,i,a.originalException,r,o.exception.values,s,0),c=n,u.map((e=>(e.value&&(e.value=I(e.value,c)),e)))))}function Nn(e,t,n,r,i,o,a,s){if(o.length>=n+1)return o;let u=[...o];if(w(r[i],Error)){xn(a,s);const o=e(t,r[i]),c=u.length;Dn(o,i,c,s),u=Nn(e,t,n,r[i],i,[o,...u],o,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(w(r,Error)){xn(a,s);const c=e(t,r),l=u.length;Dn(c,`errors[${o}]`,l,s),u=Nn(e,t,n,r,i,[c,...u],c,l)}})),u}function xn(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function Dn(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}Cn.__initStatic();class Ln{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this.name=Ln.id,this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){}preprocessEvent(e,t,n){const r=n.getOptions();Rn(Ct,r.stackParser,r.maxValueLength,this._key,this._limit,e,t)}}Ln.__initStatic();class Mn{static __initStatic(){this.id="HttpContext"}constructor(){this.name=Mn.id}setupOnce(){}preprocessEvent(e){if(!Mt.navigator&&!Mt.location&&!Mt.document)return;const t=e.request&&e.request.url||Mt.location&&Mt.location.href,{referrer:n}=Mt.document||{},{userAgent:r}=Mt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}Mn.__initStatic();class jn{static __initStatic(){this.id="Dedupe"}constructor(){this.name=jn.id}setupOnce(e,t){}processEvent(e){if(e.type)return e;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Fn(e,t))return!1;if(!Un(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Bn(t),r=Bn(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Fn(e,t))return!1;if(!Un(e,t))return!1;return!0}(e,t))return!0;return!1}(e,this._previousEvent))return Tt&&c.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return this._previousEvent=e}}function Un(e,t){let n=Vn(e),r=Vn(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function Fn(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function Bn(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Vn(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}jn.__initStatic();const Hn="?";function zn(e,t,n,r){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const Gn=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Wn=/\((\S*)(?::(\d+))(?::(\d+))\)/,qn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,$n=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Kn=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Qn=Ae(...[[30,e=>{const t=Gn.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Wn.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Yn(t[1]||Hn,t[2]);return zn(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=qn.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=$n.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Hn;return[n,e]=Yn(n,e),zn(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=Kn.exec(e);return t?zn(t[2],t[1]||Hn,+t[3],t[4]?+t[4]:void 0):void 0}]]),Yn=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Hn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Jn(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return ne(new st("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new re(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{te(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}const Zn=6e4;function Xn(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n]=e.split(":",2),o=parseInt(t,10),a=1e3*(isNaN(o)?60:o);if(n)for(const e of n.split(";"))i[e]=r+a;else i.all=r+a}else a?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?Zn:r-t}(a,r):429===t&&(i.all=r+6e4);return i}const er=30;function tr(e,t,n=Jn(e.bufferSize||er)){let r={};function i(i){const o=[];if(et(i,((t,n)=>{const i=ot(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)){const r=nr(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(t)})),0===o.length)return te();const a=Ze(i[0],o),s=t=>{et(a,((n,r)=>{const i=nr(n,r);e.recordDroppedEvent(t,ot(r),i)}))};return n.add((()=>t({body:nt(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&$&&c.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Xn(r,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof st)return $&&c.error("Skipped sending event because buffer is full."),s("queue_overflow"),te();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function nr(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let rr;function ir(e,t=function(){if(rr)return rr;if(De(Mt.fetch))return rr=Mt.fetch.bind(Mt);const e=Mt.document;let t=Mt.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){Tt&&c.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return rr=t.bind(Mt)}()){let n=0,r=0;return tr(e,(function(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then((e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return rr=void 0,n-=o,r--,ne(e)}}))}const or=4;function ar(e){return tr(e,(function(t){return new re(((n,r)=>{const i=new XMLHttpRequest;i.onerror=r,i.onreadystatechange=()=>{i.readyState===or&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)}))}))}const sr=[new Y,new X,new Xt,new Cn,new $t,new Ln,new jn,new Mn];function ur(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=sr),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),Mt.SENTRY_RELEASE&&Mt.SENTRY_RELEASE.id&&(e.release=Mt.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||Qn,Array.isArray(n)?Ae(...n):n),integrations:Te(e),transport:e.transport||(xe()?ir:ar)};var n;!function(e,t){!0===t.debug&&($?c.enable():u((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));const n=ge();n.getScope().update(t.initialScope);const r=new e(t);n.bindClient(r)}(Bt,t),e.autoSessionTracking&&function(){if(void 0===Mt.document)return void(Tt&&c.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=ge();if(!e.captureSession)return;cr(e),ze((({from:e,to:t})=>{void 0!==e&&e!==t&&cr(ge())}))}()}function cr(e){e.startSession({ignoreDuration:!0}),e.captureSession()}const lr="baggage",fr="sentry-",dr=/^sentry-/,pr=8192;function hr(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,a=0===r?o:`${e},${o}`;return a.length>pr?(i&&c.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):a}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${fr}${t}`]=n),e)),{}))}function vr(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const mr=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function yr(e,t){const n=function(e){if(!e)return;const t=e.match(mr);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),r=function(e){if(!v(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>({...e,...vr(t)})),{});else{if(!e)return;t=vr(e)}const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(dr)&&(e[t.slice(fr.length)]=n),e)),{});return Object.keys(n).length>0?n:void 0}(t),{traceId:i,parentSpanId:o,parentSampled:a}=n||{},s={traceId:i||B(),spanId:B().substring(16),sampled:a};return o&&(s.parentSpanId=o),r&&(s.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:s}}function gr(e=B(),t=B().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}class br{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class _r{constructor(e={}){this.traceId=e.traceId||B(),this.spanId=e.spanId||B().substring(16),this.startTimestamp=e.startTimestamp||(0,se.ph)(),this.tags=e.tags||{},this.data=e.data||{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.name&&(this.description=e.name),e.status&&(this.status=e.status),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}get name(){return this.description||""}set name(e){this.setName(e)}startChild(e){const t=new _r({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,$&&t.transaction){const n=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${t.transaction.name||"< unknown name >"}' (${t.transaction.spanId}).`;t.transaction.metadata.spanMetadata[t.spanId]={logMessage:n},c.log(n)}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);const t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this}setName(e){this.description=e}isSuccess(){return"ok"===this.status}finish(e){if($&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:e}=this.transaction.metadata.spanMetadata[this.spanId];e&&c.log(e.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof e?e:(0,se.ph)()}toTraceparent(){return gr(this.traceId,this.spanId,this.sampled)}toContext(){return U({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return U({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return U({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}class wr extends _r{constructor(e,t){super(e),delete this.description,this._measurements={},this._contexts={},this._hub=t||ge(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new br(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){const t=this._finishTransaction(e);if(t)return this._hub.captureEvent(t)}toContext(){return U({...super.toContext(),name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||ge(),t=e.getClient();if(!t)return{};const n=e.getScope(),r=ht(this.traceId,t,n),i=this.metadata.sampleRate;void 0!==i&&(r.sample_rate=`${i}`);const o=this.metadata.source;return o&&"url"!==o&&(r.transaction=this.name),void 0!==this.sampled&&(r.sampled=String(this.sampled)),r}setHub(e){this._hub=e}_finishTransaction(e){if(void 0!==this.endTimestamp)return;this.name||($&&c.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this.sampled)return $&&c.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const r=this.metadata,i={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...r,dynamicSamplingContext:this.getDynamicSamplingContext()},...r.source&&{transaction_info:{source:r.source}}};return Object.keys(this._measurements).length>0&&($&&c.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),$&&c.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),i}}const Er={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Sr=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Tr extends br{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=t=>{e.endTimestamp="number"==typeof t?t:(0,se.ph)(),this._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),super.add(e)}}class Cr extends wr{constructor(e,t,n=Er.idleTimeout,r=Er.finalTimeout,i=Er.heartbeatInterval,o=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Sr[4],o&&($&&c.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),t.configureScope((e=>e.setSpan(this)))),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Sr[3],this.finish())}),this._finalTimeout)}finish(e=(0,se.ph)()){if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){$&&c.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),$&&c.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const n=t.startTimestamp<e,r=(this._finalTimeout+this._idleTimeout)/1e3,i=t.endTimestamp-this.startTimestamp<r;if($){const e=JSON.stringify(t,void 0,2);n?i||c.log("[Tracing] discarding Span since it finished after Transaction final timeout",e):c.log("[Tracing] discarding Span since it happened after Transaction was finished",e)}return n&&i})),$&&c.log("[Tracing] flushing IdleTransaction")}else $&&c.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new Tr(t,n,this.spanId,e),$&&c.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Sr[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=Sr[1],this.finish(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),$&&c.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,$&&c.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&($&&c.log(`[Tracing] popActivity ${e}`),delete this.activities[e],$&&c.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=(0,se.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason=Sr[5],this.finish(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?($&&c.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Sr[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){$&&c.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function Or(e){return(e||ge()).getScope().getTransaction()}let Ir=!1;function kr(){const e=Or();if(e){const t="internal_error";$&&c.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}function Ar(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=Lt(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Pr(e,t,n){if(!Ar(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})):(r=1,e.setMetadata({sampleRate:r})),function(e){if(_(e)||"number"!=typeof e&&"boolean"!=typeof e)return $&&c.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1;if(e<0||e>1)return $&&c.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1;return!0}(r)?r?(e.sampled=Math.random()<r,e.sampled?($&&c.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):($&&c.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):($&&c.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):($&&c.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Rr(){const e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function Nr(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",o=e.instrumenter||"sentry";i!==o&&($&&c.error(`A transaction was started with instrumenter=\`${o}\`, but the SDK is configured with the \`${i}\` instrumenter.\nThe transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let a=new wr(e,this);return a=Pr(a,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),a.sampled&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function xr(e,t,n,r,i,o,a){const s=e.getClient(),u=s&&s.getOptions()||{};let c=new Cr(t,e,n,r,a,i);return c=Pr(c,u,{parentSampled:t.parentSampled,transactionContext:t,...o}),c.sampled&&c.initSpanRecorder(u._experiments&&u._experiments.maxSpans),s&&s.emit&&s.emit("startTransaction",c),c}function Dr(){const e=me();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Nr),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Rr),Ir||(Ir=!0,Ht(kr),Wt(kr)))}kr.tag="sentry_tracingErrorCallback";const Lr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Mr=o.n2;const jr=(e,t,n)=>{let r,i;return o=>{t.value>=0&&(o||n)&&(i=t.value-(r||0),(i||void 0===r)&&(r=t.value,t.delta=i,e(t)))}},Ur=()=>Mr.__WEB_VITALS_POLYFILL__?Mr.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=Mr.performance.timing,t=Mr.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):Mr.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Fr=()=>{const e=Ur();return e&&e.activationStart||0},Br=(e,t)=>{const n=Ur();let r="navigate";return n&&(r=Mr.document.prerendering||Fr()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Vr=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Hr=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==Mr.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},zr=e=>{const t=Br("CLS",0);let n,r=0,i=[];const o=e=>{e.forEach((e=>{if(!e.hadRecentInput){const o=i[0],a=i[i.length-1];r&&0!==i.length&&e.startTime-a.startTime<1e3&&e.startTime-o.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>t.value&&(t.value=r,t.entries=i,n&&n())}}))},a=Vr("layout-shift",o);if(a){n=jr(e,t);const r=()=>{o(a.takeRecords()),n(!0)};return Hr(r),r}};let Gr=-1;const Wr=()=>(Gr<0&&(Gr="hidden"!==Mr.document.visibilityState||Mr.document.prerendering?1/0:0,Hr((({timeStamp:e})=>{Gr=e}),!0)),{get firstHiddenTime(){return Gr}}),qr=e=>{const t=Wr(),n=Br("FID");let r;const i=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},o=e=>{e.forEach(i)},a=Vr("first-input",o);r=jr(e,n),a&&Hr((()=>{o(a.takeRecords()),a.disconnect()}),!0)},$r={},Kr=e=>{const t=Wr(),n=Br("LCP");let r;const i=e=>{const i=e[e.length-1];if(i){const e=Math.max(i.startTime-Fr(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[i],r())}},o=Vr("largest-contentful-paint",i);if(o){r=jr(e,n);const t=()=>{$r[n.id]||(i(o.takeRecords()),o.disconnect(),$r[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{addEventListener(e,t,{once:!0,capture:!0})})),Hr(t,!0),t}},Qr={},Yr={};let Jr,Zr,Xr;function ei(e,t){return ai(e,t),Yr[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);Vr(e,(t=>{ti(e,{entries:t})}),t)}(e),Yr[e]=!0),si(e,t)}function ti(e,t){const n=Qr[e];if(n&&n.length)for(const r of n)try{r(t)}catch(t){Lr&&c.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Re(r)}\nError:`,t)}}function ni(){zr((e=>{ti("cls",{metric:e}),Jr=e}))}function ri(){qr((e=>{ti("fid",{metric:e}),Zr=e}))}function ii(){Kr((e=>{ti("lcp",{metric:e}),Xr=e}))}function oi(e,t,n,r){return ai(e,t),Yr[e]||(n(),Yr[e]=!0),r&&t({metric:r}),si(e,t)}function ai(e,t){Qr[e]=Qr[e]||[],Qr[e].push(t)}function si(e,t){return()=>{const n=Qr[e];if(!n)return;const r=n.indexOf(t);-1!==r&&n.splice(r,1)}}function ui(e){return"number"==typeof e&&isFinite(e)}function ci(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const li=2147483647;function fi(e){return e/1e3}function di(){return Mr&&Mr.addEventListener&&Mr.performance}let pi,hi,vi=0,mi={};function yi(){const e=di();if(e&&se.Z1){e.mark&&Mr.performance.mark("sentry-tracing-init");const t=oi("fid",(({metric:e})=>{const t=e.entries.pop();if(!t)return;const n=fi(se.Z1),r=fi(t.startTime);Lr&&c.log("[Measurements] Adding FID"),mi.fid={value:e.value,unit:"millisecond"},mi["mark.fid"]={value:n+r,unit:"second"}}),ri,Zr),n=function(e){return oi("cls",e,ni,Jr)}((({metric:e})=>{const t=e.entries.pop();t&&(Lr&&c.log("[Measurements] Adding CLS"),mi.cls={value:e.value,unit:""},hi=t)})),r=function(e){return oi("lcp",e,ii,Xr)}((({metric:e})=>{const t=e.entries.pop();t&&(Lr&&c.log("[Measurements] Adding LCP"),mi.lcp={value:e.value,unit:"millisecond"},pi=t)}));return()=>{t(),n(),r()}}return()=>{}}function gi(e){const t=di();if(!t||!Mr.performance.getEntries||!se.Z1)return;Lr&&c.log("[Tracing] Adding & adjusting spans using Performance API");const n=fi(se.Z1),r=t.getEntries();let i,o;if(r.slice(vi).forEach((t=>{const r=fi(t.startTime),a=fi(t.duration);if(!("navigation"===e.op&&n+r<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{bi(e,t,r,n)})),bi(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),bi(e,t,"fetch",n,"cache","domainLookupStart"),bi(e,t,"domainLookup",n,"DNS"),function(e,t,n){ci(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+fi(t.requestStart),endTimestamp:n+fi(t.responseEnd)}),ci(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+fi(t.responseStart),endTimestamp:n+fi(t.responseEnd)})}(e,t,n)}(e,t,n),i=n+fi(t.responseStart),o=n+fi(t.requestStart);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){const o=i+n,a=o+r;ci(e,{description:t.name,endTimestamp:a,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:o})}(e,t,r,a,n);const i=Wr(),o=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&o&&(Lr&&c.log("[Measurements] Adding FP"),mi.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(Lr&&c.log("[Measurements] Adding FCP"),mi.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":{const i=t.name.replace(Mr.location.origin,"");!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a={};_i(a,t,"transferSize","http.response_transfer_size"),_i(a,t,"encodedBodySize","http.response_content_length"),_i(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);const s=o+r,u=s+i;ci(e,{description:n,endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:s,data:a})}(e,t,i,r,a,n);break}}})),vi=Math.max(r.length-1,0),function(e){const t=Mr.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),ui(n.rtt)&&(mi["connection.rtt"]={value:n.rtt,unit:"millisecond"}));ui(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);ui(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"==typeof i&&(Lr&&c.log("[Measurements] Adding TTFB"),mi.ttfb={value:1e3*(i-e.startTimestamp),unit:"millisecond"},"number"==typeof o&&o<=i&&(mi["ttfb.requestTime"]={value:1e3*(i-o),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(!mi[t]||n>=e.startTimestamp)return;const r=mi[t].value,i=n+fi(r),o=Math.abs(1e3*(i-e.startTimestamp)),a=o-r;Lr&&c.log(`[Measurements] Normalized ${t} from ${r} to ${o} (${a})`),mi[t].value=o}));const t=mi["mark.fid"];t&&mi.fid&&(ci(e,{description:"first input delay",endTimestamp:t.value+fi(mi.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete mi["mark.fid"]),"fcp"in mi||delete mi.cls,Object.keys(mi).forEach((t=>{e.setMeasurement(t,mi[t].value,mi[t].unit)})),function(e){pi&&(Lr&&c.log("[Measurements] Adding LCP Data"),pi.element&&e.setTag("lcp.element",C(pi.element)),pi.id&&e.setTag("lcp.id",pi.id),pi.url&&e.setTag("lcp.url",pi.url.trim().slice(0,200)),e.setTag("lcp.size",pi.size));hi&&hi.sources&&(Lr&&c.log("[Measurements] Adding CLS Data"),hi.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,C(t.node)))))}(e)}pi=void 0,hi=void 0,mi={}}function bi(e,t,n,r,i,o){const a=o?t[o]:t[`${n}End`],s=t[`${n}Start`];s&&a&&ci(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+fi(s),endTimestamp:r+fi(a)})}function _i(e,t,n,r){const i=t[n];null!=i&&i<li&&(e[r]=i)}function wi(e,t,n,r,i="auto.http.browser"){if(!Ar()||!e.fetchData)return;const o=t(e.fetchData.url);if(e.endTimestamp&&o){const t=e.fetchData.__span;if(!t)return;const n=r[t];if(n){if(e.response){n.setHttpStatus(e.response.status);const t=e.response&&e.response.headers&&e.response.headers.get("content-length");if(t){const e=parseInt(t);e>0&&n.setData("http.response_content_length",e)}}else e.error&&n.setStatus("internal_error");n.finish(),delete r[t]}return}const a=ge(),s=a.getScope(),u=a.getClient(),c=s.getSpan(),{method:l,url:f}=e.fetchData,d=o&&c?c.startChild({data:{url:f,type:"fetch","http.method":l},description:`${l} ${f}`,op:"http.client",origin:i}):void 0;if(d&&(e.fetchData.__span=d.spanId,r[d.spanId]=d),n(e.fetchData.url)&&u){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,i){const o=i||n.getSpan(),a=o&&o.transaction,{traceId:s,sampled:u,dsc:c}=n.getPropagationContext(),l=o?o.toTraceparent():gr(s,void 0,u),f=a?a.getDynamicSamplingContext():c||ht(s,t,n),d=hr(f),p="undefined"!=typeof Request&&w(e,Request)?e.headers:r.headers;if(p){if("undefined"!=typeof Headers&&w(p,Headers)){const e=new Headers(p);return e.append("sentry-trace",l),d&&e.append(lr,d),e}if(Array.isArray(p)){const e=[...p,["sentry-trace",l]];return d&&e.push([lr,d]),e}{const e="baggage"in p?p.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),d&&t.push(d),{...p,"sentry-trace":l,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":l,baggage:d}}(t,u,s,n,d)}return d}const Ei=["localhost",/^\/(?!\/)/],Si={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Ei,tracePropagationTargets:Ei};function Ti(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:o,enableHTTPTimings:a}={traceFetch:Si.traceFetch,traceXHR:Si.traceXHR,...e},s="function"==typeof o?o:e=>!0,u=e=>function(e,t){return P(e,t||Ei)}(e,r||i),c={};t&&yn((e=>{const t=wi(e,s,u,c);a&&t&&Ci(t)})),n&&vn((e=>{const t=function(e,t,n,r){const i=e.xhr,o=i&&i[hn];if(!Ar()||!i||i.__sentry_own_request__||!o)return;const a=t(o.url);if(e.endTimestamp&&a){const e=i.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==o.status_code&&(t.setHttpStatus(o.status_code),t.finish(),delete r[e]))}const s=ge(),u=s.getScope(),c=u.getSpan(),l=a&&c?c.startChild({data:{type:"xhr","http.method":o.method,url:o.url},description:`${o.method} ${o.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;l&&(i.__sentry_xhr_span_id__=l.spanId,r[i.__sentry_xhr_span_id__]=l);if(i.setRequestHeader&&n(o.url))if(l){const e=l&&l.transaction,t=hr(e&&e.getDynamicSamplingContext());Ii(i,l.toTraceparent(),t)}else{const e=s.getClient(),{traceId:t,sampled:n,dsc:r}=u.getPropagationContext();Ii(i,gr(t,void 0,n),hr(r||(e?ht(t,e,u):void 0)))}return l}(e,s,u,c);a&&t&&Ci(t)}))}function Ci(e){const t=e.data.url;if(!t)return;const n=ei("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!se.Z1)return r;return[...r,["http.request.redirect_start",Oi(e.redirectStart)],["http.request.fetch_start",Oi(e.fetchStart)],["http.request.domain_lookup_start",Oi(e.domainLookupStart)],["http.request.domain_lookup_end",Oi(e.domainLookupEnd)],["http.request.connect_start",Oi(e.connectStart)],["http.request.secure_connection_start",Oi(e.secureConnectionStart)],["http.request.connection_end",Oi(e.connectEnd)],["http.request.request_start",Oi(e.requestStart)],["http.request.response_start",Oi(e.responseStart)],["http.request.response_end",Oi(e.responseEnd)]]})(r).forEach((t=>e.setData(...t))),setTimeout(n)}}))}))}function Oi(e=0){return((se.Z1||performance.timeOrigin)+e)/1e3}function Ii(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(lr,n)}catch(e){}}const ki={...Er,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!Mr||!Mr.location)return void(Lr&&c.warn("Could not initialize routing instrumentation due to invalid location"));let r,i=Mr.location.href;t&&(r=e({name:Mr.location.pathname,startTimestamp:se.Z1?se.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&ze((({to:t,from:n})=>{void 0===n&&i&&-1!==i.indexOf(t)?i=void 0:n!==t&&(i=void 0,r&&(Lr&&c.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=e({name:Mr.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Si};class Ai{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,Dr(),Lr&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...ki,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=yi(),this.options.enableLongTask&&ei("longtask",(({entries:e})=>{for(const t of e){const e=Or();if(!e)return;const n=fi(se.Z1+t.startTime),r=fi(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),this.options._experiments.enableInteractions&&ei("event",(({entries:e})=>{for(const t of e){const e=Or();if(!e)return;if("click"===t.name){const n=fi(se.Z1+t.startTime),r=fi(t.duration);e.startChild({description:C(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}}))}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:o,startTransactionOnPageLoad:a,markBackgroundTransactions:s,traceFetch:u,traceXHR:l,shouldCreateSpanForRequest:f,enableHTTPTimings:d,_experiments:p}=this.options,h=r&&r.tracePropagationTargets,v=h||this.options.tracePropagationTargets;Lr&&this._hasSetTracePropagationTargets&&h&&c.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),i((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),a,o),s&&(Mr&&Mr.document?Mr.document.addEventListener("visibilitychange",(()=>{const e=Or();if(Mr.document.hidden&&e){const t="cancelled";Lr&&c.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):Lr&&c.warn("[Tracing] Could not set up background tab detection due to lack of global document")),p.enableInteractions&&this._registerInteractionListener(),Ti({traceFetch:u,traceXHR:l,tracePropagationTargets:v,shouldCreateSpanForRequest:f,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(Lr&&c.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:i,heartbeatInterval:o}=this.options,a="pageload"===e.op,s=a?Pi("sentry-trace"):"",u=a?Pi("baggage"):"",{traceparentData:l,dynamicSamplingContext:f,propagationContext:d}=yr(s,u),p={...e,...l,metadata:{...e.metadata,dynamicSamplingContext:l&&!f?{}:f},trimEnd:!0},h="function"==typeof n?n(p):p,v=void 0===h?{...p,sampled:!1}:h;v.metadata=v.name!==p.name?{...v.metadata,source:"custom"}:v.metadata,this._latestRouteName=v.name,this._latestRouteSource=v.metadata&&v.metadata.source,!1===v.sampled&&Lr&&c.log(`[Tracing] Will not send ${v.op} transaction because of beforeNavigate.`),Lr&&c.log(`[Tracing] Starting ${v.op} transaction on scope`);const{location:m}=Mr,y=xr(t,v,r,i,!0,{location:m},o),g=t.getScope();return a&&l?g.setPropagationContext(d):g.setPropagationContext({traceId:y.traceId,spanId:y.spanId,parentSpanId:y.parentSpanId,sampled:y.sampled}),y.registerBeforeFinishCallback((e=>{this._collectWebVitals(),gi(e)})),y}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,i="ui.action.click",o=Or();if(o&&o.op&&["navigation","pageload"].includes(o.op))return void(Lr&&c.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub)return void(Lr&&c.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(Lr&&c.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const a=this._getCurrentHub(),{location:s}=Mr,u={name:this._latestRouteName,op:i,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=xr(a,u,t,n,!0,{location:s},r)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}}function Pi(e){const t=(n=`meta[name=${e}]`,S.document&&S.document.querySelector?S.document.querySelector(n):null);var n;return t?t.getAttribute("content"):void 0}function Ri(e){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ri(e)}function Ni(e){return function(e){if(Array.isArray(e))return xi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ri(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ri(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mi=["Error: Network Error"],ji=function(e){var t,n=e.DSN,i=e.tunnel,o=e.environment,a=e.ignoreErrors,s=void 0===a?[]:a,u=e.user.id,c=e.config;!function(e){const t={_metadata:{},...e};t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:r}],version:r},ur(t)}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){Li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dsn:n,tunnel:i,integrations:[new Ai({})],environment:o,allowUrls:[/\.hackerearth\.com/],maxBreadcrumbs:50,ignoreErrors:[Mi].concat(Ni(s)),sampleRate:.2,attachStacktrace:!0,tracesSampleRate:0},c)),t={id:u},ge().setUser(t)},Ui=function(e){var t=e.origin,n=e.error,r=e.data;if(!n)return null;Dt((function(e){e.setExtra("origin",t),r&&e.setExtra("data",r),xt(n)}))}},32859:(e,t,n)=>{"use strict";n.d(t,{$B:()=>o,Ie:()=>s,Jz:()=>l,Nu:()=>r,Ty:()=>d,X8:()=>i,Zl:()=>u,Zs:()=>a,bt:()=>p,l_:()=>c,tT:()=>f});var r=294e4,i="up",o="down",a="facecode",s="assessment",u={status:{success:"success",timeoutWarning:"timeoutWarning",timeout:"timeout"},dataSource:{firebase:"firebase",polling:"polling"}},c="test_firestore",l="test_doc",f={host:"firebase.hackerearth.com",experimentalForceLongPolling:!0},d={production:"production",staging:"staging",dev:"dev"},p="https://rum.hackerearth.com"},38025:(e,t,n)=>{"use strict";n.d(t,{B6:()=>b,R3:()=>y,e$:()=>g,il:()=>_,nv:()=>v,pi:()=>w,uL:()=>m});n(2363);var r=n(82201),i=n.n(r),o=n(58746),a=n.n(o),s=n(746);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].trim();if(i.substring(0,e.length+1)===e+"="){t=decodeURIComponent(i.substring(e.length+1));break}}return t}var p={xsrfCookieName:"csrfToken",xsrfHeaderName:"X-CSRFToken",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",csrftoken:d("csrfToken")}},h=i().create(l({},p));function v(e,t){var n={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},data:a().stringify(t),withCredentials:!0,mode:"no-cors",credentials:"include",xsrfCookieName:"csrfToken",url:e};return h(n)}function m(e,t){var n=l({method:"GET",withCredentials:!0,mode:"no-cors",credentials:"include",xsrfCookieName:"csrfToken",url:e},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return(0,s.xb)(t)||(n.headers=t),h(n)}function y(e,t){var n=l({method:"PUT",withCredentials:!0,mode:"no-cors",credentials:"include",xsrfCookieName:"csrfToken",url:e,data:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return h(n)}function g(e,t,n){var r=l({method:"POST",withCredentials:!0,mode:"no-cors",credentials:"include",xsrfCookieName:"csrfToken",url:e,data:t},n);return h(r)}function b(e,t){return h({method:"PATCH",withCredentials:!0,mode:"no-cors",credentials:"include",xsrfCookieName:"csrfToken",url:e,data:t})}function _(e,t){return h({method:"POST",headers:{"content-type":"multipart/form-data"},data:t,withCredentials:!0,mode:"no-cors",credentials:"include",xsrfCookieName:"csrfToken",url:e})}function w(e,t){var n=l({method:"HEAD",url:e},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return(0,s.xb)(t)||(n.headers=t),h(n)}d("csrfToken")},746:(e,t,n)=>{"use strict";n.d(t,{vX:()=>a,xb:()=>o});n(2363);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=Object.prototype.hasOwnProperty;function o(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==r(e))return!0;for(var t in e)if(i.call(e,t))return!1;return!0}var a=function(e,t){var n=e&&e.length,r=t||175,i=0,o=0;if(n&&n>r){for(var a=!1,s=0;s<n&&(o++,!(i>r));s++){var u=e[s];"<"!==u?">"!==u?a||i++:a=!1:a=!0}if(i>r)return{html:e.substr(0,o-1)+"...",textCount:i}}return{html:e,textCount:i}}},18436:(e,t,n)=>{"use strict";n.d(t,{b:()=>m});var r=n(2363),i=(n(85680),n(69348)),o=n.n(i),a=n(76441),s=n(99387),u=n(62285);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l;function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===c(o)?o:String(o)),r)}var i,o}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(c,e);var t,n,i,a=p(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,e,t)).state={isVisible:e.isVisible,slideSelector:""},n}return t=c,i=[{key:"typeConverterForNotification",value:function(e){return"warning"===e?u.Z.WARN:e}}],(n=[{key:"componentDidMount",value:function(){this.props.isVisible&&this.showAlert(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.isVisible;e.isVisible!==t&&(e.isVisible?this.showAlert(e):this.hideAlert())}},{key:"componentWillUnmount",value:function(){this.hideAlert()}},{key:"onHideCallback",value:function(){var e=this.props.onHide;e&&"function"==typeof e&&e()}},{key:"showAlert",value:function(e){var t=e.timeToShow,n=e.selfClose,r=this.state.isVisible,i=this;r||this.setState({isVisible:!0}),this.clearTimers(),n&&(this._timer=setTimeout(this.hideAlert,t)),this._slideDowntimer=setTimeout((function(){i.setState({slideSelector:"js-slide-down"})}),100)}},{key:"hideAlert",value:function(){var e=this,t=this;this.clearTimers(),this.setState({slideSelector:"js-slide-up"}),this._slideDowntimer=setTimeout((function(){t.setState({isVisible:!1},e.onHideCallback)}),200)}},{key:"clearTimers",value:function(){clearTimeout(this._timer),clearTimeout(this._slideDowntimer),clearTimeout(this._slideUptimer)}},{key:"render",value:function(){var e=this.props,t=e.klass,n=e.type,i=e.top,a=e.children,u=e.detailsText,l=e.bodyComponent,f=e.hideCloseIcon,d=e.left,p=this.state,h=p.isVisible,v=p.slideSelector,m={top:i,left:d};return h&&n?r.createElement("div",{className:o()(t,"nuskha-alert-container",n),style:m},r.createElement(s.Z,{className:"nuskha-alert-content ".concat(v),type:c.typeConverterForNotification(n),headerComponent:a,bodyComponent:l,detailsText:u,hideCloseIcon:f,selfClose:!1,onClose:this.hideAlert})):null}}])&&f(t.prototype,n),i&&f(t,i),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.PureComponent),v(l.prototype,"showAlert",[a.Nj],Object.getOwnPropertyDescriptor(l.prototype,"showAlert"),l.prototype),v(l.prototype,"hideAlert",[a.Nj],Object.getOwnPropertyDescriptor(l.prototype,"hideAlert"),l.prototype),v(l.prototype,"clearTimers",[a.Nj],Object.getOwnPropertyDescriptor(l.prototype,"clearTimers"),l.prototype),l);m.defaultProps={top:"0px",timeToShow:5e3,isVisible:!1,selfClose:!0,type:"success",hideCloseIcon:!1,detailsText:"View more",bodyComponent:null},m.propTypes={}},81071:(e,t,n)=>{"use strict";n.d(t,{VY:()=>p,uZ:()=>h});var r=n(2363),i=(n(85680),n(18436));function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=r.createContext({}),p=function(){return(0,r.useContext)(d)};function h(e){var t=e.children,n=l((0,r.useState)({isVisible:!1}),2),o=n[0],s=n[1],c=(0,r.useCallback)((function(e){return s((function(t){return u(u({},t),e)}))}),[]),f=(0,r.useCallback)((function(e){return s((function(t){return u(u({},t),{},{isVisible:!0},e)}))}),[]),p=(0,r.useCallback)((function(e){return s(u({isVisible:!1},e))}),[]);return r.createElement(d.Provider,{value:{setProps:c,showAlert:f,resetAlert:p}},t,r.createElement(i.b,a({},o,{onHide:p}),o.headerComponent))}h.propTypes={}},57192:(e,t,n)=>{"use strict";n.d(t,{z:()=>w});var r=n(2363),i=(n(85680),n(69348)),o=n.n(i);var a=n(77882);const s=function(e){return r.createElement(a.Z,{name:"refresh",klass:"spinner"})};var u=["size","color","spinnerPos","setLoading","klass","onClick","disabled","children","showSpinner","loadingText","withLoader","renderAsText","style"];function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function h(){}function v(){}function m(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==t&&n.call(b,o)&&(y=b);var _=m.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(r,o,a,s){var u=f(e[r],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function T(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,r(_,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),u(_,s,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function p(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(c,e);var t,n,i,a=m(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(e=a.call.apply(a,[this].concat(n))),"state",{isLoading:!1}),b(y(e),"handleOnClick",function(){var t,n=(t=d().mark((function t(n){var r,i,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,i=r.onClick,o=r.withLoader,"function"==typeof i){t.next=3;break}return t.abrupt("return");case 3:if(o){t.next=5;break}return t.abrupt("return",i(n));case 5:return t.prev=5,t.next=8,e.setState({isLoading:!0});case 8:return t.next=10,i(n);case 10:e.setState({isLoading:!1}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.setState({isLoading:!1});case 16:case"end":return t.stop()}}),t,null,[[5,13]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.size,n=void 0===t?"medium":t,i=e.color,a=void 0===i?"gray":i,c=e.spinnerPos,d=void 0===c?"left":c,p=e.setLoading,h=e.klass,v=(e.onClick,e.disabled),m=e.children,y=e.showSpinner,g=e.loadingText,b=e.withLoader,_=e.renderAsText,w=e.style,E=f(e,u),S="btn-".concat(n),T="btn-".concat(a);if(_)return r.createElement("button",{className:o()("n-btn txt-btn btn-plain",h),onClick:this.handleOnClick},m);var C,O=this.state.isLoading||p;return C=b&&O?g?y?r.createElement("div",{className:o()("with-spinner",d)},"left"===d?r.createElement(s,null):"",g,"right"===d?r.createElement(s,null):""):g:r.createElement("div",{className:"only-spinner"},r.createElement("div",{className:"spinner-absolute"},r.createElement(s,null)),r.createElement("div",{className:"text"},m)):m,r.createElement("button",l({},E,{type:"button",className:o()("btn",T,S,h),disabled:v||O,"data-loading":O&&!v,style:w,onClick:O||v?void 0:this.handleOnClick}),C)}}])&&h(t.prototype,n),i&&h(t,i),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);w.propTypes={}},47422:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(2363),i=(n(85680),[]),o=function(e){var t=e.isFocusTrapActive,n=e.children,o=(0,r.useRef)(null),a=function(e){var t="Tab"===e.key,n=function(){var e=o;return i.length>=1&&(e=i[i.length-1]),e}();if(t&&(null==n?void 0:n.current)){var r='button:not([disabled]), [href]:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])',a=n.current.querySelectorAll(r)[0],s=n.current.querySelectorAll(r),u=s[s.length-1];n.current.contains(document.activeElement)||a.focus(),e.shiftKey?document.activeElement===a&&(u.focus(),e.preventDefault()):document.activeElement===u&&(a.focus(),e.preventDefault())}},s=function(){document.addEventListener("keydown",a),document.addEventListener("focusin",a)},u=function(){document.removeEventListener("keydown",a),document.removeEventListener("focusin",a)},c=function(){u(),i.pop(),i.length>1&&s()};return(0,r.useEffect)((function(){return t?(i.length>0&&u(),i.push(o),s()):c(),function(){c()}}),[t]),r.createElement("div",{ref:o},n)};o.propTypes={}},77882:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(2363),i=(n(85680),n(69348)),o=n.n(i),a=function(e){var t=e.klass,n=e.name,i=e.color,a=e.size,s=e.ariaLabel,u=e.onClick,c=n?"ui-".concat(n):"",l=i?"brand-".concat(i):"",f=a||"inherit";return r.createElement("div",{className:o()("vertical-align-middle inline-block",t),"aria-label":s,onClick:u},r.createElement("i",{className:o()("icon",c,l),style:{fontSize:f}}))};a.propTypes={};const s=a},98643:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var r=n(2363),i=n(20954);var o=function(e){var t=e.content,n=e.latexify,o=void 0!==n&&n,a=e.className,s=e.id,u=(0,r.useRef)();return(0,r.useEffect)((function(){o&&(window.MathJax&&u.current&&(0,i.e)(u.current))}),[t]),r.createElement("div",{ref:u,dangerouslySetInnerHTML:{__html:t},className:"n-html-renderer ".concat(a),id:s})}},20954:(e,t,n)=>{"use strict";function r(e){window.MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}function i(e){var t=document.createElement("div");t.style.cssText="display:hidden";var n=document.createAttribute("id");n.value="mathjax_text",t.setAttributeNode(n),t.innerHTML=e,document.body.appendChild(t);var r=document.getElementById("mathjax_text");return window.MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,r]),document.body.removeChild(r).innerHTML}n.d(t,{K:()=>i,e:()=>r})},94098:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(2363);n(85680);var i=(0,r.forwardRef)((function(e,t){var n=e.children,i=e.onClick,o=e.parentUnmounts,a=e.klass,s=function(e){var t,n,r,i=null===(t=window)||void 0===t||null===(n=t.HubSpotConversations)||void 0===n||null===(r=n.widget)||void 0===r?void 0:r.status();(null==i?void 0:i.loaded)&&!document.querySelector("#launch-hubspot").contains(e.target)&&window.HubSpotConversations.widget.remove()};(0,r.useEffect)((function(){return window.hsConversationsSettings?o&&document.addEventListener("click",s):(window.hsConversationsSettings={loadImmediately:!1,inlineEmbedSelector:"#launch-hubspot",enableWidgetCookieBanner:!0,disableAttachment:!1},window.hsConversationsOnReady=[function(){var e,t,n;null===(e=window)||void 0===e||null===(t=e.HubSpotConversations)||void 0===t||null===(n=t.widget)||void 0===n||n.load({widgetOpen:!0})}],document.addEventListener("click",s)),function(){o||(document.removeEventListener("click",s),o&&document.removeEventListener("click",s))}}),[]);return r.createElement("button",{className:"hs-wrapper btn-plain ".concat(a),type:"button",onClick:function(){i&&i(),window.HubSpotConversations?window.HubSpotConversations.widget.load({widgetOpen:!0}):function(){var e=document.createElement("div");e.id="launch-hubspot",document.body.appendChild(e);var t=document.createElement("script");t.type="text/javascript",t.id="hs-script-loader",t.src="//js-na1.hs-scripts.com/2586902.js",t.async=!0,t.onerror=function(){console.log("Error occurred while loading script")},document.body.appendChild(t)}()},ref:t},n)}));i.propTypes={},i.defaultProps={onClick:function(){},parentUnmounts:!1,klass:""}},2720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Aa});var r=n(2363),i=n(69348),o=n.n(i),a=(n(85680),function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)});function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var d=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},p={measureLayout:d(["layout","layoutId","drag","_layoutResetTransform"]),animation:d(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:d(["exit"]),drag:d(["drag","dragControls"]),focus:d(["whileFocus"]),hover:d(["whileHover","onHoverStart","onHoverEnd"]),tap:d(["whileTap","onTap","onTapStart","onTapCancel"]),pan:d(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:d(["layout","layoutId"])};var h=(0,r.createContext)({strict:!1}),v=Object.keys(p),m=v.length;var y=(0,r.createContext)({transformPagePoint:function(e){return e},isStatic:!1}),g=(0,r.createContext)({});var b=(0,r.createContext)(null);function _(e){var t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}function w(){var e=(0,r.useContext)(b);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,i=e.register,o=C();(0,r.useEffect)((function(){return i(o)}),[]);return!t&&n?[!1,function(){return null==n?void 0:n(o)}]:[!0]}function E(e){return null===e||e.isPresent}var S=0,T=function(){return S++},C=function(){return _(T)},O=(0,r.createContext)(null),I="undefined"!=typeof window,k=I?r.useLayoutEffect:r.useEffect;function A(e,t,n,i){var o=(0,r.useContext)(y),a=(0,r.useContext)(h),s=(0,r.useContext)(g).visualElement,c=(0,r.useContext)(b),l=function(e){var t=e.layoutId,n=(0,r.useContext)(O);return n&&void 0!==t?n+"-"+t:t}(n),f=(0,r.useRef)(void 0);i||(i=a.renderer),!f.current&&i&&(f.current=i(e,{visualState:t,parent:s,props:u(u({},n),{layoutId:l}),presenceId:null==c?void 0:c.id,blockInitialAnimation:!1===(null==c?void 0:c.initial)}));var d=f.current;return k((function(){d&&(d.setProps(u(u(u({},o),n),{layoutId:l})),d.isPresent=E(c),d.isPresenceRoot=!s||s.presenceId!==(null==c?void 0:c.id),d.syncRender())})),(0,r.useEffect)((function(){var e;d&&(null===(e=d.animationState)||void 0===e||e.animateChanges())})),k((function(){return function(){return null==d?void 0:d.notifyUnmount()}}),[]),d}function P(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function R(e){return Array.isArray(e)}function N(e){return"string"==typeof e||R(e)}function x(e,t,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"string"==typeof t&&(t=null===(o=e.variants)||void 0===o?void 0:o[t]),"function"==typeof t?t(null!=n?n:e.custom,r,i):t}function D(e,t,n){var r=e.getProps();return x(r,t,null!=n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function L(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||N(e.initial)||N(e.animate)||N(e.whileHover)||N(e.whileDrag)||N(e.whileTap)||N(e.whileFocus)||N(e.exit)}function M(e){return Boolean(L(e)||e.variants)}function j(e,t){var n=function(e,t){if(L(e)){var n=e.initial,r=e.animate;return{initial:!1===n||N(n)?n:void 0,animate:N(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(g)),i=n.initial,o=n.animate;return(0,r.useMemo)((function(){return{initial:i,animate:o}}),t?[U(i),U(o)]:[])}function U(e){return Array.isArray(e)?e.join(" "):e}function F(e){var t=e.preloadedFeatures,n=e.createVisualElement,i=e.useRender,o=e.useVisualState,a=e.Component;return t&&function(e){for(var t in e){var n=e[t];null!==n&&(p[t].Component=n)}}(t),(0,r.forwardRef)((function(e,t){var s=(0,r.useContext)(y).isStatic,c=null,l=j(e,s),f=o(e,s);return!s&&I&&(l.visualElement=A(a,f,e,n),c=function(e,t,n){var i=[];if((0,r.useContext)(h),!t)return null;for(var o=0;o<m;o++){var a=v[o],s=p[a],c=s.isEnabled,l=s.Component;c(e)&&l&&i.push(r.createElement(l,u({key:a},e,{visualElement:t})))}return i}(e,l.visualElement)),r.createElement(r.Fragment,null,r.createElement(g.Provider,{value:l},i(a,e,function(e,t,n){return(0,r.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):P(n)&&(n.current=r))}),[t])}(f,l.visualElement,t),f,s)),c)}))}function B(e){function t(t,n){return void 0===n&&(n={}),F(e(t,n))}var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var V=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function H(e){return"string"==typeof e&&!e.includes("-")&&!!(V.indexOf(e)>-1||/[A-Z]/.test(e))}var z={};var G=["","X","Y","Z"],W=["transformPerspective","x","y","z"];function q(e,t){return W.indexOf(e)-W.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return G.forEach((function(t){return W.push(e+t)}))}));var $=new Set(W);function K(e){return $.has(e)}var Q=new Set(["originX","originY","originZ"]);function Y(e){return Q.has(e)}function J(e,t){var n=t.layout,r=t.layoutId;return K(e)||Y(e)||(n||void 0!==r)&&(!!z[e]||"opacity"===e)}var Z=function(e){return null!==e&&"object"==typeof e&&e.getVelocity},X={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function ee(e){return e.startsWith("--")}var te=function(e,t){return t&&"number"==typeof e?t.transform(e):e},ne=n(66989),re=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},ie=function(e){return e%1?Number(e.toFixed(5)):e},oe=/(-)?([\d]*\.?[\d])+/g,ae=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,se=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function ue(e){return"string"==typeof e}var ce=function(e){return{test:function(t){return ue(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},le=ce("deg"),fe=ce("%"),de=ce("px"),pe=ce("vh"),he=ce("vw"),ve=(0,ne.pi)((0,ne.pi)({},fe),{parse:function(e){return fe.parse(e)/100},transform:function(e){return fe.transform(100*e)}}),me={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},ye=(0,ne.pi)((0,ne.pi)({},me),{transform:re(0,1)}),ge=(0,ne.pi)((0,ne.pi)({},me),{default:1}),be=u(u({},me),{transform:Math.round}),_e={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:le,rotateX:le,rotateY:le,rotateZ:le,scale:ge,scaleX:ge,scaleY:ge,scaleZ:ge,skew:le,skewX:le,skewY:le,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:ye,originX:ve,originY:ve,originZ:de,zIndex:be,fillOpacity:ye,strokeOpacity:ye,numOctaves:be};function we(e,t,n,r,i,o,a,s){var u,c=e.style,l=e.vars,f=e.transform,d=e.transformKeys,p=e.transformOrigin;d.length=0;var h=!1,v=!1,m=!0;for(var y in t){var g=t[y];if(ee(y))l[y]=g;else{var b=_e[y],_=te(g,b);if(K(y)){if(h=!0,f[y]=_,d.push(y),!m)continue;g!==(null!==(u=b.default)&&void 0!==u?u:0)&&(m=!1)}else if(Y(y))p[y]=_,v=!0;else if((null==n?void 0:n.isHydrated)&&(null==r?void 0:r.isHydrated)&&z[y]){var w=z[y].process(g,r,n),E=z[y].applyTo;if(E)for(var S=E.length,T=0;T<S;T++)c[E[T]]=w;else c[y]=w}else c[y]=_}}r&&n&&a&&s?(c.transform=a(r.deltaFinal,r.treeScale,h?f:void 0),o&&(c.transform=o(f,c.transform)),c.transformOrigin=s(r)):(h&&(c.transform=function(e,t,n,r){var i=e.transform,o=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,u=t.allowTransformNone,c=void 0===u||u,l="";o.sort(q);for(var f=!1,d=o.length,p=0;p<d;p++){var h=o[p];l+=(X[h]||h)+"("+i[h]+") ","z"===h&&(f=!0)}return!f&&s?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(e,i,m,o)),v&&(c.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,o=e.originZ;return n+" "+i+" "+(void 0===o?0:o)}(p)))}var Ee=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Se(e,t,n){for(var r in t)Z(t[r])||J(r,n)||(e[r]=t[r])}function Te(e,t,n){var i={};return Se(i,e.style||{},e),Object.assign(i,function(e,t,n){var i=e.transformTemplate;return(0,r.useMemo)((function(){var e=Ee();we(e,t,void 0,void 0,{enableHardwareAcceleration:!n},i);var r=e.vars,o=e.style;return u(u({},r),o)}),[t])}(e,t,n)),e.transformValues&&(i=e.transformValues(i)),i}function Ce(e,t,n){var r={},i=Te(e,t,n);return Boolean(e.drag)&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),r.style=i,r}var Oe=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function Ie(e){return Oe.has(e)}var ke=function(e){return!Ie(e)};try{var Ae=n(49399).Z;ke=function(e){return e.startsWith("on")?!Ie(e):Ae(e)}}catch(e){}function Pe(e,t,n){return"string"==typeof e?e:de.transform(t+n*e)}var Re=function(e,t){return de.transform(e*t)},Ne={offset:"stroke-dashoffset",array:"stroke-dasharray"},xe={offset:"strokeDashoffset",array:"strokeDasharray"};function De(e,t,n,r,i,o,a,s){var u=t.attrX,l=t.attrY,f=t.originX,d=t.originY,p=t.pathLength,h=t.pathSpacing,v=void 0===h?1:h,m=t.pathOffset,y=void 0===m?0:m;we(e,c(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r,i,o,a,s),e.attrs=e.style,e.style={};var g=e.attrs,b=e.style,_=e.dimensions,w=e.totalPathLength;g.transform&&(_&&(b.transform=g.transform),delete g.transform),_&&(void 0!==f||void 0!==d||b.transform)&&(b.transformOrigin=function(e,t,n){return Pe(t,e.x,e.width)+" "+Pe(n,e.y,e.height)}(_,void 0!==f?f:.5,void 0!==d?d:.5)),void 0!==u&&(g.x=u),void 0!==l&&(g.y=l),void 0!==w&&void 0!==p&&function(e,t,n,r,i,o){void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=!0);var a=o?Ne:xe;e[a.offset]=Re(-i,t);var s=Re(n,t),u=Re(r,t);e[a.array]=s+" "+u}(g,w,p,v,y,!1)}var Le=function(){return u(u({},Ee()),{attrs:{}})};function Me(e,t){var n=(0,r.useMemo)((function(){var n=Le();return De(n,t,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),u(u({},n.attrs),{style:u({},n.style)})}),[t]);if(e.style){var i={};Se(i,e.style,e),n.style=u(u({},i),n.style)}return n}function je(e){void 0===e&&(e=!1);return function(t,n,i,o,a){var s=o.latestValues,c=(H(t)?Me:Ce)(n,s,a),l=function(e,t,n){var r={};for(var i in e)(ke(i)||!0===n&&Ie(i)||!t&&!Ie(i))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),f=u(u(u({},l),c),{ref:i});return(0,r.createElement)(t,f)}}var Ue=/([a-z])([A-Z])/g,Fe=function(e){return e.replace(Ue,"$1-$2").toLowerCase()};function Be(e,t){var n=t.style,r=t.vars;for(var i in Object.assign(e.style,n),r)e.style.setProperty(i,r[i])}var Ve=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function He(e,t){for(var n in Be(e,t),t.attrs)e.setAttribute(Ve.has(n)?n:Fe(n),t.attrs[n])}function ze(e){var t=e.style,n={};for(var r in t)(Z(t[r])||J(r,e))&&(n[r]=t[r]);return n}function Ge(e){var t=ze(e);for(var n in e){if(Z(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function We(e){return"object"==typeof e&&"function"==typeof e.start}var qe=function(e){return Array.isArray(e)},$e=function(e){return Boolean(e&&"object"==typeof e&&e.mix&&e.toValue)},Ke=function(e){return qe(e)?e[e.length-1]||0:e};function Qe(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,a=e.onMount,s={latestValues:Je(t,n,r,i),renderState:o()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var Ye=function(e){return function(t,n){var i=(0,r.useContext)(g),o=(0,r.useContext)(b);return n?Qe(e,t,i,o):_((function(){return Qe(e,t,i,o)}))}};function Je(e,t,n,r){var i,o,a={},s=!1===(null==n?void 0:n.initial),u=r(e);for(var l in u)a[l]=(i=u[l],o=void 0,o=Z(i)?i.get():i,$e(o)?o.toValue():o);var f=e.initial,d=e.animate,p=L(e),h=M(e);t&&h&&!p&&!1!==e.inherit&&(null!=f||(f=t.initial),null!=d||(d=t.animate));var v=s||!1===f?d:f;v&&"boolean"!=typeof v&&!We(v)&&(Array.isArray(v)?v:[v]).forEach((function(t){var n=x(e,t);if(n){var r=n.transitionEnd;n.transition;var i=c(n,["transitionEnd","transition"]);for(var o in i)a[o]=i[o];for(var o in r)a[o]=r[o]}}));return a}var Ze={useVisualState:Ye({scrapeMotionValuesFromProps:Ge,createRenderState:Le,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}"path"===t.tagName&&(r.totalPathLength=t.getTotalLength()),De(r,i,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),He(t,r)}})};var Xe,et={useVisualState:Ye({scrapeMotionValuesFromProps:ze,createRenderState:Ee})};function tt(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function nt(e,t,n,i){(0,r.useEffect)((function(){var r=e.current;if(n&&r)return tt(r,t,n,i)}),[e,t,n,i])}function rt(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function it(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.Exit="exit"}(Xe||(Xe={}));var ot={pageX:0,pageY:0};function at(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||ot;return{x:n[t+"X"],y:n[t+"Y"]}}function st(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function ut(e,t){return void 0===t&&(t="page"),{point:it(e)?at(e,t):st(e,t)}}var ct=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,ut(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},lt=function(){return I&&null===window.onpointerdown},ft=function(){return I&&null===window.ontouchstart},dt=function(){return I&&null===window.onmousedown},pt={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},ht={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function vt(e){return lt()?e:ft()?ht[e]:dt()?pt[e]:e}function mt(e,t,n,r){return tt(e,vt(t),ct(n,"pointerdown"===t),r)}function yt(e,t,n,r){return nt(e,vt(t),n&&ct(n,"pointerdown"===t),r)}function gt(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var bt=gt("dragHorizontal"),_t=gt("dragVertical");function wt(e){var t=!1;if("y"===e)t=_t();else if("x"===e)t=bt();else{var n=bt(),r=_t();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function Et(){var e=wt(!0);return!e||(e(),!1)}function St(e,t,n){return function(r,i){var o;rt(r)&&!Et()&&(null==n||n(r,i),null===(o=e.animationState)||void 0===o||o.setActive(Xe.Hover,t))}}var Tt=function(e,t){return!!t&&(e===t||Tt(e,t.parentElement))};function Ct(e){return(0,r.useEffect)((function(){return function(){return e()}}),[])}var Ot=function(e,t){return function(n){return t(e(n))}},It=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Ot)};var kt=function(e){return function(t){return e(t),null}},At={tap:kt((function(e){var t=e.onTap,n=e.onTapStart,i=e.onTapCancel,o=e.whileTap,a=e.visualElement,s=t||n||i||o,u=(0,r.useRef)(!1),c=(0,r.useRef)(null);function l(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function f(){var e;return l(),u.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(Xe.Tap,!1),!Et()}function d(e,n){f()&&(Tt(a.getInstance(),e.target)?null==t||t(e,n):null==i||i(e,n))}function p(e,t){f()&&(null==i||i(e,t))}yt(a,"pointerdown",s?function(e,t){var r;l(),u.current||(u.current=!0,c.current=It(mt(window,"pointerup",d),mt(window,"pointercancel",p)),null==n||n(e,t),null===(r=a.animationState)||void 0===r||r.setActive(Xe.Tap,!0))}:void 0),Ct(l)})),focus:kt((function(e){var t=e.whileFocus,n=e.visualElement;nt(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Xe.Focus,!0)}:void 0),nt(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Xe.Focus,!1)}:void 0)})),hover:kt((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;yt(i,"pointerenter",t||r?St(i,!0,t):void 0),yt(i,"pointerleave",n||r?St(i,!1,n):void 0)}))};function Pt(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Rt=function(){},Nt=function(){};var xt=function(e,t,n){return Math.min(Math.max(n,e),t)},Dt=.001,Lt=.01,Mt=10,jt=.05,Ut=1;function Ft(e){var t,n,r=e.duration,i=void 0===r?800:r,o=e.bounce,a=void 0===o?.25:o,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;Rt(i<=1e3*Mt,"Spring duration must be 10 seconds or less");var f=1-a;f=xt(jt,Ut,f),i=xt(Lt,Mt,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,o=Vt(e,f),a=Math.exp(-n);return Dt-r/o*a},n=function(e){var n=e*f*i,r=n*u+u,o=Math.pow(f,2)*Math.pow(e,2)*i,a=Math.exp(-n),s=Vt(Math.pow(e,2),f);return(-t(e)+Dt>0?-1:1)*((r-o)*a)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-Dt},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var d=function(e,t,n){for(var r=n,i=1;i<Bt;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(d))return{stiffness:100,damping:10,duration:i};var p=Math.pow(d,2)*l;return{stiffness:p,damping:2*f*Math.sqrt(l*p),duration:i}}var Bt=12;function Vt(e,t){return e*Math.sqrt(1-t*t)}var Ht=["duration","bounce"],zt=["stiffness","damping","mass"];function Gt(e,t){return t.some((function(t){return void 0!==e[t]}))}function Wt(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,o=e.restSpeed,a=void 0===o?2:o,s=e.restDelta,u=(0,ne._T)(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(e){var t=(0,ne.pi)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Gt(e,zt)&&Gt(e,Ht)){var n=Ft(e);(t=(0,ne.pi)((0,ne.pi)((0,ne.pi)({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=l.stiffness,d=l.damping,p=l.mass,h=l.velocity,v=l.duration,m=l.isResolvedFromDuration,y=qt,g=qt;function b(){var e=h?-h/1e3:0,t=i-n,r=d/(2*Math.sqrt(f*p)),o=Math.sqrt(f/p)/1e3;if(null!=s||(s=Math.abs(i-n)<=1?.01:.4),r<1){var a=Vt(o,r);y=function(n){var s=Math.exp(-r*o*n);return i-s*((e+r*o*t)/a*Math.sin(a*n)+t*Math.cos(a*n))},g=function(n){var i=Math.exp(-r*o*n);return r*o*i*(Math.sin(a*n)*(e+r*o*t)/a+t*Math.cos(a*n))-i*(Math.cos(a*n)*(e+r*o*t)-a*t*Math.sin(a*n))}}else if(1===r)y=function(n){return i-Math.exp(-o*n)*(t+(e+o*t)*n)};else{var u=o*Math.sqrt(r*r-1);y=function(n){var a=Math.exp(-r*o*n),s=Math.min(u*n,300);return i-a*((e+r*o*t)*Math.sinh(s)+u*t*Math.cosh(s))/u}}}return b(),{next:function(e){var t=y(e);if(m)c.done=e>=v;else{var n=1e3*g(e),r=Math.abs(n)<=a,o=Math.abs(i-t)<=s;c.done=r&&o}return c.value=c.done?i:t,c},flipTarget:function(){var e;h=-h,n=(e=[i,n])[0],i=e[1],b()}}}Wt.needsInterpolation=function(e,t){return"string"==typeof e||"string"==typeof t};var qt=function(e){return 0},$t=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Kt=function(e,t,n){return-n*e+n*t+e},Qt=function(e,t){return function(n){return Boolean(ue(n)&&se.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},Yt=function(e,t,n){return function(r){var i;if(!ue(r))return r;var o=r.match(oe),a=o[0],s=o[1],u=o[2],c=o[3];return(i={})[e]=parseFloat(a),i[t]=parseFloat(s),i[n]=parseFloat(u),i.alpha=void 0!==c?parseFloat(c):1,i}},Jt=re(0,255),Zt=(0,ne.pi)((0,ne.pi)({},me),{transform:function(e){return Math.round(Jt(e))}}),Xt={test:Qt("rgb","red"),parse:Yt("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,o=void 0===i?1:i;return"rgba("+Zt.transform(t)+", "+Zt.transform(n)+", "+Zt.transform(r)+", "+ie(ye.transform(o))+")"}};var en={test:Qt("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Xt.transform},tn={test:Qt("hsl","hue"),parse:Yt("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,o=void 0===i?1:i;return"hsla("+Math.round(t)+", "+fe.transform(ie(n))+", "+fe.transform(ie(r))+", "+ie(ye.transform(o))+")"}},nn=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},rn=[en,Xt,tn],on=function(e){return rn.find((function(t){return t.test(e)}))},an=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},sn=function(e,t){var n=on(e),r=on(t);Nt(!!n,an(e)),Nt(!!r,an(t)),Nt(n.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var i=n.parse(e),o=r.parse(t),a=(0,ne.pi)({},i),s=n===tn?Kt:nn;return function(e){for(var t in a)"alpha"!==t&&(a[t]=s(i[t],o[t],e));return a.alpha=Kt(i.alpha,o.alpha,e),n.transform(a)}},un={test:function(e){return Xt.test(e)||en.test(e)||tn.test(e)},parse:function(e){return Xt.test(e)?Xt.parse(e):tn.test(e)?tn.parse(e):en.parse(e)},transform:function(e){return ue(e)?e:e.hasOwnProperty("red")?Xt.transform(e):tn.transform(e)}},cn="${c}",ln="${n}";function fn(e){var t=[],n=0,r=e.match(ae);r&&(n=r.length,e=e.replace(ae,cn),t.push.apply(t,r.map(un.parse)));var i=e.match(oe);return i&&(e=e.replace(oe,ln),t.push.apply(t,i.map(me.parse))),{values:t,numColors:n,tokenised:e}}function dn(e){return fn(e).values}function pn(e){var t=fn(e),n=t.values,r=t.numColors,i=t.tokenised,o=n.length;return function(e){for(var t=i,n=0;n<o;n++)t=t.replace(n<r?cn:ln,n<r?un.transform(e[n]):ie(e[n]));return t}}var hn=function(e){return"number"==typeof e?0:e};var vn={test:function(e){var t,n,r,i;return isNaN(e)&&ue(e)&&(null!==(n=null===(t=e.match(oe))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(ae))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:dn,createTransformer:pn,getAnimatableNone:function(e){var t=dn(e);return pn(e)(t.map(hn))}},mn=function(e){return"number"==typeof e};function yn(e,t){return mn(e)?function(n){return Kt(e,t,n)}:un.test(e)?sn(e,t):wn(e,t)}var gn=function(e,t){var n=(0,ne.ev)([],e),r=n.length,i=e.map((function(e,n){return yn(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},bn=function(e,t){var n=(0,ne.pi)((0,ne.pi)({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=yn(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function _n(e){for(var t=vn.parse(e),n=t.length,r=0,i=0,o=0,a=0;a<n;a++)r||"number"==typeof t[a]?r++:void 0!==t[a].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}var wn=function(e,t){var n=vn.createTransformer(t),r=_n(e),i=_n(t);return Nt(r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers,"Complex values '"+e+"' and '"+t+"' too different to mix. Ensure all colors are of the same type."),It(gn(r.parsed,i.parsed),n)},En=function(e,t){return function(n){return Kt(e,t,n)}};function Sn(e,t,n){for(var r,i=[],o=n||("number"==typeof(r=e[0])?En:"string"==typeof r?un.test(r)?sn:wn:Array.isArray(r)?gn:"object"==typeof r?bn:void 0),a=e.length-1,s=0;s<a;s++){var u=o(e[s],e[s+1]);if(t){var c=Array.isArray(t)?t[s]:t;u=It(c,u)}i.push(u)}return i}function Tn(e,t,n){var r=void 0===n?{}:n,i=r.clamp,o=void 0===i||i,a=r.ease,s=r.mixer,u=e.length;Nt(u===t.length,"Both input and output ranges must be the same length"),Nt(!a||!Array.isArray(a)||a.length===u-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[u-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var c=Sn(t,a,s),l=2===u?function(e,t){var n=e[0],r=e[1],i=t[0];return function(e){return i($t(n,r,e))}}(e,c):function(e,t){var n=e.length,r=n-1;return function(i){var o=0,a=!1;if(i<=e[0]?a=!0:i>=e[r]&&(o=r-1,a=!0),!a){for(var s=1;s<n&&!(e[s]>i||s===r);s++);o=s-1}var u=$t(e[o],e[o+1],i);return t[o](u)}}(e,c);return o?function(t){return l(xt(e[0],e[u-1],t))}:l}var Cn,On=function(e){return function(t){return 1-e(1-t)}},In=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},kn=function(e){return function(t){return t*t*((e+1)*t-e)}},An=function(e){return e},Pn=(Cn=2,function(e){return Math.pow(e,Cn)}),Rn=On(Pn),Nn=In(Pn),xn=function(e){return 1-Math.sin(Math.acos(e))},Dn=On(xn),Ln=In(Dn),Mn=kn(1.525),jn=On(Mn),Un=In(Mn),Fn=function(e){var t=kn(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),Bn=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},Vn=On(Bn);function Hn(e,t){return e.map((function(){return t||Nn})).splice(0,e.length-1)}function zn(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,o=e.ease,a=e.offset,s=e.duration,u=void 0===s?300:s,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(a&&a.length===l.length?a:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),u);function d(){return Tn(f,l,{ease:Array.isArray(o)?o:Hn(l,o)})}var p=d();return{next:function(e){return c.value=p(e),c.done=e>=u,c},flipTarget:function(){l.reverse(),p=d()}}}var Gn={keyframes:zn,spring:Wt,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,o=e.power,a=void 0===o?.8:o,s=e.timeConstant,u=void 0===s?350:s,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,d={done:!1,value:i},p=a*n,h=i+p,v=void 0===f?h:f(h);return v!==h&&(p=v-i),{next:function(e){var t=-p*Math.exp(-e/u);return d.done=!(t>l||t<-l),d.value=d.done?v:v+t,d},flipTarget:function(){}}}};var Wn=1/60*1e3,qn="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},$n="undefined"!=typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(qn())}),Wn)};var Kn=!0,Qn=!1,Yn=!1,Jn={delta:0,timestamp:0},Zn=["read","update","preRender","render","postRender"],Xn=Zn.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,o=new WeakSet,a={schedule:function(e,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);var u=s&&i,c=u?t:n;return a&&o.add(e),-1===c.indexOf(e)&&(c.push(e),u&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(s){var u;if(i=!0,t=(u=[n,t])[0],(n=u[1]).length=0,r=t.length)for(var c=0;c<r;c++){var l=t[c];l(s),o.has(l)&&(a.schedule(l),e())}i=!1}};return a}((function(){return Qn=!0})),e}),{}),er=Zn.reduce((function(e,t){var n=Xn[t];return e[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),Qn||or(),n.schedule(e,t,r)},e}),{}),tr=Zn.reduce((function(e,t){return e[t]=Xn[t].cancel,e}),{}),nr=Zn.reduce((function(e,t){return e[t]=function(){return Xn[t].process(Jn)},e}),{}),rr=function(e){return Xn[e].process(Jn)},ir=function(e){Qn=!1,Jn.delta=Kn?Wn:Math.max(Math.min(e-Jn.timestamp,40),1),Jn.timestamp=e,Yn=!0,Zn.forEach(rr),Yn=!1,Qn&&(Kn=!1,$n(ir))},or=function(){Qn=!0,Kn=!0,Yn||$n(ir)},ar=function(){return Jn};const sr=er;function ur(e,t,n){return void 0===n&&(n=0),e-t-n}var cr=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return sr.update(t,!0)},stop:function(){return tr.update(t)}}};function lr(e){var t,n,r,i,o,a=e.from,s=e.autoplay,u=void 0===s||s,c=e.driver,l=void 0===c?cr:c,f=e.elapsed,d=void 0===f?0:f,p=e.repeat,h=void 0===p?0:p,v=e.repeatType,m=void 0===v?"loop":v,y=e.repeatDelay,g=void 0===y?0:y,b=e.onPlay,_=e.onStop,w=e.onComplete,E=e.onRepeat,S=e.onUpdate,T=(0,ne._T)(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),C=T.to,O=0,I=T.duration,k=!1,A=!0,P=function(e){if(Array.isArray(e.to))return zn;if(Gn[e.type])return Gn[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?zn:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Wt:zn}(T);(null===(n=(t=P).needsInterpolation)||void 0===n?void 0:n.call(t,a,C))&&(o=Tn([0,100],[a,C],{clamp:!1}),a=0,C=100);var R=P((0,ne.pi)((0,ne.pi)({},T),{from:a,to:C}));function N(){O++,"reverse"===m?d=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),r?ur(t+-e,t,n):t-(e-t)+n}(d,I,g,A=O%2==0):(d=ur(d,I,g),"mirror"===m&&R.flipTarget()),k=!1,E&&E()}function x(e){if(A||(e=-e),d+=e,!k){var t=R.next(Math.max(0,d));i=t.value,o&&(i=o(i)),k=A?t.done:d<=0}null==S||S(i),k&&(0===O&&(null!=I||(I=d)),O<h?function(e,t,n,r){return r?e>=t+n:e<=-n}(d,I,g,A)&&N():(r.stop(),w&&w()))}return u&&(null==b||b(),(r=l(x)).start()),{stop:function(){null==_||_(),r.stop()}}}function fr(e,t){return t?e*(1e3/t):0}var dr=function(e){return 1e3*e},pr=function(e,t){return 1-3*t+3*e},hr=function(e,t){return 3*t-6*e},vr=function(e){return 3*e},mr=function(e,t,n){return((pr(t,n)*e+hr(t,n))*e+vr(t))*e},yr=function(e,t,n){return 3*pr(t,n)*e*e+2*hr(t,n)*e+vr(t)},gr=1e-7,br=10;var _r=8;var wr=.1;function Er(e,t,n,r){if(e===t&&n===r)return An;for(var i=new Float32Array(11),o=0;o<11;++o)i[o]=mr(o*wr,e,n);function a(t){for(var r=0,o=1;10!==o&&i[o]<=t;++o)r+=wr;--o;var a=r+(t-i[o])/(i[o+1]-i[o])*wr,s=yr(a,e,n);return s>=.001?function(e,t,n,r){for(var i=0;i<_r;++i){var o=yr(t,n,r);if(0===o)return t;t-=(mr(t,n,r)-e)/o}return t}(t,a,e,n):0===s?a:function(e,t,n,r,i){var o,a,s=0;do{(o=mr(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a}while(Math.abs(o)>gr&&++s<br);return a}(t,r,r+wr,e,n)}return function(e){return 0===e||1===e?e:mr(a(e),t,r)}}var Sr={linear:An,easeIn:Pn,easeInOut:Nn,easeOut:Rn,circIn:xn,circInOut:Ln,circOut:Dn,backIn:Mn,backInOut:Un,backOut:jn,anticipate:Fn,bounceIn:Vn,bounceInOut:function(e){return e<.5?.5*(1-Bn(1-2*e)):.5*Bn(2*e-1)+.5},bounceOut:Bn},Tr=function(e){if(Array.isArray(e)){Nt(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=l(e,4);return Er(t[0],t[1],t[2],t[3])}return"string"==typeof e?(Nt(void 0!==Sr[e],"Invalid easing type '"+e+"'"),Sr[e]):e},Cr=function(e){return Array.isArray(e)&&"number"!=typeof e[0]},Or=function(e,t){return"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!vn.test(t)||t.startsWith("url(")))},Ir=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},kr=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},Ar=function(){return{type:"keyframes",ease:"linear",duration:.3}},Pr=function(e){return{type:"keyframes",duration:.8,values:e}},Rr={x:Ir,y:Ir,z:Ir,rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scaleX:kr,scaleY:kr,scale:kr,opacity:Ar,backgroundColor:Ar,color:Ar,default:kr},Nr=function(e,t){var n;return n=qe(t)?Pr:Rr[e]||Rr.default,u({to:t},n(t))},xr=new Set(["brightness","contrast","saturate","opacity"]);function Dr(e){var t=e.slice(0,-1).split("("),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=(r.match(oe)||[])[0];if(!i)return e;var o=r.replace(i,""),a=xr.has(n)?1:0;return i!==r&&(a*=100),n+"("+a+o+")"}var Lr=/([a-z-]*)\(.*?\)/g,Mr=(0,ne.pi)((0,ne.pi)({},vn),{getAnimatableNone:function(e){var t=e.match(Lr);return t?t.map(Dr).join(" "):e}}),jr=u(u({},_e),{color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:Mr,WebkitFilter:Mr}),Ur=function(e){return jr[e]};function Fr(e,t){var n,r=Ur(e);return r!==Mr&&(r=vn),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var Br=!1;function Vr(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=f([],l(e.to)),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=c(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=u(u({},e),Nr(n,t.to))),u(u({},t),function(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,o=e.loop,a=c(e,["ease","times","yoyo","flip","loop"]),s=u({},a);return n&&(s.offset=n),a.duration&&(s.duration=dr(a.duration)),a.repeatDelay&&(s.repeatDelay=dr(a.repeatDelay)),t&&(s.ease=Cr(t)?t.map(Tr):Tr(t)),"tween"===a.type&&(s.type="keyframes"),(r||o||i)&&(Rt(!Br,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),Br=!0,r?s.repeatType="reverse":o?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=o||r||i||a.repeat),"spring"!==a.type&&(s.type="keyframes"),s}(e))}function Hr(e,t,n,r,i){var o,a=Wr(r,e),s=null!==(o=a.from)&&void 0!==o?o:t.get(),c=Or(e,n);"none"===s&&c&&"string"==typeof n?s=Fr(e,n):zr(s)&&"string"==typeof n?s=Gr(n):!Array.isArray(n)&&zr(n)&&"string"==typeof s&&(n=Gr(s));var l=Or(e,s);return Rt(l===c,"You are trying to animate "+e+' from "'+s+'" to "'+n+'". '+s+" is not an animatable value - to enable this animation set "+s+" to a value animatable to "+n+" via the `style` property."),l&&c&&!1!==a.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,o=void 0===i?0:i,a=e.min,s=e.max,u=e.power,c=void 0===u?.8:u,l=e.timeConstant,f=void 0===l?750:l,d=e.bounceStiffness,p=void 0===d?500:d,h=e.bounceDamping,v=void 0===h?10:h,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,b=e.driver,_=e.onUpdate,w=e.onComplete;function E(e){return void 0!==a&&e<a||void 0!==s&&e>s}function S(e){return void 0===a?s:void 0===s||Math.abs(a-e)<Math.abs(s-e)?a:s}function T(e){null==t||t.stop(),t=lr((0,ne.pi)((0,ne.pi)({},e),{driver:b,onUpdate:function(t){var n;null==_||_(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w}))}function C(e){T((0,ne.pi)({type:"spring",stiffness:p,damping:v,restDelta:y},e))}if(E(r))C({from:r,velocity:o,to:S(r)});else{var O=c*o+r;void 0!==g&&(O=g(O));var I,k,A=S(O),P=A===a?-1:1;T({type:"decay",from:r,velocity:o,timeConstant:f,power:c,restDelta:y,modifyTarget:g,onUpdate:E(O)?function(e){I=k,k=e,o=fr(e-I,ar().delta),(1===P&&e>A||-1===P&&e<A)&&C({from:e,to:A,velocity:o})}:void 0})}return{stop:function(){return null==t?void 0:t.stop()}}}(u(u({},r),a)):lr(u(u({},Vr(a,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=a.onUpdate)||void 0===t||t.call(a,e)},onComplete:function(){var e;r.onComplete(),null===(e=a.onComplete)||void 0===e||e.call(a)}}))}:function(){var e;return t.set(n),i(),null===(e=null==a?void 0:a.onComplete)||void 0===e||e.call(a),{stop:function(){}}}}function zr(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Gr(e){return"number"==typeof e?0:Fr("",e)}function Wr(e,t){return e[t]||e.default||e}function qr(e,t,n,r){return void 0===r&&(r={}),t.start((function(i){var o,a,s=Hr(e,t,n,r,i),u=function(e,t){var n;return null!==(n=(Wr(e,t)||{}).delay)&&void 0!==n?n:0}(r,e),c=function(){return a=s()};return u?o=setTimeout(c,dr(u)):c(),function(){clearTimeout(o),null==a||a.stop()}}))}function $r(e,t){-1===e.indexOf(t)&&e.push(t)}function Kr(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Qr=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return $r(this.subscriptions,e),function(){return Kr(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),Yr=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Qr,this.velocityUpdateSubscribers=new Qr,this.renderSubscribers=new Qr,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=ar(),i=r.delta,o=r.timestamp;n.lastUpdated!==o&&(n.timeDelta=i,n.lastUpdated=o,sr.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return sr.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?fr(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function Jr(e){return new Yr(e)}var Zr=function(e){return function(t){return t.test(e)}},Xr=[me,de,fe,le,he,pe,{test:function(e){return"auto"===e},parse:function(e){return e}}],ei=function(e){return Xr.find(Zr(e))},ti=f(f([],l(Xr)),[un,vn]),ni=function(e){return ti.find(Zr(e))};function ri(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Jr(n))}function ii(e,t){var n=D(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,o=void 0===i?{}:i;r.transition;var a=c(r,["transitionEnd","transition"]);for(var s in a=u(u({},a),o)){ri(e,s,Ke(a[s]))}}function oi(e,t){if(t)return(t[e]||t.default||t).from}function ai(e,t,n){var r;void 0===n&&(n={});var i=D(e,t,n.custom),o=(i||{}).transition,a=void 0===o?e.getDefaultTransition()||{}:o;n.transitionOverride&&(a=n.transitionOverride);var s=i?function(){return si(e,i,n)}:function(){return Promise.resolve()},c=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=a.delayChildren,o=void 0===i?0:i,s=a.staggerChildren,c=a.staggerDirection;return function(e,t,n,r,i,o){void 0===n&&(n=0);void 0===r&&(r=0);void 0===i&&(i=1);var a=[],s=(e.variantChildren.size-1)*r,c=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(ui).forEach((function(e,r){a.push(ai(e,t,u(u({},o),{delay:n+c(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(a)}(e,t,o+r,s,c,n)}:function(){return Promise.resolve()},f=a.when;if(f){var d=l("beforeChildren"===f?[s,c]:[c,s],2),p=d[0],h=d[1];return p().then(h)}return Promise.all([s(),c(n.delay)])}function si(e,t,n){var r,i=void 0===n?{}:n,o=i.delay,a=void 0===o?0:o,s=i.transitionOverride,l=i.type,f=e.makeTargetAnimatable(t),d=f.transition,p=void 0===d?e.getDefaultTransition():d,h=f.transitionEnd,v=c(f,["transition","transitionEnd"]);s&&(p=s);var m=[],y=l&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[l]);for(var g in v){var b=e.getValue(g),_=v[g];if(!(!b||void 0===_||y&&ci(y,g))){var w=qr(g,b,_,u({delay:a},p));m.push(w)}}return Promise.all(m).then((function(){h&&ii(e,h)}))}function ui(e,t){return e.sortNodePosition(t)}function ci(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var li=[Xe.Animate,Xe.Hover,Xe.Tap,Xe.Drag,Xe.Focus,Xe.Exit],fi=f([],l(li)).reverse(),di=li.length;function pi(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(),Array.isArray(t)){var i=t.map((function(t){return ai(e,t,n)}));r=Promise.all(i)}else if("string"==typeof t)r=ai(e,t,n);else{var o="function"==typeof t?D(e,t,n.custom):t;r=si(e,o,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function hi(e){var t,n=pi(e),r=((t={})[Xe.Animate]=vi(!0),t[Xe.Hover]=vi(),t[Xe.Tap]=vi(),t[Xe.Drag]=vi(),t[Xe.Focus]=vi(),t[Xe.Exit]=vi(),t),i={},o=!0,a=function(t,n){var r=D(e,n);if(r){r.transition;var i=r.transitionEnd,o=c(r,["transition","transitionEnd"]);t=u(u(u({},t),o),i)}return t};function s(t,s){for(var c,d=e.getProps(),p=e.getVariantContext(!0)||{},h=[],v=new Set,m={},y=1/0,g=function(n){var i=fi[n],g=r[i],b=null!==(c=d[i])&&void 0!==c?c:p[i],_=N(b),w=i===s?g.isActive:null;!1===w&&(y=n);var E=b===p[i]&&b!==d[i]&&_;if(E&&o&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys=u({},m),!g.isActive&&null===w||!b&&!g.prevProp||We(b)||"boolean"==typeof b)return"continue";var S=function(e,t){if("string"==typeof t)return t!==e;if(R(t))return!Pt(t,e);return!1}(g.prevProp,b)||i===s&&g.isActive&&!E&&_||n>y&&_,T=Array.isArray(b)?b:[b],C=T.reduce(a,{});!1===w&&(C={});var O=g.prevResolvedValues,I=void 0===O?{}:O,k=u(u({},I),C),A=function(e){S=!0,v.delete(e),g.needsAnimating[e]=!0};for(var P in k){var x=C[P],D=I[P];m.hasOwnProperty(P)||(x!==D?qe(x)&&qe(D)?Pt(x,D)?g.protectedKeys[P]=!0:A(P):void 0!==x?A(P):v.add(P):void 0!==x&&v.has(P)?A(P):g.protectedKeys[P]=!0)}g.prevProp=b,g.prevResolvedValues=C,g.isActive&&(m=u(u({},m),C)),o&&e.blockInitialAnimation&&(S=!1),S&&!E&&h.push.apply(h,f([],l(T.map((function(e){return{animation:e,options:u({type:i},t)}})))))},b=0;b<di;b++)g(b);if(i=u({},m),v.size){var _={};v.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(_[t]=n)})),h.push({animation:_})}var w=Boolean(h.length);return o&&!1===d.initial&&!e.manuallyAnimateOnMount&&(w=!1),o=!1,w?n(h):Promise.resolve()}return{isAnimated:function(e){return void 0!==i[e]},animateChanges:s,setActive:function(t,n,i){var o;return r[t].isActive===n?Promise.resolve():(null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),r[t].isActive=n,s(i,t))},setAnimateFunction:function(t){n=t(e)},getState:function(){return r}}}function vi(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var mi={animation:kt((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=hi(t)),We(n)&&(0,r.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:kt((function(e){var t=e.custom,n=e.visualElement,i=l(w(),2),o=i[0],a=i[1],s=(0,r.useContext)(b);(0,r.useEffect)((function(){var e,r,i=null===(e=n.animationState)||void 0===e?void 0:e.setActive(Xe.Exit,!o,{custom:null!==(r=null==s?void 0:s.custom)&&void 0!==r?r:t});!o&&(null==i||i.then(a))}),[o])}))},yi=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},gi=function(e){return yi(e)&&e.hasOwnProperty("z")},bi=function(e,t){return Math.abs(e-t)};function _i(e,t){if(mn(e)&&mn(t))return bi(e,t);if(yi(e)&&yi(t)){var n=bi(e.x,t.x),r=bi(e.y,t.y),i=gi(e)&&gi(t)?bi(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var wi=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=Ti(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=_i(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,o=ar().timestamp;r.history.push(u(u({},i),{timestamp:o}));var a=r.handlers,s=a.onStart,c=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),c&&c(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=Ei(t,r.transformPagePoint),rt(e)&&0===e.buttons?r.handlePointerUp(e,t):sr.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,a=Ti(Ei(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,a),o&&o(e,a)},!(it(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var o=Ei(ut(e),this.transformPagePoint),a=o.point,s=ar().timestamp;this.history=[u(u({},a),{timestamp:s})];var c=t.onSessionStart;c&&c(e,Ti(o,this.history)),this.removeListeners=It(mt(window,"pointermove",this.handlePointerMove),mt(window,"pointerup",this.handlePointerUp),mt(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),tr.update(this.updatePoint)},e}();function Ei(e,t){return t?{point:t(e.point)}:e}function Si(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ti(e,t){var n=e.point;return{point:n,delta:Si(n,Oi(t)),offset:Si(n,Ci(t)),velocity:Ii(t,.1)}}function Ci(e){return e[0]}function Oi(e){return e[e.length-1]}function Ii(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=Oi(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>dr(t)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ki(e){return e}function Ai(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}var Pi={translate:0,scale:1,origin:0,originPoint:0};function Ri(){return{x:u({},Pi),y:u({},Pi)}}function Ni(e){return[e("x"),e("y")]}function xi(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Kt(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Kt(i,e,n.max):Math.min(e,i)),e}function Di(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Li(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=l([i,r],2))[0],i=n[1]),{min:e.min+r,max:e.min+i}}function Mi(e,t,n){return{min:ji(e,t),max:ji(e,n)}}function ji(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function Ui(e,t){return Ai(function(e,t){var n=e.top,r=e.left,i=e.bottom,o=e.right;void 0===t&&(t=ki);var a=t({x:r,y:n}),s=t({x:o,y:i});return{top:a.y,left:a.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}function Fi(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),_i(e,t)<n}function Bi(e){return e.max-e.min}function Vi(e,t){var n=.5,r=Bi(e),i=Bi(t);return i>r?n=$t(t.min,t.max-r,e.min):r>i&&(n=$t(e.min,e.max-i,t.min)),xt(0,1,n)}function Hi(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=Kt(t.min,t.max,e.origin),e.scale=Bi(n)/Bi(t),Fi(e.scale,1,1e-4)&&(e.scale=1),e.translate=Kt(n.min,n.max,e.origin)-e.originPoint,Fi(e.translate)&&(e.translate=0)}function zi(e,t,n,r){Hi(e.x,t.x,n.x,Gi(r.originX)),Hi(e.y,t.y,n.y,Gi(r.originY))}function Gi(e){return"number"==typeof e?e:.5}function Wi(e,t,n){e.min=n.min+t.min,e.max=e.min+Bi(t)}var qi=function(e,t){return e.depth-t.depth};function $i(e){return e.projection.isEnabled||e.shouldResetTransform()}function Ki(e,t){void 0===t&&(t=[]);var n=e.parent;return n&&Ki(n,t),$i(e)&&t.push(e),t}function Qi(e){if(!e.shouldResetTransform()){var t,n=e.getLayoutState();e.notifyBeforeLayoutMeasure(n.layout),n.isHydrated=!0,n.layout=e.measureViewportBox(),n.layoutCorrected=(t=n.layout,{x:u({},t.x),y:u({},t.y)}),e.notifyLayoutMeasure(n.layout,e.prevViewportBox||n.layout),sr.update((function(){return e.rebaseProjectionTarget()}))}}function Yi(e,t){return{min:t.min-e.min,max:t.max-e.min}}function Ji(e,t){return{x:Yi(e.x,t.x),y:Yi(e.y,t.y)}}function Zi(e){var t=e.getProps(),n=t.drag,r=t._dragX;return n&&!r}function Xi(e,t){e.min=t.min,e.max=t.max}function eo(e,t,n){return n+t*(e-n)}function to(e,t,n,r,i){return void 0!==i&&(e=eo(e,i,r)),eo(e,n,r)+t}function no(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=to(e.min,t,n,r,i),e.max=to(e.max,t,n,r,i)}function ro(e,t){var n=t.x,r=t.y;no(e.x,n.translate,n.scale,n.originPoint),no(e.y,r.translate,r.scale,r.originPoint)}function io(e,t,n,r){var i=l(r,3),o=i[0],a=i[1],s=i[2];e.min=t.min,e.max=t.max;var u=void 0!==n[s]?n[s]:.5,c=Kt(t.min,t.max,u);no(e,n[o],n[a],c,n.scale)}var oo=["x","scaleX","originX"],ao=["y","scaleY","originY"];function so(e,t,n){io(e.x,t.x,n,oo),io(e.y,t.y,n,ao)}function uo(e,t,n,r,i){return e=eo(e-=t,1/n,r),void 0!==i&&(e=eo(e,1/i,r)),e}function co(e,t,n){var r=l(n,3),i=r[0],o=r[1],a=r[2];!function(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5);var o=Kt(e.min,e.max,r)-t;e.min=uo(e.min,t,n,o,i),e.max=uo(e.max,t,n,o,i)}(e,t[i],t[o],t[a],t.scale)}function lo(e,t){co(e.x,t,oo),co(e.y,t,ao)}var fo=new Set;function po(e,t,n){e[n]||(e[n]=[]),e[n].push(t)}function ho(e){return fo.add(e),function(){return fo.delete(e)}}function vo(){if(fo.size){var e=0,t=[[]],n=[],r=function(n){return po(t,n,e)},i=function(t){po(n,t,e),e++};fo.forEach((function(t){t(r,i),e=0})),fo.clear();for(var o=n.length,a=0;a<=o;a++)t[a]&&t[a].forEach(yo),n[a]&&n[a].forEach(yo)}}var mo,yo=function(e){return e()},go=new WeakMap,bo=function(){function e(e){var t=e.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic={x:{min:0,max:1},y:{min:0,max:1}},this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=t,this.visualElement.enableLayoutProjection(),go.set(t,this)}return e.prototype.start=function(e,t){var n=this,r=void 0===t?{}:t,i=r.snapToCursor,o=void 0!==i&&i,a=r.cursorProgress,s=this.props.transformPagePoint;this.panSession=new wi(e,{onSessionStart:function(e){var t;n.stopMotion();var r=function(e){return ut(e,"client")}(e).point;null===(t=n.cancelLayout)||void 0===t||t.call(n),n.cancelLayout=ho((function(e,t){var i=Ki(n.visualElement),s=function(e){var t=[],n=function(e){$i(e)&&t.push(e),e.children.forEach(n)};return e.children.forEach(n),t.sort(qi)}(n.visualElement),u=f(f([],l(i)),l(s)),c=!1;n.isLayoutDrag()&&n.visualElement.lockProjectionTarget(),t((function(){u.forEach((function(e){return e.resetTransform()}))})),e((function(){Qi(n.visualElement),s.forEach(Qi)})),t((function(){u.forEach((function(e){return e.restoreTransform()})),o&&(c=n.snapToCursor(r))})),e((function(){Boolean(n.getAxisMotionValue("x")&&!n.isExternalDrag())||n.visualElement.rebaseProjectionTarget(!0,n.visualElement.measureViewportBox(!1)),n.visualElement.scheduleUpdateLayoutProjection();var e=n.visualElement.projection;Ni((function(t){if(!c){var i=e.target[t],o=i.min,s=i.max;n.cursorProgress[t]=a?a[t]:$t(o,s,r[t])}var u=n.getAxisMotionValue(t);u&&(n.originPoint[t]=u.get())}))})),t((function(){nr.update(),nr.preRender(),nr.render(),nr.postRender()})),e((function(){return n.resolveDragConstraints()}))}))},onStart:function(e,t){var r,i,o,a=n.props,s=a.drag,u=a.dragPropagation;(!s||u||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=wt(s),n.openGlobalLock))&&(vo(),n.isDragging=!0,n.currentDirection=null,null===(i=(r=n.props).onDragStart)||void 0===i||i.call(r,e,t),null===(o=n.visualElement.animationState)||void 0===o||o.setActive(Xe.Drag,!0))},onMove:function(e,t){var r,i,o,a,s=n.props,u=s.dragPropagation,c=s.dragDirectionLock;if(u||n.openGlobalLock){var l=t.offset;if(c&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(l),void(null!==n.currentDirection&&(null===(i=(r=n.props).onDirectionLock)||void 0===i||i.call(r,n.currentDirection)));n.updateAxis("x",t.point,l),n.updateAxis("y",t.point,l),null===(a=(o=n.props).onDrag)||void 0===a||a.call(o,e,t),mo=e}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:s})},e.prototype.resolveDragConstraints=function(){var e=this,t=this.props,n=t.dragConstraints,r=t.dragElastic,i=this.visualElement.getLayoutState().layoutCorrected;this.constraints=!!n&&(P(n)?this.resolveRefConstraints(i,n):function(e,t){var n=t.top,r=t.left,i=t.bottom,o=t.right;return{x:Di(e.x,r,o),y:Di(e.y,n,i)}}(i,n)),this.elastic=function(e){return!1===e?e=0:!0===e&&(e=.35),{x:Mi(e,"left","right"),y:Mi(e,"top","bottom")}}(r),this.constraints&&!this.hasMutatedConstraints&&Ni((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(e,t){var n=this.props,r=n.onMeasureDragConstraints,i=n.transformPagePoint,o=t.current;Nt(null!==o,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop."),this.constraintsBox=Ui(o,i);var a=function(e,t){return{x:Li(e.x,t.x),y:Li(e.y,t.y)}}(e,this.constraintsBox);if(r){var s=r(function(e){var t=e.x,n=e.y;return{top:n.min,bottom:n.max,left:t.min,right:t.max}}(a));this.hasMutatedConstraints=!!s,s&&(a=Ai(s))}return a},e.prototype.cancelDrag=function(){var e,t;this.visualElement.unlockProjectionTarget(),null===(e=this.cancelLayout)||void 0===e||e.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(Xe.Drag,!1)},e.prototype.stop=function(e,t){var n,r,i;null===(n=this.panSession)||void 0===n||n.end(),this.panSession=null;var o=this.isDragging;if(this.cancelDrag(),o){var a=t.velocity;this.animateDragEnd(a),null===(i=(r=this.props).onDragEnd)||void 0===i||i.call(r,e,t)}},e.prototype.snapToCursor=function(e){var t=this;return Ni((function(n){if(_o(n,t.props.drag,t.currentDirection)){var r=t.getAxisMotionValue(n);if(!r)return t.cursorProgress[n]=.5,!0;var i=t.visualElement.getLayoutState().layout,o=i[n].max-i[n].min,a=i[n].min+o/2,s=e[n]-a;t.originPoint[n]=e[n],r.set(s)}})).includes(!0)},e.prototype.updateAxis=function(e,t,n){if(_o(e,this.props.drag,this.currentDirection))return this.getAxisMotionValue(e)?this.updateAxisMotionValue(e,n):this.updateVisualElementAxis(e,t)},e.prototype.updateAxisMotionValue=function(e,t){var n=this.getAxisMotionValue(e);if(t&&n){var r=this.originPoint[e]+t[e],i=this.constraints?xi(r,this.constraints[e],this.elastic[e]):r;n.set(i)}},e.prototype.updateVisualElementAxis=function(e,t){var n,r=this.visualElement.getLayoutState().layout[e],i=r.max-r.min,o=this.cursorProgress[e],a=function(e,t,n,r,i){var o=e-t*n;return r?xi(o,r,i):o}(t[e],i,o,null===(n=this.constraints)||void 0===n?void 0:n[e],this.elastic[e]);this.visualElement.setProjectionTargetAxis(e,a,a+i)},e.prototype.setProps=function(e){var t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,o=e.dragPropagation,a=void 0!==o&&o,s=e.dragConstraints,l=void 0!==s&&s,f=e.dragElastic,d=void 0===f?.35:f,p=e.dragMomentum,h=void 0===p||p,v=c(e,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=u({drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:d,dragMomentum:h},v)},e.prototype.getAxisMotionValue=function(e){var t=this.props,n=t.layout,r=t.layoutId,i="_drag"+e.toUpperCase();return this.props[i]?this.props[i]:n||void 0!==r?void 0:this.visualElement.getValue(e,0)},e.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},e.prototype.isExternalDrag=function(){var e=this.props,t=e._dragX,n=e._dragY;return t||n},e.prototype.animateDragEnd=function(e){var t=this,n=this.props,r=n.drag,i=n.dragMomentum,o=n.dragElastic,a=n.dragTransition,s=function(e,t){void 0===t&&(t=!0);var n,r=e.getProjectionParent();return!!r&&(t?lo(n=Ji(r.projection.target,e.projection.target),r.getLatestValues()):n=Ji(r.getLayoutState().layout,e.getLayoutState().layout),Ni((function(t){return e.setProjectionTargetAxis(t,n[t].min,n[t].max,!0)})),!0)}(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),c=this.constraints||{};if(s&&Object.keys(c).length&&this.isLayoutDrag()){var l=this.visualElement.getProjectionParent();if(l){var f=Ji(l.projection.targetFinal,c);Ni((function(e){var t=f[e],n=t.min,r=t.max;c[e]={min:isNaN(n)?void 0:n,max:isNaN(r)?void 0:r}}))}}var d=Ni((function(n){var l;if(_o(n,r,t.currentDirection)){var f=null!==(l=null==c?void 0:c[n])&&void 0!==l?l:{},d=o?200:1e6,p=o?40:1e7,h=u(u({type:"inertia",velocity:i?e[n]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10},a),f);return t.getAxisMotionValue(n)?t.startAxisValueAnimation(n,h):t.visualElement.startLayoutAnimation(n,h,s)}}));return Promise.all(d).then((function(){var e,n;null===(n=(e=t.props).onDragTransitionEnd)||void 0===n||n.call(e)}))},e.prototype.stopMotion=function(){var e=this;Ni((function(t){var n=e.getAxisMotionValue(t);n?n.stop():e.visualElement.stopLayoutAnimation()}))},e.prototype.startAxisValueAnimation=function(e,t){var n=this.getAxisMotionValue(e);if(n){var r=n.get();return n.set(r),n.set(r),qr(e,n,0,t)}},e.prototype.scalePoint=function(){var e=this,t=this.props,n=t.drag;if(P(t.dragConstraints)&&this.constraintsBox){this.stopMotion();var r={x:0,y:0};Ni((function(t){r[t]=Vi(e.visualElement.projection.target[t],e.constraintsBox[t])})),this.updateConstraints((function(){Ni((function(t){if(_o(t,n,null)){var i=function(e,t,n){var r=e.max-e.min,i=Kt(t.min,t.max-r,n);return{min:i,max:i+r}}(e.visualElement.projection.target[t],e.constraintsBox[t],r[t]),o=i.min,a=i.max;e.visualElement.setProjectionTargetAxis(t,o,a)}}))})),setTimeout(vo,1)}},e.prototype.updateConstraints=function(e){var t=this;this.cancelLayout=ho((function(n,r){var i=Ki(t.visualElement);r((function(){return i.forEach((function(e){return e.resetTransform()}))})),n((function(){return Qi(t.visualElement)})),r((function(){return i.forEach((function(e){return e.restoreTransform()}))})),n((function(){t.resolveDragConstraints()})),e&&r(e)}))},e.prototype.mount=function(e){var t=this,n=mt(e.getInstance(),"pointerdown",(function(e){var n=t.props,r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=tt(window,"resize",(function(){t.scalePoint()})),i=e.onLayoutUpdate((function(){t.isDragging&&t.resolveDragConstraints()})),o=e.prevDragCursor;return o&&this.start(mo,{cursorProgress:o}),function(){null==n||n(),null==r||r(),null==i||i(),t.cancelDrag()}},e}();function _o(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}var wo,Eo,So={pan:kt((function(e){var t=e.onPan,n=e.onPanStart,i=e.onPanEnd,o=e.onPanSessionStart,a=e.visualElement,s=t||n||i||o,u=(0,r.useRef)(null),c=(0,r.useContext)(y).transformPagePoint,l={onSessionStart:o,onStart:n,onMove:t,onEnd:function(e,t){u.current=null,i&&i(e,t)}};(0,r.useEffect)((function(){null!==u.current&&u.current.updateHandlers(l)})),yt(a,"pointerdown",s&&function(e){u.current=new wi(e,l,{transformPagePoint:c})}),Ct((function(){return u.current&&u.current.end()}))})),drag:kt((function(e){var t=e.dragControls,n=e.visualElement,i=(0,r.useContext)(y).transformPagePoint,o=_((function(){return new bo({visualElement:n})}));o.setProps(u(u({},e),{transformPagePoint:i})),(0,r.useEffect)((function(){return t&&t.subscribe(o)}),[o]),(0,r.useEffect)((function(){return o.mount(n)}),[])}))};function To(e){return"string"==typeof e&&e.startsWith("var(--")}!function(e){e[e.Entering=0]="Entering",e[e.Present=1]="Present",e[e.Exiting=2]="Exiting"}(wo||(wo={})),function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(Eo||(Eo={}));var Co=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var Oo=4;function Io(e,t,n){void 0===n&&(n=1),Nt(n<=Oo,'Max CSS variable fallback depth detected in property "'+e+'". This may indicate a circular fallback dependency.');var r=l(function(e){var t=Co.exec(e);if(!t)return[,];var n=l(t,3);return[n[1],n[2]]}(e),2),i=r[0],o=r[1];if(i){var a=window.getComputedStyle(t).getPropertyValue(i);return a?a.trim():To(o)?Io(o,t,n+1):o}}function ko(e,t){return e/(t.max-t.min)*100}var Ao="_$css";var Po={process:function(e,t,n){var r=n.target;if("string"==typeof e){if(!de.test(e))return e;e=parseFloat(e)}return ko(e,r.x)+"% "+ko(e,r.y)+"%"}},Ro={borderRadius:u(u({},Po),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Po,borderTopRightRadius:Po,borderBottomLeftRadius:Po,borderBottomRightRadius:Po,boxShadow:{process:function(e,t){var n=t.delta,r=t.treeScale,i=e,o=e.includes("var("),a=[];o&&(e=e.replace(Co,(function(e){return a.push(e),Ao})));var s=vn.parse(e);if(s.length>5)return i;var u=vn.createTransformer(e),c="number"!=typeof s[0]?1:0,l=n.x.scale*r.x,f=n.y.scale*r.y;s[0+c]/=l,s[1+c]/=f;var d=Kt(l,f,.5);"number"==typeof s[2+c]&&(s[2+c]/=d),"number"==typeof s[3+c]&&(s[3+c]/=d);var p=u(s);if(o){var h=0;p=p.replace(Ao,(function(){var e=a[h];return h++,e}))}return p}}},No=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frameTarget={x:{min:0,max:1},y:{min:0,max:1}},t.currentAnimationTarget={x:{min:0,max:1},y:{min:0,max:1}},t.isAnimating={x:!1,y:!1},t.stopAxisAnimation={x:void 0,y:void 0},t.isAnimatingTree=!1,t.animate=function(e,n,r){void 0===r&&(r={});var i=r.originBox,o=r.targetBox,a=r.visibilityAction,s=r.shouldStackAnimate,l=r.onComplete,f=r.prevParent,d=c(r,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),p=t.props,h=p.visualElement,v=p.layout;if(!1===s)return t.isAnimatingTree=!1,t.safeToRemove();if(!t.isAnimatingTree||!0===s){s&&(t.isAnimatingTree=!0),n=i||n,e=o||e;var m,y,g,b,_=!1,w=h.getProjectionParent();if(w){var E=w.prevViewportBox,S=w.getLayoutState().layout;f&&(o&&(S=f.getLayoutState().layout),i&&(y=w,g=(m=f).getLayoutId(),b=y.getLayoutId(),g===b&&(void 0!==b||m===y))&&f.prevViewportBox&&(E=f.prevViewportBox)),E&&function(e,t,n){return e||!e&&!(t||n)}(f,i,o)&&(_=!0,n=Ji(E,n),e=Ji(S,e))}var T=function(e,t){return!(Do(e)||Do(t)||Lo(e.x,t.x)&&Lo(e.y,t.y))}(n,e),C=Ni((function(r){var i,o;if("position"===v){var s=e[r].max-e[r].min;n[r].max=n[r].min+s}if(!h.projection.isTargetLocked)return void 0===a?T?t.animateAxis(r,e[r],n[r],u(u({},d),{isRelative:_})):(null===(o=(i=t.stopAxisAnimation)[r])||void 0===o||o.call(i),h.setProjectionTargetAxis(r,e[r].min,e[r].max,_)):void h.setVisibility(a===Eo.Show)}));return h.syncRender(),Promise.all(C).then((function(){t.isAnimatingTree=!1,l&&l(),h.notifyLayoutAnimationComplete()}))}},t}return s(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.visualElement;t.animateMotionValue=qr,t.enableLayoutProjection(),this.unsubLayoutReady=t.onLayoutUpdate(this.animate),t.layoutSafeToRemove=function(){return e.safeToRemove()},function(e){for(var t in e)z[t]=e[t]}(Ro)},t.prototype.componentWillUnmount=function(){var e=this;this.unsubLayoutReady(),Ni((function(t){var n,r;return null===(r=(n=e.stopAxisAnimation)[t])||void 0===r?void 0:r.call(n)}))},t.prototype.animateAxis=function(e,t,n,r){var i,o,a=this,s=void 0===r?{}:r,u=s.transition,c=s.isRelative;if(!this.isAnimating[e]||!Lo(t,this.currentAnimationTarget[e])){null===(o=(i=this.stopAxisAnimation)[e])||void 0===o||o.call(i),this.isAnimating[e]=!0;var l=this.props.visualElement,f=this.frameTarget[e],d=l.getProjectionAnimationProgress()[e];d.clearListeners(),d.set(0),d.set(0);var p=function(){var r=d.get()/1e3;!function(e,t,n,r){e.min=Kt(t.min,n.min,r),e.max=Kt(t.max,n.max,r)}(f,n,t,r),l.setProjectionTargetAxis(e,f.min,f.max,c)};p();var h=d.onChange(p);this.stopAxisAnimation[e]=function(){a.isAnimating[e]=!1,d.stop(),h()},this.currentAnimationTarget[e]=t;var v=u||l.getDefaultTransition()||Mo;return qr("x"===e?"layoutX":"layoutY",d,1e3,v&&Wr(v,"layout")).then(this.stopAxisAnimation[e])}},t.prototype.safeToRemove=function(){var e,t;null===(t=(e=this.props).safeToRemove)||void 0===t||t.call(e)},t.prototype.render=function(){return null},t}(r.Component);var xo={min:0,max:0};function Do(e){return Lo(e.x,xo)&&Lo(e.y,xo)}function Lo(e,t){return e.min===t.min&&e.max===t.max}var Mo={duration:.45,ease:[.4,0,.1,1]};var jo={layoutReady:function(e){return e.notifyLayoutReady()}};function Uo(){var e=new Set;return{add:function(t){return e.add(t)},flush:function(t){var n=void 0===t?jo:t,r=n.layoutReady,i=n.parent;ho((function(t,n){var o=Array.from(e).sort(qi),a=i?Ki(i):[];n((function(){f(f([],l(a)),l(o)).forEach((function(e){return e.resetTransform()}))})),t((function(){o.forEach(Qi)})),n((function(){a.forEach((function(e){return e.restoreTransform()})),o.forEach(r)})),t((function(){o.forEach((function(e){e.isPresent&&(e.presence=wo.Present)}))})),n((function(){nr.preRender(),nr.render()})),t((function(){sr.postRender((function(){return o.forEach(Fo)})),e.clear()}))})),vo()}}}function Fo(e){e.prevViewportBox=e.projection.target}var Bo=(0,r.createContext)(Uo()),Vo=(0,r.createContext)(Uo());function Ho(e){return!!e.forceUpdate}var zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.syncLayout,n=e.framerSyncLayout,r=e.visualElement;Ho(t)&&t.register(r),Ho(n)&&n.register(r),r.onUnmount((function(){Ho(t)&&t.remove(r),Ho(n)&&n.remove(r)}))},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.syncLayout,n=e.visualElement;return Ho(t)?t.syncUpdate():(!function(e){e.shouldResetTransform()||(e.prevViewportBox=e.measureViewportBox(!1),e.rebaseProjectionTarget(!1,e.prevViewportBox))}(n),t.add(n)),null},t.prototype.componentDidUpdate=function(){var e=this.props.syncLayout;Ho(e)||e.flush()},t.prototype.render=function(){return null},t}(r.Component);var Go={measureLayout:function(e){var t=(0,r.useContext)(Bo),n=(0,r.useContext)(Vo);return r.createElement(zo,u({},e,{syncLayout:t,framerSyncLayout:n}))},layoutAnimation:function(e){var t=l(w(),2)[1];return r.createElement(No,u({},e,{safeToRemove:t}))}};function Wo(){return{isHydrated:!1,layout:{x:{min:0,max:1},y:{min:0,max:1}},layoutCorrected:{x:{min:0,max:1},y:{min:0,max:1}},treeScale:{x:1,y:1},delta:Ri(),deltaFinal:Ri(),deltaTransform:""}}var qo=Wo();function $o(e,t,n){var r=e.x,i=e.y,o="translate3d("+r.translate/t.x+"px, "+i.translate/t.y+"px, 0) ";if(n){var a=n.rotate,s=n.rotateX,u=n.rotateY;a&&(o+="rotate("+a+") "),s&&(o+="rotateX("+s+") "),u&&(o+="rotateY("+u+") ")}return o+="scale("+r.scale+", "+i.scale+")",n||o!==Qo?o:""}function Ko(e){var t=e.deltaFinal;return 100*t.x.origin+"% "+100*t.y.origin+"% 0"}var Qo=$o(qo.delta,qo.treeScale,{x:1,y:1}),Yo=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function Jo(e,t,n,r){var i,o,a=e.delta,s=e.layout,u=e.layoutCorrected,c=e.treeScale,l=t.target;o=s,Xi((i=u).x,o.x),Xi(i.y,o.y),function(e,t,n){var r=n.length;if(r){var i,o;t.x=t.y=1;for(var a=0;a<r;a++)o=(i=n[a]).getLayoutState().delta,t.x*=o.x.scale,t.y*=o.y.scale,ro(e,o),Zi(i)&&so(e,e,i.getLatestValues())}}(u,c,n),zi(a,u,l,r)}var Zo=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){$r(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){Kr(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(qi),this.isDirty=!1,this.children.forEach(e)},e}();var Xo=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,o=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,c=e.readValueFromInstance,d=e.resetTransform,p=e.restoreTransform,h=e.removeValueFromRenderState,v=e.sortNodePosition,m=e.scrapeMotionValuesFromProps;return function(e,t){var y=e.parent,g=e.props,b=e.presenceId,_=e.blockInitialAnimation,w=e.visualState;void 0===t&&(t={});var E,S,T,C,O,I,k=w.latestValues,A=w.renderState,P=function(){var e=Yo.map((function(){return new Qr})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){return Yo.forEach((function(r){var i;null===(i=t[r])||void 0===i||i.call(t);var o="on"+r,a=e[o];a&&(t[r]=n[o](a))}))}};return e.forEach((function(e,t){n["on"+Yo[t]]=function(t){return e.add(t)},n["notify"+Yo[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,f([],l(t)))}})),n}(),R={isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:{x:{min:0,max:1},y:{min:0,max:1}},targetFinal:{x:{min:0,max:1},y:{min:0,max:1}}},x=R,D=k,j=Wo(),U=!1,F=new Map,B=new Map,V={},H=u({},k);function z(){E&&(X.isProjectionReady()&&(so(x.targetFinal,x.target,D),zi(j.deltaFinal,j.layoutCorrected,x.targetFinal,k)),G(),s(E,A))}function G(){var e=k;if(C&&C.isActive()){var n=C.getCrossfadeState(X);n&&(e=n)}r(X,A,e,x,j,t,g)}function W(){P.notifyUpdate(k)}function q(){X.layoutTree.forEach(ta)}var $=m(g);for(var K in $){var Q=$[K];void 0!==k[K]&&Z(Q)&&Q.set(k[K],!1)}var Y=L(g),J=M(g),X=u(u({treeType:n,current:null,depth:y?y.depth+1:0,parent:y,children:new Set,path:y?f(f([],l(y.path)),[y]):[],layoutTree:y?y.layoutTree:new Zo,presenceId:b,projection:R,variantChildren:J?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==y?void 0:y.isMounted()),blockInitialAnimation:_,isMounted:function(){return Boolean(E)},mount:function(e){E=X.current=e,X.pointTo(X),J&&y&&!Y&&(I=null==y?void 0:y.addVariantChild(X)),null==y||y.children.add(X)},unmount:function(){tr.update(W),tr.render(z),tr.preRender(X.updateLayoutProjection),B.forEach((function(e){return e()})),X.stopLayoutAnimation(),X.layoutTree.remove(X),null==I||I(),null==y||y.children.delete(X),null==T||T(),P.clearAllListeners()},addVariantChild:function(e){var t,n=X.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return v&&n===e.treeType?v(X.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return J?X:null==y?void 0:y.getClosestVariantNode()},scheduleUpdateLayoutProjection:y?y.scheduleUpdateLayoutProjection:function(){return sr.preRender(X.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return g.layoutId},getInstance:function(){return E},getStaticValue:function(e){return k[e]},setStaticValue:function(e,t){return k[e]=t},getLatestValues:function(){return k},setVisibility:function(e){X.isVisible!==e&&(X.isVisible=e,X.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),o(X,e,g,t)},addValue:function(e,t){X.hasValue(e)&&X.removeValue(e),F.set(e,t),k[e]=t.get(),function(e,t){var n=t.onChange((function(t){k[e]=t,g.onUpdate&&sr.update(W,!1,!0)})),r=t.onRenderRequest(X.scheduleRender);B.set(e,(function(){n(),r()}))}(e,t)},removeValue:function(e){var t;F.delete(e),null===(t=B.get(e))||void 0===t||t(),B.delete(e),delete k[e],h(e,A)},hasValue:function(e){return F.has(e)},getValue:function(e,t){var n=F.get(e);return void 0===n&&void 0!==t&&(n=Jr(t),X.addValue(e,n)),n},forEachValue:function(e){return F.forEach(e)},readValue:function(e){var n;return null!==(n=k[e])&&void 0!==n?n:c(E,e,t)},setBaseTarget:function(e,t){H[e]=t},getBaseTarget:function(e){if(i){var t=i(g,e);if(void 0!==t&&!Z(t))return t}return H[e]}},P),{build:function(){return G(),A},scheduleRender:function(){sr.render(z,!1,!0)},syncRender:z,setProps:function(e){g=e,P.updatePropListeners(e),V=function(e,t,n){var r;for(var i in t){var o=t[i],a=n[i];if(Z(o))e.addValue(i,o);else if(Z(a))e.addValue(i,Jr(o));else if(a!==o)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(o)}else e.addValue(i,Jr(null!==(r=e.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(X,m(g),V)},getProps:function(){return g},getVariant:function(e){var t;return null===(t=g.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return g.transition},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==y?void 0:y.getVariantContext();if(!Y){var t=(null==y?void 0:y.getVariantContext())||{};return void 0!==g.initial&&(t.initial=g.initial),t}for(var n={},r=0;r<ia;r++){var i=ra[r],o=g[i];(N(o)||!1===o)&&(n[i]=o)}return n},enableLayoutProjection:function(){R.isEnabled=!0,X.layoutTree.add(X)},lockProjectionTarget:function(){R.isTargetLocked=!0},unlockProjectionTarget:function(){X.stopLayoutAnimation(),R.isTargetLocked=!1},getLayoutState:function(){return j},setCrossfader:function(e){C=e},isProjectionReady:function(){return R.isEnabled&&R.isHydrated&&j.isHydrated},startLayoutAnimation:function(e,t,n){void 0===n&&(n=!1);var r=X.getProjectionAnimationProgress()[e],i=n?R.relativeTarget[e]:R.target[e],o=i.min,a=i.max-o;return r.clearListeners(),r.set(o),r.set(o),r.onChange((function(t){X.setProjectionTargetAxis(e,t,t+a,n)})),X.animateMotionValue(e,r,0,t)},stopLayoutAnimation:function(){Ni((function(e){return X.getProjectionAnimationProgress()[e].stop()}))},measureViewportBox:function(e){void 0===e&&(e=!0);var n=a(E,t);return e||lo(n,k),n},getProjectionAnimationProgress:function(){return O||(O={x:Jr(0),y:Jr(0)}),O},setProjectionTargetAxis:function(e,t,n,r){var i;void 0===r&&(r=!1),r?(R.relativeTarget||(R.relativeTarget={x:{min:0,max:1},y:{min:0,max:1}}),i=R.relativeTarget[e]):(R.relativeTarget=void 0,i=R.target[e]),R.isHydrated=!0,i.min=t,i.max=n,U=!0,P.notifySetAxisTarget()},rebaseProjectionTarget:function(e,t){void 0===t&&(t=j.layout);var n=X.getProjectionAnimationProgress(),r=n.x,i=n.y,o=!(R.relativeTarget||R.isTargetLocked||r.isAnimating()||i.isAnimating());(e||o)&&Ni((function(e){var n=t[e],r=n.min,i=n.max;X.setProjectionTargetAxis(e,r,i)}))},notifyLayoutReady:function(e){!function(e){var t=e.getProjectionParent();if(t){var n=Ji(t.getLayoutState().layout,e.getLayoutState().layout);Ni((function(t){e.setProjectionTargetAxis(t,n[t].min,n[t].max,!0)}))}else e.rebaseProjectionTarget()}(X),X.notifyLayoutUpdate(j.layout,X.prevViewportBox||j.layout,e)},resetTransform:function(){return d(X,E,g)},restoreTransform:function(){return p(E,A)},updateLayoutProjection:function(){if(X.isProjectionReady()){var e=j.delta,t=j.treeScale,n=t.x,r=t.y,i=j.deltaTransform;Jo(j,x,X.path,k),U&&X.notifyViewportBoxUpdate(x.target,e),U=!1;var o=$o(e,t);o===i&&n===t.x&&r===t.y||X.scheduleRender(),j.deltaTransform=o}},updateTreeLayoutProjection:function(){X.layoutTree.forEach(ea),sr.preRender(q,!1,!0)},getProjectionParent:function(){if(void 0===S){for(var e=!1,t=X.path.length-1;t>=0;t--){var n=X.path[t];if(n.projection.isEnabled){e=n;break}}S=e}return S},resolveRelativeTargetBox:function(){var e=X.getProjectionParent();if(R.relativeTarget&&e&&(function(e,t){Wi(e.target.x,e.relativeTarget.x,t.target.x),Wi(e.target.y,e.relativeTarget.y,t.target.y)}(R,e.projection),Zi(e))){var t=R.target;so(t,t,e.getLatestValues())}},shouldResetTransform:function(){return Boolean(g._layoutResetTransform)},pointTo:function(e){x=e.projection,D=e.getLatestValues(),null==T||T(),T=It(e.onSetAxisTarget(X.scheduleUpdateLayoutProjection),e.onLayoutAnimationComplete((function(){var e;X.isPresent?X.presence=wo.Present:null===(e=X.layoutSafeToRemove)||void 0===e||e.call(X)})))},isPresent:!0,presence:wo.Entering});return X}};function ea(e){e.resolveRelativeTargetBox()}function ta(e){e.updateLayoutProjection()}var na,ra=f(["initial"],l(li)),ia=ra.length,oa=new Set(["width","height","top","left","right","bottom","x","y"]),aa=function(e){return oa.has(e)},sa=function(e,t){e.set(t,!1),e.set(t)},ua=function(e){return e===me||e===de};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(na||(na={}));var ca=function(e,t){return parseFloat(e.split(", ")[t])},la=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return ca(o[1],t);var a=i.match(/^matrix\((.+)\)$/);return a?ca(a[1],e):0}},fa=new Set(["x","y","z"]),da=W.filter((function(e){return!fa.has(e)}));var pa={width:function(e){var t=e.x;return t.max-t.min},height:function(e){var t=e.y;return t.max-t.min},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:la(4,13),y:la(5,14)},ha=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=u({},t),r=u({},r);var i=Object.keys(t).filter(aa),o=[],a=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=t[i],d=ei(l);if(qe(f))for(var p=f.length,h=null===f[0]?1:0;h<p;h++)c?Nt(ei(f[h])===c,"All keyframes must be of the same type"):(c=ei(f[h]),Nt(c===d||ua(d)&&ua(c),"Keyframes must be of the same dimension as the current value"));else c=ei(f);if(d!==c)if(ua(d)&&ua(c)){var v=u.get();"string"==typeof v&&u.set(parseFloat(v)),"string"==typeof f?t[i]=parseFloat(f):Array.isArray(f)&&c===de&&(t[i]=f.map(parseFloat))}else(null==d?void 0:d.transform)&&(null==c?void 0:c.transform)&&(0===l||0===f)?0===l?u.set(c.transform(l)):t[i]=d.transform(f):(a||(o=function(e){var t=[];return da.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],sa(u,f))}})),s.length){var c=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),o=getComputedStyle(i),a=o.display,s={top:o.top,left:o.left,bottom:o.bottom,right:o.right,transform:o.transform};"none"===a&&t.setStaticValue("display",e.display||"block"),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var i=t.getValue(n);sa(i,pa[n](r,s)),e[n]=pa[n](u,o)})),e}(t,e,s);return o.length&&o.forEach((function(t){var n=l(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}};function va(e,t,n,r){return function(e){return Object.keys(e).some(aa)}(t)?ha(e,t,n,r):{target:t,transitionEnd:r}}var ma=function(e,t,n,r){var i=function(e,t,n){var r,i=c(t,[]),o=e.getInstance();if(!(o instanceof HTMLElement))return{target:i,transitionEnd:n};for(var a in n&&(n=u({},n)),e.forEachValue((function(e){var t=e.get();if(To(t)){var n=Io(t,o);n&&e.set(n)}})),i){var s=i[a];if(To(s)){var l=Io(s,o);l&&(i[a]=l,n&&(null!==(r=n[a])&&void 0!==r||(n[a]=s)))}}return{target:i,transitionEnd:n}}(e,t,r);return va(e,t=i.target,n,r=i.transitionEnd)};var ya={treeType:"dom",readValueFromInstance:function(e,t){if(K(t)){var n=Ur(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(ee(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return Ui(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var o=t.transition,a=t.transitionEnd,s=c(t,["transition","transitionEnd"]),l=function(e,t,n){var r,i,o={};for(var a in e)o[a]=null!==(r=oi(a,t))&&void 0!==r?r:null===(i=n.getValue(a))||void 0===i?void 0:i.get();return o}(s,o||{},e);if(i&&(a&&(a=i(a)),s&&(s=i(s)),l&&(l=i(l))),r){!function(e,t,n){var r,i,o,a,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),u=s.length;if(u)for(var c=0;c<u;c++){var l=s[c],f=t[l],d=null;Array.isArray(f)&&(d=f[0]),null===d&&(d=null!==(i=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==i?i:t[l]),null!=d&&("string"==typeof d&&/^\-?\d*\.?\d+$/.test(d)?d=parseFloat(d):!ni(d)&&vn.test(f)&&(d=Fr(l,f)),e.addValue(l,Jr(d)),null!==(o=(a=n)[l])&&void 0!==o||(a[l]=d),e.setBaseTarget(l,d))}}(e,s,l);var f=ma(e,s,l,a);a=f.transitionEnd,s=f.target}return u({transition:o,transitionEnd:a},s)},scrapeMotionValuesFromProps:ze,build:function(e,t,n,r,i,o,a){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden");var s=r.isEnabled&&i.isHydrated;we(t,n,r,i,o,a.transformTemplate,s?$o:void 0,s?Ko:void 0)},render:Be},ga=Xo(ya),ba=Xo(u(u({},ya),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return K(t)?(null===(n=Ur(t))||void 0===n?void 0:n.default)||0:(t=Ve.has(t)?t:Fe(t),e.getAttribute(t))},scrapeMotionValuesFromProps:Ge,build:function(e,t,n,r,i,o,a){var s=r.isEnabled&&i.isHydrated;De(t,n,r,i,o,a.transformTemplate,s?$o:void 0,s?Ko:void 0)},render:He})),_a=function(e,t){return H(e)?ba(t,{enableHardwareAcceleration:!1}):ga(t,{enableHardwareAcceleration:!0})},wa=u(u(u(u({},mi),At),So),Go),Ea=B((function(e,t){return function(e,t,n,r){var i=t.forwardMotionProps,o=void 0!==i&&i,a=H(e)?Ze:et;return u(u({},a),{preloadedFeatures:n,useRender:je(o),createVisualElement:r,Component:e})}(e,t,wa,_a)}));function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){Oa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Sa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ia=["blue","white"],ka=function(e){var t=e.size,n=e.thickness,i=e.containerClass,a=e.containerStyle,s=e.klass,u=e.styles,c=e.color,l={type:"tween",duration:1.5,repeat:1/0},f=function(e){return e.toFixed(3)},d=f(n||.08*t),p=Math.PI*t,h=!Ia.includes(c);return r.createElement("div",{className:o()("nuskha-spinner-container",i),style:Ca({width:t,height:t},a)},r.createElement("svg",{viewBox:"0 0 ".concat(t," ").concat(t),className:"nuskha-spinner-svg-container"},r.createElement(Ea.circle,{className:o()("nuskha-spinner",Oa({},"spinner-".concat(c),!h),s),cx:"50%",cy:"50%",stroke:h?c:void 0,strokeWidth:d,r:f((t-d)/2),animate:{strokeDasharray:["".concat(f(.25*p)," ").concat(f(.75*p)),"".concat(f(.7*p)," ").concat(f(.3*p)),"".concat(f(.25*p)," ").concat(f(.75*p))],strokeDashoffset:[0,-f(.3*p),-f(1*p)]},transition:l,style:u})))};ka.defaultProps={size:20,containerClass:"",containerStyle:{},klass:"",styles:{},color:"currentColor"},ka.propTypes={};const Aa=ka},88691:(e,t,n)=>{"use strict";n.d(t,{u:()=>f});var r=n(2363),i=n(69348),o=n.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===a(o)?o:String(o)),r)}var i,o}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,i,a=c(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.loaderText,n=e.loaderTextClass;return r.createElement("div",{className:o()("nuskha-dots-loader-container dots-loader-container body-font-12 brand-gray align-center full-width")},t?r.createElement("div",{className:o()("loading-text",n)},t):null,r.createElement("div",{className:"nuskha-dots-loader"},r.createElement("span",null),r.createElement("span",null),r.createElement("span",null)))}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component)},7178:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(2363),i=(n(85680),n(76441)),o=n(69348),a=n.n(o),s=n(77882);var u=n(47422);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l,f=["sm","md","lg","xl","show","className","children","navHeader","alignTop","shouldFixFullScreenHeader","trapFocus"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var w,E,S,T,C,O,I=(l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(c,e);var t,n,i,o=m(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),b(y(t=o.call(this,e)),"handleKeyDown",(function(e){var n=t.props,r=n.show,i=n.onClose;27===e.which&&r&&i(e)})),b(y(t),"handleScroll",(function(){var e=document.getElementsByClassName("nuskha-fixed-fullscreen-header")[0];if(e){var n=t.scrollRef.scrollTop>=e.offsetHeight;t.setState({isScrolled:n})}})),b(y(t),"handleClickOnOverlay",(function(e){var n=t.props,r=n.onClose,i=n.closeOnOverlayClick,o=n.sm,a=void 0===o?{}:o,s=n.md,u=void 0===s?{}:s,c=n.lg,l=void 0===c?{}:c,f=n.xl,d=void 0===f?{}:f;i&&"compact"===a.layout&&"compact"===u.layout&&"compact"===l.layout&&"compact"===d.layout&&!t.nuskhaModalRef.contains(e.target)&&r()})),t.state={isScrolled:!1},t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.enableEscKey,n=e.shouldFixFullScreenHeader;t&&document.addEventListener("keydown",this.handleKeyDown,!1),n&&this.scrollRef&&this.scrollRef.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.enableEscKey,n=e.shouldFixFullScreenHeader;t&&document.removeEventListener("keydown",this.handleKeyDown,!1),n&&this.scrollRef&&this.scrollRef.removeEventListener("scroll",this.handleScroll)}},{key:"renderCloseIcon",value:function(e){var t=this.props,n=t.onClose,i=t.showEscText;return t.hideEsc?null:r.createElement("button",{type:"button",className:a()("close-icon-wrap","btn-plain",e),onClick:n},r.createElement(s.Z,{name:"close"})," ",i?r.createElement("p",{className:"esc-text"},"esc"):null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.sm,i=void 0===n?{size:16}:n,o=t.md,s=void 0===o?{size:16}:o,c=t.lg,l=void 0===c?{size:16}:c,h=t.xl,v=void 0===h?{size:16}:h,m=t.show,y=t.className,g=t.children,b=t.navHeader,_=t.alignTop,w=t.shouldFixFullScreenHeader,E=t.trapFocus,S=p(t,f),T=this.state.isScrolled,C=a()("col-sm-".concat(i.size),"col-md-".concat(s.size),"col-lg-".concat(l.size),"col-xl-".concat(v.size)),O=a()("is-sm-".concat(i.layout||"fullscreen"),"is-md-".concat(s.layout||"fullscreen"),"is-lg-".concat(l.layout||"fullscreen"),"is-xl-".concat(v.layout||"fullscreen"));return m?r.createElement(u.i,{isFocusTrapActive:E},r.createElement("div",d({className:a()("nuskha-modal-dimmer",O,y,"".concat(w?"fixed-full-screen-header":""))},S,{onClick:this.handleClickOnOverlay}),r.createElement("div",{className:a()("container",O),ref:function(t){return e.scrollRef=t}},r.createElement("div",{className:a()("row",_?"vertical-top":"vertical-center")},b&&r.createElement("div",{className:"nav-header ellipsis"},b),w&&r.createElement("div",{className:"nuskha-fixed-fullscreen-header ".concat(T?"box-shadow-container":"")}),r.createElement("div",{className:a()("nuskha-modal-wrapper",C)},r.createElement("div",{className:"nuskha-modal",ref:function(t){return e.nuskhaModalRef=t},role:"dialog","aria-modal":"true"},this.renderCloseIcon("in"),g)))))):null}}])&&h(t.prototype,n),i&&h(t,i),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component),w=l.prototype,E="renderCloseIcon",S=[i.Nj],T=Object.getOwnPropertyDescriptor(l.prototype,"renderCloseIcon"),C=l.prototype,O={},Object.keys(T).forEach((function(e){O[e]=T[e]})),O.enumerable=!!O.enumerable,O.configurable=!!O.configurable,("value"in O||O.initializer)&&(O.writable=!0),O=S.slice().reverse().reduce((function(e,t){return t(w,E,e)||e}),O),C&&void 0!==O.initializer&&(O.value=O.initializer?O.initializer.call(C):void 0,O.initializer=void 0),void 0===O.initializer&&(Object.defineProperty(w,E,O),O=null),l);I.defaultProps={showEscText:!1,enableEscKey:!0,show:!1,alignTop:!1,shouldFixFullScreenHeader:!1,closeOnOverlayClick:!1,trapFocus:!0,onClose:function(){}},I.propTypes={};const k=I},70363:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(2363),i=n(69348),o=n.n(i);var a=["children","className"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const c=function(e){var t=e.children,n=e.className,i=u(e,a);return r.createElement("div",s({className:o()("nuskha-modal-content",n)},i),t)}},97004:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(2363),i=(n(85680),n(69348)),o=n.n(i);var a=["children","className","alignCenter"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.children,n=e.className,i=e.alignCenter,c=u(e,a);return r.createElement("div",s({className:o()("nuskha-modal-header",i?"align-center":"",n)},c),t)};c.propTypes={};const l=c},99387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(2363),i=n(76441),o=n(69348),a=n.n(o),s=(n(85680),n(77882)),u=n(62285);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var l;function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===c(o)?o:String(o)),r)}var i,o}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(c,e);var t,n,i,o=p(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={showMessage:!0,showDetails:e.showDetails},t.typeAndIcon={success:{type:u.Z.SUCCESS,icon:"check-o",typeClass:"n-success-message"},warn:{type:u.Z.WARN,icon:"exclamation-o",typeClass:"n-warn-message"},info:{type:u.Z.INFO,icon:"exclamation-o",typeClass:"n-info-message"},error:{type:u.Z.ERROR,icon:"close-o",typeClass:"n-error-message"},neutral:{type:u.Z.NEUTRAL,icon:"exclamation-o",typeClass:"n-neutral-message"}},t}return t=c,(n=[{key:"getCloseIconOrText",value:function(){var e=this.props,t=e.closeIcon,n=e.closeText;return e.hideCloseIcon?r.createElement("i",{className:"empty-icon"}):n?r.createElement("span",{className:"close-comp"},r.createElement("span",{className:"cursor-pointer link",onClick:this.handleRemoveMessage,role:"presentation"},n)):r.createElement("span",{className:"close-comp"},r.createElement(s.Z,{size:12,klass:"cursor-pointer d-flex",name:t,onClick:this.handleRemoveMessage,role:"button"}))}},{key:"handleRemoveMessage",value:function(){var e=this.props,t=e.onClose;e.selfClose&&this.setState({showMessage:!1}),t()}},{key:"toggleDetails",value:function(){var e=this.state.showDetails;this.setState({showDetails:!e})}},{key:"render",value:function(){var e=this.state,t=e.showMessage,n=e.showDetails,i=this.props,o=i.headerComponent,u=i.className,c=i.detailsText,l=i.bodyComponent,f=i.type,d=i.infoIcon,p=i.hideInfoIcon,h=i.infoIconSize,v=this.typeAndIcon[f],m=v.icon,y=v.typeClass,g=this.getCloseIconOrText();return t?r.createElement("div",{className:a()("n-inline-message",u,y,{"body-present":!!l})},r.createElement("span",{className:"width-border"}),r.createElement("div",{className:"inline-message-content"},r.createElement("div",{className:"inline-message-header"},p?r.createElement("i",{className:"info-icon empty-icon"}):r.createElement("div",{className:"info-icon"},r.createElement(s.Z,{size:h,klass:"type-icon",name:d||m})),r.createElement("div",{className:"inline-message-header-content"},r.createElement("div",{className:"inline-message-content"},o),!!l&&r.createElement("div",{className:"details-text-container"},r.createElement("span",{className:"cursor-pointer semi-bold details-text",onClick:this.toggleDetails,role:"presentation"},c,r.createElement(s.Z,{klass:"margin-left-4 details-icon",name:"drop-down",size:"6px"})))),g),!!l&&n&&r.createElement("div",{className:a()("inline-message-details",{"info-icon-hidden":p})},l))):null}}])&&f(t.prototype,n),i&&f(t,i),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.PureComponent),v(l.prototype,"getCloseIconOrText",[i.Nj],Object.getOwnPropertyDescriptor(l.prototype,"getCloseIconOrText"),l.prototype),v(l.prototype,"handleRemoveMessage",[i.Nj],Object.getOwnPropertyDescriptor(l.prototype,"handleRemoveMessage"),l.prototype),v(l.prototype,"toggleDetails",[i.Nj],Object.getOwnPropertyDescriptor(l.prototype,"toggleDetails"),l.prototype),l);m.propTypes={},m.defaultProps={type:"neutral",onClose:function(){},selfClose:!0,detailsText:"",className:"",closeIcon:"close",closeText:"",hideCloseIcon:!1,bodyComponent:null,infoIcon:"",hideInfoIcon:!1,infoIconSize:12,showDetails:!1};const y=m},62285:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={SUCCESS:"success",WARN:"warn",INFO:"info",ERROR:"error",NEUTRAL:"neutral"}},97328:(e,t,n)=>{"use strict";n.d(t,{S:()=>g});var r=n(2363),i=n(69348),o=n.n(i),a=n(76441);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var u;function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(s,e);var t,n,i,a=v(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;e.props.hideByEscKey&&document.addEventListener("keydown",e.handleKeyDown,!1),window.addEventListener("mouseup",e.handleClickOutside)}},{key:"componentWillUnmount",value:function(){var e=this;e.props.hideByEscKey&&document.removeEventListener("keydown",e.handleKeyDown,!1),window.removeEventListener("mouseup",e.handleClickOutside)}},{key:"handleKeyDown",value:function(e){27!==e.which&&27!==e.keyCode||this.props.closePopup(e)}},{key:"closePopupWithTimeout",value:function(e){var t=this.props.closePopup;return setTimeout((function(){t(e)}),200),!1}},{key:"checkIfIgnoreTargetContains",value:function(e){return this.props.ignoreTargets.forEach((function(t){if(t.contains(e.target))return!0})),!1}},{key:"handleClickOutside",value:function(e){var t=this,n=t.props,r=n.ignoreTargets,i=n.closePopup,o=n.hideIfInsideClick;if(r&&(r.includes(e.target)||t.checkIfIgnoreTargetContains(e)))return!1;o&&t.closePopupWithTimeout(e),t.wrapperRef&&!t.wrapperRef.contains(e.target)&&i&&(e.cancelBubble=!0,t.closePopupWithTimeout(e))}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"render",value:function(){var e=this;if(!e.props.show_popup)return null;var t={};e.props.top&&(t.top=e.props.top),e.props.left&&(t.left=e.props.left),e.props.right&&(t.right=e.props.right),e.props.bottom&&(t.bottom=e.props.bottom),e.props.width&&(t.width=e.props.width),e.props.style&&(t=l(l({},t),e.props.style));var n=e.props.pointer?"pointer-".concat(e.props.pointer):"pointer-center",i="dark"===e.props.theme?"dark-theme":"";return r.createElement("div",{ref:e.setWrapperRef,className:o()("popup-wrapper",e.props.klass,n,i),style:t},e.props.children)}}])&&d(t.prototype,n),i&&d(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component),y(u.prototype,"handleKeyDown",[a.Nj],Object.getOwnPropertyDescriptor(u.prototype,"handleKeyDown"),u.prototype),y(u.prototype,"closePopupWithTimeout",[a.Nj],Object.getOwnPropertyDescriptor(u.prototype,"closePopupWithTimeout"),u.prototype),y(u.prototype,"checkIfIgnoreTargetContains",[a.Nj],Object.getOwnPropertyDescriptor(u.prototype,"checkIfIgnoreTargetContains"),u.prototype),y(u.prototype,"handleClickOutside",[a.Nj],Object.getOwnPropertyDescriptor(u.prototype,"handleClickOutside"),u.prototype),y(u.prototype,"setWrapperRef",[a.Nj],Object.getOwnPropertyDescriptor(u.prototype,"setWrapperRef"),u.prototype),u);g.defaultProps={hideByEscKey:!0,theme:"light"}},80292:(e,t,n)=>{"use strict";n.d(t,{k2:()=>ve,ms:()=>me,$:()=>ye});var r=n(2363),i=n.t(r,2),o=n(17228),a=n(67412),s=n(25983),u=n(60664),c=!!i.useInsertionEffect&&i.useInsertionEffect,l=c||function(e){return e()},f=(c||r.useLayoutEffect,{}.hasOwnProperty),d=(0,r.createContext)("undefined"!=typeof HTMLElement?(0,a.Z)({key:"css"}):null);d.Provider;var p=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(d);return e(t,i,n)}))},h=(0,r.createContext)({});var v="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,s.hC)(t,n,r);l((function(){return(0,s.My)(t,n,r)}));return null},y=p((function(e,t,n){var i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[v],a=[i],c="";"string"==typeof e.className?c=(0,s.fp)(t.registered,a,e.className):null!=e.className&&(c=e.className+" ");var l=(0,u.O)(a,void 0,(0,r.useContext)(h));c+=t.key+"-"+l.name;var d={};for(var p in e)f.call(e,p)&&"css"!==p&&p!==v&&(d[p]=e[p]);return d.ref=n,d.className=c,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(m,{cache:t,serialized:l,isStringTag:"string"==typeof o}),(0,r.createElement)(o,d))}));n(13266);var g=function(e,t){var n=arguments;if(null==t||!f.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=y,o[1]=function(e,t){var n={};for(var r in t)f.call(t,r)&&(n[r]=t[r]);return n[v]=e,n}(e,t);for(var a=2;a<i;a++)o[a]=n[a];return r.createElement.apply(null,o)};function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,u.O)(t)}var _=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};var w=function(e){var t=e.cache,n=e.serializedArr;l((function(){for(var e=0;e<n.length;e++)(0,s.My)(t,n[e],!1)}));return null},E=p((function(e,t){var n=[],i=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=(0,u.O)(r,t.registered);return n.push(o),(0,s.hC)(t,o,!1),t.key+"-"+o.name},o={css:i,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,t,n){var r=[],i=(0,s.fp)(e,r,n);return r.length<2?n:i+t(r)}(t.registered,i,_(n))},theme:(0,r.useContext)(h)},a=e.children(o);return!0,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(w,{cache:t,serializedArr:n}),a)}));function S(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var C=n(93423);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,C.Z)(r.key),r)}}function I(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var k=n(15531);function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,k.Z)(e,t)}var P=n(61850);function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function L(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}var j=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],U=function(){};var F=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,x({},S(e,j))};function B(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function V(e){return B(e)?window.pageYOffset:e.scrollTop}function H(e,t){B(e)?window.scrollTo(0,t):e.scrollTop=t}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:U,i=V(e),o=t-i,a=0;!function t(){var s,u=o*((s=(s=a+=10)/n-1)*s*s+1)+i;H(e,u),a<n?window.requestAnimationFrame(t):r(e)}()}var G={get passive(){return!0}},W="undefined"!=typeof window?window:{};W.addEventListener&&W.removeEventListener&&(W.addEventListener("p",U,G),W.removeEventListener("p",U,!1));function q(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var l,f=u.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,h=d.height,v=d.top,m=n.offsetParent.getBoundingClientRect().top,y=a?window.innerHeight:B(l=u)?window.innerHeight:l.clientHeight,g=V(u),b=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),w=m-_,E=y-v,S=w+g,T=f-g-v,C=p-y+g+b,O=g+v-_,I=160;switch(i){case"auto":case"bottom":if(E>=h)return{placement:"bottom",maxHeight:t};if(T>=h&&!a)return o&&z(u,C,I),{placement:"bottom",maxHeight:t};if(!a&&T>=r||a&&E>=r)return o&&z(u,C,I),{placement:"bottom",maxHeight:a?E-b:T-b};if("auto"===i||a){var k=t,A=a?w:S;return A>=r&&(k=Math.min(A-b-s.controlHeight,t)),{placement:"top",maxHeight:k}}if("bottom"===i)return o&&H(u,C),{placement:"bottom",maxHeight:t};break;case"top":if(w>=h)return{placement:"top",maxHeight:t};if(S>=h&&!a)return o&&z(u,O,I),{placement:"top",maxHeight:t};if(!a&&S>=r||a&&w>=r){var P=t;return(!a&&S>=r||a&&w>=r)&&(P=a?w-_:S-_),o&&z(u,O,I),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var $=function(e){return"auto"===e?"bottom":e},K=(0,r.createContext)({getPortalPlacement:null});(function(e){A(n,e);var t=M(n);function n(){var e;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.context=void 0,e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,o=n.menuPlacement,a=n.menuPosition,s=n.menuShouldScrollIntoView,u=n.theme;if(t){var c="fixed"===a,l=q({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!c,isFixedPosition:c,theme:u}),f=e.context.getPortalPlacement;f&&f(l),e.setState(l)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||$(t);return x(x({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return I(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(r.Component)).contextType=K;var Q=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return g("div",(0,o.Z)({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},a),t)};Q.defaultProps={children:"No options"};var Y=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return g("div",(0,o.Z)({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)};Y.defaultProps={children:"Loading..."};var J,Z=function(e){A(n,e);var t=M(n);function n(){var e;T(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==$(e.props.menuPlacement)&&e.setState({placement:n})},e}return I(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.className,i=e.controlElement,a=e.cx,s=e.innerProps,u=e.menuPlacement,c=e.menuPosition,l=e.getStyles,f="fixed"===c;if(!t&&!f||!i)return null;var d=this.state.placement||$(u),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),h=f?0:window.pageYOffset,v={offset:p[d]+h,position:c,rect:p},m=g("div",(0,o.Z)({css:l("menuPortal",v),className:a({"menu-portal":!0},r)},s),n);return g(K.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,P.createPortal)(m,t):m)}}]),n}(r.Component),X=["size"];var ee,te,ne={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},re=function(e){var t=e.size,n=S(e,X);return g("svg",(0,o.Z)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ne},n))},ie=function(e){return g(re,(0,o.Z)({size:20},e),g("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},oe=function(e){return g(re,(0,o.Z)({size:20},e),g("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},ae=function(){var e=b.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(J||(ee=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],te||(te=ee.slice(0)),J=Object.freeze(Object.defineProperties(ee,{raw:{value:Object.freeze(te)}})))),se=function(e){var t=e.delay,n=e.offset;return g("span",{css:b({animation:"".concat(ae," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ue=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,a=e.isRtl;return g("div",(0,o.Z)({css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},i),g(se,{delay:0,offset:a}),g(se,{delay:160,offset:!0}),g(se,{delay:320,offset:!a}))};ue.defaultProps={size:4};var ce=["data"],le=["innerRef","isDisabled","isHidden","inputClassName"],fe={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},de=(x({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},fe),function(e){return x({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},fe)}),pe=function(e){var t=e.children,n=e.innerProps;return g("div",n,t)};var he={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return g("div",(0,o.Z)({css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)},a),t||g(ie,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,a=e.isDisabled,s=e.isFocused,u=e.innerRef,c=e.innerProps,l=e.menuIsOpen;return g("div",(0,o.Z)({ref:u,css:r("control",e),className:n({control:!0,"control--is-disabled":a,"control--is-focused":s,"control--menu-is-open":l},i)},c),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return g("div",(0,o.Z)({css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)},a),t||g(oe,null))},DownChevron:oe,CrossIcon:ie,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.Heading,s=e.headingProps,u=e.innerProps,c=e.label,l=e.theme,f=e.selectProps;return g("div",(0,o.Z)({css:i("group",e),className:r({group:!0},n)},u),g(a,(0,o.Z)({},s,{selectProps:f,theme:l,getStyles:i,cx:r}),c),g("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,r=e.className,i=F(e);i.data;var a=S(i,ce);return g("div",(0,o.Z)({css:t("groupHeading",e),className:n({"group-heading":!0},r)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,a=e.getStyles;return g("div",(0,o.Z)({css:a("indicatorsContainer",e),className:r({indicators:!0},n)},i),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return g("span",(0,o.Z)({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.value,a=F(e),s=a.innerRef,u=a.isDisabled,c=a.isHidden,l=a.inputClassName,f=S(a,le);return g("div",{className:n({"input-container":!0},t),css:r("input",e),"data-value":i||""},g("input",(0,o.Z)({className:n({input:!0},l),ref:s,style:de(c),disabled:u},f)))},LoadingIndicator:ue,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerRef,s=e.innerProps;return g("div",(0,o.Z)({css:i("menu",e),className:r({menu:!0},n),ref:a},s),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps,s=e.innerRef,u=e.isMulti;return g("div",(0,o.Z)({css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":u},n),ref:s},a),t)},MenuPortal:Z,LoadingMessage:Y,NoOptionsMessage:Q,MultiValue:function(e){var t=e.children,n=e.className,r=e.components,i=e.cx,o=e.data,a=e.getStyles,s=e.innerProps,u=e.isDisabled,c=e.removeProps,l=e.selectProps,f=r.Container,d=r.Label,p=r.Remove;return g(E,null,(function(r){var h=r.css,v=r.cx;return g(f,{data:o,innerProps:x({className:v(h(a("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":u},n))},s),selectProps:l},g(d,{data:o,innerProps:{className:v(h(a("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:l},t),g(p,{data:o,innerProps:x({className:v(h(a("multiValueRemove",e)),i({"multi-value__remove":!0},n)),"aria-label":"Remove ".concat(t||"option")},c),selectProps:l}))}))},MultiValueContainer:pe,MultiValueLabel:pe,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return g("div",(0,o.Z)({role:"button"},n),t||g(ie,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,s=e.isFocused,u=e.isSelected,c=e.innerRef,l=e.innerProps;return g("div",(0,o.Z)({css:i("option",e),className:r({option:!0,"option--is-disabled":a,"option--is-focused":s,"option--is-selected":u},n),ref:c,"aria-disabled":a},l),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return g("div",(0,o.Z)({css:i("placeholder",e),className:r({placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps,s=e.isDisabled,u=e.isRtl;return g("div",(0,o.Z)({css:i("container",e),className:r({"--is-disabled":s,"--is-rtl":u},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,s=e.innerProps;return g("div",(0,o.Z)({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":a},n)},s),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,a=e.isMulti,s=e.getStyles,u=e.hasValue;return g("div",(0,o.Z)({css:s("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":a,"value-container--has-value":u},n)},i),t)}},ve=function(e){return r.createElement(he.ClearIndicator,e,r.createElement("i",{className:"icon ui-close",style:{fontSize:"10px"}}))},me=function(e){return r.createElement(he.DropdownIndicator,e,r.createElement("i",{className:"icon ui-chevron-arrow-bottom",style:{fontSize:"10px"}}))},ye=function(){return null}},17925:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Y:()=>s});var s={control:function(e,t){return o(o({},e),{},{minHeight:"24px",boxShadow:"none",borderColor:t.isFocused?"#2F89FC":"#D8DDE6","&:hover":{borderColor:t.isFocused?"#2F89FC":"#D8DDE6"}})},menuList:function(e){return o(o({},e),{},{"::-webkit-scrollbar":{width:"5px",height:"0px"},"::-webkit-scrollbar-track":{background:"transparent"},"::-webkit-scrollbar-thumb":{background:"#EBEEF2"},maxHeight:"200px"})},option:function(e,t){return o(o({},e),{},{backgroundColor:t.isSelected?"#2F89FC":t.isFocused?"#EAF3FE":"","&:hover":{backgroundColor:t.isSelected?"#2F89FC":"#EAF3FE"}})},multiValueLabel:function(e){return o(o({},e),{},{color:"#333",paddingRight:"4px",backgroundColor:"#F3F4F7"})},multiValueRemove:function(e){return o(o({},e),{},{backgroundColor:"#F3F4F7",color:"#333",padding:"4px 8px",":hover":{cursor:"pointer"}})},multiValue:function(e){return o(o({},e),{},{border:"1px solid #D8DDE6",borderRadius:"4px"})}}},39781:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(2363),i=function(e){var t=e.text,n=e.className,i=e.alignInline,o={display:void 0!==i&&i?"inline-block":"block"};return r.createElement("span",{className:n,style:o},t)}},58242:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var r=n(2363),i=(n(85680),n(69348)),o=n.n(i);var a=function(e){var t=e.klass,n=e.ariaLabel,i=e.children,a=e.position,s=e.sticky,u=e.multiline,c=e.id,l=a?"he-tooltip-".concat(a):"",f=s?"he-tooltip-sticky":"",d=u?"he-tooltip-multiline":"";return r.createElement("div",{className:o()("he-tooltip inline-block",t,l,f,d),"aria-label":n,role:"tooltip",id:c},i)};a.propTypes={}},33353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2363),i=function(e,t){var n=(0,r.useRef)(void 0!==e).current;return[n,n?e:t]}},82027:(e,t,n)=>{"use strict";n.d(t,{J:()=>O});var r=n(2363),i=n(97675),o=n(57678),a=n(73474);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p={};function h(){}function v(){}function m(){}var y={};l(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==t&&n.call(b,o)&&(y=b);var _=m.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(r,o,a,u){var c=d(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,u)}),(function(e){i("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function T(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,r(_,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),l(_,c,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function p(){}function h(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&n.call(y,o)&&(v=y);var b=h.prototype=d.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==S(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function T(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function b(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,s,"next",e)}function s(e){b(o,r,i,a,s,"throw",e)}a(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===S(o)?o:String(o)),r)}var i,o}var C=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.SubscribeType.NONE;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.videoTrack=n,this.audioTrack=t,this.subscribeType=r,this.shouldPublish=!0}var t,n,r;return t=e,(n=[{key:"updateTracks",value:function(e,t){this.audioTrack=e,this.videoTrack=t}},{key:"stageStreamsToPublish",value:function(){var e=[];return this.videoTrack&&e.push(this.videoTrack),this.audioTrack&&e.push(this.audioTrack),e}},{key:"shouldPublishParticipant",value:function(){return this.shouldPublish}},{key:"shouldSubscribeToParticipant",value:function(){return this.subscribeType}}])&&T(t.prototype,n),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),O=function(e){var t=w((0,r.useState)(!1),2),n=t[0],s=t[1],c=w((0,r.useState)(!1),2),f=c[0],d=c[1],v=w((0,r.useState)(!1),2),y=v[0],b=v[1],E=w((0,r.useState)(""),2),S=E[0],T=E[1],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{video:!0,audio:!0},t=h((0,r.useState)(null),2),n=t[0],i=t[1],o=h((0,r.useState)(null),2),a=o[0],s=o[1],c=h((0,r.useState)(null),2),f=c[0],d=c[1],v=h((0,r.useState)(null),2),m=v[0],y=v[1],g=h((0,r.useState)([]),2),b=g[0],_=g[1],w=h((0,r.useState)([]),2),E=w[0],S=w[1],T=h((0,r.useState)(null),2),C=T[0],O=T[1],I=h((0,r.useState)(null),2),k=I[0],A=I[1],P=function(){var t=p(u().mark((function t(){var n,r,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O(null),A(null),e.audio||e.video){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,navigator.mediaDevices.getUserMedia(e);case 6:return t.next=8,navigator.mediaDevices.enumerateDevices();case 8:n=t.sent,r=JSON.parse(JSON.stringify(n.filter((function(e){return"audioinput"===e.kind&&"default"!==e.deviceId})))).map((function(e){return l(l({},e),{},{value:e.deviceId})})),i=JSON.parse(JSON.stringify(n.filter((function(e){return"videoinput"===e.kind&&"default"!==e.deviceId})))).map((function(e){return l(l({},e),{},{value:e.deviceId})})),e.audio&&(_(r),!C&&r.length>0&&O(r[0])),e.video&&(S(i),!k&&i.length>0&&A(i[0]));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=p(u().mark((function t(){var n,r,o,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.audio||e.video){t.next=2;break}return t.abrupt("return");case 2:return d(null),t.prev=3,m&&(m.getTracks().forEach((function(e){return e.stop()})),y(null)),n=l(l({},e),{},{video:e.video?l(l({},e.video),{},{deviceId:null==k?void 0:k.deviceId}):e.video,audio:e.audio?l(l({},e.audio),{},{deviceId:null==C?void 0:C.deviceId}):e.audio}),t.next=8,navigator.mediaDevices.getUserMedia(n);case 8:r=t.sent,y(r),n.video?(o=r.getVideoTracks()[0],i(o)):i(null),n.audio?(a=r.getAudioTracks()[0],s(a),console.log(a.label)):s(null),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),console.log("Error accessing media devices:",t.t0),d(null===t.t0||void 0===t.t0?void 0:t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}(),N=function(){var e=p(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),d(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){var e=function(){var e=p(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:R(),navigator.mediaDevices.ondevicechange=N;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){navigator.mediaDevices.ondevicechange=null,m&&m.getTracks().forEach((function(e){return e.stop()})),i(null),s(null),y(null),A(null),O(null)}}),[]),(0,r.useEffect)((function(){(e.video&&k||e.audio&&C)&&R()}),[k,C]),{videoTrack:n,audioTrack:a,stream:m,error:f,audioDeviceList:b,videoDeviceList:E,selectedAudioDevice:C,selectedVideoDevice:k,setSelectedAudioDevice:O,setSelectedVideoDevice:A,updateAudioTrack:function(e){a&&a.stop(),s(e)},updateVideoTrack:function(e){n&&n.stop(),i(e)},updateStream:function(e){if(m&&m.getTracks().forEach((function(e){return e.stop()})),y(e),e){var t=e.getVideoTracks(),n=e.getAudioTracks();t.length>0&&i(t[0]),n.length>0&&s(n[0])}else i(null),s(null)}}}(e),I=O.videoTrack,k=O.audioTrack,A=O.error,P=O.stream,R=O.audioDeviceList,N=O.videoDeviceList,x=O.selectedAudioDevice,D=O.selectedVideoDevice,L=O.setSelectedAudioDevice,M=O.setSelectedVideoDevice,j=O.updateStream,U=O.updateAudioTrack,F=O.updateVideoTrack,B=(0,o.M)(10),V=B.startTimer,H=B.stopTimer,z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=m((0,r.useState)(!1),2),i=n[0],o=n[1],a=m((0,r.useState)(!1),2),s=a[0],u=a[1];return(0,r.useEffect)((function(){if(e||t){var n=function(){o(!0)},r=function(){u(!0)},i=function(){o(!1)},a=function(){u(!1)};return o(!e||!e.enabled),u(!t||!t.enabled),t&&(t.addEventListener("ended",r),t.addEventListener("mute",r),t.addEventListener("unmute",a)),e&&(e.addEventListener("ended",n),e.addEventListener("mute",n),e.addEventListener("unmute",i)),function(){t&&(t.removeEventListener("ended",r),t.removeEventListener("mute",r),t.removeEventListener("unmute",a)),e&&(e.removeEventListener("ended",n),e.removeEventListener("mute",n),e.removeEventListener("unmute",i))}}}),[e,t]),{isAudioPermissionDenied:i,isVideoPermissionDenied:s}}(e.audio?k:null,e.video?I:null),G=z.isAudioPermissionDenied,W=z.isVideoPermissionDenied,q=(0,a.k)(),$=(0,r.useRef)(null),K=(0,r.useRef)(null),Q=(0,r.useRef)(null),Y=(0,r.useRef)(null),J=(0,r.useRef)(0),Z=(0,r.useRef)(null);(0,r.useEffect)((function(){var t,n;if(((e.audio||(null===(t=e.externalStream)||void 0===t?void 0:t.audio))&&k||(e.video||(null===(n=e.externalStream)||void 0===n?void 0:n.video))&&I)&&Y.current){var r,o,a=e.video||(null===(r=e.externalStream)||void 0===r?void 0:r.video)?new i.LocalStageStream(I,{simulcast:{enabled:!0}}):null,s=e.audio||(null===(o=e.externalStream)||void 0===o?void 0:o.audio)?new i.LocalStageStream(k):null;Y.current.updateTracks(s,a),$.current&&f&&$.current.refreshStrategy()}}),[k,I,e.audio,e.video]);var X=function(e){e.on(i.StageEvents.ERROR,(function(e){T(e.message),console.log("".concat(e.code,", ").concat(e.category,", ").concat(e.message)),ne()})),e.on(i.StageEvents.STAGE_CONNECTION_STATE_CHANGED,(function(e){switch(e){case i.StageConnectionState.DISCONNECTED:d(!1),T(""),console.log("Stage Disconnected"),H();break;case i.StageConnectionState.CONNECTING:d(!1),T(""),H(),console.log("Stage Connecting");break;case i.StageConnectionState.CONNECTED:d(!0),T(""),H(),console.log("Stage Connected");break;case i.StageConnectionState.ERRORED:T(!0),d(!1),H(),console.log("Errored");break;default:console.log("Unknown state")}})),e.on(i.StageEvents.STAGE_PARTICIPANT_STREAMS_ADDED,(function(e){console.log("Participant Media Added: ",e)})),e.on(i.StageEvents.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED,(function(e,t){t===i.StageParticipantPublishState.ERRORED&&(console.log("Participant stream - Publish error"),b(!0),s(!1)),t===i.StageParticipantPublishState.NOT_PUBLISHED&&(console.log("Participant stream - Not published"),s(!1)),t===i.StageParticipantPublishState.ATTEMPTING_PUBLISH&&(console.log("Participant stream - Attempting publish"),s(!1)),t===i.StageParticipantPublishState.PUBLISHED&&(console.log("Participant stream - Published"),H(),s(!0),J.current=0)}))},ee=function(){var t=_((function(t){var n=t.token;return g().mark((function t(){var r,o,a,s,u;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}throw Error("No token");case 2:if(K.current=n,t.prev=3,!e.video||I){t.next=6;break}throw Error("Camera stream not found");case 6:if(!e.audio||k){t.next=8;break}throw Error("Mic stream not found");case 8:return a=e.video||(null===(r=e.externalStream)||void 0===r?void 0:r.video)?new i.LocalStageStream(I,{simulcast:{enabled:!0}}):null,s=e.audio||(null===(o=e.externalStream)||void 0===o?void 0:o.audio)?new i.LocalStageStream(k,{simulcast:{enabled:!0}}):null,Y.current=new C(s,a),u=new i.Stage(n,Y.current),$.current=u,X(u),t.next=16,u.join(n,Y.current);case 16:t.next=23;break;case 18:t.prev=18,t.t0=t.catch(3),console.log("Error:",null===t.t0||void 0===t.t0?void 0:t.t0.message),ne(),b(!0);case 23:case"end":return t.stop()}}),t,null,[[3,18]])}))()}));return function(e){return t.apply(this,arguments)}}(),te=function(e){try{var t;null===(t=$.current)||void 0===t||t.leave(),null==e||e(),Q.current&&clearInterval(Q.current),Z.current&&clearTimeout(Z.current),H(),d(!1),s(!1),$.current=null,console.log("Leave Stage")}catch(e){console.log(e)}},ne=function(){var e=_(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(J.current<5)){e.next=10;break}return J.current+=1,console.log("Retry attempt ".concat(J.current," of ").concat(5)),e.next=6,new Promise((function(e){return e(te())}));case 6:return e.next=8,ee({token:K.current});case 8:e.next=13;break;case 10:console.log("Max retry attempts (".concat(5,") reached. Waiting for ").concat(60," seconds before trying again.")),Z.current&&clearTimeout(Z.current),Z.current=setTimeout((function(){J.current=0,ne()}),6e4);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Retry failed:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){f&&!n&&q&&(H(),V(ne))}),[f,n,q]);return{joinStage:ee,leaveStage:te,isStreamPublished:n,stageError:S,publishError:y,videoTrack:I,audioTrack:k,isAudioPermissionDenied:G,isVideoPermissionDenied:W,error:A,stream:P,audioDeviceList:R,videoDeviceList:N,selectedAudioDevice:x,selectedVideoDevice:D,setSelectedAudioDevice:L,setSelectedVideoDevice:M,updateStream:j,updateAudioTrack:U,updateVideoTrack:F}}},57678:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var r=n(2363);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(e){var t=i((0,r.useState)(e),2),n=t[0],o=t[1],a=i((0,r.useState)(!1),2),s=a[0],u=a[1],c=(0,r.useRef)(null),l=(0,r.useRef)(null);(0,r.useEffect)((function(){if(s)if(s&&n>0)c.current=setInterval((function(){o((function(e){return e-1}))}),1e3);else if(0===n){var t;clearInterval(c.current),u(!1),o(e),null===(t=l.current)||void 0===t||t.call(l)}return function(){return clearInterval(c.current)}}),[s,n]);return{time:n,timerActive:s,startTimer:function(e){s||(l.current=e,u(!0))},stopTimer:function(){u(!1),clearInterval(c.current)}}}},73474:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(2363);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=i((0,r.useState)(navigator.onLine),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){n(navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[]),t}},62803:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),a=o[0],u=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,u)),l=0,f=u>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,c=r-i;s<c;s+=a)o.push(u(e,s,s+a>c?c:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},90778:(e,t,n)=>{"use strict";const r=n(62803),i=n(23644),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|v(e,t);let r=s(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||Y(e.length)?s(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),s(e<0?0:0|h(e))}function d(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(i)return r?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function _(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Y(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return K(q(t,e.length-n),e,n,r)}function E(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return K($(t),e,n,r)}function T(e,t,n,r){return K(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},u.allocUnsafe=function(e){return f(e)},u.allocUnsafeSlow=function(e){return f(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Q(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(Q(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==l[e]){o=c[e],a=l[e];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function k(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function R(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,i){H(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function L(e,t,n,r,i){H(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return t=+t,n>>>=0,o||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return t=+t,n>>>=0,o||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Z((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Z((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Z((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){x(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Z((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Z((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const F={};function B(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function V(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function H(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||G(t,e.length-(n+1))}(r,i,o)}function z(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=V(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},16422:(e,t,n)=>{"use strict";var r=n(29132),i=n(43120),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},43120:(e,t,n)=>{"use strict";var r=n(76568),i=n(29132),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(r,a,arguments);u&&c&&(u(t,"length").configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))}));return t};var f=function(){return s(r,o,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},69348:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===o)for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=i:void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},76441:(e,t,n)=>{"use strict";n.d(t,{Nj:()=>j});var r=Object.defineProperty;function i(e,t,n){var i=n.configurable,o=n.enumerable,a=n.initializer,s=n.value;return{configurable:i,enumerable:o,get:function(){if(this!==e){var n=a?a.call(this):s;return r(this,t,{configurable:i,enumerable:o,writable:!0,value:n}),n}},set:T(t)}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(i,t)}var a,s,u,c,l,f,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var m=Object.defineProperty,y=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols;function _(e,t){return function(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}(t[t.length-1])?e.apply(void 0,v(t).concat([[]])):function(){return e.apply(void 0,v(Array.prototype.slice.call(arguments)).concat([t]))}}var w=(a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"debounceTimeoutIds",s,this),p(this,"throttleTimeoutIds",u,this),p(this,"throttlePreviousTimestamps",c,this),p(this,"throttleTrailingArgs",l,this),p(this,"profileLastRan",f,this)},s=h(a.prototype,"debounceTimeoutIds",[o],{enumerable:!0,initializer:function(){return{}}}),u=h(a.prototype,"throttleTimeoutIds",[o],{enumerable:!0,initializer:function(){return{}}}),c=h(a.prototype,"throttlePreviousTimestamps",[o],{enumerable:!0,initializer:function(){return{}}}),l=h(a.prototype,"throttleTrailingArgs",[o],{enumerable:!0,initializer:function(){return null}}),f=h(a.prototype,"profileLastRan",[o],{enumerable:!0,initializer:function(){return null}}),a),E="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";var S=b?function(e){return g(e).concat(b(e))}:g;function T(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}}function C(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}var O="object"===("undefined"==typeof console?"undefined":d(console))&&console&&"function"==typeof console.warn?C(console.warn,console):function(){};var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var A=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/;!function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentKlass=t,this.childKlass=n,this.parentDescriptor=r,this.childDescriptor=i}k(e,[{key:"_getTopic",value:function(e){return void 0===e?null:"value"in e?e.value:"get"in e?e.get:"set"in e?e.set:void 0}},{key:"_extractTopicSignature",value:function(e){return"function"===(void 0===e?"undefined":I(e))?this._extractFunctionSignature(e):this.key}},{key:"_extractFunctionSignature",value:function(e){var t=this;return e.toString().replace(A,(function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key)+arguments[2]}))}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),k(e,[{key:"assert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!0!==e&&this.error("{child} does not properly override {parent}"+t)}},{key:"error",value:function(e){var t=this;throw e=e.replace("{parent}",(function(e){return t.parentNotation})).replace("{child}",(function(e){return t.childNotation})),new SyntaxError(e)}}])}();Object.assign;Object.assign,"function"==typeof Symbol&&Symbol.iterator;Object.assign;function P(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var R=Object.defineProperty,N=Object.getPrototypeOf,x=void 0;function D(e){for(var t=function(e){var t={};return S(e).forEach((function(n){return t[n]=y(e,n)})),t}(e.prototype),n=S(t),r=0,i=n.length;r<i;r++){var o=n[r],a=t[o];"function"==typeof a.value&&"constructor"!==o&&R(e.prototype,o,L(e.prototype,o,a))}}function L(e,t,n){var r=n.value,i=n.configurable,o=n.enumerable;if("function"!=typeof r)throw new SyntaxError("@autobind can only be used on functions, not: "+r);var a=e.constructor;return{configurable:i,enumerable:o,get:function(){if(this===e)return r;if(this.constructor!==a&&N(this).constructor===a)return r;if(this.constructor!==a&&t in this.constructor.prototype)return function(e,t){if("undefined"==typeof WeakMap)throw new Error("Using @autobind on "+t.name+"() requires WeakMap support due to its use of super."+t.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");x||(x=new WeakMap),!1===x.has(e)&&x.set(e,new WeakMap);var n=x.get(e);return!1===n.has(t)&&n.set(t,C(t,e)),n.get(t)}(this,r);var n=C(r,this);return R(this,t,{configurable:!0,writable:!0,enumerable:!1,value:n}),n},set:T(t)}}function M(e){return 1===e.length?D.apply(void 0,P(e)):L.apply(void 0,P(e))}function j(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(){return M(arguments)}:M(t)}Object.assign;Object.assign;Object.defineProperty;"function"==typeof Symbol&&Symbol.iterator,Object.defineProperty,Object.getPrototypeOf;Object.assign;var U={};console.time&&console.time.bind(console),console.timeEnd&&console.timeEnd.bind(console);Object.assign,Object.getPrototypeOf,Object.getOwnPropertyDescriptor;var F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},V=(console,{profile:console.profile?C(console.profile,console):function(){},profileEnd:console.profileEnd?C(console.profileEnd,console):function(){},warn:O});function H(e,t,n,r){var i=B(r,3),o=i[0],a=void 0===o?null:o,s=i[1],u=void 0!==s&&s,c=i[2],l=void 0===c?V:c;if(!z.__enabled)return z.__warned||(l.warn("console.profile is not supported. All @profile decorators are disabled."),z.__warned=!0),n;var f=n.value;if(null===a&&(a=e.constructor.name+"."+t),"function"!=typeof f)throw new SyntaxError("@profile can only be used on functions, not: "+f);return F({},n,{value:function(){var e,t=Date.now(),n=(!1===(e=this).hasOwnProperty(E)&&m(e,E,{value:new w}),e[E]);(!0===u&&!n.profileLastRan||!1===u||"number"==typeof u&&t-n.profileLastRan>u||"function"==typeof u&&u.apply(this,arguments))&&(l.profile(a),n.profileLastRan=t);try{return f.apply(this,arguments)}finally{l.profileEnd(a)}}})}function z(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(H,t)}z.__enabled=!!console.profile,z.__warned=!1;Object.defineProperty,Object.getOwnPropertyDescriptor},46629:(e,t,n)=>{n(88179),n(76685),n(75456),n(10322),n(56793),n(87755),n(19365),n(9145),n(13328),n(76144),n(84407),n(19837),n(9763),n(38993),n(58485),n(98907),n(86503),n(19140),n(56719),n(48251),n(21378),n(88221),n(71516),n(58557),n(73239),n(35746),n(22395),n(52568),n(87519),n(50741),n(49453),n(35727),n(60547),n(53286),n(83281),n(77451),n(99895),n(35251),n(61516),n(36221),n(47959),n(99346),n(35102),n(43668),n(3325),n(90051),n(67198),n(58253),n(33253),n(50066),n(79217),n(75035),n(31854),n(44038),n(76069),n(8580),n(42865),n(97816),n(3041),n(89324),n(10855),n(83705),n(75371),n(93390),n(37723),n(37897),n(85970),n(61746),n(13184),n(74033),n(34539),n(4312),n(50231),n(15478),n(17260),n(29849),n(60312),n(20544),n(71890),n(50404),n(61190),n(32782),n(95744),n(65365),n(15109),n(71279),n(8929),n(52612),n(35663),n(22850),n(86308),n(34081),n(20527),n(7162),n(41804),n(11199),n(10170),n(83075),n(86885),n(57775),n(95220),n(12907),n(32033),n(68750),n(21702),n(14656),n(52397),n(31723),n(16377),n(72601),n(3590),n(17226),n(34405),n(72055),n(56379),n(46354),n(47839),n(17415),n(82100),n(80111),n(32661),n(85061),n(57723),n(56021),n(47663),n(38616),n(19831),n(47672),n(78072),n(97687),n(94123),n(63070),n(20778),n(25694),n(27744),n(70867),n(28793),n(93542),e.exports=n(60688)},39398:(e,t,n)=>{n(17298),e.exports=n(60688).Array.includes},57148:(e,t,n)=>{n(72674),e.exports=n(60688).Object.entries},18469:(e,t,n)=>{n(66755),e.exports=n(60688).Object.getOwnPropertyDescriptors},81024:(e,t,n)=>{n(12258),e.exports=n(60688).Object.values},54529:(e,t,n)=>{"use strict";n(16377),n(49967),e.exports=n(60688).Promise.finally},35212:(e,t,n)=>{n(79484),e.exports=n(60688).String.padEnd},898:(e,t,n)=>{n(93886),e.exports=n(60688).String.padStart},51473:(e,t,n)=>{n(62681),e.exports=n(24613).f("asyncIterator")},74428:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},19723:(e,t,n)=>{var r=n(9312);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},62628:(e,t,n)=>{var r=n(4161)("unscopables"),i=Array.prototype;null==i[r]&&n(88427)(i,r,{}),e.exports=function(e){i[r][e]=!0}},45580:(e,t,n)=>{"use strict";var r=n(51558)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},84817:e=>{e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},60354:(e,t,n)=>{var r=n(1747);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},79090:(e,t,n)=>{"use strict";var r=n(52411),i=n(45860),o=n(8506);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},34370:(e,t,n)=>{"use strict";var r=n(52411),i=n(45860),o=n(8506);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},83881:(e,t,n)=>{var r=n(64491),i=n(8506),o=n(45860);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},26777:(e,t,n)=>{var r=n(84578),i=n(92651),o=n(52411),a=n(8506),s=n(40646);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,m,y=o(t),g=i(y),b=r(s,h,3),_=a(g.length),w=0,E=n?p(t,_):u?p(t,0):void 0;_>w;w++)if((d||w in g)&&(m=b(v=g[w],w,y),e))if(n)E[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(l)return!1;return f?-1:c||l?l:E}}},23985:(e,t,n)=>{var r=n(74428),i=n(52411),o=n(92651),a=n(8506);e.exports=function(e,t,n,s,u){r(t);var c=i(e),l=o(c),f=a(c.length),d=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(d in l){s=l[d],d+=p;break}if(d+=p,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=p)d in l&&(s=t(s,l[d],d,c));return s}},47304:(e,t,n)=>{var r=n(1747),i=n(53527),o=n(4161)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},40646:(e,t,n)=>{var r=n(47304);e.exports=function(e,t){return new(r(e))(t)}},55669:(e,t,n)=>{"use strict";var r=n(74428),i=n(1747),o=n(82250),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(u.prototype=t.prototype),u}},36064:(e,t,n)=>{var r=n(9312),i=n(4161)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},9312:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},23930:(e,t,n)=>{"use strict";var r=n(53016).f,i=n(32956),o=n(2315),a=n(84578),s=n(84817),u=n(82644),c=n(12955),l=n(99337),f=n(11524),d=n(20463),p=n(13335).fastKey,h=n(81627),v=d?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,null!=r&&u(r,n,e[c],e)}));return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?l(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,l(1))}),n?"entries":"values",!n,!0),f(t)}}},60596:(e,t,n)=>{"use strict";var r=n(2315),i=n(13335).getWeak,o=n(60354),a=n(1747),s=n(84817),u=n(82644),c=n(26777),l=n(58238),f=n(81627),d=c(5),p=c(6),h=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},y=function(e,t){return d(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&u(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},74657:(e,t,n)=>{"use strict";var r=n(61352),i=n(84657),o=n(46276),a=n(2315),s=n(13335),u=n(82644),c=n(84817),l=n(1747),f=n(20765),d=n(11540),p=n(42147),h=n(74882);e.exports=function(e,t,n,v,m,y){var g=r[e],b=g,_=m?"set":"add",w=b&&b.prototype,E={},S=function(e){var t=w[e];o(w,e,"delete"==e||"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(y||w.forEach&&!f((function(){(new b).entries().next()})))){var T=new b,C=T[_](y?{}:-0,1)!=T,O=f((function(){T.has(1)})),I=d((function(e){new b(e)})),k=!y&&f((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));I||((b=t((function(t,n){c(t,b,e);var r=h(new g,t,b);return null!=n&&u(n,m,r[_],r),r}))).prototype=w,w.constructor=b),(O||k)&&(S("delete"),S("has"),m&&S("get")),(k||C)&&S(_),y&&w.clear&&delete w.clear}else b=v.getConstructor(t,e,m,_),a(b.prototype,n),s.NEED=!0;return p(b,e),E[e]=b,i(i.G+i.W+i.F*(b!=g),E),y||v.setStrong(b,e,m),b}},60688:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},85792:(e,t,n)=>{"use strict";var r=n(53016),i=n(44335);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},84578:(e,t,n)=>{var r=n(74428);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},38420:(e,t,n)=>{"use strict";var r=n(20765),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},27183:(e,t,n)=>{"use strict";var r=n(60354),i=n(31833),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},34121:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},20463:(e,t,n)=>{e.exports=!n(20765)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},50156:(e,t,n)=>{var r=n(1747),i=n(61352).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},15434:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},26697:(e,t,n)=>{var r=n(8845),i=n(82094),o=n(33076);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},84657:(e,t,n)=>{var r=n(61352),i=n(60688),o=n(88427),a=n(46276),s=n(84578),u="prototype",c=function(e,t,n){var l,f,d,p,h=e&c.F,v=e&c.G,m=e&c.S,y=e&c.P,g=e&c.B,b=v?r:m?r[t]||(r[t]={}):(r[t]||{})[u],_=v?i:i[t]||(i[t]={}),w=_[u]||(_[u]={});for(l in v&&(n=t),n)d=((f=!h&&b&&void 0!==b[l])?b:n)[l],p=g&&f?s(d,r):y&&"function"==typeof d?s(Function.call,d):d,b&&a(b,l,d,e&c.U),_[l]!=d&&o(_,l,p),y&&w[l]!=d&&(w[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},32173:(e,t,n)=>{var r=n(4161)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},20765:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},43643:(e,t,n)=>{"use strict";n(12907);var r=n(46276),i=n(88427),o=n(20765),a=n(34121),s=n(4161),u=n(4862),c=s("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!t})):void 0;if(!p||!h||"replace"===e&&!l||"split"===e&&!f){var v=/./[d],m=n(a,d,""[e],(function(e,t,n,r,i){return t.exec===u?p&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),y=m[0],g=m[1];r(String.prototype,e,y),i(RegExp.prototype,d,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},6878:(e,t,n)=>{"use strict";var r=n(60354);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},82644:(e,t,n)=>{var r=n(84578),i=n(55719),o=n(60946),a=n(60354),s=n(8506),u=n(47933),c={},l={},f=e.exports=function(e,t,n,f,d){var p,h,v,m,y=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(p=s(e.length);p>b;b++)if((m=t?g(a(h=e[b])[0],h[1]):g(e[b]))===c||m===l)return m}else for(v=y.call(e);!(h=v.next()).done;)if((m=i(v,g,h.value,t))===c||m===l)return m};f.BREAK=c,f.RETURN=l},5734:(e,t,n)=>{e.exports=n(81790)("native-function-to-string",Function.toString)},61352:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},58238:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},88427:(e,t,n)=>{var r=n(53016),i=n(44335);e.exports=n(20463)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},94286:(e,t,n)=>{var r=n(61352).document;e.exports=r&&r.documentElement},79771:(e,t,n)=>{e.exports=!n(20463)&&!n(20765)((function(){return 7!=Object.defineProperty(n(50156)("div"),"a",{get:function(){return 7}}).a}))},74882:(e,t,n)=>{var r=n(1747),i=n(54631).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},82250:e=>{e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},92651:(e,t,n)=>{var r=n(9312);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},60946:(e,t,n)=>{var r=n(85698),i=n(4161)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},53527:(e,t,n)=>{var r=n(9312);e.exports=Array.isArray||function(e){return"Array"==r(e)}},47426:(e,t,n)=>{var r=n(1747),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},1747:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},29097:(e,t,n)=>{var r=n(1747),i=n(9312),o=n(4161)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},55719:(e,t,n)=>{var r=n(60354);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},35387:(e,t,n)=>{"use strict";var r=n(32956),i=n(44335),o=n(42147),a={};n(88427)(a,n(4161)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},12955:(e,t,n)=>{"use strict";var r=n(49159),i=n(84657),o=n(46276),a=n(88427),s=n(85698),u=n(35387),c=n(42147),l=n(62007),f=n(4161)("iterator"),d=!([].keys&&"next"in[].keys()),p="keys",h="values",v=function(){return this};e.exports=function(e,t,n,m,y,g,b){u(n,t,m);var _,w,E,S=function(e){if(!d&&e in I)return I[e];switch(e){case p:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",C=y==h,O=!1,I=e.prototype,k=I[f]||I["@@iterator"]||y&&I[y],A=k||S(y),P=y?C?S("entries"):A:void 0,R="Array"==t&&I.entries||k;if(R&&(E=l(R.call(new e)))!==Object.prototype&&E.next&&(c(E,T,!0),r||"function"==typeof E[f]||a(E,f,v)),C&&k&&k.name!==h&&(O=!0,A=function(){return k.call(this)}),r&&!b||!d&&!O&&I[f]||a(I,f,A),s[t]=A,s[T]=v,y)if(_={values:C?A:S(h),keys:g?A:S(p),entries:P},b)for(w in _)w in I||o(I,w,_[w]);else i(i.P+i.F*(d||O),t,_);return _}},11540:(e,t,n)=>{var r=n(4161)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},99337:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},85698:e=>{e.exports={}},49159:e=>{e.exports=!1},9426:e=>{var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},48808:(e,t,n)=>{var r=n(69055),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*(i/u/a+1/o-1/o)*u*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},13252:e=>{e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},69055:e=>{e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},13335:(e,t,n)=>{var r=n(98777)("meta"),i=n(1747),o=n(58238),a=n(53016).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(20765)((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!o(e,r)&&l(e),e}}},49036:(e,t,n)=>{var r=n(61352),i=n(94128).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(9312)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},77411:(e,t,n)=>{"use strict";var r=n(74428);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},85950:(e,t,n)=>{"use strict";var r=n(20463),i=n(8845),o=n(82094),a=n(33076),s=n(52411),u=n(92651),c=Object.assign;e.exports=!c||n(20765)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,l=1,f=o.f,d=a.f;c>l;)for(var p,h=u(arguments[l++]),v=f?i(h).concat(f(h)):i(h),m=v.length,y=0;m>y;)p=v[y++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:c},32956:(e,t,n)=>{var r=n(60354),i=n(1883),o=n(15434),a=n(88982)("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,t=n(50156)("iframe"),r=o.length;for(t.style.display="none",n(94286).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},53016:(e,t,n)=>{var r=n(60354),i=n(79771),o=n(31833),a=Object.defineProperty;t.f=n(20463)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},1883:(e,t,n)=>{var r=n(53016),i=n(60354),o=n(8845);e.exports=n(20463)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},87263:(e,t,n)=>{var r=n(33076),i=n(44335),o=n(64491),a=n(31833),s=n(58238),u=n(79771),c=Object.getOwnPropertyDescriptor;t.f=n(20463)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},67926:(e,t,n)=>{var r=n(64491),i=n(53749).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},53749:(e,t,n)=>{var r=n(31839),i=n(15434).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},82094:(e,t)=>{t.f=Object.getOwnPropertySymbols},62007:(e,t,n)=>{var r=n(58238),i=n(52411),o=n(88982)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},31839:(e,t,n)=>{var r=n(58238),i=n(64491),o=n(83881)(!1),a=n(88982)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},8845:(e,t,n)=>{var r=n(31839),i=n(15434);e.exports=Object.keys||function(e){return r(e,i)}},33076:(e,t)=>{t.f={}.propertyIsEnumerable},88881:(e,t,n)=>{var r=n(84657),i=n(60688),o=n(20765);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},33979:(e,t,n)=>{var r=n(20463),i=n(8845),o=n(64491),a=n(33076).f;e.exports=function(e){return function(t){for(var n,s=o(t),u=i(s),c=u.length,l=0,f=[];c>l;)n=u[l++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}}},34367:(e,t,n)=>{var r=n(53749),i=n(82094),o=n(60354),a=n(61352).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},81734:(e,t,n)=>{var r=n(61352).parseFloat,i=n(75066).trim;e.exports=1/r(n(69136)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},17614:(e,t,n)=>{var r=n(61352).parseInt,i=n(75066).trim,o=n(69136),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},21764:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},6632:(e,t,n)=>{var r=n(60354),i=n(1747),o=n(77411);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},44335:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2315:(e,t,n)=>{var r=n(46276);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},46276:(e,t,n)=>{var r=n(61352),i=n(88427),o=n(58238),a=n(98777)("src"),s=n(5734),u="toString",c=(""+s).split(u);n(60688).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},5035:(e,t,n)=>{"use strict";var r=n(36064),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},4862:(e,t,n)=>{"use strict";var r,i,o=n(6878),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,c="lastIndex",l=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[c]||0!==i[c]),f=void 0!==/()??/.exec("")[1];(l||f)&&(u=function(e){var t,n,r,i,u=this;return f&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),l&&(t=u[c]),r=a.call(u,e),l&&r&&(u[c]=u.global?r.index+r[0].length:t),f&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=u},86845:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},54631:(e,t,n)=>{var r=n(1747),i=n(60354),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(84578)(Function.call,n(87263).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},11524:(e,t,n)=>{"use strict";var r=n(61352),i=n(53016),o=n(20463),a=n(4161)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},42147:(e,t,n)=>{var r=n(53016).f,i=n(58238),o=n(4161)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},88982:(e,t,n)=>{var r=n(81790)("keys"),i=n(98777);e.exports=function(e){return r[e]||(r[e]=i(e))}},81790:(e,t,n)=>{var r=n(60688),i=n(61352),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(49159)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},24774:(e,t,n)=>{var r=n(60354),i=n(74428),o=n(4161)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},83357:(e,t,n)=>{"use strict";var r=n(20765);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},51558:(e,t,n)=>{var r=n(97439),i=n(34121);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},61653:(e,t,n)=>{var r=n(29097),i=n(34121);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},39237:(e,t,n)=>{var r=n(84657),i=n(20765),o=n(34121),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},925:(e,t,n)=>{var r=n(8506),i=n(78881),o=n(34121);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var f=l-u,d=i.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},78881:(e,t,n)=>{"use strict";var r=n(97439),i=n(34121);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},75066:(e,t,n)=>{var r=n(84657),i=n(34121),o=n(20765),a=n(69136),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=o((function(){return!!a[e]()||""!=""[e]()})),u=i[e]=s?t(f):a[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},69136:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},94128:(e,t,n)=>{var r,i,o,a=n(84578),s=n(82250),u=n(94286),c=n(50156),l=n(61352),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,y={},g="onreadystatechange",b=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},_=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete y[e]},"process"==n(9312)(f)?r=function(e){f.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r=g in c("script")?function(e){u.appendChild(c("script"))[g]=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:d,clear:p}},45860:(e,t,n)=>{var r=n(97439),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},83324:(e,t,n)=>{var r=n(97439),i=n(8506);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},97439:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},64491:(e,t,n)=>{var r=n(92651),i=n(34121);e.exports=function(e){return r(i(e))}},8506:(e,t,n)=>{var r=n(97439),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},52411:(e,t,n)=>{var r=n(34121);e.exports=function(e){return Object(r(e))}},31833:(e,t,n)=>{var r=n(1747);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},65431:(e,t,n)=>{"use strict";if(n(20463)){var r=n(49159),i=n(61352),o=n(20765),a=n(84657),s=n(35321),u=n(4857),c=n(84578),l=n(84817),f=n(44335),d=n(88427),p=n(2315),h=n(97439),v=n(8506),m=n(83324),y=n(45860),g=n(31833),b=n(58238),_=n(36064),w=n(1747),E=n(52411),S=n(60946),T=n(32956),C=n(62007),O=n(53749).f,I=n(47933),k=n(98777),A=n(4161),P=n(26777),R=n(83881),N=n(24774),x=n(57775),D=n(85698),L=n(11540),M=n(11524),j=n(34370),U=n(79090),F=n(53016),B=n(87263),V=F.f,H=B.f,z=i.RangeError,G=i.TypeError,W=i.Uint8Array,q="ArrayBuffer",$="Shared"+q,K="BYTES_PER_ELEMENT",Q="prototype",Y=Array[Q],J=u.ArrayBuffer,Z=u.DataView,X=P(0),ee=P(2),te=P(3),ne=P(4),re=P(5),ie=P(6),oe=R(!0),ae=R(!1),se=x.values,ue=x.keys,ce=x.entries,le=Y.lastIndexOf,fe=Y.reduce,de=Y.reduceRight,pe=Y.join,he=Y.sort,ve=Y.slice,me=Y.toString,ye=Y.toLocaleString,ge=A("iterator"),be=A("toStringTag"),_e=k("typed_constructor"),we=k("def_constructor"),Ee=s.CONSTR,Se=s.TYPED,Te=s.VIEW,Ce="Wrong length!",Oe=P(1,(function(e,t){return Re(N(e,e[we]),t)})),Ie=o((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),ke=!!W&&!!W[Q].set&&o((function(){new W(1).set({})})),Ae=function(e,t){var n=h(e);if(n<0||n%t)throw z("Wrong offset!");return n},Pe=function(e){if(w(e)&&Se in e)return e;throw G(e+" is not a typed array!")},Re=function(e,t){if(!w(e)||!(_e in e))throw G("It is not a typed array constructor!");return new e(t)},Ne=function(e,t){return xe(N(e,e[we]),t)},xe=function(e,t){for(var n=0,r=t.length,i=Re(e,r);r>n;)i[n]=t[n++];return i},De=function(e,t,n){V(e,t,{get:function(){return this._d[n]}})},Le=function(e){var t,n,r,i,o,a,s=E(e),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=I(s);if(null!=d&&!S(d)){for(a=d.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),t=0,n=v(s.length),i=Re(this,n);n>t;t++)i[t]=f?l(s[t],t):s[t];return i},Me=function(){for(var e=0,t=arguments.length,n=Re(this,t);t>e;)n[e]=arguments[e++];return n},je=!!W&&o((function(){ye.call(new W(1))})),Ue=function(){return ye.apply(je?ve.call(Pe(this)):Pe(this),arguments)},Fe={copyWithin:function(e,t){return U.call(Pe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return j.apply(Pe(this),arguments)},filter:function(e){return Ne(this,ee(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return re(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ie(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return pe.apply(Pe(this),arguments)},lastIndexOf:function(e){return le.apply(Pe(this),arguments)},map:function(e){return Oe(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return fe.apply(Pe(this),arguments)},reduceRight:function(e){return de.apply(Pe(this),arguments)},reverse:function(){for(var e,t=this,n=Pe(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return he.call(Pe(this),e)},subarray:function(e,t){var n=Pe(this),r=n.length,i=y(e,r);return new(N(n,n[we]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===t?r:y(t,r))-i))}},Be=function(e,t){return Ne(this,ve.call(Pe(this),e,t))},Ve=function(e){Pe(this);var t=Ae(arguments[1],1),n=this.length,r=E(e),i=v(r.length),o=0;if(i+t>n)throw z(Ce);for(;o<i;)this[t+o]=r[o++]},He={entries:function(){return ce.call(Pe(this))},keys:function(){return ue.call(Pe(this))},values:function(){return se.call(Pe(this))}},ze=function(e,t){return w(e)&&e[Se]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ge=function(e,t){return ze(e,t=g(t,!0))?f(2,e[t]):H(e,t)},We=function(e,t,n){return!(ze(e,t=g(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(e,t,n):(e[t]=n.value,e)};Ee||(B.f=Ge,F.f=We),a(a.S+a.F*!Ee,"Object",{getOwnPropertyDescriptor:Ge,defineProperty:We}),o((function(){me.call({})}))&&(me=ye=function(){return pe.call(this)});var qe=p({},Fe);p(qe,He),d(qe,ge,He.values),p(qe,{slice:Be,set:Ve,constructor:function(){},toString:me,toLocaleString:Ue}),De(qe,"buffer","b"),De(qe,"byteOffset","o"),De(qe,"byteLength","l"),De(qe,"length","e"),V(qe,be,{get:function(){return this[Se]}}),e.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=i[c],y=h||{},g=h&&C(h),b=!h||!s.ABV,E={},S=h&&h[Q],I=function(e,n){V(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[f](n*t+r.o,Ie)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,Ie)}(this,n,e)},enumerable:!0})};b?(h=n((function(e,n,r,i){l(e,h,c,"_d");var o,a,s,u,f=0,p=0;if(w(n)){if(!(n instanceof J||(u=_(n))==q||u==$))return Se in n?xe(h,n):Le.call(h,n);o=n,p=Ae(r,t);var y=n.byteLength;if(void 0===i){if(y%t)throw z(Ce);if((a=y-p)<0)throw z(Ce)}else if((a=v(i)*t)+p>y)throw z(Ce);s=a/t}else s=m(n),o=new J(a=s*t);for(d(e,"_d",{b:o,o:p,l:a,e:s,v:new Z(o)});f<s;)I(e,f++)})),S=h[Q]=T(qe),d(S,"constructor",h)):o((function(){h(1)}))&&o((function(){new h(-1)}))&&L((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,i){var o;return l(e,h,c),w(n)?n instanceof J||(o=_(n))==q||o==$?void 0!==i?new y(n,Ae(r,t),i):void 0!==r?new y(n,Ae(r,t)):new y(n):Se in n?xe(h,n):Le.call(h,n):new y(m(n))})),X(g!==Function.prototype?O(y).concat(O(g)):O(y),(function(e){e in h||d(h,e,y[e])})),h[Q]=S,r||(S.constructor=h));var k=S[ge],A=!!k&&("values"==k.name||null==k.name),P=He.values;d(h,_e,!0),d(S,Se,c),d(S,Te,!0),d(S,we,h),(u?new h(1)[be]==c:be in S)||V(S,be,{get:function(){return c}}),E[c]=h,a(a.G+a.W+a.F*(h!=y),E),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){y.of.call(h,1)})),c,{from:Le,of:Me}),K in S||d(S,K,t),a(a.P,c,Fe),M(c),a(a.P+a.F*ke,c,{set:Ve}),a(a.P+a.F*!A,c,He),r||S.toString==me||(S.toString=me),a(a.P+a.F*o((function(){new h(1).slice()})),c,{slice:Be}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),c,{toLocaleString:Ue}),D[c]=A?k:P,r||A||d(S,ge,P)}}else e.exports=function(){}},4857:(e,t,n)=>{"use strict";var r=n(61352),i=n(20463),o=n(49159),a=n(35321),s=n(88427),u=n(2315),c=n(20765),l=n(84817),f=n(97439),d=n(8506),p=n(83324),h=n(53749).f,v=n(53016).f,m=n(34370),y=n(42147),g="ArrayBuffer",b="DataView",_="prototype",w="Wrong index!",E=r[g],S=r[b],T=r.Math,C=r.RangeError,O=r.Infinity,I=E,k=T.abs,A=T.pow,P=T.floor,R=T.log,N=T.LN2,x="buffer",D="byteLength",L="byteOffset",M=i?"_b":x,j=i?"_l":D,U=i?"_o":L;function F(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?A(2,-24)-A(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=k(e))!=e||e===O?(i=e!=e?1:0,r=u):(r=P(R(e)/N),e*(o=A(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?l/o:l*A(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*A(2,t),r+=c):(i=e*A(2,c-1)*A(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function B(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-O:O;r+=A(2,t),l-=a}return(c?-1:1)*r*A(2,l-t)}function V(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function H(e){return[255&e]}function z(e){return[255&e,e>>8&255]}function G(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function W(e){return F(e,52,8)}function q(e){return F(e,23,4)}function $(e,t,n){v(e[_],t,{get:function(){return this[n]}})}function K(e,t,n,r){var i=p(+n);if(i+t>e[j])throw C(w);var o=e[M]._b,a=i+e[U],s=o.slice(a,a+t);return r?s:s.reverse()}function Q(e,t,n,r,i,o){var a=p(+n);if(a+t>e[j])throw C(w);for(var s=e[M]._b,u=a+e[U],c=r(+i),l=0;l<t;l++)s[u+l]=c[o?l:t-l-1]}if(a.ABV){if(!c((function(){E(1)}))||!c((function(){new E(-1)}))||c((function(){return new E,new E(1.5),new E(NaN),E.name!=g}))){for(var Y,J=(E=function(e){return l(this,E),new I(p(e))})[_]=I[_],Z=h(I),X=0;Z.length>X;)(Y=Z[X++])in E||s(E,Y,I[Y]);o||(J.constructor=E)}var ee=new S(new E(2)),te=S[_].setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||u(S[_],{setInt8:function(e,t){te.call(this,e,t<<24>>24)},setUint8:function(e,t){te.call(this,e,t<<24>>24)}},!0)}else E=function(e){l(this,E,g);var t=p(e);this._b=m.call(new Array(t),0),this[j]=t},S=function(e,t,n){l(this,S,b),l(e,E,b);var r=e[j],i=f(t);if(i<0||i>r)throw C("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw C("Wrong length!");this[M]=e,this[U]=i,this[j]=n},i&&($(E,D,"_l"),$(S,x,"_b"),$(S,D,"_l"),$(S,L,"_o")),u(S[_],{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return V(K(this,4,e,arguments[1]))},getUint32:function(e){return V(K(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return B(K(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return B(K(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Q(this,1,e,H,t)},setUint8:function(e,t){Q(this,1,e,H,t)},setInt16:function(e,t){Q(this,2,e,z,t,arguments[2])},setUint16:function(e,t){Q(this,2,e,z,t,arguments[2])},setInt32:function(e,t){Q(this,4,e,G,t,arguments[2])},setUint32:function(e,t){Q(this,4,e,G,t,arguments[2])},setFloat32:function(e,t){Q(this,4,e,q,t,arguments[2])},setFloat64:function(e,t){Q(this,8,e,W,t,arguments[2])}});y(E,g),y(S,b),s(S[_],a.VIEW,!0),t[g]=E,t[b]=S},35321:(e,t,n)=>{for(var r,i=n(61352),o=n(88427),a=n(98777),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},98777:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},71726:(e,t,n)=>{var r=n(61352).navigator;e.exports=r&&r.userAgent||""},81627:(e,t,n)=>{var r=n(1747);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},78674:(e,t,n)=>{var r=n(61352),i=n(60688),o=n(49159),a=n(24613),s=n(53016).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},24613:(e,t,n)=>{t.f=n(4161)},4161:(e,t,n)=>{var r=n(81790)("wks"),i=n(98777),o=n(61352).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},47933:(e,t,n)=>{var r=n(36064),i=n(4161)("iterator"),o=n(85698);e.exports=n(60688).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},41804:(e,t,n)=>{var r=n(84657);r(r.P,"Array",{copyWithin:n(79090)}),n(62628)("copyWithin")},22850:(e,t,n)=>{"use strict";var r=n(84657),i=n(26777)(4);r(r.P+r.F*!n(83357)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},11199:(e,t,n)=>{var r=n(84657);r(r.P,"Array",{fill:n(34370)}),n(62628)("fill")},52612:(e,t,n)=>{"use strict";var r=n(84657),i=n(26777)(2);r(r.P+r.F*!n(83357)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},83075:(e,t,n)=>{"use strict";var r=n(84657),i=n(26777)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(62628)(o)},10170:(e,t,n)=>{"use strict";var r=n(84657),i=n(26777)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(62628)(o)},71279:(e,t,n)=>{"use strict";var r=n(84657),i=n(26777)(0),o=n(83357)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},61190:(e,t,n)=>{"use strict";var r=n(84578),i=n(84657),o=n(52411),a=n(55719),s=n(60946),u=n(8506),c=n(85792),l=n(47933);i(i.S+i.F*!n(11540)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=0,g=l(d);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),null==g||p==Array&&s(g))for(n=new p(t=u(d.length));t>y;y++)c(n,y,m?v(d[y],y):d[y]);else for(f=g.call(d),n=new p;!(i=f.next()).done;y++)c(n,y,m?a(f,v,[i.value,y],!0):i.value);return n.length=y,n}})},20527:(e,t,n)=>{"use strict";var r=n(84657),i=n(83881)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(83357)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},50404:(e,t,n)=>{var r=n(84657);r(r.S,"Array",{isArray:n(53527)})},57775:(e,t,n)=>{"use strict";var r=n(62628),i=n(99337),o=n(85698),a=n(64491);e.exports=n(12955)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},95744:(e,t,n)=>{"use strict";var r=n(84657),i=n(64491),o=[].join;r(r.P+r.F*(n(92651)!=Object||!n(83357)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},7162:(e,t,n)=>{"use strict";var r=n(84657),i=n(64491),o=n(97439),a=n(8506),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(83357)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},8929:(e,t,n)=>{"use strict";var r=n(84657),i=n(26777)(1);r(r.P+r.F*!n(83357)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},32782:(e,t,n)=>{"use strict";var r=n(84657),i=n(85792);r(r.S+r.F*n(20765)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},34081:(e,t,n)=>{"use strict";var r=n(84657),i=n(23985);r(r.P+r.F*!n(83357)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},86308:(e,t,n)=>{"use strict";var r=n(84657),i=n(23985);r(r.P+r.F*!n(83357)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},65365:(e,t,n)=>{"use strict";var r=n(84657),i=n(94286),o=n(9312),a=n(45860),s=n(8506),u=[].slice;r(r.P+r.F*n(20765)((function(){i&&u.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),c=a(t,n),l=s(c-i),f=new Array(l),d=0;d<l;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},35663:(e,t,n)=>{"use strict";var r=n(84657),i=n(26777)(3);r(r.P+r.F*!n(83357)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},15109:(e,t,n)=>{"use strict";var r=n(84657),i=n(74428),o=n(52411),a=n(20765),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!n(83357)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},86885:(e,t,n)=>{n(11524)("Array")},17260:(e,t,n)=>{var r=n(84657);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},60312:(e,t,n)=>{var r=n(84657),i=n(38420);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},29849:(e,t,n)=>{"use strict";var r=n(84657),i=n(52411),o=n(31833);r(r.P+r.F*n(20765)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},71890:(e,t,n)=>{var r=n(4161)("toPrimitive"),i=Date.prototype;r in i||n(88427)(i,r,n(27183))},20544:(e,t,n)=>{var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(46276)(r,o,(function(){var e=s.call(this);return e==e?a.call(this):i}))},56719:(e,t,n)=>{var r=n(84657);r(r.P,"Function",{bind:n(55669)})},21378:(e,t,n)=>{"use strict";var r=n(1747),i=n(62007),o=n(4161)("hasInstance"),a=Function.prototype;o in a||n(53016).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},48251:(e,t,n)=>{var r=n(53016).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(20463)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},72601:(e,t,n)=>{"use strict";var r=n(23930),i=n(81627),o="Map";e.exports=n(74657)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},77451:(e,t,n)=>{var r=n(84657),i=n(13252),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},99895:(e,t,n)=>{var r=n(84657),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},35251:(e,t,n)=>{var r=n(84657),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},61516:(e,t,n)=>{var r=n(84657),i=n(69055);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},36221:(e,t,n)=>{var r=n(84657);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},47959:(e,t,n)=>{var r=n(84657),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},99346:(e,t,n)=>{var r=n(84657),i=n(9426);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},35102:(e,t,n)=>{var r=n(84657);r(r.S,"Math",{fround:n(48808)})},43668:(e,t,n)=>{var r=n(84657),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},3325:(e,t,n)=>{var r=n(84657),i=Math.imul;r(r.S+r.F*n(20765)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},90051:(e,t,n)=>{var r=n(84657);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},67198:(e,t,n)=>{var r=n(84657);r(r.S,"Math",{log1p:n(13252)})},58253:(e,t,n)=>{var r=n(84657);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},33253:(e,t,n)=>{var r=n(84657);r(r.S,"Math",{sign:n(69055)})},50066:(e,t,n)=>{var r=n(84657),i=n(9426),o=Math.exp;r(r.S+r.F*n(20765)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},79217:(e,t,n)=>{var r=n(84657),i=n(9426),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},75035:(e,t,n)=>{var r=n(84657);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},58557:(e,t,n)=>{"use strict";var r=n(61352),i=n(58238),o=n(9312),a=n(74882),s=n(31833),u=n(20765),c=n(53749).f,l=n(87263).f,f=n(53016).f,d=n(75066).trim,p="Number",h=r[p],v=h,m=h.prototype,y=o(n(32956)(m))==p,g="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=g?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(y?u((function(){m.valueOf.call(n)})):o(n)!=p)?a(new v(b(t)),n,h):b(t)};for(var _,w=n(20463)?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;w.length>E;E++)i(v,_=w[E])&&!i(h,_)&&f(h,_,l(v,_));h.prototype=m,m.constructor=h,n(46276)(r,p,h)}},22395:(e,t,n)=>{var r=n(84657);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},52568:(e,t,n)=>{var r=n(84657),i=n(61352).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},87519:(e,t,n)=>{var r=n(84657);r(r.S,"Number",{isInteger:n(47426)})},50741:(e,t,n)=>{var r=n(84657);r(r.S,"Number",{isNaN:function(e){return e!=e}})},49453:(e,t,n)=>{var r=n(84657),i=n(47426),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},35727:(e,t,n)=>{var r=n(84657);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},60547:(e,t,n)=>{var r=n(84657);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},53286:(e,t,n)=>{var r=n(84657),i=n(81734);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},83281:(e,t,n)=>{var r=n(84657),i=n(17614);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},73239:(e,t,n)=>{"use strict";var r=n(84657),i=n(97439),o=n(19723),a=n(78881),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f="0",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call(f,7-n.length)+n}return t},v=function(e,t,n){return 0===t?n:t%2==1?v(e,t-1,n*e):v(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(20765)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,l),c=i(e),m="",y=f;if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(u*v(2,69,1))-69,n=t<0?u*v(2,-t,1):u/v(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),r=c;r>=7;)d(1e7,0),r-=7;for(d(v(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),d(1,1),p(2),y=h()}else d(0,n),d(1<<-t,0),y=h()+a.call(f,c);return y=c>0?m+((s=y.length)<=c?"0."+a.call(f,c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c)):m+y}})},35746:(e,t,n)=>{"use strict";var r=n(84657),i=n(20765),o=n(19723),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},58485:(e,t,n)=>{var r=n(84657);r(r.S+r.F,"Object",{assign:n(85950)})},76685:(e,t,n)=>{var r=n(84657);r(r.S,"Object",{create:n(32956)})},10322:(e,t,n)=>{var r=n(84657);r(r.S+r.F*!n(20463),"Object",{defineProperties:n(1883)})},75456:(e,t,n)=>{var r=n(84657);r(r.S+r.F*!n(20463),"Object",{defineProperty:n(53016).f})},13328:(e,t,n)=>{var r=n(1747),i=n(13335).onFreeze;n(88881)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},56793:(e,t,n)=>{var r=n(64491),i=n(87263).f;n(88881)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},9145:(e,t,n)=>{n(88881)("getOwnPropertyNames",(function(){return n(67926).f}))},87755:(e,t,n)=>{var r=n(52411),i=n(62007);n(88881)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},38993:(e,t,n)=>{var r=n(1747);n(88881)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},19837:(e,t,n)=>{var r=n(1747);n(88881)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},9763:(e,t,n)=>{var r=n(1747);n(88881)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},98907:(e,t,n)=>{var r=n(84657);r(r.S,"Object",{is:n(86845)})},19365:(e,t,n)=>{var r=n(52411),i=n(8845);n(88881)("keys",(function(){return function(e){return i(r(e))}}))},84407:(e,t,n)=>{var r=n(1747),i=n(13335).onFreeze;n(88881)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},76144:(e,t,n)=>{var r=n(1747),i=n(13335).onFreeze;n(88881)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},86503:(e,t,n)=>{var r=n(84657);r(r.S,"Object",{setPrototypeOf:n(54631).set})},19140:(e,t,n)=>{"use strict";var r=n(36064),i={};i[n(4161)("toStringTag")]="z",i+""!="[object z]"&&n(46276)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},71516:(e,t,n)=>{var r=n(84657),i=n(81734);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},88221:(e,t,n)=>{var r=n(84657),i=n(17614);r(r.G+r.F*(parseInt!=i),{parseInt:i})},16377:(e,t,n)=>{"use strict";var r,i,o,a,s=n(49159),u=n(61352),c=n(84578),l=n(36064),f=n(84657),d=n(1747),p=n(74428),h=n(84817),v=n(82644),m=n(24774),y=n(94128).set,g=n(49036)(),b=n(77411),_=n(21764),w=n(71726),E=n(6632),S="Promise",T=u.TypeError,C=u.process,O=C&&C.versions,I=O&&O.v8||"",k=u[S],A="process"==l(C),P=function(){},R=i=b.f,N=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[n(4161)("species")]=function(e){e(P,P)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==I.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),x=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;g((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(i||(2==e._h&&j(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===t.promise?c(T("Promise-chain cycle")):(o=x(n))?o.call(n,u,c):u(n)):c(r)}catch(e){l&&!a&&l.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){y.call(u,(function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=_((function(){A?C.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=A||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){y.call(u,(function(){var t;A?C.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw T("Promise can't be resolved itself");(t=x(e))?g((function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(U,r,1))}catch(e){U.call(r,e)}})):(n._v=e,n._s=1,D(n,!1))}catch(e){U.call({_w:n,_d:!1},e)}}};N||(k=function(e){h(this,k,S,"_h"),p(e),r.call(this);try{e(c(F,this,1),c(U,this,1))}catch(e){U.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(2315)(k.prototype,{then:function(e,t){var n=R(m(this,k));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(U,e,1)},b.f=R=function(e){return e===k||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!N,{Promise:k}),n(42147)(k,S),n(11524)(S),a=n(60688)[S],f(f.S+f.F*!N,S,{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!N),S,{resolve:function(e){return E(s&&this===a?k:this,e)}}),f(f.S+f.F*!(N&&n(11540)((function(e){k.all(e).catch(P)}))),S,{all:function(e){var t=this,n=R(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;v(e,!1,(function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,i=_((function(){v(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},47663:(e,t,n)=>{var r=n(84657),i=n(74428),o=n(60354),a=(n(61352).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(20765)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},38616:(e,t,n)=>{var r=n(84657),i=n(32956),o=n(74428),a=n(60354),s=n(1747),u=n(20765),c=n(55669),l=(n(61352).Reflect||{}).construct,f=u((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),d=!u((function(){l((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},19831:(e,t,n)=>{var r=n(53016),i=n(84657),o=n(60354),a=n(31833);i(i.S+i.F*n(20765)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},47672:(e,t,n)=>{var r=n(84657),i=n(87263).f,o=n(60354);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},78072:(e,t,n)=>{"use strict";var r=n(84657),i=n(60354),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(35387)(o,"Object",(function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},94123:(e,t,n)=>{var r=n(87263),i=n(84657),o=n(60354);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},63070:(e,t,n)=>{var r=n(84657),i=n(62007),o=n(60354);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},97687:(e,t,n)=>{var r=n(87263),i=n(62007),o=n(58238),a=n(84657),s=n(1747),u=n(60354);a(a.S,"Reflect",{get:function e(t,n){var a,c,l=arguments.length<3?t:arguments[2];return u(t)===l?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=i(t))?e(c,n,l):void 0}})},20778:(e,t,n)=>{var r=n(84657);r(r.S,"Reflect",{has:function(e,t){return t in e}})},25694:(e,t,n)=>{var r=n(84657),i=n(60354),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},27744:(e,t,n)=>{var r=n(84657);r(r.S,"Reflect",{ownKeys:n(34367)})},70867:(e,t,n)=>{var r=n(84657),i=n(60354),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},93542:(e,t,n)=>{var r=n(84657),i=n(54631);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},28793:(e,t,n)=>{var r=n(53016),i=n(87263),o=n(62007),a=n(58238),s=n(84657),u=n(44335),c=n(60354),l=n(1747);s(s.S,"Reflect",{set:function e(t,n,s){var f,d,p=arguments.length<4?t:arguments[3],h=i.f(c(t),n);if(!h){if(l(d=o(t)))return e(d,n,s,p);h=u(0)}if(a(h,"value")){if(!1===h.writable||!l(p))return!1;if(f=i.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(p,n,f)}else r.f(p,n,u(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})},95220:(e,t,n)=>{var r=n(61352),i=n(74882),o=n(53016).f,a=n(53749).f,s=n(29097),u=n(6878),c=r.RegExp,l=c,f=c.prototype,d=/a/g,p=/a/g,h=new c(d)!==d;if(n(20463)&&(!h||n(20765)((function(){return p[n(4161)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")})))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(h?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:f,c)};for(var v=function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=a(l),y=0;m.length>y;)v(m[y++]);f.constructor=c,c.prototype=f,n(46276)(r,"RegExp",c)}n(11524)("RegExp")},12907:(e,t,n)=>{"use strict";var r=n(4862);n(84657)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},68750:(e,t,n)=>{n(20463)&&"g"!=/./g.flags&&n(53016).f(RegExp.prototype,"flags",{configurable:!0,get:n(6878)})},21702:(e,t,n)=>{"use strict";var r=n(60354),i=n(8506),o=n(45580),a=n(5035);n(43643)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var f,d=[],p=0;null!==(f=a(u,c));){var h=String(f[0]);d[p]=h,""===h&&(u.lastIndex=o(c,i(u.lastIndex),l)),p++}return 0===p?null:d}]}))},14656:(e,t,n)=>{"use strict";var r=n(60354),i=n(52411),o=n(8506),a=n(97439),s=n(45580),u=n(5035),c=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(43643)("replace",2,(function(e,t,n,h){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=h(n,e,this,t);if(i.done)return i.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var m=f.global;if(m){var y=f.unicode;f.lastIndex=0}for(var g=[];;){var b=u(f,d);if(null===b)break;if(g.push(b),!m)break;""===String(b[0])&&(f.lastIndex=s(d,o(f.lastIndex),y))}for(var _,w="",E=0,S=0;S<g.length;S++){b=g[S];for(var T=String(b[0]),C=c(l(a(b.index),d.length),0),O=[],I=1;I<b.length;I++)O.push(void 0===(_=b[I])?_:String(_));var k=b.groups;if(p){var A=[T].concat(O,C,d);void 0!==k&&A.push(k);var P=String(t.apply(void 0,A))}else P=v(T,d,C,O,k,t);C>=E&&(w+=d.slice(E,C)+P,E=C+T.length)}return w+d.slice(E)}];function v(e,t,r,o,a,s){var u=r+e.length,c=o.length,l=p;return void 0!==a&&(a=i(a),l=d),n.call(s,l,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var d=f(l/10);return 0===d?n:d<=c?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s}))}}))},52397:(e,t,n)=>{"use strict";var r=n(60354),i=n(86845),o=n(5035);n(43643)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=o(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},31723:(e,t,n)=>{"use strict";var r=n(29097),i=n(60354),o=n(24774),a=n(45580),s=n(8506),u=n(5035),c=n(4862),l=n(20765),f=Math.min,d=[].push,p="split",h="length",v="lastIndex",m=4294967295,y=!l((function(){RegExp(m,"y")}));n(43643)("split",2,(function(e,t,n,l){var g;return g="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||"."[p](/()()/)[h]>1||""[p](/.?/)[h]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=void 0===t?m:t>>>0,y=new RegExp(e.source,l+"g");(o=c.call(y,i))&&!((a=y[v])>f&&(u.push(i.slice(f,o.index)),o[h]>1&&o.index<i[h]&&d.apply(u,o.slice(1)),s=o[0][h],f=a,u[h]>=p));)y[v]===o.index&&y[v]++;return f===i[h]?!s&&y.test("")||u.push(""):u.push(i.slice(f)),u[h]>p?u.slice(0,p):u}:"0"[p](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(e,t){var r=l(g,e,this,t,g!==n);if(r.done)return r.value;var c=i(e),d=String(this),p=o(c,RegExp),h=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(y?"y":"g"),b=new p(y?c:"^(?:"+c.source+")",v),_=void 0===t?m:t>>>0;if(0===_)return[];if(0===d.length)return null===u(b,d)?[d]:[];for(var w=0,E=0,S=[];E<d.length;){b.lastIndex=y?E:0;var T,C=u(b,y?d:d.slice(E));if(null===C||(T=f(s(b.lastIndex+(y?0:E)),d.length))===w)E=a(d,E,h);else{if(S.push(d.slice(w,E)),S.length===_)return S;for(var O=1;O<=C.length-1;O++)if(S.push(C[O]),S.length===_)return S;E=w=T}}return S.push(d.slice(w)),S}]}))},32033:(e,t,n)=>{"use strict";n(68750);var r=n(60354),i=n(6878),o=n(20463),a="toString",s=/./[a],u=function(e){n(46276)(RegExp.prototype,a,e,!0)};n(20765)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?u((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):s.name!=a&&u((function(){return s.call(this)}))},3590:(e,t,n)=>{"use strict";var r=n(23930),i=n(81627);e.exports=n(74657)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},83705:(e,t,n)=>{"use strict";n(39237)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},75371:(e,t,n)=>{"use strict";n(39237)("big",(function(e){return function(){return e(this,"big","","")}}))},93390:(e,t,n)=>{"use strict";n(39237)("blink",(function(e){return function(){return e(this,"blink","","")}}))},37723:(e,t,n)=>{"use strict";n(39237)("bold",(function(e){return function(){return e(this,"b","","")}}))},42865:(e,t,n)=>{"use strict";var r=n(84657),i=n(51558)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},97816:(e,t,n)=>{"use strict";var r=n(84657),i=n(8506),o=n(61653),a="endsWith",s=""[a];r(r.P+r.F*n(32173)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),u=void 0===n?r:Math.min(i(n),r),c=String(e);return s?s.call(t,c,u):t.slice(u-c.length,u)===c}})},37897:(e,t,n)=>{"use strict";n(39237)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},85970:(e,t,n)=>{"use strict";n(39237)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},61746:(e,t,n)=>{"use strict";n(39237)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},31854:(e,t,n)=>{var r=n(84657),i=n(45860),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},3041:(e,t,n)=>{"use strict";var r=n(84657),i=n(61653),o="includes";r(r.P+r.F*n(32173)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},13184:(e,t,n)=>{"use strict";n(39237)("italics",(function(e){return function(){return e(this,"i","","")}}))},8580:(e,t,n)=>{"use strict";var r=n(51558)(!0);n(12955)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},74033:(e,t,n)=>{"use strict";n(39237)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},44038:(e,t,n)=>{var r=n(84657),i=n(64491),o=n(8506);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},89324:(e,t,n)=>{var r=n(84657);r(r.P,"String",{repeat:n(78881)})},34539:(e,t,n)=>{"use strict";n(39237)("small",(function(e){return function(){return e(this,"small","","")}}))},10855:(e,t,n)=>{"use strict";var r=n(84657),i=n(8506),o=n(61653),a="startsWith",s=""[a];r(r.P+r.F*n(32173)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},4312:(e,t,n)=>{"use strict";n(39237)("strike",(function(e){return function(){return e(this,"strike","","")}}))},50231:(e,t,n)=>{"use strict";n(39237)("sub",(function(e){return function(){return e(this,"sub","","")}}))},15478:(e,t,n)=>{"use strict";n(39237)("sup",(function(e){return function(){return e(this,"sup","","")}}))},76069:(e,t,n)=>{"use strict";n(75066)("trim",(function(e){return function(){return e(this,3)}}))},88179:(e,t,n)=>{"use strict";var r=n(61352),i=n(58238),o=n(20463),a=n(84657),s=n(46276),u=n(13335).KEY,c=n(20765),l=n(81790),f=n(42147),d=n(98777),p=n(4161),h=n(24613),v=n(78674),m=n(26697),y=n(53527),g=n(60354),b=n(1747),_=n(52411),w=n(64491),E=n(31833),S=n(44335),T=n(32956),C=n(67926),O=n(87263),I=n(82094),k=n(53016),A=n(8845),P=O.f,R=k.f,N=C.f,x=r.Symbol,D=r.JSON,L=D&&D.stringify,M="prototype",j=p("_hidden"),U=p("toPrimitive"),F={}.propertyIsEnumerable,B=l("symbol-registry"),V=l("symbols"),H=l("op-symbols"),z=Object[M],G="function"==typeof x&&!!I.f,W=r.QObject,q=!W||!W[M]||!W[M].findChild,$=o&&c((function(){return 7!=T(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(z,t);r&&delete z[t],R(e,t,n),r&&e!==z&&R(z,t,r)}:R,K=function(e){var t=V[e]=T(x[M]);return t._k=e,t},Q=G&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},Y=function(e,t,n){return e===z&&Y(H,t,n),g(e),t=E(t,!0),g(n),i(V,t)?(n.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),n=T(n,{enumerable:S(0,!1)})):(i(e,j)||R(e,j,S(1,{})),e[j][t]=!0),$(e,t,n)):R(e,t,n)},J=function(e,t){g(e);for(var n,r=m(t=w(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},Z=function(e){var t=F.call(this,e=E(e,!0));return!(this===z&&i(V,e)&&!i(H,e))&&(!(t||!i(this,e)||!i(V,e)||i(this,j)&&this[j][e])||t)},X=function(e,t){if(e=w(e),t=E(t,!0),e!==z||!i(V,t)||i(H,t)){var n=P(e,t);return!n||!i(V,t)||i(e,j)&&e[j][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=N(w(e)),r=[],o=0;n.length>o;)i(V,t=n[o++])||t==j||t==u||r.push(t);return r},te=function(e){for(var t,n=e===z,r=N(n?H:w(e)),o=[],a=0;r.length>a;)!i(V,t=r[a++])||n&&!i(z,t)||o.push(V[t]);return o};G||(s((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(H,n),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),$(this,e,S(1,n))};return o&&q&&$(z,e,{configurable:!0,set:t}),K(e)})[M],"toString",(function(){return this._k})),O.f=X,k.f=Y,n(53749).f=C.f=ee,n(33076).f=Z,I.f=te,o&&!n(49159)&&s(z,"propertyIsEnumerable",Z,!0),h.f=function(e){return K(p(e))}),a(a.G+a.W+a.F*!G,{Symbol:x});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)p(ne[re++]);for(var ie=A(p.store),oe=0;ie.length>oe;)v(ie[oe++]);a(a.S+a.F*!G,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=x(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!G,"Object",{create:function(e,t){return void 0===t?T(e):J(T(e),t)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=c((function(){I.f(1)}));a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return I.f(_(e))}}),D&&a(a.S+a.F*(!G||c((function(){var e=x();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Q(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,L.apply(D,r)}}),x[M][U]||n(88427)(x[M],U,x[M].valueOf),f(x,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},72055:(e,t,n)=>{"use strict";var r=n(84657),i=n(35321),o=n(4857),a=n(60354),s=n(45860),u=n(8506),c=n(1747),l=n(61352).ArrayBuffer,f=n(24774),d=o.ArrayBuffer,p=o.DataView,h=i.ABV&&l.isView,v=d.prototype.slice,m=i.VIEW,y="ArrayBuffer";r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,y,{isView:function(e){return h&&h(e)||c(e)&&m in e}}),r(r.P+r.U+r.F*n(20765)((function(){return!new d(2).slice(1,void 0).byteLength})),y,{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(f(this,d))(u(i-r)),c=new p(this),l=new p(o),h=0;r<i;)l.setUint8(h++,c.getUint8(r++));return o}}),n(11524)(y)},56379:(e,t,n)=>{var r=n(84657);r(r.G+r.W+r.F*!n(35321).ABV,{DataView:n(4857).DataView})},57723:(e,t,n)=>{n(65431)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},56021:(e,t,n)=>{n(65431)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},82100:(e,t,n)=>{n(65431)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},32661:(e,t,n)=>{n(65431)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},46354:(e,t,n)=>{n(65431)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},80111:(e,t,n)=>{n(65431)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},85061:(e,t,n)=>{n(65431)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},47839:(e,t,n)=>{n(65431)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},17415:(e,t,n)=>{n(65431)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},17226:(e,t,n)=>{"use strict";var r,i=n(61352),o=n(26777)(0),a=n(46276),s=n(13335),u=n(85950),c=n(60596),l=n(1747),f=n(81627),d=n(81627),p=!i.ActiveXObject&&"ActiveXObject"in i,h="WeakMap",v=s.getWeak,m=Object.isExtensible,y=c.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(l(e)){var t=v(e);return!0===t?y(f(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(f(this,h),e,t)}},_=e.exports=n(74657)(h,g,b,c,!0,!0);d&&p&&(u((r=c.getConstructor(g,h)).prototype,b),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=_.prototype,n=t[e];a(t,e,(function(t,i){if(l(t)&&!m(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},34405:(e,t,n)=>{"use strict";var r=n(60596),i=n(81627),o="WeakSet";n(74657)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},17298:(e,t,n)=>{"use strict";var r=n(84657),i=n(83881)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(62628)("includes")},72674:(e,t,n)=>{var r=n(84657),i=n(33979)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},66755:(e,t,n)=>{var r=n(84657),i=n(34367),o=n(64491),a=n(87263),s=n(85792);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,c=i(r),l={},f=0;c.length>f;)void 0!==(n=u(r,t=c[f++]))&&s(l,t,n);return l}})},12258:(e,t,n)=>{var r=n(84657),i=n(33979)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},49967:(e,t,n)=>{"use strict";var r=n(84657),i=n(60688),o=n(61352),a=n(24774),s=n(6632);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},79484:(e,t,n)=>{"use strict";var r=n(84657),i=n(925),o=n(71726),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},93886:(e,t,n)=>{"use strict";var r=n(84657),i=n(925),o=n(71726),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},62681:(e,t,n)=>{n(78674)("asyncIterator")},98814:(e,t,n)=>{for(var r=n(57775),i=n(8845),o=n(46276),a=n(61352),s=n(88427),u=n(85698),c=n(4161),l=c("iterator"),f=c("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),v=0;v<h.length;v++){var m,y=h[v],g=p[y],b=a[y],_=b&&b.prototype;if(_&&(_[l]||s(_,l,d),_[f]||s(_,f,y),u[y]=d,g))for(m in r)_[m]||o(_,m,r[m],!0)}},7599:(e,t,n)=>{var r=n(84657),i=n(94128);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},68088:(e,t,n)=>{var r=n(61352),i=n(84657),o=n(71726),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},29888:(e,t,n)=>{n(68088),n(7599),n(98814),e.exports=n(60688)},87206:e=>{"use strict";e.exports=EvalError},40004:e=>{"use strict";e.exports=Error},24976:e=>{"use strict";e.exports=RangeError},83167:e=>{"use strict";e.exports=ReferenceError},54480:e=>{"use strict";e.exports=SyntaxError},28649:e=>{"use strict";e.exports=TypeError},1921:e=>{"use strict";e.exports=URIError},85979:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},80458:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},70626:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments,1),s=n(0,i.length-a.length),u=[],c=0;c<s;c++)u[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,r(a,arguments));return Object(t)===t?t:this}return i.apply(e,r(a,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},76568:(e,t,n)=>{"use strict";var r=n(70626);e.exports=Function.prototype.bind||r},31547:(e,t,n)=>{"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,f=n(91508)(),d=n(56660)(),p=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),h={},v="undefined"!=typeof Uint8Array&&p?p(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f&&p?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&p?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&p?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&p?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&p?p(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":v,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(p)try{null.error}catch(e){var y=p(p(e));m["%Error.prototype%"]=y}var g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&p&&(n=p(i.prototype))}return m[t]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=n(76568),w=n(99569),E=_.call(Function.call,Array.prototype.concat),S=_.call(Function.apply,Array.prototype.splice),T=_.call(Function.call,String.prototype.replace),C=_.call(Function.call,String.prototype.slice),O=_.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,A=function(e,t){var n,r=e;if(w(b,r)&&(r="%"+(n=b[r])[0]+"%"),w(m,r)){var o=m[r];if(o===h&&(o=g(r)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=C(e,0,1),n=C(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return T(e,I,(function(e,t,n,i){r[r.length]=n?T(i,k,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",o=A("%"+r+"%",t),s=o.name,c=o.value,l=!1,f=o.alias;f&&(r=f[0],S(n,E([0,1],f)));for(var d=1,p=!0;d<n.length;d+=1){var h=n[d],v=C(h,0,1),y=C(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===y||"'"===y||"`"===y)&&v!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&p||(l=!0),w(m,s="%"+(r+="."+h)+"%"))c=m[s];else if(null!=c){if(!(h in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var g=u(c,h);c=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[h]}else p=w(c,h),c=c[h];p&&!l&&(m[s]=c)}}return c}},29132:(e,t,n)=>{"use strict";var r,i=n(40004),o=n(87206),a=n(24976),s=n(83167),u=n(54480),c=n(28649),l=n(1921),f=Function,d=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var h=function(){throw new c},v=p?function(){try{return h}catch(e){try{return p(arguments,"callee").get}catch(e){return h}}}():h,m=n(91508)(),y=n(56660)(),g=Object.getPrototypeOf||(y?function(e){return e.__proto__}:null),b={},_="undefined"!=typeof Uint8Array&&g?g(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":m&&g?g([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&g?g(g([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&g?g((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&g?g((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&g?g(""[Symbol.iterator]()):r,"%Symbol%":m?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":v,"%TypedArray%":_,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(g)try{null.error}catch(e){var E=g(g(e));w["%Error.prototype%"]=E}var S=function e(t){var n;if("%AsyncFunction%"===t)n=d("async function () {}");else if("%GeneratorFunction%"===t)n=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=d("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&g&&(n=g(i.prototype))}return w[t]=n,n},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=n(76568),O=n(91800),I=C.call(Function.call,Array.prototype.concat),k=C.call(Function.apply,Array.prototype.splice),A=C.call(Function.call,String.prototype.replace),P=C.call(Function.call,String.prototype.slice),R=C.call(Function.call,RegExp.prototype.exec),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,D=function(e,t){var n,r=e;if(O(T,r)&&(r="%"+(n=T[r])[0]+"%"),O(w,r)){var i=w[r];if(i===b&&(i=S(r)),void 0===i&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=P(e,0,1),n=P(e,-1);if("%"===t&&"%"!==n)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var r=[];return A(e,N,(function(e,t,n,i){r[r.length]=n?A(i,x,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=D("%"+r+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],k(n,I([0,1],l)));for(var f=1,d=!0;f<n.length;f+=1){var h=n[f],v=P(h,0,1),m=P(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===m||"'"===m||"`"===m)&&v!==m)throw new u("property names with quotes must have matching quotes");if("constructor"!==h&&d||(s=!0),O(w,o="%"+(r+="."+h)+"%"))a=w[o];else if(null!=a){if(!(h in a)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&f+1>=n.length){var y=p(a,h);a=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:a[h]}else d=O(a,h),a=a[h];d&&!s&&(w[o]=a)}}return a}},56660:e=>{"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},91508:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(32552);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},32552:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},99569:(e,t,n)=>{"use strict";var r=n(76568);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},91800:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(76568);e.exports=o.call(r,i)},13266:(e,t,n)=>{"use strict";var r=n(80364),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var y=a[m];if(!(o[y]||r&&r[y]||v&&v[y]||s&&s[y])){var g=d(n,y);try{c(t,y,g)}catch(e){}}}}return t}},23644:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*v}},59016:e=>{"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},36129:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},96947:e=>{"use strict";e.exports=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n}},29582:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,v=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,g=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,E=RegExp.prototype.test,S=Array.prototype.concat,T=Array.prototype.join,C=Array.prototype.slice,O=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,P="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===P||"symbol")?Symbol.toStringTag:null,N=Object.prototype.propertyIsEnumerable,x=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function D(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||E.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-O(-e):O(e);if(r!==e){var i=String(r),o=g.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var L=n(4238),M=L.custom,j=H(M)?M:null;function U(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function F(e){return b.call(String(e),/"/g,"&quot;")}function B(e){return!("[object Array]"!==W(e)||R&&"object"==typeof e&&R in e)}function V(e){return!("[object RegExp]"!==W(e)||R&&"object"==typeof e&&R in e)}function H(e){if(P)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,r,i){var s=n||{};if(G(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!G(s,"customInspect")||s.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var v=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return $(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return v?D(t,_):_}if("bigint"==typeof t){var E=String(t)+"n";return v?D(t,E):E}var O=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=O&&O>0&&"object"==typeof t)return B(t)?"[Array]":"[Object]";var k=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=T.call(Array(e.indent+1)," ")}return{base:n,prev:T.call(Array(t+1),n)}}(s,r);if(void 0===i)i=[];else if(q(i,t)>=0)return"[Circular]";function M(t,n,o){if(n&&(i=C.call(i)).push(n),o){var a={depth:s.depth};return G(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,i)}return e(t,s,r+1,i)}if("function"==typeof t&&!V(t)){var z=function(e){if(e.name)return e.name;var t=y.call(m.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),K=X(t,M);return"[Function"+(z?": "+z:" (anonymous)")+"]"+(K.length>0?" { "+T.call(K,", ")+" }":"")}if(H(t)){var ee=P?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!=typeof t||P?ee:Q(ee)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var te="<"+w.call(String(t.nodeName)),ne=t.attributes||[],re=0;re<ne.length;re++)te+=" "+ne[re].name+"="+U(F(ne[re].value),"double",s);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+w.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var ie=X(t,M);return k&&!function(e){for(var t=0;t<e.length;t++)if(q(e[t],"\n")>=0)return!1;return!0}(ie)?"["+Z(ie,k)+"]":"[ "+T.call(ie,", ")+" ]"}if(function(e){return!("[object Error]"!==W(e)||R&&"object"==typeof e&&R in e)}(t)){var oe=X(t,M);return"cause"in Error.prototype||!("cause"in t)||N.call(t,"cause")?0===oe.length?"["+String(t)+"]":"{ ["+String(t)+"] "+T.call(oe,", ")+" }":"{ ["+String(t)+"] "+T.call(S.call("[cause]: "+M(t.cause),oe),", ")+" }"}if("object"==typeof t&&u){if(j&&"function"==typeof t[j]&&L)return L(t,{depth:O-r});if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ae=[];return a&&a.call(t,(function(e,n){ae.push(M(n,t,!0)+" => "+M(e,t))})),J("Map",o.call(t),ae,k)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var se=[];return l&&l.call(t,(function(e){se.push(M(e,t))})),J("Set",c.call(t),se,k)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Y("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Y("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return Y("WeakRef");if(function(e){return!("[object Number]"!==W(e)||R&&"object"==typeof e&&R in e)}(t))return Q(M(Number(t)));if(function(e){if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}(t))return Q(M(I.call(t)));if(function(e){return!("[object Boolean]"!==W(e)||R&&"object"==typeof e&&R in e)}(t))return Q(h.call(t));if(function(e){return!("[object String]"!==W(e)||R&&"object"==typeof e&&R in e)}(t))return Q(M(String(t)));if(!function(e){return!("[object Date]"!==W(e)||R&&"object"==typeof e&&R in e)}(t)&&!V(t)){var ue=X(t,M),ce=x?x(t)===Object.prototype:t instanceof Object||t.constructor===Object,le=t instanceof Object?"":"null prototype",fe=!ce&&R&&Object(t)===t&&R in t?g.call(W(t),8,-1):le?"Object":"",de=(ce||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(fe||le?"["+T.call(S.call([],fe||[],le||[]),": ")+"] ":"");return 0===ue.length?de+"{}":k?de+"{"+Z(ue,k)+"}":de+"{ "+T.call(ue,", ")+" }"}return String(t)};var z=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return z.call(e,t)}function W(e){return v.call(e)}function q(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function $(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return $(g.call(e,0,t.maxStringLength),t)+r}return U(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",t)}function K(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function Q(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function J(e,t,n,r){return e+" ("+t+") {"+(r?Z(n,r):T.call(n,", "))+"}"}function Z(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+T.call(e,","+n)+"\n"+t.prev}function X(e,t){var n=B(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=G(e,i)?t(e[i],e):""}var o,a="function"==typeof k?k(e):[];if(P){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)G(e,u)&&(n&&String(Number(u))===u&&u<e.length||P&&o["$"+u]instanceof Symbol||(E.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"==typeof k)for(var c=0;c<a.length;c++)N.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},73011:(e,t,n)=>{"use strict";var r=n(5806),i="win32"===r.platform,o=n(32636);function a(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(i))}return n}function s(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var r=t;r>=0&&!e[r];r--);return 0===n&&r===t?e:n>r?[]:e.slice(n,r+1)}var u=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,c=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,l={};function f(e){var t=u.exec(e),n=(t[1]||"")+(t[2]||""),r=t[3]||"",i=c.exec(r);return[n,i[1],i[2],i[3]]}function d(e){var t=u.exec(e),n=t[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!t[2],tail:t[3]}}function p(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}l.resolve=function(){for(var e="",t="",n=!1,i=arguments.length-1;i>=-1;i--){var s;if(i>=0?s=arguments[i]:e?(s={DJANGO_PROD:!0,NODE_ENV:"production",STATIC_PATH:"https://cdn.hackerearth.com/static/"}["="+e])&&s.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(s=e+"\\"):s=r.cwd(),!o.isString(s))throw new TypeError("Arguments to path.resolve must be strings");if(s){var u=d(s),c=u.device,l=u.isUnc,f=u.isAbsolute,h=u.tail;if((!c||!e||c.toLowerCase()===e.toLowerCase())&&(e||(e=c),n||(t=h+"\\"+t,n=f),e&&n))break}}return l&&(e=p(e)),e+(n?"\\":"")+(t=a(t.split(/[\\\/]+/),!n).join("\\"))||"."},l.normalize=function(e){var t=d(e),n=t.device,r=t.isUnc,i=t.isAbsolute,o=t.tail,s=/[\\\/]$/.test(o);return(o=a(o.split(/[\\\/]+/),!i).join("\\"))||i||(o="."),o&&s&&(o+="\\"),r&&(n=p(n)),n+(i?"\\":"")+o},l.isAbsolute=function(e){return d(e).isAbsolute},l.join=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(!o.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&e.push(n)}var r=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),l.normalize(r)},l.relative=function(e,t){e=l.resolve(e),t=l.resolve(t);for(var n=e.toLowerCase(),r=t.toLowerCase(),i=s(t.split("\\")),o=s(n.split("\\")),a=s(r.split("\\")),u=Math.min(o.length,a.length),c=u,f=0;f<u;f++)if(o[f]!==a[f]){c=f;break}if(0==c)return t;var d=[];for(f=c;f<o.length;f++)d.push("..");return(d=d.concat(i.slice(c))).join("\\")},l._makeLong=function(e){if(!o.isString(e))return e;if(!e)return"";var t=l.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},l.dirname=function(e){var t=f(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},l.basename=function(e,t){var n=f(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},l.extname=function(e){return f(e)[3]},l.format=function(e){if(!o.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!o.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,r=e.base||"";return n?n[n.length-1]===l.sep?n+r:n+l.sep+r:r},l.parse=function(e){if(!o.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=f(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},l.sep="\\",l.delimiter=";";var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,v={};function m(e){return h.exec(e).slice(1)}v.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var i=n>=0?arguments[n]:r.cwd();if(!o.isString(i))throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,t="/"===i[0])}return(t?"/":"")+(e=a(e.split("/"),!t).join("/"))||"."},v.normalize=function(e){var t=v.isAbsolute(e),n=e&&"/"===e[e.length-1];return(e=a(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},v.isAbsolute=function(e){return"/"===e.charAt(0)},v.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!o.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return v.normalize(e)},v.relative=function(e,t){e=v.resolve(e).substr(1),t=v.resolve(t).substr(1);for(var n=s(e.split("/")),r=s(t.split("/")),i=Math.min(n.length,r.length),o=i,a=0;a<i;a++)if(n[a]!==r[a]){o=a;break}var u=[];for(a=o;a<n.length;a++)u.push("..");return(u=u.concat(r.slice(o))).join("/")},v._makeLong=function(e){return e},v.dirname=function(e){var t=m(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},v.basename=function(e,t){var n=m(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},v.extname=function(e){return m(e)[3]},v.format=function(e){if(!o.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!o.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+v.sep:"")+(e.base||"")},v.parse=function(e){if(!o.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=m(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},v.sep="/",v.delimiter=":",e.exports=i?l:v,e.exports.posix=v,e.exports.win32=l},5806:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},13182:(e,t,n)=>{"use strict";var r=n(85979),i=n(80458),o=n(36144);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},85680:(e,t,n)=>{e.exports=n(13182)()},36144:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},52504:(e,t,n)=>{"use strict";var r=n(62265);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},23698:(e,t,n)=>{e.exports=n(52504)()},62265:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},34648:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},58746:(e,t,n)=>{"use strict";var r=n(92620),i=n(46318),o=n(34648);e.exports={formats:o,parse:i,stringify:r}},46318:(e,t,n)=>{"use strict";var r=n(73199),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,l=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var f=0;n.depth>0&&null!==(s=a.exec(o))&&f<n.depth;){if(f+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(e,t,n,r){for(var i=r?t:u(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(c,10);n.parseArrays||""!==c?!isNaN(l)&&s!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=i:"__proto__"!==c&&(a[c]=i):a={0:i}}i=a}return i}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var n,c={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,d=l.split(t.delimiter,f),p=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?h="utf-8":"utf8=%26%2310003%3B"===d[n]&&(h="iso-8859-1"),p=n,n=d.length);for(n=0;n<d.length;++n)if(n!==p){var v,m,y=d[n],g=y.indexOf("]="),b=-1===g?y.indexOf("="):g+1;-1===b?(v=t.decoder(y,a.decoder,h,"key"),m=t.strictNullHandling?null:""):(v=t.decoder(y.slice(0,b),a.decoder,h,"key"),m=r.maybeMap(u(y.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,h,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===h&&(m=s(m)),y.indexOf("[]=")>-1&&(m=o(m)?[m]:m),i.call(c,v)?c[v]=r.combine(c[v],m):c[v]=m}return c}(e,n):e,f=n.plainObjects?Object.create(null):{},d=Object.keys(l),p=0;p<d.length;++p){var h=d[p],v=c(h,l[h],n,"string"==typeof e);f=r.merge(f,v,n)}return!0===n.allowSparse?f:r.compact(f)}},92620:(e,t,n)=>{"use strict";var r=n(35561),i=n(73199),o=n(34648),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=String.prototype.split,l=Array.prototype.push,f=function(e,t){l.apply(e,u(t)?t:[t])},d=Date.prototype.toISOString,p=o.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},v={},m=function e(t,n,o,a,s,l,d,p,m,y,g,b,_,w,E,S){for(var T,C=t,O=S,I=0,k=!1;void 0!==(O=O.get(v))&&!k;){var A=O.get(t);if(I+=1,void 0!==A){if(A===I)throw new RangeError("Cyclic object value");k=!0}void 0===O.get(v)&&(I=0)}if("function"==typeof p?C=p(n,C):C instanceof Date?C=g(C):"comma"===o&&u(C)&&(C=i.maybeMap(C,(function(e){return e instanceof Date?g(e):e}))),null===C){if(s)return d&&!w?d(n,h.encoder,E,"key",b):n;C=""}if("string"==typeof(T=C)||"number"==typeof T||"boolean"==typeof T||"symbol"==typeof T||"bigint"==typeof T||i.isBuffer(C)){if(d){var P=w?n:d(n,h.encoder,E,"key",b);if("comma"===o&&w){for(var R=c.call(String(C),","),N="",x=0;x<R.length;++x)N+=(0===x?"":",")+_(d(R[x],h.encoder,E,"value",b));return[_(P)+(a&&u(C)&&1===R.length?"[]":"")+"="+N]}return[_(P)+"="+_(d(C,h.encoder,E,"value",b))]}return[_(n)+"="+_(String(C))]}var D,L=[];if(void 0===C)return L;if("comma"===o&&u(C))D=[{value:C.length>0?C.join(",")||null:void 0}];else if(u(p))D=p;else{var M=Object.keys(C);D=m?M.sort(m):M}for(var j=a&&u(C)&&1===C.length?n+"[]":n,U=0;U<D.length;++U){var F=D[U],B="object"==typeof F&&void 0!==F.value?F.value:C[F];if(!l||null!==B){var V=u(C)?"function"==typeof o?o(j,F):j:j+(y?"."+F:"["+F+"]");S.set(t,I);var H=r();H.set(v,S),f(L,e(B,V,o,a,s,l,d,p,m,y,g,b,_,w,E,H))}}return L};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=h.filter;return("function"==typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):u(c.filter)&&(n=c.filter);var l,d=[];if("object"!=typeof i||null===i)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=s[l];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var v="comma"===p&&t&&t.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var y=r(),g=0;g<n.length;++g){var b=n[g];c.skipNulls&&null===i[b]||f(d,m(i[b],b,p,v,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,y))}var _=d.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),_.length>0?w+_:""}},73199:(e,t,n)=>{"use strict";var r=n(34648),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],l=a[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:c}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",c=0;c<s.length;++c){var l=s.charCodeAt(c);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===r.RFC1738&&(40===l||41===l)?u+=s.charAt(c):l<128?u+=a[l]:l<2048?u+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?u+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(c+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(c)),u+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return u},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&n&&"object"==typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},82050:(e,t,n)=>{"use strict";var r=n(2363),i=n(9031);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(h,e)||!f.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),I=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var x=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Te=null;function Ce(e){if(e=bi(e)){if("function"!=typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Oe(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Ie(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function ke(e,t){return e(t)}function Ae(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return ke(e,t,n)}finally{Pe=!1,(null!==Se||null!==Te)&&(Ae(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var xe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){xe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){xe=!1}function Le(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Me=!1,je=null,Ue=!1,Fe=null,Be={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,o,a,s,u){Me=!1,je=null,Le.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0==(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var wt,Et,St,Tt,Ct,Ot=!1,It=[],kt=null,At=null,Pt=null,Rt=new Map,Nt=new Map,xt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Ot=!1,null!==kt&&Ut(kt)&&(kt=null),null!==At&&Ut(At)&&(At=null),null!==Pt&&Ut(Pt)&&(Pt=null),Rt.forEach(Ft),Nt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Vt(kt,e),null!==At&&Vt(At,e),null!==Pt&&Vt(Pt,e),Rt.forEach(t),Nt.forEach(t),n=0;n<xt.length;n++)(r=xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)jt(n),null===n.blockedOn&&xt.shift()}var zt=_.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=1,$t(e,t,n,r)}finally{bt=i,zt.transition=o}}function qt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=4,$t(e,t,n,r)}finally{bt=i,zt.transition=o}}function $t(e,t,n,r){if(Gt){var i=Qt(e,t,n,r);if(null===i)Gr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Mt(kt,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&Gr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=gi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=j({},cn,{view:0,detail:0}),dn=on(fn),pn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(pn),vn=on(j({},pn,{dataTransfer:0})),mn=on(j({},fn,{relatedTarget:0})),yn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),_n=on(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var On=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(On),kn=on(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Rn),xn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Oe(r),0<(t=qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,$n=null;function Kn(e){Ur(e,0)}function Qn(e){if($(_i(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"==typeof er.oninput}Zn=Xn}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),$n=qn=null)}function nr(e){if("value"===e.propertyName&&Qn($n)){var t=[];Wn(t,$n,e,we(e)),Re(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn($n)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ur(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=qr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function Cr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}l&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Or=Cr("animationend"),Ir=Cr("animationiteration"),kr=Cr("animationstart"),Ar=Cr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),u(t,[e])}for(var xr=0;xr<Rr.length;xr++){var Dr=Rr[xr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Or,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(kr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=je;Me=!1,je=null,Ue||(Ue=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!xe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,i=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Or:case Ir:case kr:u=yn;break;case Ar:u=Pn;break;case"scroll":u=dn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var l=0!=(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==d&&(null!=(v=Ne(h,d))&&l.push(Wr(h,v,p)))),f)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[hi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,v="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,v="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:_i(u),p=null==c?s:_i(c),(s=new l(v,h+"leave",u,n,i)).target=f,s.relatedTarget=p,v=null,gi(i)===r&&((l=new l(d,h+"enter",c,n,i)).target=p,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,h=0,p=l=u;p;p=$r(p))h++;for(p=0,v=d;v;v=$r(v))p++;for(;0<h-p;)l=$r(l),h--;for(;0<p-h;)d=$r(d),p--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=$r(l),d=$r(d)}l=null}else l=null;null!==u&&Kr(a,s,u,l,!1),null!==c&&null!==f&&Kr(a,f,c,l,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Gn(s))if(Jn)m=ar;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(a,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(y=qr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:y}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Xt=Zt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Ur(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ne(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Ne(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,pi="__reactProps$"+fi,hi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[pi]||null}var Ei=[],Si=-1;function Ti(e){return{current:e}}function Ci(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function Oi(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ii={},ki=Ti(Ii),Ai=Ti(!1),Pi=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!=(e=e.childContextTypes)}function xi(){Ci(Ai),Ci(ki)}function Di(e,t,n){if(ki.current!==Ii)throw Error(o(168));Oi(ki,t),Oi(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=ki.current,Oi(ki,e),Oi(Ai,Ai.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ai),Ci(ki),Oi(ki,e)):Ci(Ai),Oi(Ai,n)}var Ui=null,Fi=!1,Bi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Hi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),$e(Xe,Hi),t}finally{bt=t,Bi=!1}}return null}var zi=[],Gi=0,Wi=null,qi=0,$i=[],Ki=0,Qi=null,Yi=1,Ji="";function Zi(e,t){zi[Gi++]=qi,zi[Gi++]=Wi,Wi=e,qi=t}function Xi(e,t,n){$i[Ki++]=Yi,$i[Ki++]=Ji,$i[Ki++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=o+e}else Yi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Zi(e,1),Xi(e,1,0))}function to(e){for(;e===Wi;)Wi=zi[--Gi],zi[Gi]=null,qi=zi[--Gi],zi[Gi]=null;for(;e===Qi;)Qi=$i[--Ki],$i[Ki]=null,Ji=$i[--Ki],$i[Ki]=null,Yi=$i[--Ki],$i[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function ho(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=_.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=Ti(null),bo=null,_o=null,wo=null;function Eo(){wo=_o=bo=null}function So(e){var t=go.current;Ci(go),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Io=null;function ko(e){null===Io?Io=[e]:Io.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ko(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,ko(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(d=t,p=n,v.tag){case 1:if("function"==typeof(h=v.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(d="function"==typeof(h=v.payload)?h.call(p,f,d):h))break e;f=j({},f,d);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=p,u=f):l=l.next=p,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);ju|=a,e.lanes=a,e.memoizedState=f}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Vo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Go(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"==typeof o&&null!==o?o=Oo(o):(i=Ni(t)?Pi:ki.current,o=(r=null!=(r=t.contextTypes))?Ri(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,No(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Oo(o):(o=Ni(t)?Pi:ki.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ho.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function $o(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===N&&Qo(o)===t.type)?((r=i(t,n.props)).ref=$o(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=$o(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=$o(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case N:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ko(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=p(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),io&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=h(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),io&&Zi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!=typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=p(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),io&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=d(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return io&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=h(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),io&&Zi(i,m),l}return function e(r,o,a,u){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===S){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===N&&Qo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=$o(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===S?((o=Mc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Lc(a.type,a.key,a.props,null,r.mode,u)).ref=$o(r,o,a),u.return=r,r=u)}return s(r);case E:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,u)).return=r,r=o}return s(r);case N:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(L(a))return m(r,o,a,u);Ko(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Uc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Jo=Yo(!0),Zo=Yo(!1),Xo={},ea=Ti(Xo),ta=Ti(Xo),na=Ti(Xo);function ra(e){if(e===Xo)throw Error(o(174));return e}function ia(e,t){switch(Oi(na,t),Oi(ta,e),Oi(ea,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),Oi(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Oi(ta,e),Oi(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var ua=Ti(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var da=_.ReactCurrentDispatcher,pa=_.ReactCurrentBatchConfig,ha=0,va=null,ma=null,ya=null,ga=!1,ba=!1,_a=0,wa=0;function Ea(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){if(ha=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ya=ma=null,t.updateQueue=null,da.current=cs,e=n(r,i)}while(ba)}if(da.current=as,t=null!==ma&&null!==ma.next,ha=0,ya=ma=va=null,ga=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==_a;return _a=0,e}function Oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?va.memoizedState=ya=e:ya=ya.next=e,ya}function Ia(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ya?va.memoizedState:ya.next;if(null!==t)ya=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ya?va.memoizedState=ya=e:ya=ya.next=e}return ya}function ka(e,t){return"function"==typeof t?t(e):t}function Aa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((ha&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,va.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,ju|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ra(){}function Na(e,t){var n=va,r=Ia(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Ga(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Fa(9,Da.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(o(349));0!=(30&ha)||xa(n,t,i)}return i}function xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&ja(e)}function La(e,t,n){return n((function(){Ma(t)&&ja(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function ja(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function Ua(e){var t=Oa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Ia().memoizedState}function Va(e,t,n,r){var i=Oa();va.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Fa(t,n,o,r))}va.flags|=e,i.memoizedState=Fa(1|t,n,o,r)}function za(e,t){return Va(8390656,8,e,t)}function Ga(e,t){return Ha(2048,8,e,t)}function Wa(e,t){return Ha(4,2,e,t)}function qa(e,t){return Ha(4,4,e,t)}function $a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!=n?n.concat([e]):null,Ha(4,4,$a.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0==(21&ha)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,ju|=n,e.baseState=!0),t)}function Xa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{bt=n,pa.transition=r}}function es(){return Ia().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ao(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,ko(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Ao(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var as={readContext:Oo,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},ss={readContext:Oo,useCallback:function(e,t){return Oa().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Va(4194308,4,$a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Oa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Oa().memoizedState=e},useState:Ua,useDebugValue:Qa,useDeferredValue:function(e){return Oa().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=Xa.bind(null,e[1]),Oa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Oa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pu)throw Error(o(349));0!=(30&ha)||xa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(La.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Oa(),t=Pu.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Oo,useCallback:Ya,useContext:Oo,useEffect:Ga,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:qa,useMemo:Ja,useReducer:Aa,useRef:Ba,useState:function(){return Aa(ka)},useDebugValue:Qa,useDeferredValue:function(e){return Za(Ia(),ma.memoizedState,e)},useTransition:function(){return[Aa(ka)[0],Ia().memoizedState]},useMutableSource:Ra,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1},cs={readContext:Oo,useCallback:Ya,useContext:Oo,useEffect:Ga,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:qa,useMemo:Ja,useReducer:Pa,useRef:Ba,useState:function(){return Pa(ka)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ia();return null===ma?t.memoizedState=e:Za(t,ma.memoizedState,e)},useTransition:function(){return[Pa(ka)[0],Ia().memoizedState]},useMutableSource:Ra,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,qu=r),ds(0,t)},n}function vs(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===$u?$u=new Set([this]):$u.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Jo(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=Ta(e,t,n,r,o,i),n=Ca(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||xc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!=(131072&e.flags)&&(_s=!0)}}return Is(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oi(Du,xu),xu|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oi(Du,xu),xu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Oi(Du,xu),xu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oi(Du,xu),xu|=r;return ws(e,t,i,n),t.child}function Os(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var o=Ni(n)?Pi:ki.current;return o=Ri(t,o),Co(t,i),n=Ta(e,t,n,r,o,i),r=Ca(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function ks(e,t,n,r,i){if(Ni(n)){var o=!0;Mi(t)}else o=!1;if(Co(t,i),null===t.stateNode)Gs(e,t),Go(t,n,r),qo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Oo(c):c=Ri(t,c=Ni(n)?Pi:ki.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wo(t,a,r,c),Ro=!1;var d=t.memoizedState;a.state=d,Uo(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Ai.current||Ro?("function"==typeof l&&(Vo(t,n,l,r),u=t.memoizedState),(s=Ro||zo(t,n,s,r,d,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,xo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yo(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=Oo(u):u=Ri(t,u=Ni(n)?Pi:ki.current);var p=n.getDerivedStateFromProps;(l="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||d!==u)&&Wo(t,a,r,u),Ro=!1,d=t.memoizedState,a.state=d,Uo(t,r,a,i);var h=t.memoizedState;s!==f||d!==h||Ai.current||Ro?("function"==typeof p&&(Vo(t,n,p,r),h=t.memoizedState),(c=Ro||zo(t,n,c,r,d,h,u)||!1)?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){Os(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Ws(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Rs(e,t,n,r,i){return ho(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,xs,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!=(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Oi(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Fs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&Jo(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,a);if(0==(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!=(s&e.childLanes),_s||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),rc(r,e,i,-1))}return mc(),Bs(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&($i[Ki++]=Yi,$i[Ki++]=Ji,$i[Ki++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0==(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&vo(r),Jo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Hs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!=(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oi(ua,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,o);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $s(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(t),null;case 1:case 17:return Ni(t.type)&&xi(),$s(t),null;case 3:return r=t.stateNode,oa(),Ci(Ai),Ci(ki),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),xs(e,t),$s(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return $s(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[pi]=a,e=0!=(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var u in ge(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":q(r),X(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[pi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ge(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"==typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"==typeof l&&de(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Fr("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":q(e),X(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $s(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return $s(t),null;case 13:if(Ci(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))po(),ho(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else ho(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$s(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ua.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),$s(t),null);case 4:return oa(),xs(e,t),null===e&&Hr(t.stateNode.containerInfo),$s(t),null;case 10:return So(t.type._context),$s(t),null;case 19:if(Ci(ua),null===(a=t.memoizedState))return $s(t),null;if(r=0!=(128&t.flags),null===(u=a.rendering))if(r)qs(a,!1);else{if(0!==Lu||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,qs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oi(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>zu&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return $s(t),null}else 2*Je()-a.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ua.current,Oi(ua,r?1&n|2:1&n),t):($s(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&xu)&&($s(t),6&t.subtreeFlags&&(t.flags|=8192)):$s(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&xi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Ai),Ci(ki),fa(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ua),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xs=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Xs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Cc(e,t,n)}else n.current=null}function tu(e,t,n){try{n()}catch(n){Cc(e,t,n)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,du=!1;function pu(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=du;fu=null,pu(e,t,n),du=i,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ht(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=du,fu=n.stateNode.containerInfo,du=!0,pu(e,t,n),fu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}pu(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Cc(n,t,e)}pu(e,t,n);break;case 21:pu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,pu(e,t,n),Js=r):pu(e,t,n);break;default:pu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(o(160));hu(a,s,i),fu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(e){Cc(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(t){Cc(e,e.return,t)}try{ru(5,e,e.return)}catch(t){Cc(e,e.return,t)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(t){Cc(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&J(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(u){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(t){Cc(e,e.return,t)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){Cc(e,e.return,t)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(t){Cc(e,e.return,t)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Hu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,mu(t,e),Js=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!=(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(d=Xs=f;null!==Xs;){switch(h=(p=Xs).child,p.tag){case 0:case 11:case 14:case 15:ru(4,p,p.return);break;case 1:eu(p,p.return);var v=p.stateNode;if("function"==typeof v.componentWillUnmount){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(e){Cc(r,n,e)}}break;case 5:eu(p,p.return);break;case 22:if(null!==p.memoizedState){Eu(d);continue}}null!==h?(h.return=p,Xs=h):Eu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=null!=(c=d.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(t){Cc(e,e.return,t)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(t){Cc(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(o(161))}}catch(t){Cc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Xs=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!=(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Ys;var c=Js;if(Ys=a,(Js=u)&&!c)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Xs=u):Su(i);for(;null!==o;)Xs=o,_u(o,t,n),o=o.sibling;Xs=i,Ys=s,Js=c}wu(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):wu(e)}}function wu(e){for(;null!==Xs;){var t=Xs;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ou(t)}catch(e){Cc(t,t.return,e)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Eu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Su(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(e){Cc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Cc(t,i,e)}}var o=t.return;try{ou(t)}catch(e){Cc(t,o,e)}break;case 5:var a=t.return;try{ou(t)}catch(e){Cc(t,a,e)}}}catch(e){Cc(t,t.return,e)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Tu,Cu=Math.ceil,Ou=_.ReactCurrentDispatcher,Iu=_.ReactCurrentOwner,ku=_.ReactCurrentBatchConfig,Au=0,Pu=null,Ru=null,Nu=0,xu=0,Du=Ti(0),Lu=0,Mu=null,ju=0,Uu=0,Fu=0,Bu=null,Vu=null,Hu=0,zu=1/0,Gu=null,Wu=!1,qu=null,$u=null,Ku=!1,Qu=null,Yu=0,Ju=0,Zu=null,Xu=-1,ec=0;function tc(){return 0!=(6&Au)?Je():-1!==Xu?Xu:Xu=Je()}function nc(e){return 0==(1&e.mode)?1:0!=(2&Au)&&0!==Nu?Nu&-Nu:null!==mo.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Zu=null,Error(o(185));yt(e,n,r),0!=(2&Au)&&e===Pu||(e===Pu&&(0==(2&Au)&&(Uu|=n),4===Lu&&uc(e,Nu)),ic(e,r),1===n&&0===Au&&0==(1&t.mode)&&(zu=Je()+500,Fi&&Hi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!=(s&n)&&0==(s&r)||(i[a]=pt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Pu?Nu:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),ai((function(){0==(6&Au)&&Hi()})),n=null;else{switch(_t(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Xu=-1,ec=0,0!=(6&Au))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Pu?Nu:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Au;Au|=2;var a=vc();for(Pu===e&&Nu===t||(Gu=null,zu=Je()+500,pc(e,t));;)try{bc();break}catch(t){hc(e,t)}Eo(),Ou.current=a,Au=i,null!==Ru?t=0:(Pu=null,Nu=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=ac(e,i))),1===t)throw n=Mu,pc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=ht(e))&&(r=a,t=ac(e,a))),1===t))throw n=Mu,pc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,Vu,Gu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Hu+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Vu,Gu),t);break}Ec(e,Vu,Gu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Vu,Gu),r);break}Ec(e,Vu,Gu);break;default:throw Error(o(329))}}}return ic(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vu,Vu=n,null!==t&&sc(t)),e}function sc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function uc(e,t){for(t&=~Fu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!=(6&Au))throw Error(o(327));Sc();var t=dt(e,0);if(0==(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Mu,pc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vu,Gu),ic(e,Je()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(zu=Je()+500,Fi&&Hi())}}function fc(e){null!==Qu&&0===Qu.tag&&0==(6&Au)&&Sc();var t=Au;Au|=1;var n=ku.transition,r=bt;try{if(ku.transition=null,bt=1,e)return e()}finally{bt=r,ku.transition=n,0==(6&(Au=t))&&Hi()}}function dc(){xu=Du.current,Ci(Du)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&xi();break;case 3:oa(),Ci(Ai),Ci(ki),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(ua);break;case 10:So(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pu=e,Ru=e=Dc(e.current,null),Nu=xu=t,Lu=0,Mu=null,Fu=Uu=ju=0,Vu=Bu=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function hc(e,t){for(;;){var n=Ru;try{if(Eo(),da.current=as,ga){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(ha=0,ya=ma=va=null,ba=!1,_a=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Ru=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c,f=u,d=f.tag;if(0==(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ys(s);if(null!==h){h.flags&=-257,gs(h,s,u,0,t),1&h.mode&&ms(a,l,t),c=l;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0==(1&t)){ms(a,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var y=ys(s);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Lu&&(Lu=2),null===Bu?Bu=[a]:Bu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,hs(0,c,t));break e;case 1:u=c;var g=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof g.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===$u||!$u.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(e){t=e,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function vc(){var e=Ou.current;return Ou.current=as,null===e?as:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Pu||0==(268435455&ju)&&0==(268435455&Uu)||uc(Pu,Nu)}function yc(e,t){var n=Au;Au|=2;var r=vc();for(Pu===e&&Nu===t||(Gu=null,pc(e,t));;)try{gc();break}catch(t){hc(e,t)}if(Eo(),Au=n,Ou.current=r,null!==Ru)throw Error(o(261));return Pu=null,Nu=0,Lu}function gc(){for(;null!==Ru;)_c(Ru)}function bc(){for(;null!==Ru&&!Qe();)_c(Ru)}function _c(e){var t=Tu(e.alternate,e,xu);e.memoizedProps=e.pendingProps,null===t?wc(e):Ru=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ks(n,t,xu)))return void(Ru=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Lu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Lu&&(Lu=5)}function Ec(e,t,n){var r=bt,i=ku.transition;try{ku.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Qu);if(0!=(6&Au))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pu&&(Ru=Pu=null,Nu=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Ku||(Ku=!0,Pc(tt,(function(){return Sc(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=ku.transition,ku.transition=null;var s=bt;bt=1;var u=Au;Au|=4,Iu.current=null,function(e,t){if(ei=Gt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++l===i&&(u=s),p===a&&++f===r&&(c=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:yo(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(e){Cc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=nu,nu=!1}(e,n),yu(n,e),hr(ti),Gt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Ye(),Au=u,bt=s,ku.transition=a}else e.current=n;if(Ku&&(Ku=!1,Qu=e,Yu=i),a=e.pendingLanes,0===a&&($u=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=qu,qu=null,e;0!=(1&Yu)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!=(1&a)?e===Zu?Ju++:(Ju=0,Zu=e):Ju=0,Hi()}(e,t,n,r)}finally{ku.transition=i,bt=r}return null}function Sc(){if(null!==Qu){var e=_t(Yu),t=ku.transition,n=bt;try{if(ku.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!=(6&Au))throw Error(o(331));var i=Au;for(Au|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!=(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:ru(8,f,a)}var d=f.child;if(null!==d)d.return=f,Xs=d;else for(;null!==Xs;){var p=(f=Xs).sibling,h=f.return;if(au(f),f===l){Xs=null;break}if(null!==p){p.return=h,Xs=p;break}Xs=h}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!=(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Xs=g;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!=(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!=(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(e){Cc(u,u.return,e)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Au=i,Hi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,ku.transition=t}}return!1}function Tc(e,t,n){e=Lo(e,t=hs(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===$u||!$u.has(r))){t=Lo(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Nu&n)===n&&(4===Lu||3===Lu&&(130023424&Nu)===Nu&&500>Je()-Hu?pc(e,0):Fu|=n),ic(e,t)}function Ic(e,t){0===t&&(0==(1&e.mode)?t=1:(t=lt,0==(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Po(e,t))&&(yt(e,t,n),ic(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Pc(e,t){return $e(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Rc(e,t,n,r)}function xc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)xc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Mc(n.children,i,a,t);case T:s=8,i|=8;break;case C:return(e=Nc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=a,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=a,e;case x:return jc(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case I:s=9;break e;case k:s=11;break e;case R:s=14;break e;case N:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=x,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,u){return e=new Bc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Hc(e){if(!e)return Ii;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=Vc(n,r,!0,e,0,o,0,s,u)).context=Hc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=null!=t?t:null,Lo(n,o,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(rc(e,i,a,o),Mo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Tu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)_s=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),ho();break;case 5:aa(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Oi(go,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oi(ua,1&ua.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Us(e,t,n):(Oi(ua,1&ua.current),null!==(e=Ws(e,t,n))?e.sibling:null);Oi(ua,1&ua.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oi(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Ws(e,t,n)}(e,t,n);_s=0!=(131072&e.flags)}else _s=!1,io&&0!=(1048576&t.flags)&&Xi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ri(t,ki.current);Co(t,n),i=Ta(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Ho,t.stateNode=i,i._reactInternals=t,qo(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return xc(e)?1:0;if(null!=e){if((e=e.$$typeof)===k)return 11;if(e===R)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=ks(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,xo(e,t),Uo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Os(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Us(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Oi(go,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=Oo(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Ss(e,t,r,i=yo(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Gs(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,Co(t,n),Go(t,r,i),qo(t,r,i,n),As(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"==typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[hi]=a.current,Hr(8===e.nodeType?e.parentNode:e),fc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=u,e[hi]=u.current,Hr(8===e.nodeType?e.parentNode:e),fc((function(){Gc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Gc(null,e,null,null)})),t[hi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xt.length&&0!==t&&t<xt[n].priority;n++);xt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0==(6&Au)&&(zu=Je()+500,Hi()))}break;case 13:fc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),$c(e,1)}},Et=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rc(t,e,134217728,tc());$c(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);if(null!==n)rc(n,e,t,tc());$c(e,t)}},Tt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));$(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[bi,_i,wi,Oe,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[hi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},30417:(e,t,n)=>{"use strict";var r=n(61850);t.s=r.createRoot,r.hydrateRoot},61850:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(82050)},66462:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===_||e.$$typeof===y)},t.typeOf=w},80364:(e,t,n)=>{"use strict";e.exports=n(66462)},33258:(e,t,n)=>{"use strict";n.d(t,{$j:()=>fe,zt:()=>de});var r=n(2363),i=n(24295),o=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&f(e,n,t[n]);if(u)for(var n of u(t))l.call(t,n)&&f(e,n,t[n]);return e},p=(e,t)=>a(e,s(t)),h=(e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&u)for(var r of u(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n},v=r,m=Symbol.for("react-redux-context"),y="undefined"!=typeof globalThis?globalThis:{};function g(){var e;if(!v.createContext)return{};const t=null!=(e=y[m])?e:y[m]=new Map;let n=t.get(v.createContext);return n||(n=v.createContext(null),t.set(v.createContext,n)),n}var b=g(),_=()=>{throw new Error("uSES not initialized!")};var w=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),I=Symbol.for("react.context"),k=Symbol.for("react.server_context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=(Symbol.for("react.offscreen"),Symbol.for("react.client.reference"),A),L=N;function M(e){if("object"==typeof e&&null!==e){const t=e.$$typeof;switch(t){case w:{const n=e.type;switch(n){case S:case C:case T:case P:case R:return n;default:{const e=n&&n.$$typeof;switch(e){case k:case I:case A:case x:case N:case O:return e;default:return t}}}}case E:return t}}}function j(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:a}){let s,u,c,l,f,d=!1;function p(d,p){const h=!o(p,u),v=!i(d,s,p,u);return s=d,u=p,h&&v?(c=e(s,u),t.dependsOnOwnProps&&(l=t(r,u)),f=n(c,l,u),f):h?(e.dependsOnOwnProps&&(c=e(s,u)),t.dependsOnOwnProps&&(l=t(r,u)),f=n(c,l,u),f):v?function(){const t=e(s,u),r=!a(t,c);return c=t,r&&(f=n(c,l,u)),f}():f}return function(i,o){return d?p(i,o):(s=i,u=o,c=e(s,u),l=t(r,u),f=n(c,l,u),d=!0,f)}}function U(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function F(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function B(e,t){return function(t,{displayName:n}){const r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=F(e);let i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=F(i),i=r(t,n)),i},r}}function V(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function H(e,t,n){return d(d(d({},n),e),t)}function z(e){e()}var G={notify(){},get:()=>[]};function W(e,t){let n,r=G,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){z((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function u(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=G)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:()=>r};return c}var q=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?v.useLayoutEffect:v.useEffect;function $(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function K(e,t){if($(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!$(e[n[r]],t[n[r]]))return!1;return!0}var Q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Y={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},J={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Z={[D]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[L]:J};function X(e){return M(e)===N?J:Z[e.$$typeof]||Q}var ee=Object.defineProperty,te=Object.getOwnPropertyNames,ne=Object.getOwnPropertySymbols,re=Object.getOwnPropertyDescriptor,ie=Object.getPrototypeOf,oe=Object.prototype;function ae(e,t){if("string"!=typeof t){if(oe){const n=ie(t);n&&n!==oe&&ae(e,n)}let n=te(t);ne&&(n=n.concat(ne(t)));const r=X(e),i=X(t);for(let o=0;o<n.length;++o){const a=n[o];if(!(Y[a]||i&&i[a]||r&&r[a])){const n=re(t,a);try{ee(e,a,n)}catch(e){}}}}return e}var se=_,ue=[null,null];function ce(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function le(e,t){return e===t}var fe=function(e,t,n,{pure:r,areStatesEqual:i=le,areOwnPropsEqual:o=K,areStatePropsEqual:a=K,areMergedPropsEqual:s=K,forwardRef:u=!1,context:c=b}={}){const l=c,f=function(e){return e?"function"==typeof e?B(e):V(e,"mapStateToProps"):U((()=>({})))}(e),m=function(e){return e&&"object"==typeof e?U((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"==typeof i&&(n[r]=(...e)=>t(i(...e)))}return n}(e,t))):e?"function"==typeof e?B(e):V(e,"mapDispatchToProps"):U((e=>({dispatch:e})))}(t),y=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:n,areMergedPropsEqual:r}){let i,o=!1;return function(t,n,a){const s=e(t,n,a);return o?r(s,i)||(i=s):(o=!0,i=s),i}}}(e):V(e,"mergeProps"):()=>H}(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:f,initMapDispatchToProps:m,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:o,areMergedPropsEqual:s};function c(t){const[n,i,o]=v.useMemo((()=>{const e=t,{reactReduxForwardedRef:n}=e,r=h(e,["reactReduxForwardedRef"]);return[t.context,n,r]}),[t]),a=v.useMemo((()=>{let e=l;return null==n||n.Consumer,e}),[n,l]),s=v.useContext(a),u=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),c=Boolean(s)&&Boolean(s.store);const f=u?t.store:s.store,m=c?s.getServerState:f.getState,y=v.useMemo((()=>function(e,t){var n=t,{initMapStateToProps:r,initMapDispatchToProps:i,initMergeProps:o}=n,a=h(n,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);return j(r(e,a),i(e,a),o(e,a),e,a)}(f.dispatch,r)),[f]),[b,_]=v.useMemo((()=>{if(!g)return ue;const e=W(f,u?void 0:s.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,u,s]),w=v.useMemo((()=>u?s:p(d({},s),{subscription:b})),[u,s,b]),E=v.useRef(),S=v.useRef(o),T=v.useRef(),C=v.useRef(!1),O=(v.useRef(!1),v.useRef(!1)),I=v.useRef();q((()=>(O.current=!0,()=>{O.current=!1})),[]);const k=v.useMemo((()=>()=>T.current&&o===S.current?T.current:y(f.getState(),o)),[f,o]),A=v.useMemo((()=>e=>b?function(e,t,n,r,i,o,a,s,u,c,l){if(!e)return()=>{};let f=!1,d=null;const p=()=>{if(f||!s.current)return;const e=t.getState();let n,p;try{n=r(e,i.current)}catch(e){p=e,d=e}p||(d=null),n===o.current?a.current||c():(o.current=n,u.current=n,a.current=!0,l())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}(g,f,b,y,S,E,C,O,T,_,e):()=>{}),[b]);var P,R,N;let x;P=ce,R=[S,E,C,o,T,_],q((()=>P(...R)),N);try{x=se(A,k,m?()=>y(m(),o):k)}catch(e){throw I.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${I.current.stack}\n\n`),e}q((()=>{I.current=void 0,T.current=void 0,E.current=x}));const D=v.useMemo((()=>v.createElement(e,p(d({},x),{ref:i}))),[i,e,x]);return v.useMemo((()=>g?v.createElement(a.Provider,{value:w},D):D),[a,D,w])}const b=v.memo(c);if(b.WrappedComponent=e,b.displayName=c.displayName=n,u){const t=v.forwardRef((function(e,t){return v.createElement(b,p(d({},e),{reactReduxForwardedRef:t}))}));return t.displayName=n,t.WrappedComponent=e,ae(t,e)}return ae(b,e)}};var de=function({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const a=v.useMemo((()=>{const t=W(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:o}}),[e,r,i,o]),s=v.useMemo((()=>e.getState()),[e]);q((()=>{const{subscription:t}=a;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),s!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[a,s]);const u=t||b;return v.createElement(u.Provider,{value:a},n)};var pe;pe=i.useSyncExternalStoreWithSelector,(e=>{se=e})(r.useSyncExternalStore)},34899:(e,t,n)=>{"use strict";var r;n.d(t,{AW:()=>R,F0:()=>N,Fg:()=>P,TH:()=>h,UO:()=>y,Z5:()=>x,s0:()=>m});var i=n(2363),o=n(45380);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const s=i.createContext(null);const u=i.createContext(null);const c=i.createContext(null);const l=i.createContext(null);const f=i.createContext({outlet:null,matches:[],isDataRoute:!1});const d=i.createContext(null);function p(){return null!=i.useContext(l)}function h(){return p()||(0,o.J0)(!1),i.useContext(l).location}function v(e){i.useContext(c).static||i.useLayoutEffect(e)}function m(){let{isDataRoute:e}=i.useContext(f);return e?function(){let{router:e}=O(T.UseNavigateStable),t=k(C.UseNavigateStable),n=i.useRef(!1);return v((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,a({fromRouteId:t},i)))}),[e,t])}():function(){p()||(0,o.J0)(!1);let e=i.useContext(s),{basename:t,future:n,navigator:r}=i.useContext(c),{matches:a}=i.useContext(f),{pathname:u}=h(),l=JSON.stringify((0,o.cm)(a,n.v7_relativeSplatPath)),d=i.useRef(!1);return v((()=>{d.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!d.current)return;if("number"==typeof n)return void r.go(n);let a=(0,o.pC)(n,JSON.parse(l),u,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:(0,o.RQ)([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,l,u,e])}()}function y(){let{matches:e}=i.useContext(f),t=e[e.length-1];return t?t.params:{}}function g(e,t,n,r){p()||(0,o.J0)(!1);let{navigator:s}=i.useContext(c),{matches:u}=i.useContext(f),d=u[u.length-1],v=d?d.params:{},m=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let y,g=h();if(t){var b;let e="string"==typeof t?(0,o.cP)(t):t;"/"===m||(null==(b=e.pathname)?void 0:b.startsWith(m))||(0,o.J0)(!1),y=e}else y=g;let _=y.pathname||"/",w=_;if("/"!==m){let e=m.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(e.length).join("/")}let E=(0,o.fp)(e,{pathname:w});let T=S(E&&E.map((e=>Object.assign({},e,{params:Object.assign({},v,e.params),pathname:(0,o.RQ)([m,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:(0,o.RQ)([m,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,n,r);return t&&T?i.createElement(l.Provider,{value:{location:a({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:o.aU.Pop}},T):T}function b(){let e=function(){var e;let t=i.useContext(d),n=I(C.UseRouteError),r=k(C.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,o.WK)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const _=i.createElement(b,null);class w extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(f.Provider,{value:this.props.routeContext},i.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(s);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(f.Provider,{value:t},r)}function S(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let u=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=u.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||(0,o.J0)(!1),u=u.slice(0,Math.min(u.length,e+1))}let l=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<u.length;e++){let t=u[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(f=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){l=!0,u=f>=0?u.slice(0,f+1):[u[0]];break}}}return u.reduceRight(((e,r,o)=>{let a,s=!1,d=null,p=null;var h;n&&(a=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||_,l&&(f<0&&0===o?(h="route-fallback",!1||A[h]||(A[h]=!0),s=!0,p=null):f===o&&(s=!0,p=r.route.hydrateFallbackElement||null)));let v=t.concat(u.slice(0,o+1)),m=()=>{let t;return t=a?d:s?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(E,{match:r,routeContext:{outlet:e,matches:v,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(w,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()}),null)}var T=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T||{}),C=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C||{});function O(e){let t=i.useContext(s);return t||(0,o.J0)(!1),t}function I(e){let t=i.useContext(u);return t||(0,o.J0)(!1),t}function k(e){let t=function(e){let t=i.useContext(f);return t||(0,o.J0)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||(0,o.J0)(!1),n.route.id}const A={};(r||(r=n.t(i,2))).startTransition;function P(e){let{to:t,replace:n,state:r,relative:a}=e;p()||(0,o.J0)(!1);let{future:s,static:u}=i.useContext(c),{matches:l}=i.useContext(f),{pathname:d}=h(),v=m(),y=(0,o.pC)(t,(0,o.cm)(l,s.v7_relativeSplatPath),d,"path"===a),g=JSON.stringify(y);return i.useEffect((()=>v(JSON.parse(g),{replace:n,state:r,relative:a})),[v,g,a,n,r]),null}function R(e){(0,o.J0)(!1)}function N(e){let{basename:t="/",children:n=null,location:r,navigationType:s=o.aU.Pop,navigator:u,static:f=!1,future:d}=e;p()&&(0,o.J0)(!1);let h=t.replace(/^\/*/,"/"),v=i.useMemo((()=>({basename:h,navigator:u,static:f,future:a({v7_relativeSplatPath:!1},d)})),[h,d,u,f]);"string"==typeof r&&(r=(0,o.cP)(r));let{pathname:m="/",search:y="",hash:g="",state:b=null,key:_="default"}=r,w=i.useMemo((()=>{let e=(0,o.Zn)(m,h);return null==e?null:{location:{pathname:e,search:y,hash:g,state:b,key:_},navigationType:s}}),[h,m,y,g,b,_,s]);return null==w?null:i.createElement(c.Provider,{value:v},i.createElement(l.Provider,{children:n,value:w}))}function x(e){let{children:t,location:n}=e;return g(D(t),n)}new Promise((()=>{}));i.Component;function D(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,D(e.props.children,a));e.type!==R&&(0,o.J0)(!1),e.props.index&&e.props.children&&(0,o.J0)(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=D(e.props.children,a)),n.push(s)})),n}},44313:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{ZP:()=>dn});var d=n(2363),p=n.t(d,2),h=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var v=n(79276);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}var y=n(21753);function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var b=n(23927);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,b.Z)(e)}(this,n)}}function w(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=n(67412),S=n(25983),T=n(60664),C=!!p.useInsertionEffect&&p.useInsertionEffect,O=C||function(e){return e()},I=(C||d.useLayoutEffect,{}.hasOwnProperty),k=(0,d.createContext)("undefined"!=typeof HTMLElement?(0,E.Z)({key:"css"}):null);k.Provider;var A=function(e){return(0,d.forwardRef)((function(t,n){var r=(0,d.useContext)(k);return e(t,r,n)}))},P=(0,d.createContext)({});var R="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",N=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,S.hC)(t,n,r);O((function(){return(0,S.My)(t,n,r)}));return null},x=A((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[R],o=[r],a="";"string"==typeof e.className?a=(0,S.fp)(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var s=(0,T.O)(o,void 0,(0,d.useContext)(P));a+=t.key+"-"+s.name;var u={};for(var c in e)I.call(e,c)&&"css"!==c&&c!==R&&(u[c]=e[c]);return u.ref=n,u.className=a,(0,d.createElement)(d.Fragment,null,(0,d.createElement)(N,{cache:t,serialized:s,isStringTag:"string"==typeof i}),(0,d.createElement)(i,u))}));n(13266);var D=function(e,t){var n=arguments;if(null==t||!I.call(t,"css"))return d.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=x,i[1]=function(e,t){var n={};for(var r in t)I.call(t,r)&&(n[r]=t[r]);return n[R]=e,n}(e,t);for(var o=2;o<r;o++)i[o]=n[o];return d.createElement.apply(null,i)};function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,T.O)(t)}var M=n(61850);const j=Math.min,U=Math.max,F=Math.round,B=Math.floor,V=e=>({x:e,y:e});function H(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function z(e){return q(e)?(e.nodeName||"").toLowerCase():"#document"}function G(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function W(e){var t;return null==(t=(q(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function q(e){return e instanceof Node||e instanceof G(e).Node}function $(e){return e instanceof Element||e instanceof G(e).Element}function K(e){return e instanceof HTMLElement||e instanceof G(e).HTMLElement}function Q(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof G(e).ShadowRoot)}function Y(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=X(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function J(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Z(e){return["html","body","#document"].includes(z(e))}function X(e){return G(e).getComputedStyle(e)}function ee(e){if("html"===z(e))return e;const t=e.assignedSlot||e.parentNode||Q(e)&&e.host||W(e);return Q(t)?t.host:t}function te(e){const t=ee(e);return Z(t)?e.ownerDocument?e.ownerDocument.body:e.body:K(t)&&Y(t)?t:te(t)}function ne(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=te(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),a=G(i);return o?t.concat(a,a.visualViewport||[],Y(i)?i:[],a.frameElement&&n?ne(a.frameElement):[]):t.concat(i,ne(i,[],n))}function re(e){const t=X(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=K(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=F(n)!==o||F(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function ie(e){return $(e)?e:e.contextElement}function oe(e){const t=ie(e);if(!K(t))return V(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=re(t);let a=(o?F(n.width):n.width)/r,s=(o?F(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const ae=V(0);function se(e){const t=G(e);return J()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ae}function ue(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=ie(e);let a=V(1);t&&(r?$(r)&&(a=oe(r)):a=oe(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==G(e))&&t}(o,n,r)?se(o):V(0);let u=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,l=i.width/a.x,f=i.height/a.y;if(o){const e=G(o),t=r&&$(r)?G(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=oe(n),t=n.getBoundingClientRect(),r=X(n),i=t.left+(n.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(n.clientTop+parseFloat(r.paddingTop))*e.y;u*=e.x,c*=e.y,l*=e.x,f*=e.y,u+=i,c+=o,n=G(n).frameElement}}return H({width:l,height:f,x:u,y:c})}function ce(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:u=!1}=r,c=ie(e),l=i||o?[...c?ne(c):[],...ne(t)]:[];l.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const f=c&&s?function(e,t){let n,r=null;const i=W(e);function o(){clearTimeout(n),r&&r.disconnect(),r=null}return function a(s,u){void 0===s&&(s=!1),void 0===u&&(u=1),o();const{left:c,top:l,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const p={rootMargin:-B(l)+"px "+-B(i.clientWidth-(c+f))+"px "+-B(i.clientHeight-(l+d))+"px "+-B(c)+"px",threshold:U(0,j(1,u))||1};let h=!0;function v(e){const t=e[0].intersectionRatio;if(t!==u){if(!h)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),100)}h=!1}try{r=new IntersectionObserver(v,{...p,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(v,p)}r.observe(e)}(!0),o}(c,n):null;let d,p=-1,h=null;a&&(h=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{h&&h.observe(t)}))),n()})),c&&!u&&h.observe(c),h.observe(t));let v=u?ue(e):null;return u&&function t(){const r=ue(e);!v||r.x===v.x&&r.y===v.y&&r.width===v.width&&r.height===v.height||n();v=r,d=requestAnimationFrame(t)}(),n(),()=>{l.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),f&&f(),h&&h.disconnect(),h=null,u&&cancelAnimationFrame(d)}}const le=d.useLayoutEffect;var fe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],de=function(){};function pe(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function he(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(pe(e,a)));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var ve=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===r(e)&&null!==e?[e]:[];var t},me=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,s({},f(e,fe))},ye=function(e,t,n){var r=e.cx,i=e.getStyles,o=e.getClassNames,a=e.className;return{css:i(t,e),className:r(null!=n?n:{},o(t,e),a)}};function ge(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function be(e){return ge(e)?window.pageYOffset:e.scrollTop}function _e(e,t){ge(e)?window.scrollTo(0,t):e.scrollTop=t}function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:de,i=be(e),o=t-i,a=0;!function t(){var s,u=o*((s=(s=a+=10)/n-1)*s*s+1)+i;_e(e,u),a<n?window.requestAnimationFrame(t):r(e)}()}function Ee(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?_e(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&_e(e,Math.max(t.offsetTop-i,0))}function Se(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Te=!1,Ce={get passive(){return Te=!0}},Oe="undefined"!=typeof window?window:{};Oe.addEventListener&&Oe.removeEventListener&&(Oe.addEventListener("p",de,Ce),Oe.removeEventListener("p",de,!1));var Ie=Te;function ke(e){return null!=e}function Ae(e,t,n){return e?t:n}var Pe=["children","innerProps"],Re=["children","innerProps"];function Ne(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var l,f=u.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,h=d.height,v=d.top,m=n.offsetParent.getBoundingClientRect().top,y=a?window.innerHeight:ge(l=u)?window.innerHeight:l.clientHeight,g=be(u),b=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),w=m-_,E=y-v,S=w+g,T=f-g-v,C=p-y+g+b,O=g+v-_,I=160;switch(i){case"auto":case"bottom":if(E>=h)return{placement:"bottom",maxHeight:t};if(T>=h&&!a)return o&&we(u,C,I),{placement:"bottom",maxHeight:t};if(!a&&T>=r||a&&E>=r)return o&&we(u,C,I),{placement:"bottom",maxHeight:a?E-b:T-b};if("auto"===i||a){var k=t,A=a?w:S;return A>=r&&(k=Math.min(A-b-s,t)),{placement:"top",maxHeight:k}}if("bottom"===i)return o&&_e(u,C),{placement:"bottom",maxHeight:t};break;case"top":if(w>=h)return{placement:"top",maxHeight:t};if(S>=h&&!a)return o&&we(u,O,I),{placement:"top",maxHeight:t};if(!a&&S>=r||a&&w>=r){var P=t;return(!a&&S>=r||a&&w>=r)&&(P=a?w-_:S-_),o&&we(u,O,I),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var xe,De=function(e){return"auto"===e?"bottom":e},Le=(0,d.createContext)(null),Me=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,u=e.theme,c=((0,d.useContext)(Le)||{}).setPortalPlacement,f=(0,d.useRef)(null),p=l((0,d.useState)(r),2),h=p[0],v=p[1],m=l((0,d.useState)(null),2),y=m[0],g=m[1],b=u.spacing.controlHeight;return le((function(){var e=f.current;if(e){var t="fixed"===o,s=Ne({maxHeight:r,menuEl:e,minHeight:n,placement:i,shouldScroll:a&&!t,isFixedPosition:t,controlHeight:b});v(s.maxHeight),g(s.placement),null==c||c(s.placement)}}),[r,i,o,a,n,c,b]),t({ref:f,placerProps:s(s({},e),{},{placement:y||De(i),maxHeight:h})})},je=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return D("div",(0,v.Z)({},ye(e,"menu",{menu:!0}),{ref:n},r),t)},Ue=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return s({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Fe=Ue,Be=Ue,Ve=["size"],He=["innerProps","isRtl","size"];var ze,Ge,We={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},qe=function(e){var t=e.size,n=f(e,Ve);return D("svg",(0,v.Z)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:We},n))},$e=function(e){return D(qe,(0,v.Z)({size:20},e),D("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Ke=function(e){return D(qe,(0,v.Z)({size:20},e),D("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Qe=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return s({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*i,":hover":{color:n?o.neutral80:o.neutral40}})},Ye=Qe,Je=Qe,Ze=function(){var e=L.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(xe||(ze=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Ge||(Ge=ze.slice(0)),xe=Object.freeze(Object.defineProperties(ze,{raw:{value:Object.freeze(Ge)}})))),Xe=function(e){var t=e.delay,n=e.offset;return D("span",{css:L({animation:"".concat(Ze," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},et=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return D("div",(0,v.Z)({ref:i},ye(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),o,{"aria-disabled":n||void 0}),t)},tt=["data"],nt=function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,o=e.Heading,a=e.headingProps,s=e.innerProps,u=e.label,c=e.theme,l=e.selectProps;return D("div",(0,v.Z)({},ye(e,"group",{group:!0}),s),D(o,(0,v.Z)({},a,{selectProps:l,theme:c,getStyles:r,getClassNames:i,cx:n}),u),D("div",null,t))},rt=["innerRef","isDisabled","isHidden","inputClassName"],it={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},ot={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":s({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},it)},at=function(e){return s({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},it)},st=function(e){var t=e.children,n=e.innerProps;return D("div",n,t)};var ut=function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,o=e.isDisabled,a=e.removeProps,u=e.selectProps,c=n.Container,l=n.Label,f=n.Remove;return D(c,{data:r,innerProps:s(s({},ye(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:u},D(l,{data:r,innerProps:s({},ye(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},t),D(f,{data:r,innerProps:s(s({},ye(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:u}))},ct={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return D("div",(0,v.Z)({},ye(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||D($e,null))},Control:et,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return D("div",(0,v.Z)({},ye(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||D(Ke,null))},DownChevron:Ke,CrossIcon:$e,Group:nt,GroupHeading:function(e){var t=me(e);t.data;var n=f(t,tt);return D("div",(0,v.Z)({},ye(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return D("div",(0,v.Z)({},ye(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return D("span",(0,v.Z)({},t,ye(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=me(e),i=r.innerRef,o=r.isDisabled,a=r.isHidden,s=r.inputClassName,u=f(r,rt);return D("div",(0,v.Z)({},ye(e,"input",{"input-container":!0}),{"data-value":n||""}),D("input",(0,v.Z)({className:t({input:!0},s),ref:i,style:at(a),disabled:o},u)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,o=f(e,He);return D("div",(0,v.Z)({},ye(s(s({},o),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),D(Xe,{delay:0,offset:n}),D(Xe,{delay:160,offset:!0}),D(Xe,{delay:320,offset:!n}))},Menu:je,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return D("div",(0,v.Z)({},ye(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,r=e.controlElement,i=e.innerProps,o=e.menuPlacement,a=e.menuPosition,u=(0,d.useRef)(null),c=(0,d.useRef)(null),f=l((0,d.useState)(De(o)),2),p=f[0],h=f[1],m=(0,d.useMemo)((function(){return{setPortalPlacement:h}}),[]),y=l((0,d.useState)(null),2),g=y[0],b=y[1],_=(0,d.useCallback)((function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===a?0:window.pageYOffset,n=e[p]+t;n===(null==g?void 0:g.offset)&&e.left===(null==g?void 0:g.rect.left)&&e.width===(null==g?void 0:g.rect.width)||b({offset:n,rect:e})}}),[r,a,p,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);le((function(){_()}),[_]);var w=(0,d.useCallback)((function(){"function"==typeof c.current&&(c.current(),c.current=null),r&&u.current&&(c.current=ce(r,u.current,_,{elementResize:"ResizeObserver"in window}))}),[r,_]);le((function(){w()}),[w]);var E=(0,d.useCallback)((function(e){u.current=e,w()}),[w]);if(!t&&"fixed"!==a||!g)return null;var S=D("div",(0,v.Z)({ref:E},ye(s(s({},e),{},{offset:g.offset,position:a,rect:g.rect}),"menuPortal",{"menu-portal":!0}),i),n);return D(Le.Provider,{value:m},t?(0,M.createPortal)(S,t):S)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=f(e,Re);return D("div",(0,v.Z)({},ye(s(s({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=f(e,Pe);return D("div",(0,v.Z)({},ye(s(s({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:ut,MultiValueContainer:st,MultiValueLabel:st,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return D("div",(0,v.Z)({role:"button"},n),t||D($e,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.innerRef,a=e.innerProps;return D("div",(0,v.Z)({},ye(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:o,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return D("div",(0,v.Z)({},ye(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return D("div",(0,v.Z)({},ye(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return D("div",(0,v.Z)({},ye(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return D("div",(0,v.Z)({},ye(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},lt=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function ft(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||lt(r)&&lt(i)))return!1;var r,i;return!0}for(var dt={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},pt=function(e){return D("span",(0,v.Z)({css:dt},e))},ht={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,o=void 0===i?"":i,a=e.selectValue,s=e.isDisabled,u=e.isSelected,c=e.isAppleDevice,l=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(o," focused, ").concat(l(a,n),".");if("menu"===t&&c){var f=s?" disabled":"",d="".concat(u?" selected":"").concat(f);return"".concat(o).concat(d,", ").concat(l(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},vt=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,i=e.focusableOptions,o=e.isFocused,a=e.selectValue,u=e.selectProps,c=e.id,l=e.isAppleDevice,f=u.ariaLiveMessages,p=u.getOptionLabel,h=u.inputValue,v=u.isMulti,m=u.isOptionDisabled,y=u.isSearchable,g=u.menuIsOpen,b=u.options,_=u.screenReaderStatus,w=u.tabSelectsValue,E=u.isLoading,S=u["aria-label"],T=u["aria-live"],C=(0,d.useMemo)((function(){return s(s({},ht),f||{})}),[f]),O=(0,d.useMemo)((function(){var e,n="";if(t&&C.onChange){var r=t.option,i=t.options,o=t.removedValue,u=t.removedValues,c=t.value,l=o||r||(e=c,Array.isArray(e)?null:e),f=l?p(l):"",d=i||u||void 0,h=d?d.map(p):[],v=s({isDisabled:l&&m(l,a),label:f,labels:h},t);n=C.onChange(v)}return n}),[t,C,m,a,p]),I=(0,d.useMemo)((function(){var e="",t=n||r,o=!!(n&&a&&a.includes(n));if(t&&C.onFocus){var s={focused:t,label:p(t),isDisabled:m(t,a),isSelected:o,options:i,context:t===n?"menu":"value",selectValue:a,isAppleDevice:l};e=C.onFocus(s)}return e}),[n,r,p,m,C,i,a,l]),k=(0,d.useMemo)((function(){var e="";if(g&&b.length&&!E&&C.onFilter){var t=_({count:i.length});e=C.onFilter({inputValue:h,resultsMessage:t})}return e}),[i,h,g,C,b,_,E]),A="initial-input-focus"===(null==t?void 0:t.action),P=(0,d.useMemo)((function(){var e="";if(C.guidance){var t=r?"value":g?"menu":"input";e=C.guidance({"aria-label":S,context:t,isDisabled:n&&m(n,a),isMulti:v,isSearchable:y,tabSelectsValue:w,isInitialFocus:A})}return e}),[S,n,r,v,m,y,g,C,a,w,A]),R=D(d.Fragment,null,D("span",{id:"aria-selection"},O),D("span",{id:"aria-focused"},I),D("span",{id:"aria-results"},k),D("span",{id:"aria-guidance"},P));return D(d.Fragment,null,D(pt,{id:c},A&&R),D(pt,{"aria-live":T,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!A&&R))},mt=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],yt=new RegExp("["+mt.map((function(e){return e.letters})).join("")+"]","g"),gt={},bt=0;bt<mt.length;bt++)for(var _t=mt[bt],wt=0;wt<_t.letters.length;wt++)gt[_t.letters[wt]]=_t.base;var Et=function(e){return e.replace(yt,(function(e){return gt[e]}))},St=function(e,t){void 0===t&&(t=ft);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(Et),Tt=function(e){return e.replace(/^\s+|\s+$/g,"")},Ct=function(e){return"".concat(e.label," ").concat(e.value)},Ot=["innerRef"];function It(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=l(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(f(e,Ot),"onExited","in","enter","exit","appear");return D("input",(0,v.Z)({ref:t},n,{css:L({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var kt=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};var At=["boxSizing","height","overflow","paddingRight","position"],Pt={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Rt(e){e.preventDefault()}function Nt(e){e.stopPropagation()}function xt(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Dt(){return"ontouchstart"in window||navigator.maxTouchPoints}var Lt=!("undefined"==typeof window||!window.document||!window.document.createElement),Mt=0,jt={capture:!1,passive:!1};var Ut=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Ft={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Bt(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=(0,d.useRef)(!1),s=(0,d.useRef)(!1),u=(0,d.useRef)(0),c=(0,d.useRef)(null),l=(0,d.useCallback)((function(e,t){if(null!==c.current){var u=c.current,l=u.scrollTop,f=u.scrollHeight,d=u.clientHeight,p=c.current,h=t>0,v=f-d-l,m=!1;v>t&&a.current&&(r&&r(e),a.current=!1),h&&s.current&&(o&&o(e),s.current=!1),h&&t>v?(n&&!a.current&&n(e),p.scrollTop=f,m=!0,a.current=!0):!h&&-t>l&&(i&&!s.current&&i(e),p.scrollTop=0,m=!0,s.current=!0),m&&kt(e)}}),[n,r,i,o]),f=(0,d.useCallback)((function(e){l(e,e.deltaY)}),[l]),p=(0,d.useCallback)((function(e){u.current=e.changedTouches[0].clientY}),[]),h=(0,d.useCallback)((function(e){var t=u.current-e.changedTouches[0].clientY;l(e,t)}),[l]),v=(0,d.useCallback)((function(e){if(e){var t=!!Ie&&{passive:!1};e.addEventListener("wheel",f,t),e.addEventListener("touchstart",p,t),e.addEventListener("touchmove",h,t)}}),[h,p,f]),m=(0,d.useCallback)((function(e){e&&(e.removeEventListener("wheel",f,!1),e.removeEventListener("touchstart",p,!1),e.removeEventListener("touchmove",h,!1))}),[h,p,f]);return(0,d.useEffect)((function(){if(t){var e=c.current;return v(e),function(){m(e)}}}),[t,v,m]),function(e){c.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,i=(0,d.useRef)({}),o=(0,d.useRef)(null),a=(0,d.useCallback)((function(e){if(Lt){var t=document.body,n=t&&t.style;if(r&&At.forEach((function(e){var t=n&&n[e];i.current[e]=t})),r&&Mt<1){var o=parseInt(i.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+o||0;Object.keys(Pt).forEach((function(e){var t=Pt[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&Dt()&&(t.addEventListener("touchmove",Rt,jt),e&&(e.addEventListener("touchstart",xt,jt),e.addEventListener("touchmove",Nt,jt))),Mt+=1}}),[r]),s=(0,d.useCallback)((function(e){if(Lt){var t=document.body,n=t&&t.style;Mt=Math.max(Mt-1,0),r&&Mt<1&&At.forEach((function(e){var t=i.current[e];n&&(n[e]=t)})),t&&Dt()&&(t.removeEventListener("touchmove",Rt,jt),e&&(e.removeEventListener("touchstart",xt,jt),e.removeEventListener("touchmove",Nt,jt)))}}),[r]);return(0,d.useEffect)((function(){if(t){var e=o.current;return a(e),function(){s(e)}}}),[t,a,s]),function(e){o.current=e}}({isEnabled:n});return D(d.Fragment,null,n&&D("div",{onClick:Ut,css:Ft}),t((function(e){i(e),o(e)})))}var Vt={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ht=function(e){var t=e.name,n=e.onFocus;return D("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Vt,value:"",onChange:function(){}})};function zt(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Gt(){return zt(/^Mac/i)}function Wt(){return zt(/^iPhone/i)||zt(/^iPad/i)||Gt()&&navigator.maxTouchPoints>1}var qt={clearIndicator:Je,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,o=i.colors,a=i.borderRadius;return s({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:r?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},dropdownIndicator:Ye,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return s({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return s({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,o=i.spacing,a=i.colors;return s(s({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},ot),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,o=i.colors,a=i.spacing.baseUnit;return s({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*a})},loadingMessage:Be,menu:function(e,t){var n,r=e.placement,i=e.theme,a=i.borderRadius,u=i.spacing,c=i.colors;return s((o(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),o(n,"position","absolute"),o(n,"width","100%"),o(n,"zIndex",1),n),t?{}:{backgroundColor:c.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return s({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors;return s({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return s({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors,a=e.isFocused;return s({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:Fe,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.theme,a=o.spacing,u=o.colors;return s({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?u.primary:r?u.primary25:"transparent",color:n?u.neutral20:i?u.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?u.primary:u.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return s({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,o=r.colors;return s({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return s({alignItems:"center",display:r&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var $t,Kt={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Qt={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Se(),captureMenuScroll:!Se(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=s({ignoreCase:!0,ignoreAccents:!0,stringify:Ct,trim:!0,matchFrom:"any"},$t),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,u=n.matchFrom,c=a?Tt(t):t,l=a?Tt(o(e)):o(e);return r&&(c=c.toLowerCase(),l=l.toLowerCase()),i&&(c=St(c),l=Et(l)),"start"===u?l.substr(0,c.length)===c:l.indexOf(c)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Yt(e,t,n,r){return{type:"option",data:t,isDisabled:on(e,t,n),isSelected:an(e,t,n),label:nn(e,t),value:rn(e,t),index:r}}function Jt(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return Yt(e,n,t,r)})).filter((function(t){return en(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=Yt(e,n,t,r);return en(e,o)?o:void 0})).filter(ke)}function Zt(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,w(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function Xt(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,w(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function en(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!un(e)||!o)&&sn(e,{label:a,value:s,data:i},r)}var tn=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},nn=function(e,t){return e.getOptionLabel(t)},rn=function(e,t){return e.getOptionValue(t)};function on(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function an(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=rn(e,t);return n.some((function(t){return rn(e,t)===r}))}function sn(e,t,n){return!e.filterOption||e.filterOption(t,n)}var un=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},cn=1,ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,y.Z)(e,t)}(o,e);var t,n,r,i=_(o);function o(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=Gt()||Wt(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,o=r.name;n.name=o,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e,n,r){var i=t.props,o=i.closeMenuOnSelect,a=i.isMulti,s=i.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,o=n.name,a=t.state.selectValue,s=i&&t.isOptionSelected(e,a),u=t.isOptionDisabled(e,a);if(s){var c=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(u)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});i?t.setValue([].concat(w(a),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),o=r.filter((function(e){return t.getOptionValue(e)!==i})),a=Ae(n,o,o[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Ae(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),o=Ae(e,i,i[0]||null);t.onChange(o,{action:"pop-value",removedValue:r})},t.getFocusedOptionId=function(e){return tn(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return Xt(Jt(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return he.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return nn(t.props,e)},t.getOptionValue=function(e){return rn(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,i=qt[e](n,r);i.boxSizing="border-box";var o=t.props.styles[e];return o?o(i,n):i},t.getClassNames=function(e,n){var r,i;return null===(r=(i=t.props.classNames)[e])||void 0===r?void 0:r.call(i,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,s(s({},ct),e.components);var e},t.buildCategorizedOptions=function(){return Jt(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return Zt(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:s({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||t.props.isDisabled)){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&ge(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),o=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return un(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,o=n.escapeClearsValue,a=n.inputValue,s=n.isClearable,u=n.isDisabled,c=n.menuIsOpen,l=n.onKeyDown,f=n.tabSelectsValue,d=n.openMenuOnFocus,p=t.state,h=p.focusedOption,v=p.focusedValue,m=p.selectValue;if(!(u||"function"==typeof l&&(l(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;t.focusValue("previous");break;case"ArrowRight":if(!r||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(v)t.removeValue(v);else{if(!i)return;r?t.popValue():s&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!f||!h||d&&t.isOptionSelected(h,m))return;t.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(t.isComposing)return;t.selectOption(h);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):s&&o&&t.clearValue();break;case" ":if(a)return;if(!c){t.openMenu("first");break}if(!h)return;t.selectOption(h);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++cn),t.state.selectValue=ve(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),r=t.buildFocusableOptions(),a=r.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=r[a],t.state.focusedOptionId=tn(n,r[a])}return t}return t=o,n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Ee(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Ee(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a],focusedOptionId:this.getFocusedOptionId(o[a])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Kt):s(s({},Kt),this.props.theme):Kt}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,o=this.selectOption,a=this.setValue,s=this.props,u=s.isMulti,c=s.isRtl,l=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:u,isRtl:c,options:l,selectOption:o,selectProps:s,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return on(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return an(this.props,e,t)}},{key:"filterOption",value:function(e,t){return sn(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,o=e.tabIndex,a=e.form,u=e.menuIsOpen,c=e.required,l=this.getComponents().Input,f=this.state,p=f.inputIsHidden,h=f.ariaSelection,m=this.commonProps,y=r||this.getElementId("input"),g=s(s(s({"aria-autocomplete":"list","aria-expanded":u,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},u&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==h?void 0:h.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?d.createElement(l,(0,v.Z)({},m,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:a,type:"text",value:i},g)):d.createElement(It,(0,v.Z)({id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:de,onFocus:this.onInputFocus,disabled:t,tabIndex:o,inputMode:"none",form:a,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,o=t.MultiValueRemove,a=t.SingleValue,s=t.Placeholder,u=this.commonProps,c=this.props,l=c.controlShouldRenderValue,f=c.isDisabled,p=c.isMulti,h=c.inputValue,m=c.placeholder,y=this.state,g=y.selectValue,b=y.focusedValue,_=y.isFocused;if(!this.hasValue()||!l)return h?null:d.createElement(s,(0,v.Z)({},u,{key:"placeholder",isDisabled:f,isFocused:_,innerProps:{id:this.getElementId("placeholder")}}),m);if(p)return g.map((function(t,a){var s=t===b,c="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return d.createElement(n,(0,v.Z)({},u,{components:{Container:r,Label:i,Remove:o},isFocused:s,isDisabled:f,key:c,index:a,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var w=g[0];return d.createElement(a,(0,v.Z)({},u,{data:w,isDisabled:f}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(e,(0,v.Z)({},t,{innerProps:a,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;return e&&i?d.createElement(e,(0,v.Z)({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:o})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,o=this.state.isFocused;return d.createElement(n,(0,v.Z)({},r,{isDisabled:i,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(e,(0,v.Z)({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,i=t.Menu,o=t.MenuList,a=t.MenuPortal,s=t.LoadingMessage,u=t.NoOptionsMessage,c=t.Option,l=this.commonProps,f=this.state.focusedOption,p=this.props,h=p.captureMenuScroll,m=p.inputValue,y=p.isLoading,g=p.loadingMessage,b=p.minMenuHeight,_=p.maxMenuHeight,w=p.menuIsOpen,E=p.menuPlacement,S=p.menuPosition,T=p.menuPortalTarget,C=p.menuShouldBlockScroll,O=p.menuShouldScrollIntoView,I=p.noOptionsMessage,k=p.onMenuScrollToTop,A=p.onMenuScrollToBottom;if(!w)return null;var P,R=function(t,n){var r=t.type,i=t.data,o=t.isDisabled,a=t.isSelected,s=t.label,u=t.value,p=f===i,h=o?void 0:function(){return e.onOptionHover(i)},m=o?void 0:function(){return e.selectOption(i)},y="".concat(e.getElementId("option"),"-").concat(n),g={id:y,onClick:m,onMouseMove:h,onMouseOver:h,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:a};return d.createElement(c,(0,v.Z)({},l,{innerProps:g,data:i,isDisabled:o,isSelected:a,key:y,label:s,type:r,value:u,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())P=this.getCategorizedOptions().map((function(t){if("group"===t.type){var i=t.data,o=t.options,a=t.index,s="".concat(e.getElementId("group"),"-").concat(a),u="".concat(s,"-heading");return d.createElement(n,(0,v.Z)({},l,{key:s,data:i,options:o,Heading:r,headingProps:{id:u,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return R(e,"".concat(a,"-").concat(e.index))})))}if("option"===t.type)return R(t,"".concat(t.index))}));else if(y){var N=g({inputValue:m});if(null===N)return null;P=d.createElement(s,l,N)}else{var x=I({inputValue:m});if(null===x)return null;P=d.createElement(u,l,x)}var D={minMenuHeight:b,maxMenuHeight:_,menuPlacement:E,menuPosition:S,menuShouldScrollIntoView:O},L=d.createElement(Me,(0,v.Z)({},l,D),(function(t){var n=t.ref,r=t.placerProps,a=r.placement,s=r.maxHeight;return d.createElement(i,(0,v.Z)({},l,D,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:y,placement:a}),d.createElement(Bt,{captureEnabled:h,onTopArrive:k,onBottomArrive:A,lockEnabled:C},(function(t){return d.createElement(o,(0,v.Z)({},l,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":l.isMulti,id:e.getElementId("listbox")},isLoading:y,maxHeight:s,focusedOption:f}),P)})))}));return T||"fixed"===S?d.createElement(a,(0,v.Z)({},l,{appendTo:T,controlElement:this.controlRef,menuPlacement:E,menuPosition:S}),L):L}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,o=t.name,a=t.required,s=this.state.selectValue;if(a&&!this.hasValue()&&!r)return d.createElement(Ht,{name:o,onFocus:this.onValueInputFocus});if(o&&!r){if(i){if(n){var u=s.map((function(t){return e.getOptionValue(t)})).join(n);return d.createElement("input",{name:o,type:"hidden",value:u})}var c=s.length>0?s.map((function(t,n){return d.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})})):d.createElement("input",{name:o,type:"hidden",value:""});return d.createElement("div",null,c)}var l=s[0]?this.getOptionValue(s[0]):"";return d.createElement("input",{name:o,type:"hidden",value:l})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.isFocused,a=t.selectValue,s=this.getFocusableOptions();return d.createElement(vt,(0,v.Z)({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:o,selectValue:a,focusableOptions:s,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,o=this.props,a=o.className,s=o.id,u=o.isDisabled,c=o.menuIsOpen,l=this.state.isFocused,f=this.commonProps=this.getCommonProps();return d.createElement(r,(0,v.Z)({},f,{className:a,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:l}),this.renderLiveRegion(),d.createElement(t,(0,v.Z)({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:l,menuIsOpen:c}),d.createElement(i,(0,v.Z)({},f,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),d.createElement(n,(0,v.Z)({},f,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,a=t.isFocused,u=t.prevWasFocused,c=t.instancePrefix,l=e.options,f=e.value,d=e.menuIsOpen,p=e.inputValue,h=e.isMulti,v=ve(f),m={};if(n&&(f!==n.value||l!==n.options||d!==n.menuIsOpen||p!==n.inputValue)){var y=d?function(e,t){return Zt(Jt(e,t))}(e,v):[],g=d?Xt(Jt(e,v),"".concat(c,"-option")):[],b=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,v):null,_=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,y);m={selectValue:v,focusedOption:_,focusedOptionId:tn(g,_),focusableOptionsWithIds:g,focusedValue:b,clearFocusValueOnUpdate:!1}}var w=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},E=o,S=a&&u;return a&&!S&&(E={value:Ae(h,v,v[0]||null),options:v,action:"initial-input-focus"},S=!u),"initial-input-focus"===(null==o?void 0:o.action)&&(E=null),s(s(s({},m),w),{},{prevProps:e,ariaSelection:E,prevWasFocused:S})}}],n&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(d.Component);ln.defaultProps=Qt;var fn=(0,d.forwardRef)((function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,i=void 0!==r&&r,o=e.defaultValue,a=void 0===o?null:o,u=e.inputValue,c=e.menuIsOpen,p=e.onChange,v=e.onInputChange,m=e.onMenuClose,y=e.onMenuOpen,g=e.value,b=f(e,h),_=l((0,d.useState)(void 0!==u?u:n),2),w=_[0],E=_[1],S=l((0,d.useState)(void 0!==c?c:i),2),T=S[0],C=S[1],O=l((0,d.useState)(void 0!==g?g:a),2),I=O[0],k=O[1],A=(0,d.useCallback)((function(e,t){"function"==typeof p&&p(e,t),k(e)}),[p]),P=(0,d.useCallback)((function(e,t){var n;"function"==typeof v&&(n=v(e,t)),E(void 0!==n?n:e)}),[v]),R=(0,d.useCallback)((function(){"function"==typeof y&&y(),C(!0)}),[y]),N=(0,d.useCallback)((function(){"function"==typeof m&&m(),C(!1)}),[m]),x=void 0!==u?u:w,D=void 0!==c?c:T,L=void 0!==g?g:I;return s(s({},b),{},{inputValue:x,menuIsOpen:D,onChange:A,onInputChange:P,onMenuClose:N,onMenuOpen:R,value:L})}(e);return d.createElement(ln,(0,v.Z)({ref:t},n))})),dn=fn},84949:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r,i=n("react"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function u(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!=typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var c=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,u()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(u()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),i=e.minScreenshotWidth!==t.minScreenshotWidth,o=e.minScreenshotHeight!==t.minScreenshotHeight;(r||i||o)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var o=r/i;i=(r=n.minScreenshotWidth||this.video.clientWidth)/o,n.minScreenshotHeight&&i<n.minScreenshotHeight&&(r=(i=n.minScreenshotHeight)*o)}this.canvas=document.createElement("canvas"),this.canvas.width=(null==e?void 0:e.width)||r,this.canvas.height=(null==e?void 0:e.height)||i,this.ctx=this.canvas.getContext("2d")}var a=this.ctx,s=this.canvas;return a&&s&&(n.mirrored&&(a.translate(s.width,0),a.scale(-1,1)),a.imageSmoothingEnabled=n.imageSmoothing,a.drawImage(this.video,0,0,(null==e?void 0:e.width)||s.width,(null==e?void 0:e.height)||s.height),n.mirrored&&(a.scale(-1,1),a.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,i){var o={video:void 0===i||i};n.audio&&(o.audio=void 0===r||r),e.requestUserMediaId++;var a=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(o).then((function(n){e.unmounted||a!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var i=function(e){return{optional:[{sourceId:e}]}},o=function(e){var t=e.deviceId;return"string"==typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"==typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,a=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(a=e.id)}));var s=o(n.audioConstraints);s&&(t=s);var u=o(n.videoConstraints);u&&(a=u),r(i(t),i(a))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(e){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,r=n.audio,o=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,c=void 0===u?{}:u,l=n.children,f=s(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),d=o?a(a({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c,p={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",a({autoPlay:!0,src:t.src,muted:!r,playsInline:!0,ref:function(t){e.video=t},style:d},f)),l&&l(p))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(i.Component);t.default=c},react:function(t,n){t.exports=e}}).default},e.exports=r(n(2363))},92339:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var _=b.prototype=new g;_.constructor=b,v(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+k(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(O(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+k(s=e[c],c);u+=A(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=o+k(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},x={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:x,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.transition;x.transition={};try{e()}finally{x.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2363:(e,t,n)=>{"use strict";e.exports=n(92339)},40367:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=void 0===e?"undefined":P(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,d,p){p=p||[];var h=(f=f||[]).slice(0);if(void 0!==d){if(r){if("function"==typeof r&&r(h,d))return;if("object"===(void 0===r?"undefined":P(r))){if(r.prefilter&&r.prefilter(h,d))return;if(r.normalize){var v=r.normalize(h,d,e,t);v&&(e=v[0],t=v[1])}}}h.push(d)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var m=void 0===e?"undefined":P(e),y=void 0===t?"undefined":P(t),g="undefined"!==m||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(d),b="undefined"!==y||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(d);if(!g&&b)n(new o(h,t));else if(!b&&g)n(new a(h,e));else if(c(e)!==c(t))n(new i(h,e,t));else if("date"===c(e)&&e-t!=0)n(new i(h,e,t));else if("object"===m&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(h,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var _;for(e.length,_=0;_<e.length;_++)_>=t.length?n(new s(h,_,new a(void 0,e[_]))):l(e[_],t[_],n,r,h,_,p);for(;_<t.length;)n(new s(h,_,new o(void 0,t[_++])))}else{var w=Object.keys(e),E=Object.keys(t);w.forEach((function(i,o){var a=E.indexOf(i);a>=0?(l(e[i],t[i],n,r,h,i,p),E=u(E,a)):l(e[i],void 0,n,r,h,i,p)})),E.forEach((function(e){l(void 0,t[e],n,r,h,e,p)}))}p.length=p.length-1}else e!==t&&("number"===m&&isNaN(e)&&isNaN(t)||n(new i(h,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function d(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=u(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":d(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=u(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":h(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function m(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||p(e,t,r)}))}function y(e){return"color: "+x[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}function b(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+x[t].text,y(t)].concat(R(r)))})):n.log(" no diff ");try{n.groupEnd()}catch(e){n.log(" diff end  ")}}function _(e,t,n,r){switch(void 0===e?"undefined":P(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,R(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function E(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,o=void 0===i?w(t):i,a=t.collapsed,s=t.colors,u=t.level,c=t.diff,l=void 0===t.titleFormatter;e.forEach((function(i,f){var d=i.started,p=i.startedTime,h=i.action,v=i.prevState,m=i.error,y=i.took,g=i.nextState,w=e[f+1];w&&(g=w.prevState,y=w.started-d);var E=r(h),S="function"==typeof a?a((function(){return g}),h,i):a,T=k(p),C=s.title?"color: "+s.title(E)+";":"",O=["color: gray; font-weight: lighter;"];O.push(C),t.timestamp&&O.push("color: gray; font-weight: lighter;"),t.duration&&O.push("color: gray; font-weight: lighter;");var I=o(E,T,y);try{S?s.title&&l?n.groupCollapsed.apply(n,["%c "+I].concat(O)):n.groupCollapsed(I):s.title&&l?n.group.apply(n,["%c "+I].concat(O)):n.group(I)}catch(e){n.log(I)}var A=_(u,E,[v],"prevState"),P=_(u,E,[E],"action"),R=_(u,E,[m,v],"error"),N=_(u,E,[g],"nextState");if(A)if(s.prevState){var x="color: "+s.prevState(v)+"; font-weight: bold";n[A]("%c prev state",x,v)}else n[A]("prev state",v);if(P)if(s.action){var D="color: "+s.action(E)+"; font-weight: bold";n[P]("%c action    ",D,E)}else n[P]("action    ",E);if(m&&R)if(s.error){var L="color: "+s.error(m,v)+"; font-weight: bold;";n[R]("%c error     ",L,m)}else n[R]("error     ",m);if(N)if(s.nextState){var M="color: "+s.nextState(g)+"; font-weight: bold";n[N]("%c next state",M,g)}else n[N]("next state",g);c&&b(v,g,n,S);try{n.groupEnd()}catch(e){n.log(" log end ")}}))}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},D,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof o&&!o(n,c))return e(c);var l={};u.push(l),l.started=A.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(a)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=A.now()-l.started,l.nextState=r(n());var d=t.diff&&"function"==typeof s?s(n,c):t.diff;if(E(u,Object.assign({},t,{diff:d})),u.length=0,l.error)throw l.error;return f}}}}var T,C,O=function(e,t){return new Array(t+1).join(e)},I=function(e,t){return O("0",t-e.toString().length)+e},k=function(e){return I(e.getHours(),2)+":"+I(e.getMinutes(),2)+":"+I(e.getSeconds(),2)+"."+I(e.getMilliseconds(),3)},A="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},N=[];T="object"===(void 0===n.g?"undefined":P(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(C=T.DeepDiff)&&N.push((function(){void 0!==C&&T.DeepDiff===f&&(T.DeepDiff=C,C=void 0)})),t(i,r),t(o,r),t(a,r),t(s,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:m,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return void 0!==C},enumerable:!0},noConflict:{value:function(){return N&&(N.forEach((function(e){e()})),N=null),f},enumerable:!0}});var x={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},D={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?S()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=D,e.createLogger=S,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},76065:e=>{!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c=t.regeneratorRuntime;if(c)e.exports=c;else{(c=t.regeneratorRuntime=e.exports).wrap=b;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",h={},v={};v[a]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(P([])));y&&y!==r&&i.call(y,a)&&(v=y);var g=S.prototype=w.prototype=Object.create(v);E.prototype=g.constructor=S,S.constructor=E,S[u]=E.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(g),e},c.awrap=function(e){return{__await:e}},T(C.prototype),C.prototype[s]=function(){return this},c.AsyncIterator=C,c.async=function(e,t,n,r){var i=new C(b(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},T(g),g[u]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function b(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r=l;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=_(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function E(){}function S(){}function T(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function C(e){function t(n,r,o,a){var s=_(e[n],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(c).then((function(e){u.value=e,o(u)}),a)}a(s.arg)}var n;this._invoke=function(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=_(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},14065:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,p=3,h=!1,v=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,_(e),!v)if(null!==r(c))v=!0,x(E);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function E(e,n){v=!1,m&&(m=!1,g(O),O=-1),h=!0;var o=p;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var a=d.callback;if("function"==typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?d.callback=s:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{d=null,p=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,C=null,O=-1,I=5,k=-1;function A(){return!(t.unstable_now()-k<I)}function P(){if(null!==C){var e=t.unstable_now();k=e;var n=!0;try{n=C(!0,e)}finally{n?S():(T=!1,C=null)}}else T=!1}if("function"==typeof b)S=function(){b(P)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,S=function(){N.postMessage(null)}}else S=function(){y(P,0)};function x(e){C=e,T||(T=!0,S())}function D(e,n){O=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,x(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(g(O),O=-1):m=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),v||h||(v=!0,x(E))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},9031:(e,t,n)=>{"use strict";e.exports=n(14065)},35561:(e,t,n)=>{"use strict";var r=n(31547),i=n(16422),o=n(29582),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),h=i("Map.prototype.has",!0),v=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return c(e,r)}else if(u){if(t)return d(t,r)}else if(n)return function(e,t){var n=v(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return f(e,r)}else if(u){if(t)return h(t,r)}else if(n)return function(e,t){return!!v(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),l(e,r,i)):u?(t||(t=new u),p(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=v(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},10634:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>g,__awaiter:()=>l,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>O,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>p,__extends:()=>i,__generator:()=>f,__importDefault:()=>T,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>v,__rest:()=>a,__spread:()=>m,__spreadArrays:()=>y,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},84424:(e,t,n)=>{"use strict";var r=n(2363);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var f=a(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=u((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==l&&d.hasValue){var t=d.value;if(l(t,e))return a=t}return a=e}if(t=a,i(o,e))return t;var n=r(e);return void 0!==l&&l(t,n)?t:(o=e,a=n)}var o,a,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,l]);var p=o(e,f[0],f[1]);return s((function(){d.hasValue=!0,d.value=p}),[p]),c(p),p}},24295:(e,t,n)=>{"use strict";e.exports=n(84424)},17956:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},32636:(e,t,n)=>{var r=n(5806),i=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])v(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(e,i){if(g(n.g.process))return function(){return t.deprecate(e,i).apply(this,arguments)};if(!0===r.noDeprecation)return e;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return y(i)||(i=l(e,i,r)),i}var o=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return f(n)}var c,_="",T=!1,C=["{","}"];(p(n)&&(T=!0,C=["[","]"]),S(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),E(n)&&(_=" "+f(n)),0!==a.length||T&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=T?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)I(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return d(e,n,r,s,t,T)})),e.seen.pop(),function(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,C)):C[0]+_+C[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),I(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),g(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function g(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===T(e)}function E(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(g(o)&&(o={DJANGO_PROD:!0,NODE_ENV:"production",STATIC_PATH:"https://cdn.hackerearth.com/static/"}.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=E,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(17956);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),O[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(59016),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},4238:()=>{},23927:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},79276:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},21753:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},17228:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},15531:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},93423:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}n.d(t,{Z:()=>i})},46340:(e,t,n)=>{"use strict";function r(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}n.d(t,{I:()=>i});var i=r()},85465:(e,t,n)=>{"use strict";function r(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}n.d(t,{MT:()=>u,UY:()=>c,md:()=>l});var i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),o=()=>Math.random().toString(36).substring(7).split("").join("."),a={INIT:`@@redux/INIT${o()}`,REPLACE:`@@redux/REPLACE${o()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${o()}`};function s(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function u(e,t,n){if("function"!=typeof e)throw new Error(r(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(r(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(r(1));return n(u)(e,t)}let o=e,c=t,l=new Map,f=l,d=0,p=!1;function h(){f===l&&(f=new Map,l.forEach(((e,t)=>{f.set(t,e)})))}function v(){if(p)throw new Error(r(3));return c}function m(e){if("function"!=typeof e)throw new Error(r(4));if(p)throw new Error(r(5));let t=!0;h();const n=d++;return f.set(n,e),function(){if(t){if(p)throw new Error(r(6));t=!1,h(),f.delete(n),l=null}}}function y(e){if(!s(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if("string"!=typeof e.type)throw new Error(r(17));if(p)throw new Error(r(9));try{p=!0,c=o(c,e)}finally{p=!1}return(l=f).forEach((e=>{e()})),e}y({type:a.INIT});return{dispatch:y,subscribe:m,getState:v,replaceReducer:function(e){if("function"!=typeof e)throw new Error(r(10));o=e,y({type:a.REPLACE})},[i]:function(){const e=m;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(r(11));function n(){const e=t;e.next&&e.next(v())}n();return{unsubscribe:e(n)}},[i](){return this}}}}}function c(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}const i=Object.keys(n);let o;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if(void 0===n(void 0,{type:a.INIT}))throw new Error(r(12));if(void 0===n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(n)}catch(e){o=e}return function(e={},t){if(o)throw o;let a=!1;const s={};for(let o=0;o<i.length;o++){const u=i[o],c=n[u],l=e[u],f=c(l,t);if(void 0===f){t&&t.type;throw new Error(r(14))}s[u]=f,a=a||f!==l}return a=a||i.length!==Object.keys(e).length,a?s:e}}function l(...e){return t=>(n,i)=>{const o=t(n,i);let a=()=>{throw new Error(r(15))};const s={getState:o.getState,dispatch:(e,...t)=>a(e,...t)},u=e.map((e=>e(s)));return a=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}(...u)(o.dispatch),{...o,dispatch:a}}}},66989:(e,t,n)=>{"use strict";n.d(t,{CR:()=>l,FC:()=>p,Jh:()=>u,KL:()=>h,XA:()=>c,ZT:()=>i,_T:()=>a,ev:()=>f,mG:()=>s,pi:()=>o,qq:()=>d});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function p(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof d?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function h(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=c(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"==typeof SuppressedError&&SuppressedError}},u={};function c(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={id:e,loaded:!1,exports:{}};return s[e].call(n.exports,n,n.exports,c),n.loaded=!0,n.exports}c.m=s,c.amdO={},c.F={},c.E=e=>{Object.keys(c.F).map((t=>{c.F[t](e)}))},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);c.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,c.d(i,o),i},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>"assessment/chunk-"+({562:"ide",2105:"rapidfire",2468:"programming",2541:"devops",2745:"video-submission",3012:"sql",4745:"file",5287:"ml",6138:"mcq",6242:"project",7682:"subjective",8465:"diagram",8495:"frontend",8867:"android",9630:"datascience"}[e]||e)+"."+{4:"5e34587b7dab7b8238b6",11:"8bed2f06cfb8676a30bf",89:"d20ec993d721d15d8975",94:"4c7c8fa44b6e5f89a0ff",131:"e235f9d95c031d584f0a",188:"c225f972bc23a9ed8c73",562:"b3fd8a3765092b817454",616:"6f2916cf17e70f544315",626:"c5721e5270665a012564",629:"0f6b529ba5df4db8013e",679:"0c9bb0b9ae82457e309a",811:"a3ca6c04da65594fcb40",830:"9faf945843e87001642c",926:"73602f55ad0224b085c6",927:"b0e9b6d8d781003db0ba",936:"c8bcbeee70583e078cb5",1006:"866bde7c615318262480",1132:"32ffa3d25376980fdc6c",1190:"7de21fd2d6f64867455e",1363:"8408df3a59028ab43e85",1430:"e1ceae2225a546122c3f",1583:"b224bcb0e2bec2490894",1689:"b1ece2b147b69994cb2d",1716:"dcef5ff2d3b052057b4c",1729:"37642b05c50bd59ac77c",1864:"6aa97198053b2e5d2204",2060:"b75774049296f81eb345",2105:"3a6c8b1ed2e4da3b6ece",2244:"6573875544b6a448dd39",2341:"84a67c040de0b13c7e97",2355:"1c76019c1aacabd128e1",2424:"e39906ec98bdef7773db",2468:"a78d9676a4bd4e63cb44",2541:"8d3d05151950a9159d30",2592:"ea4e842fe99d281f19a3",2600:"61f582c0888c98f0dc02",2616:"d036e901ca7fd28aa9b5",2745:"a9dbdc5253abbf517e4f",2788:"293309d54a77bf5ef569",2894:"e0013186c3f1c9f6ba09",3012:"dfcf95ce15500474cd53",3231:"1d870b1d6cdfb27f1587",3245:"b79dacd1a3285ec8f27c",3247:"bcca9080e51aee18896c",3290:"0b8ddb8ebe0531ef4b23",3333:"fe49896d0645d9f23f31",3362:"bfa328bf0f7a71ae8d31",3396:"6ac7118821e91c780233",3417:"038d88fdc38abb5c28b6",3534:"29055cc95436eef972d5",3748:"87d2c3e63b821d063f10",3860:"ae0d18f4806cb8326686",4354:"06e7040354fe535763eb",4532:"074c38af690519320f79",4659:"0827009c23a0fbb140cf",4677:"461ae1dd95fdf3c2b459",4713:"5afff4f1f5d91eb77c6e",4745:"5c4952e531ff9a26df2d",4950:"9aa2ad955502d9453958",4976:"fc6c4caec0e2feb9ce41",5130:"90a260460f632fc1be3b",5178:"7f1427c4d4daf7c9ea60",5206:"cd722b14534b319b3906",5287:"dd1df76bc2f999710e82",5353:"418ececf991bfc13d64a",5421:"f90f34430bfc75768d3b",5525:"a238edb650162d5d41b5",5566:"647108704e42a91186a1",5617:"a9879b95ca827c8a9297",5622:"ba0c9fb65a9c77e8fc2a",5653:"5714b178972f63171b92",5695:"08151fbfa0cf229e3819",5833:"d6686bd1180bcc6caa79",5970:"22911cd6fdd8fd4f7f9b",6138:"271e5aaf60960d41fc06",6207:"b59767c544812f7de9b5",6242:"a9fde45bb3ad0e3134dc",6845:"e4b11f2a06f5fe99efe9",6964:"c6d7b38e47a16a7c0656",7108:"f256291c9c669a2894ff",7175:"93b3c8dae485fe0f5dcf",7332:"f5912c3cebf2a9898b8b",7354:"2f6cb0aee28a439bf051",7522:"f605920a9f1676226972",7546:"17fda10ce7aa4cfde0f9",7558:"65cd7f831093314ac635",7682:"755d2fc67e012957d367",7738:"690c4d01302cb4b391d6",7810:"8f067a7e08a02f4ad9e6",7906:"b185f392b718a0a6c032",7950:"63dbd54392ed261fd48c",8053:"0d39f0c2c4676b886597",8346:"57be7aa2c09bd0f22e0b",8465:"57f25ed48744f2b7656e",8495:"6e653217c4ad9e935962",8561:"2d43dcc3bf55a88c6ebd",8735:"f8e99ea45f69f2cb1471",8796:"b2e0ac9c9cf6fd83a05c",8813:"bf7da487cac029477eae",8867:"1591dd69e8fc649c5cb5",9121:"af7027f5ae88e1486476",9140:"44ba25d3b48200a351cb",9308:"7210588e466b996f9d01",9336:"cac6c388a5ac18e3e887",9515:"6fbecfd8cf7a5c9d57bc",9547:"4b50225527178629e99f",9594:"a68e22d0ebc65d07161f",9630:"dbf4d19999f2b20ade94",9903:"d323786bca605287230f",9917:"224b324588058eb40ec3",9920:"3393651d2832bd8e60d7"}[e]+".js",c.miniCssF=e=>7078===e?"assessment/assessment.css":"assessment/chunk-"+({562:"ide",2105:"rapidfire",2468:"programming",2541:"devops",2745:"video-submission",3012:"sql",4745:"file",5287:"ml",6138:"mcq",6242:"project",7682:"subjective",8465:"diagram",8495:"frontend",8867:"android",9630:"datascience"}[e]||e)+"."+{562:"769405058e8c491671d1",1583:"c28ef94282a7d6c959ef",1729:"c759bb28b4fa0816975f",2105:"1866642f7d8b1eafeecd",2468:"6a542886cff6c42e0be2",2541:"b4bb914a3f982e39fa33",2745:"e44587c5670b4050d389",3012:"ec43c0dc6020449b25b4",3245:"a2ddfd84a595753b1059",4745:"1866642f7d8b1eafeecd",5287:"27f38e6ec0647e7d3379",5622:"07d9f8874e7cf2f2a05b",6138:"4a6b52840e2d12751bf6",6242:"0181b3d6990ff177f08a",7682:"a5cafc0dc8327d1852ec",8465:"1866642f7d8b1eafeecd",8495:"ec7dd9b9b9332341f750",8867:"1866642f7d8b1eafeecd",9630:"0df660781a94433b4cd8"}[e]+".css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@fe-apps/assessment:",c.l=(e,t,i,o)=>{if(n[e])n[e].push(t);else{var a,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==r+i){a=f;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,c.nc&&a.setAttribute("nonce",c.nc),a.setAttribute("data-webpack",r+i),a.src=e),n[e]=[t];var d=(t,r)=>{a.onerror=a.onload=null,clearTimeout(p);var i=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),s&&document.head.appendChild(a)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),c.p="https://cdn.hackerearth.com/static/",i=e=>new Promise(((t,n)=>{var r=c.miniCssF(e),i=c.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var a;if((i=(a=o[r]).getAttribute("data-href"))===e||i===t)return a}})(r,i))return t();((e,t,n,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=o=>{if(i.onerror=i.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=s,i.parentNode.removeChild(i),r(u)}},i.href=t,document.head.appendChild(i)})(e,i,t,n)})),o={7078:0},c.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{562:1,1583:1,1729:1,2105:1,2468:1,2541:1,2745:1,3012:1,3245:1,4745:1,5287:1,5622:1,6138:1,6242:1,7682:1,8465:1,8495:1,8867:1,9630:1}[e]&&t.push(o[e]=i(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{c.b=document.baseURI||self.location.href;var e={7078:0};c.f.j=(t,n)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=c.p+c.u(t),a=new Error;c.l(o,(n=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}},c.F.j=t=>{if(!c.o(e,t)||void 0===e[t]){e[t]=null;var n=document.createElement("link");c.nc&&n.setAttribute("nonce",c.nc),n.rel="prefetch",n.as="script",n.href=c.p+c.u(t),document.head.appendChild(n)}};var t=(t,n)=>{var r,i,[o,a,s]=n,u=0;if(o.some((t=>0!==e[t]))){for(r in a)c.o(a,r)&&(c.m[r]=a[r]);if(s)s(c)}for(t&&t(n);u<o.length;u++)i=o[u],c.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunk_fe_apps_assessment=self.webpackChunk_fe_apps_assessment||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a={6242:[562]},c.f.prefetch=(e,t)=>Promise.all(t).then((()=>{var t=a[e];Array.isArray(t)&&t.map(c.E)})),(()=>{"use strict";c(47778);var e=c(30417),t=c(2363),n=c.t(t,2),r=c(61850),i=c.t(r,2),o=c(34899),a=c(45380);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(e){}new Map;const s=n.startTransition;i.flushSync,n.useId;function u(e){let{basename:n,children:r,future:i,window:u}=e,c=t.useRef();null==c.current&&(c.current=(0,a.lX)({window:u,v5Compat:!0}));let l=c.current,[f,d]=t.useState({action:l.action,location:l.location}),{v7_startTransition:p}=i||{},h=t.useCallback((e=>{p&&s?s((()=>d(e))):d(e)}),[d,p]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.createElement(o.F0,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:l,future:i})}"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;var l,f;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(l||(l={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(f||(f={}));var d=c(33258),p=c(88691),h=c(81071);const v=function(){function e(e){var t=e.name,n=e.delta,r=e.id;window.ga&&ga("send","event",{eventCategory:"Web Vitals",eventAction:t,eventLabel:r,eventValue:Math.round("CLS"===t?1e3*n:n),nonInteraction:!0,transport:"beacon"})}c.e(2341).then(c.bind(c,62341)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};var m={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},y=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.prototype.hasOwnProperty.call(m,e)||(e=m.log),y[e].apply(y,t)};function g(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){y.error(t,e)}}}y.debug=console.debug.bind(console),y.log=console.log.bind(console),y.info=console.info.bind(console),y.warn=console.warn.bind(console),y.error=console.error.bind(console);var b,_=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},w=!1;function E(e){w=e}function S(e){return function(){return T(e,this,arguments)}}function T(e,t,n){try{return e.apply(t,n)}catch(e){if(C(m.error,e),b)try{b(e)}catch(e){C(m.error,e)}}}function C(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];w&&y.apply(void 0,_([e,"[MONITOR]"],t,!1))}function O(e,t){var n,r=window;return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function I(e,t){return O(window,"setTimeout")(S(e),t)}function k(e){O(window,"clearTimeout")(e)}var A=1e3,P=60*A,R=60*P,N=365*(24*R),x=1024,D=1024*x;function L(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];s?r=n:(o?e.apply(void 0,n):r=n,s=!0,i=I((function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0}),t))},cancel:function(){k(i),s=!1,r=void 0}}}function M(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function j(e){return M({},e)}function U(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,U)}function F(e){return 0!==e&&100*Math.random()<=e}function B(e,t){return+e.toFixed(t)}function V(){}function H(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=z(Object.prototype),i=z(Array.prototype),o=z(Object.getPrototypeOf(e)),a=z(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),i(),o(),a()}}function z(e){var t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):V}function G(e,t){return-1!==e.indexOf(t)}function W(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){return t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function q(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}function K(e){return Q(e)&&e>=0&&e<=100}function Q(e){return"number"==typeof e}function Y(e){return Object.keys(e).map((function(t){return e[t]}))}function J(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function Z(e){return 0===Object.keys(e).length}function X(e,t){return e.slice(0,t.length)===t}function ee(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function te(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}function ne(e,t){var n=new RegExp("(?:^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)")).exec(e);return n?n[1]:void 0}function re(e,t,n){void 0===n&&(n="");var r=e.charCodeAt(t-1),i=r>=55296&&r<=56319?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(n)}function ie(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function oe(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=oe(i[o],t[o],n);return i}var a="object"===ie(e)?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=oe(a[s],t[s],n));return a}}function ae(e){return oe(void 0,e)}function se(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=oe(e,o))}return e}function ue(e){var t=ie(e);return"string"===t||"function"===t||e instanceof RegExp}function ce(e,t,n){return void 0===n&&(n=!1),e.some((function(e){try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return n?X(t,e):e===t}catch(e){y.error(e)}return!1}))}function le(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(e,t){return t?"\0"===e?"":"".concat(e.slice(0,-1),"\\").concat(e.charCodeAt(e.length-1).toString(16)," "):"\\".concat(e)}))}var fe=/[^\u0000-\u007F]/;function de(e){return fe.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function pe(e){void 0===e&&(e=de);var t,n={};return{getBytesCount:function(){return void 0===t&&(t=e(H(n))),t},get:function(){return n},add:function(e,r){n[e]=r,t=void 0},remove:function(e){delete n[e],t=void 0},set:function(e){n=e,t=void 0},getContext:function(){return ae(n)},setContext:function(e){n=ae(e),t=void 0},setContextProperty:function(e,r){n[e]=ae(r),t=void 0},removeContextProperty:function(e){delete n[e],t=void 0},clearContext:function(){n={},t=void 0}}}var he,ve=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}();function me(e){return{relative:e,timeStamp:ye(e)}}function ye(e){var t=be()-performance.now();return t>Ie()?Math.round(Ce(t,e)):function(e){return Math.round(Ce(Ie(),e))}(e)}function ge(e){return Q(e)?B(1e6*e,0):e}function be(){return(new Date).getTime()}function _e(){return be()}function we(){return performance.now()}function Ee(){return{relative:we(),timeStamp:_e()}}function Se(){return{relative:0,timeStamp:Ie()}}function Te(e,t){return t-e}function Ce(e,t){return e+t}function Oe(e){return e-Ie()}function Ie(){return void 0===he&&(he=performance.timing.navigationStart),he}var ke,Ae=A;function Pe(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires=".concat(i.toUTCString()),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(a).concat(s).concat(u)}function Re(e){return ne(document.cookie,e)}function Ne(e,t){Pe(e,"",0,t)}var xe,De="datadog-synthetics-public-id",Le="datadog-synthetics-result-id",Me="datadog-synthetics-injects-rum";function je(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Re(Me))}function Ue(){var e=ee().DatadogEventBridge;if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n){e.send(JSON.stringify({eventType:t,event:n}))}}}function Fe(e){var t;void 0===e&&(e=null===(t=ee().location)||void 0===t?void 0:t.hostname);var n=Ue();return!!n&&n.getAllowedWebViewHosts().some((function(t){return e===t||(n=e,r=".".concat(t),n.slice(-r.length)===r);var n,r}))}function Be(e){return!!xe&&xe.has(e)}function Ve(){return xe||new Set}var He="?";function ze(e){var t=[],n=Ze(e,"stack"),r=String(e);return n&&X(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach((function(e){var n=function(e){var t=qe.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=$e.exec(t[2]);r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||He,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){var t=Ke.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:He,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=Qe.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||He,line:+t[3],url:t[2]}}(e)||function(e){var t=Ye.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=Je.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||He,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=He),t.push(n))})),{message:Ze(e,"message"),name:Ze(e,"name"),stack:t}}var Ge="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",We="(?::(\\d+))",qe=new RegExp("^\\s*at (.*?) ?\\(".concat(Ge).concat(We,"?").concat(We,"?\\)?\\s*$"),"i"),$e=new RegExp("\\((\\S*)".concat(We).concat(We,"\\)"));var Ke=new RegExp("^\\s*at ?".concat(Ge).concat(We,"?").concat(We,"??\\s*$"),"i");var Qe=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var Ye=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Je=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Ze(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var Xe,et={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function tt(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,a=e.source,s=e.handling;return t&&(void 0!==t.message||n instanceof Error)?{startClocks:i,source:a,handling:s,originalError:n,message:t.message||"Empty message",stack:nt(t),handlingStack:r,type:t.name,causes:ot(n,a)}:{startClocks:i,source:a,handling:s,originalError:n,message:"".concat(o," ").concat(H(n)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:t&&t.name}}function nt(e){var t=rt(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",i=e.line?":".concat(e.line):"",o=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(i).concat(o)})),t}function rt(e){return"".concat(e.name||"Error",": ").concat(e.message)}function it(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return T((function(){var n=ze(t);n.stack=n.stack.slice(2),e=nt(n)})),e}function ot(e,t){for(var n=e,r=[];(null==n?void 0:n.cause)instanceof Error&&r.length<10;){var i=ze(n.cause);r.push({message:n.cause.message,source:t,type:null==i?void 0:i.name,stack:i&&nt(i)}),n=n.cause}return r.length?r:void 0}function at(e){var t=M({},e);return["id","name","email"].forEach((function(e){e in t&&(t[e]=String(t[e]))})),t}function st(e){return ct(e,te(window.location)).href}function ut(e){return te(ct(e))}function ct(e,t){if(function(){if(void 0!==Xe)return Xe;try{var e=new URL("http://test/path");return Xe="http://test/path"===e.href}catch(e){Xe=!1}return Xe}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var n=document,r=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(r)}return r.href=e,r}var lt="datad0g.com",ft="datadoghq.com",dt="ap1.datadoghq.com",pt={logs:"logs",rum:"rum",sessionReplay:"session-replay"},ht={logs:"logs",rum:"rum",sessionReplay:"replay"};function vt(e,t,n){var r=function(e,t){var n="/api/v2/".concat(ht[t]),r=e.proxy,i=e.proxyUrl;if(r){var o=st(r);return function(e){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(e)))}}var a=function(e,t){var n=e.site,r=void 0===n?ft:n,i=e.internalAnalyticsSubdomain;if(i&&r===ft)return"".concat(i,".").concat(ft);var o=r.split("."),a=o.pop(),s=r!==dt?"".concat(pt[t],"."):"";return"".concat(s,"browser-intake-").concat(o.join("-"),".").concat(a)}(e,t);if(void 0===r&&i){var s=st(i);return function(e){return"".concat(s,"?ddforward=").concat(encodeURIComponent("https://".concat(a).concat(n,"?").concat(e)))}}return function(e){return"https://".concat(a).concat(n,"?").concat(e)}}(e,t);return{build:function(i,o,a){var s=function(e,t,n,r,i,o){var a=e.clientToken,s=e.internalAnalyticsSubdomain,u=["sdk_version:".concat("4.35.0"),"api:".concat(r)].concat(n);i&&Be("collect_flush_reason")&&u.push("flush_reason:".concat(i));o&&u.push("retry_count:".concat(o.count),"retry_after:".concat(o.lastFailureStatus));var c=["ddsource=browser","ddtags=".concat(encodeURIComponent(u.join(","))),"dd-api-key=".concat(a),"dd-evp-origin-version=".concat(encodeURIComponent("4.35.0")),"dd-evp-origin=browser","dd-request-id=".concat(U())];"rum"===t&&c.push("batch_time=".concat(_e()));s&&c.reverse();return c.join("&")}(e,t,n,i,o,a);return r(s)},urlPrefix:r(""),endpointType:t}}var mt=200;var yt=/[^a-z0-9_:./-]/;function gt(e,t){var n=mt-e.length-1;(t.length>n||yt.test(t))&&y.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var r=t.replace(/,/g,"_");return"".concat(e,":").concat(r)}function bt(e){var t=function(e){var t=e.env,n=e.service,r=e.version,i=e.datacenter,o=[];return t&&o.push(gt("env",t)),n&&o.push(gt("service",n)),r&&o.push(gt("version",r)),i&&o.push(gt("datacenter",i)),o}(e),n=function(e,t){return{logsEndpointBuilder:vt(e,"logs",t),rumEndpointBuilder:vt(e,"rum",t),sessionReplayEndpointBuilder:vt(e,"sessionReplay",t)}}(e,t),r=Y(n).map((function(e){return e.urlPrefix})),i=function(e,t,n){if(!e.replica)return;var r=M({},e,{site:ft,clientToken:e.replica.clientToken}),i={logsEndpointBuilder:vt(r,"logs",n),rumEndpointBuilder:vt(r,"rum",n)};return t.push.apply(t,Y(i).map((function(e){return e.urlPrefix}))),M({applicationId:e.replica.applicationId},i)}(e,r,t);return M({isIntakeUrl:function(e){return r.some((function(t){return 0===e.indexOf(t)}))},replica:i,site:e.site||ft},n)}var _t={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function wt(e){var t,n,r;if(e&&e.clientToken){var i=null!==(t=e.sessionSampleRate)&&void 0!==t?t:e.sampleRate;if(void 0===i||K(i))if(void 0===e.telemetrySampleRate||K(e.telemetrySampleRate)){var o;if(void 0===e.telemetryConfigurationSampleRate||K(e.telemetryConfigurationSampleRate))return o=e.enableExperimentalFeatures,Array.isArray(o)&&(xe||(xe=new Set(o)),o.filter((function(e){return"string"==typeof e})).forEach((function(e){G(e,"-")&&y.warn("please use snake case for '".concat(e,"'")),xe.add(e)}))),M({beforeSend:e.beforeSend&&g(e.beforeSend,"beforeSend threw an error:"),cookieOptions:Et(e),sessionSampleRate:null!=i?i:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16*x,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*A,batchMessagesLimit:50,messageBytesLimit:256*x},bt(e));y.error("Telemetry Configuration Sample Rate should be a number between 0 and 100")}else y.error("Telemetry Sample Rate should be a number between 0 and 100");else y.error("Session Sample Rate should be a number between 0 and 100")}else y.error("Client Token is not configured, we will not send any data.")}function Et(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===ke){for(var e="dd_site_test_".concat(U()),t=window.location.hostname.split("."),n=t.pop();t.length&&!Re(e);)n="".concat(t.pop(),".").concat(n),Pe(e,"test",A,{domain:n});Ne(e,{domain:n}),ke=n}return ke}()),t}function St(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function Tt(e,t,n,r){if(void 0!==Ct()&&n.findTrackedSession()){var i,o,a,s,u,c=q(e.allowedTracingUrls,(function(e){return ce([e.match],t.url,!0)}));if(c)t.traceId=new Ot,t.spanId=new Ot,t.traceSampled=!Q(e.traceSampleRate)||F(e.traceSampleRate),r((i=t.traceId,o=t.spanId,a=t.traceSampled,s=c.propagatorTypes,u={},s.forEach((function(e){switch(e){case"datadog":M(u,{"x-datadog-origin":"rum","x-datadog-parent-id":o.toDecimalString(),"x-datadog-sampling-priority":a?"1":"0","x-datadog-trace-id":i.toDecimalString()});break;case"tracecontext":M(u,{traceparent:"00-0000000000000000".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-0").concat(a?"1":"0")});break;case"b3":M(u,{b3:"".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-").concat(a?"1":"0")});break;case"b3multi":M(u,{"X-B3-TraceId":i.toPaddedHexadecimalString(),"X-B3-SpanId":o.toPaddedHexadecimalString(),"X-B3-Sampled":a?"1":"0"})}})),u))}}function Ct(){return window.crypto||window.msCrypto}var Ot=function(){function e(){this.buffer=new Uint8Array(8),Ct().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return e.prototype.toString=function(e){var t=this.readInt32(0),n=this.readInt32(4),r="";do{var i=t%e*4294967296+n;t=Math.floor(t/e),n=Math.floor(i/e),r=(i%e).toString(e)+r}while(t||n);return r},e.prototype.toDecimalString=function(){return this.toString(10)},e.prototype.toPaddedHexadecimalString=function(){var e=this.toString(16);return Array(17-e.length).join("0")+e},e.prototype.readInt32=function(e){return 16777216*this.buffer[e]+(this.buffer[e+1]<<16)+(this.buffer[e+2]<<8)+this.buffer[e+3]},e}();function It(e){var t,n,r,i,o,a;if(e.applicationId)if(void 0===e.sessionReplaySampleRate||K(e.sessionReplaySampleRate)){var s=null!==(t=e.premiumSampleRate)&&void 0!==t?t:e.replaySampleRate;if(void 0!==s&&void 0!==e.sessionReplaySampleRate&&(y.warn("Ignoring Premium Sample Rate because Session Replay Sample Rate is set"),s=void 0),void 0===s||K(s)){var u=null!==(n=e.traceSampleRate)&&void 0!==n?n:e.tracingSampleRate;if(void 0===u||K(u))if(void 0===e.excludedActivityUrls||Array.isArray(e.excludedActivityUrls)){var c=function(e){void 0!==e.allowedTracingUrls&&void 0!==e.allowedTracingOrigins&&y.warn("Both allowedTracingUrls and allowedTracingOrigins (deprecated) have been defined. The parameter allowedTracingUrls will override allowedTracingOrigins.");if(void 0!==e.allowedTracingUrls){if(!Array.isArray(e.allowedTracingUrls))return void y.error("Allowed Tracing URLs should be an array");if(0!==e.allowedTracingUrls.length&&void 0===e.service)return void y.error("Service needs to be configured when tracing is enabled");var t=[];return e.allowedTracingUrls.forEach((function(e){var n;ue(e)?t.push({match:e,propagatorTypes:["datadog"]}):"object"===ie(n=e)&&ue(n.match)&&Array.isArray(n.propagatorTypes)?t.push(e):y.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",e)})),t}if(void 0!==e.allowedTracingOrigins){if(!Array.isArray(e.allowedTracingOrigins))return void y.error("Allowed Tracing Origins should be an array");if(0!==e.allowedTracingOrigins.length&&void 0===e.service)return void y.error("Service needs to be configured when tracing is enabled");var n=[];return e.allowedTracingOrigins.forEach((function(e){var t=function(e){var t;"string"==typeof e?t=e:e instanceof RegExp?t=function(t){return e.test(ut(t))}:"function"==typeof e&&(t=function(t){return e(ut(t))});if(void 0===t)return void y.warn("Allowed Tracing Origins parameters should be a string, RegExp or function. Ignoring parameter",e);return{match:t,propagatorTypes:["datadog"]}}(e);t&&n.push(t)})),n}return[]}(e);if(c){var l=wt(e);if(l){var f,d,p=!!(null!==(r=e.trackUserInteractions)&&void 0!==r?r:e.trackInteractions),h=!!e.trackFrustrations;return M({applicationId:e.applicationId,version:e.version,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:null!==(o=null!==(i=e.sessionReplaySampleRate)&&void 0!==i?i:s)&&void 0!==o?o:100,oldPlansBehavior:void 0===e.sessionReplaySampleRate,traceSampleRate:u,allowedTracingUrls:c,excludedActivityUrls:null!==(a=e.excludedActivityUrls)&&void 0!==a?a:[],trackUserInteractions:p||h,trackFrustrations:h,trackViewsManually:!!e.trackViewsManually,trackResources:e.trackResources,trackLongTasks:e.trackLongTasks,defaultPrivacyLevel:(f=_t,d=e.defaultPrivacyLevel,Object.keys(f).some((function(e){return f[e]===d}))?e.defaultPrivacyLevel:_t.MASK_USER_INPUT),customerDataTelemetrySampleRate:1},l)}}}else y.error("Excluded Activity Urls should be an array");else y.error("Trace Sample Rate should be a number between 0 and 100")}else y.error("Premium Sample Rate should be a number between 0 and 100")}else y.error("Session Replay Sample Rate should be a number between 0 and 100");else y.error("Application ID is not configured, no RUM data will be collected.")}function kt(e){var t=new Set;return Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach((function(e){ue(e)?t.add("datadog"):e.propagatorTypes.forEach((function(e){return t.add(e)}))})),Array.isArray(e.allowedTracingOrigins)&&e.allowedTracingOrigins.length>0&&t.add("datadog"),W(t)}function At(e,t,n){return{context:e.getContext(),user:t.getContext(),hasReplay:!!n.isRecording()||void 0}}function Pt(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}var Rt=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function Nt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new Rt((function(){var t=e.map((function(e){return e.subscribe((function(e){return n.notify(e)}))}));return function(){return t.forEach((function(e){return e.unsubscribe()}))}}));return n}function xt(e,t,n,r){return Dt(e,[t],n,r)}function Dt(e,t,n,r){var i=void 0===r?{}:r,o=i.once,a=i.capture,s=i.passive,u=S(o?function(e){f(),n(e)}:n),c=s?{capture:a,passive:s}:a,l=O(e,"addEventListener");function f(){var n=O(e,"removeEventListener");t.forEach((function(t){return n.call(e,t,u,c)}))}return t.forEach((function(t){return l.call(e,t,u,c)})),{stop:f}}var Lt={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};var Mt,jt={log:"log",configuration:"configuration"},Ut=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],Ft=["ddog-gov.com"],Bt={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function Vt(e,t){var n,r=new Rt;return Bt.telemetryEnabled=!G(Ft,t.site)&&F(t.telemetrySampleRate),Bt.telemetryConfigurationEnabled=Bt.telemetryEnabled&&F(t.telemetryConfigurationSampleRate),Mt=function(t){if(Bt.telemetryEnabled){var i=function(e,t){return se({type:"telemetry",date:_e(),service:e,version:"4.35.0",source:"browser",_dd:{format_version:2},telemetry:t,experimental_features:W(Ve())},void 0!==n?n():{})}(e,t);r.notify(i),Pt("telemetry",i)}},b=zt,M(Bt,{maxEventsPerPage:t.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){n=e},observable:r,enabled:Bt.telemetryEnabled}}function Ht(e,t){C(m.debug,e,t),Gt(M({type:jt.log,message:e,status:"debug"},t))}function zt(e){Gt(M({type:jt.log,status:"error"},function(e){if(e instanceof Error){var t=ze(e);return{error:{kind:t.name,stack:nt(Wt(t))},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(H(e))}}(e)))}function Gt(e){Mt&&Bt.sentEventCount<Bt.maxEventsPerPage&&(Bt.sentEventCount+=1,Mt(e))}function Wt(e){return e.stack=e.stack.filter((function(e){return!e.url||Ut.some((function(t){return X(e.url,t)}))})),e}function qt(){var e,t=window;if(t.Zone&&(e=O(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=O(new t.MutationObserver(V),"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}function $t(e,t){document.readyState===e||"complete"===document.readyState?t():xt(window,"complete"===e?"load":"DOMContentLoaded",t,{once:!0})}var Kt="initial_document",Qt=[["document",function(e){return Kt===e}],["xhr",function(e){return"xmlhttprequest"===e}],["fetch",function(e){return"fetch"===e}],["beacon",function(e){return"beacon"===e}],["css",function(e,t){return/\.css$/i.test(t)}],["js",function(e,t){return/\.js$/i.test(t)}],["image",function(e,t){return G(["image","img","icon"],e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)}],["font",function(e,t){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)}],["media",function(e,t){return G(["audio","video"],e)||null!==/\.(mp3|mp4)$/i.exec(t)}]];function Yt(e){var t=e.name;if(!function(e){try{return!!ct(e)}catch(e){return!1}}(t))return Ht('Failed to construct URL for "'.concat(e.name,'"')),"other";for(var n=function(e){var t=ct(e).pathname;return"/"===t[0]?t:"/".concat(t)}(t),r=0,i=Qt;r<i.length;r++){var o=i[r],a=o[0];if((0,o[1])(e.initiatorType,n))return a}return"other"}function Jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n+=1)if(e[n-1]>e[n])return!1;return!0}function Zt(e){var t=Xt(e);if(t){var n=t.startTime,r=t.fetchStart,i=t.redirectStart,o=t.redirectEnd,a=t.domainLookupStart,s=t.domainLookupEnd,u=t.connectStart,c=t.secureConnectionStart,l=t.connectEnd,f=t.requestStart,d=t.responseStart,p={download:tn(n,d,t.responseEnd),first_byte:tn(n,f,d)};return l!==r&&(p.connect=tn(n,u,l),Jt(u,c,l)&&(p.ssl=tn(n,c,l))),s!==r&&(p.dns=tn(n,a,s)),en(e)&&(p.redirect=tn(n,i,o)),p}}function Xt(e){if(Jt(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd)){if(!en(e))return e;var t=e.redirectStart,n=e.redirectEnd;if(t<e.startTime&&(t=e.startTime),n<e.startTime&&(n=e.fetchStart),Jt(e.startTime,t,n,e.fetchStart))return M({},e,{redirectEnd:n,redirectStart:t})}}function en(e){return e.fetchStart!==e.startTime}function tn(e,t,n){return{duration:ge(Te(t,n)),start:ge(Te(e,t))}}function nn(e){if(e.startTime<e.responseStart)return e.decodedBodySize}function rn(e,t){return t&&!e.isIntakeUrl(t)}function on(e){return e.nodeType===Node.TEXT_NODE}function an(e){return e.nodeType===Node.ELEMENT_NODE}function sn(e){return an(e)&&Boolean(e.shadowRoot)}function un(e){var t=e;return!!t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&an(t.host)}function cn(e){return un(e)?e.host:e.parentNode}var ln,fn,dn=2*P;function pn(e){var t=function(e){var t=e.querySelector("meta[name=dd-trace-id]"),n=e.querySelector("meta[name=dd-trace-time]");return hn(t&&t.content,n&&n.content)}(e)||function(e){var t=function(e){for(var t=0;t<e.childNodes.length;t+=1){if(n=vn(e.childNodes[t]))return n}if(e.body)for(t=e.body.childNodes.length-1;t>=0;t-=1){var n,r=e.body.childNodes[t];if(n=vn(r))return n;if(!on(r))break}}(e);if(!t)return;return hn(ne(t,"trace-id"),ne(t,"trace-time"))}(e);if(t&&!(t.traceTime<=be()-dn))return t.traceId}function hn(e,t){var n=t&&Number(t);if(e&&n)return{traceId:e,traceTime:n}}function vn(e){if(e&&function(e){return e.nodeType===Node.COMMENT_NODE}(e)){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function mn(){return void 0!==window.performance&&"getEntries"in performance}function yn(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}function gn(e,t){var n;if(n=function(n){_n(e,t,[n])},$t("interactive",(function(){var e,t={entryType:"resource",initiatorType:Kt,traceId:pn(document)};if(yn("navigation")&&performance.getEntriesByType("navigation").length>0)e=M(performance.getEntriesByType("navigation")[0].toJSON(),t);else{var r=bn();e=M(r,{decodedBodySize:0,duration:r.responseEnd,name:window.location.href,startTime:0},t)}n(e)})),mn()){var r=performance.getEntries();I((function(){return _n(e,t,r)}))}if(window.PerformanceObserver){var i=S((function(n){return _n(e,t,n.getEntries())})),o=["resource","navigation","longtask","paint"],a=["largest-contentful-paint","first-input","layout-shift"];try{a.forEach((function(e){new PerformanceObserver(i).observe({type:e,buffered:!0})}))}catch(e){o.push.apply(o,a)}new PerformanceObserver(i).observe({entryTypes:o}),mn()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",(function(){performance.clearResourceTimings()}))}yn("navigation")||function(e){function t(){e(M(bn(),{entryType:"navigation"}))}$t("complete",(function(){I(t)}))}((function(n){_n(e,t,[n])})),yn("first-input")||function(e){var t=be(),n=!1,r=Dt(window,["click","mousedown","keydown","touchstart","pointerdown"],(function(e){if(e.cancelable){var t={entryType:"first-input",processingStart:we(),startTime:e.timeStamp};"pointerdown"===e.type?i(t):o(t)}}),{passive:!0,capture:!0}).stop;function i(e){Dt(window,["pointerup","pointercancel"],(function(t){"pointerup"===t.type&&o(e)}),{once:!0})}function o(i){if(!n){n=!0,r();var o=i.processingStart-i.startTime;o>=0&&o<be()-t&&e(i)}}}((function(n){_n(e,t,[n])}))}function bn(){var e={},t=performance.timing;for(var n in t)if(Q(t[n])){var r=n,i=t[r];e[r]=0===i?0:Oe(i)}return e}function _n(e,t,n){var r=n.filter((function(e){return"resource"===e.entryType||"navigation"===e.entryType||"paint"===e.entryType||"longtask"===e.entryType||"largest-contentful-paint"===e.entryType||"first-input"===e.entryType||"layout-shift"===e.entryType})).filter((function(e){return!function(e){return"navigation"===e.entryType&&e.loadEventEnd<=0}(e)&&!function(e,t){return"resource"===t.entryType&&!rn(e,t.name)}(t,e)}));r.length&&e.notify(0,r)}function wn(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&I((function(){r=0}),P),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:et.AGENT,startClocks:Ee()})}finally{i=!1}}return!0}}}function En(e,t){for(var n=e,r=0,i=t.split(".");r<i.length;r++){var o=i[r];if(!Tn(n,o))return;n=n[o]}return n}function Sn(e,t,n){for(var r=e,i=t.split("."),o=0;o<i.length;o+=1){var a=i[o];if(!Tn(r,a))return;o!==i.length-1?r=r[a]:r[a]=n}}function Tn(e,t){return"object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,t)}function Cn(){var e,t="string"==typeof(e=window._DATADOG_SYNTHETICS_PUBLIC_ID||Re(De))?e:void 0,n=function(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||Re(Le);return"string"==typeof e?e:void 0}();if(t&&n)return{test_id:t,result_id:n,injected:je()}}function On(){return ln||(ln=function(){var e=new Rt((function(){var t=L((function(){e.notify(In())}),200).throttled;return xt(window,"resize",t,{capture:!0,passive:!0}).stop}));return e}()),ln}function In(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function kn(){if(Be("clickmap"))return fn||(fn=In(),On().subscribe((function(e){fn=e})).unsubscribe),{viewport:fn}}var An=["view.url","view.referrer","action.target.name","error.message","error.stack","error.resource.url","resource.url"],Pn=An.concat(["context"]);function Rn(e,t,n,r,i,o,a,s){var u,c=((u={}).error=wn("error",e.eventRateLimiterThreshold,s),u.action=wn("action",e.eventRateLimiterThreshold,s),u),l=Cn(),f=function(){var e,t=null===(e=window.Cypress)||void 0===e?void 0:e.env("traceId");if("string"==typeof t)return{test_execution_id:t}}();t.subscribe(10,(function(s){var u,d=s.startTime,p=s.rawRumEvent,h=s.domainContext,v=s.savedCommonContext,m=s.customerContext,g=r.findView(d),b=i.findUrl(d),_=n.findTrackedSession("view"!==p.type?d:void 0);if(_&&g&&b){var w=v||a(),E=o.findActionId(d),S=se({_dd:{format_version:2,drift:Math.round(be()-Ce(Ie(),performance.now())),session:{plan:_.plan},browser_sdk_version:Fe()?"4.35.0":void 0},application:{id:e.applicationId},date:_e(),service:g.service||e.service,version:g.version||e.version,source:"browser",session:{id:_.id,type:l?"synthetics":f?"ci_test":"user"},view:{id:g.id,name:g.name,url:b.url,referrer:b.referrer},action:(u=p,-1!==["error","resource","long_task"].indexOf(u.type)&&E?{id:E}:void 0),synthetics:l,ci_test:f,display:kn()},p);S.context=se(w.context,m),"has_replay"in S.session||(S.session.has_replay=w.hasReplay),Z(w.user)||(S.usr=w.user),function(e,t,n,r){var i;if(t){var o=function(e,t,n){var r=ae(e),i=n(r);return t.forEach((function(t){var n=En(e,t),i=En(r,t),o=ie(n),a=ie(i);a===o?Sn(e,t,i):"object"!==o||"undefined"!==a&&"null"!==a||Sn(e,t,{})})),i}(e,"view"===e.type?An:Pn,(function(e){return t(e,n)}));if(!1===o&&"view"!==e.type)return!1;!1===o&&y.warn("Can't dismiss view events using beforeSend!")}var a=null===(i=r[e.type])||void 0===i?void 0:i.isLimitReached();return!a}(S,e.beforeSend,h,c)&&(Z(S.context)&&delete S.context,t.notify(11,S))}}))}var Nn=500,xn=2500,Dn=[];function Ln(){document.hasFocus()&&Mn();var e,t,n=(e=Mn,xt(window,"focus",(function(t){t.isTrusted&&e()}))).stop,r=(t=jn,xt(window,"blur",(function(e){e.isTrusted&&t()}))).stop;return{isInForegroundAt:Un,selectInForegroundPeriodsFor:Fn,stop:function(){Dn=[],n(),r()}}}function Mn(){if(!(Dn.length>xn)){var e=Dn[Dn.length-1],t=we();void 0!==e&&void 0===e.end||Dn.push({start:t})}}function jn(){if(0!==Dn.length){var e=Dn[Dn.length-1],t=we();void 0===e.end&&(e.end=t)}}function Un(e){for(var t=Dn.length-1;t>=0;t--){var n=Dn[t];if(void 0!==n.end&&e>n.end)break;if(e>n.start&&(void 0===n.end||e<n.end))return!0}return!1}function Fn(e,t){for(var n=Ce(e,t),r=[],i=Math.max(0,Dn.length-Nn),o=Dn.length-1;o>=i;o--){var a=Dn[o];if(void 0!==a.end&&e>a.end)break;if(!(n<a.start)){var s=e>a.start?e:a.start,u=Te(e,s),c=Te(s,void 0===a.end||n<a.end?n:a.end);r.unshift({start:ge(u),duration:ge(c)})}}return r}var Bn,Vn=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach((function(e){return e(t)}))},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter((function(e){return t!==e}))}}},e}(),Hn=4*R,zn=15*P,Gn=1/0,Wn=P,qn=function(){function e(e){var t=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval((function(){return t.clearOldContexts()}),Wn)}return e.prototype.add=function(e,t){var n=this,r={context:e,startTime:t,endTime:Gn,remove:function(){var e=n.entries.indexOf(r);e>=0&&n.entries.splice(e,1)},close:function(e){r.endTime=e}};return this.entries.unshift(r),r},e.prototype.find=function(e){void 0===e&&(e=Gn);for(var t=0,n=this.entries;t<n.length;t++){var r=n[t];if(r.startTime<=e){if(e<=r.endTime)return r.context;break}}},e.prototype.closeActive=function(e){var t=this.entries[0];t&&t.endTime===Gn&&t.close(e)},e.prototype.findAll=function(e){return void 0===e&&(e=Gn),this.entries.filter((function(t){return t.startTime<=e&&e<=t.endTime})).map((function(e){return e.context}))},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var e=we()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}(),$n=Hn;function Kn(e,t,n){var r=e[t],i=n(r),o=function(){if("function"==typeof i)return i.apply(this,arguments)};return e[t]=o,{stop:function(){e[t]===o?e[t]=r:i=r}}}function Qn(e,t,n){var r=n.before,i=n.after;return Kn(e,t,(function(e){return function(){var t,n=arguments;return r&&T(r,this,n),"function"==typeof e&&(t=e.apply(this,n)),i&&T(i,this,n),t}}))}function Yn(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(!r||!r.set||!r.configurable)return{stop:V};var i=function(e,t){I((function(){n(e,t)}),0)},o=function(e){r.set.call(this,e),i(this,e)};return Object.defineProperty(e,t,{set:o}),{stop:function(){var n;(null===(n=Object.getOwnPropertyDescriptor(e,t))||void 0===n?void 0:n.set)===o?Object.defineProperty(e,t,r):i=V}}}var Jn,Zn=new WeakMap;function Xn(){return Bn||(Bn=function(){var e=new Rt((function(){var t=Qn(XMLHttpRequest.prototype,"open",{before:er}).stop,n=Qn(XMLHttpRequest.prototype,"send",{before:function(){tr.call(this,e)}}).stop,r=Qn(XMLHttpRequest.prototype,"abort",{before:nr}).stop;return function(){t(),n(),r()}}));return e}()),Bn}function er(e,t){Zn.set(this,{state:"open",method:e,url:st(String(t))})}function tr(e){var t=this,n=Zn.get(this);if(n){var r=n;r.state="start",r.startTime=we(),r.startClocks=Ee(),r.isAborted=!1,r.xhr=this;var i=!1,o=Qn(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&a()}}).stop,a=S((function(){if(t.removeEventListener("loadend",a),o(),!i){i=!0;var s=n;s.state="complete",s.duration=Te(r.startClocks.timeStamp,_e()),s.status=t.status,e.notify(j(s))}}));this.addEventListener("loadend",a),e.notify(r)}}function nr(){var e=Zn.get(this);e&&(e.isAborted=!0)}function rr(){return Jn||(Jn=function(){var e=new Rt((function(){if(window.fetch){var t=Kn(window,"fetch",(function(t){return function(n,r){var i,o=T(ir,null,[e,n,r]);return o?(i=t.call(this,o.input,o.init),T(or,null,[e,i,o])):i=t.call(this,n,r),i}})).stop;return t}}));return e}()),Jn}function ir(e,t,n){var r=n&&n.method||"object"==typeof t&&t.method||"GET",i=st("object"==typeof t&&t.url||t),o={state:"start",init:n,input:t,method:r,startClocks:Ee(),url:i};return e.notify(o),o}function or(e,t,n){var r=function(t){var r=n;r.state="resolve","stack"in t||t instanceof Error?(r.status=0,r.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,r.error=t):"status"in t&&(r.response=t,r.responseType=t.type,r.status=t.status,r.isAborted=!1),e.notify(r)};t.then(S(r),S(r))}var ar=1;function sr(e,t,n){var r=function(e,t){return{clearTracingIfNeeded:St,traceFetch:function(n){return Tt(e,n,t,(function(e){var t;if(n.input instanceof Request&&!(null===(t=n.init)||void 0===t?void 0:t.headers))n.input=new Request(n.input),Object.keys(e).forEach((function(t){n.input.headers.append(t,e[t])}));else{n.init=j(n.init);var r=[];n.init.headers instanceof Headers?n.init.headers.forEach((function(e,t){r.push([t,e])})):Array.isArray(n.init.headers)?n.init.headers.forEach((function(e){r.push(e)})):n.init.headers&&Object.keys(n.init.headers).forEach((function(e){r.push([e,n.init.headers[e]])})),n.init.headers=r.concat(J(e))}}))},traceXhr:function(n,r){return Tt(e,n,t,(function(e){Object.keys(e).forEach((function(t){r.setRequestHeader(t,e[t])}))}))}}}(t,n);!function(e,t,n){var r=Xn().subscribe((function(r){var i=r;if(rn(t,i.url))switch(i.state){case"start":n.traceXhr(i,i.xhr),i.requestIndex=ur(),e.notify(5,{requestIndex:i.requestIndex,url:i.url});break;case"complete":n.clearTracingIfNeeded(i),e.notify(6,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"xhr",url:i.url,xhr:i.xhr})}}))}(e,t,r),function(e,t,n){var r=rr().subscribe((function(r){var i=r;if(rn(t,i.url))switch(i.state){case"start":n.traceFetch(i),i.requestIndex=ur(),e.notify(5,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":!function(e,t){var n=e.response&&function(e){try{return e.clone()}catch(e){return}}(e.response);n&&n.body?function(e,t,n){var r=e.getReader(),i=[],o=0;function a(){var e,a;if(r.cancel().catch(V),n.collectStreamBody){var s;if(1===i.length)s=i[0];else{s=new Uint8Array(o);var u=0;i.forEach((function(e){s.set(e,u),u+=e.length}))}e=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}t(void 0,e,a)}!function e(){r.read().then(S((function(t){t.done?a():(n.collectStreamBody&&i.push(t.value),(o+=t.value.length)>n.bytesLimit?a():e())})),S((function(e){return t(e)})))}()}(n.body,(function(){t(Te(e.startClocks.timeStamp,_e()))}),{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):t(Te(e.startClocks.timeStamp,_e()))}(i,(function(t){n.clearTracingIfNeeded(i),e.notify(6,{duration:t,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"fetch",url:i.url,response:i.response,init:i.init,input:i.input})}))}}))}(e,t,r)}function ur(){var e=ar;return ar+=1,e}function cr(e){var t=e.lifeCycle,n=e.isChildEvent,r=e.onChange,i=void 0===r?V:r,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},a=t.subscribe(11,(function(e){if("view"!==e.type&&n(e))switch(e.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,e.action.frustration&&(o.frustrationCount+=e.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":o.resourceCount+=1,i()}}));return{stop:function(){a.unsubscribe()},eventCounts:o}}var lr=100,fr=100;function dr(e,t,n,r,i){var o=function(e,t,n){var r=new Rt((function(){var i,o=[],a=0;o.push(t.subscribe(c),e.subscribe(0,(function(e){e.some((function(e){return"resource"===e.entryType&&!pr(n,e.name)}))&&c()})),e.subscribe(5,(function(e){pr(n,e.url)||(void 0===i&&(i=e.requestIndex),a+=1,c())})),e.subscribe(6,(function(e){pr(n,e.url)||void 0===i||e.requestIndex<i||(a-=1,c())})));var s,u=(s=c,Qn(window,"open",{before:s})).stop;return function(){u(),o.forEach((function(e){return e.unsubscribe()}))};function c(){r.notify({isBusy:a>0})}}));return r}(e,t,n);return function(e,t,n){var r,i=!1,o=I(S((function(){return c({hadActivity:!1})})),lr),a=n&&I(S((function(){return c({hadActivity:!0,end:_e()})})),n),s=e.subscribe((function(e){var t=e.isBusy;k(o),k(r);var n=_e();t||(r=I(S((function(){return c({hadActivity:!0,end:n})})),fr))})),u=function(){i=!0,k(o),k(r),k(a),s.unsubscribe()};function c(e){i||(u(),t(e))}return{stop:u}}(o,r,i)}function pr(e,t){return ce(e.excludedActivityUrls,t)}var hr=A,vr=100;function mr(e,t){var n,r=[],i=0;function o(e){e.stopObservable.subscribe(a),r.push(e),k(n),n=I(s,hr)}function a(){1===i&&r.every((function(e){return e.isStopped()}))&&(i=2,t(r))}function s(){k(n),0===i&&(i=1,a())}return o(e),{tryAppend:function(e){return 0===i&&(r.length>0&&(t=r[r.length-1].event,n=e.event,!(t.target===n.target&&(a=t,u=n,Math.sqrt(Math.pow(a.clientX-u.clientX,2)+Math.pow(a.clientY-u.clientY,2))<=vr)&&t.timeStamp-n.timeStamp<=hr))?(s(),!1):(o(e),!0));var t,n,a,u},stop:function(){s()}}}var yr="data-dd-action-name";function gr(e,t){return br(e,yr)||t&&br(e,t)||Cr(e,t,Er)||Cr(e,t,Sr)||""}function br(e,t){var n;if(function(){void 0===wr&&(wr="closest"in HTMLElement.prototype);return wr}())n=e.closest("[".concat(t,"]"));else for(var r=e;r;){if(r.hasAttribute(t)){n=r;break}r=r.parentElement}if(n)return Ir(Or(n.getAttribute(t).trim()))}var _r,wr,Er=[function(e,t){if(function(){void 0===_r&&(_r="labels"in HTMLInputElement.prototype);return _r}()){if("labels"in e&&e.labels&&e.labels.length>0)return kr(e.labels[0],t)}else if(e.id){var n=e.ownerDocument&&q(e.ownerDocument.querySelectorAll("label"),(function(t){return t.htmlFor===e.id}));return n&&kr(n,t)}},function(e){if("INPUT"===e.nodeName){var t=e,n=t.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return t.value}},function(e,t){if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return kr(e,t)},function(e){return e.getAttribute("aria-label")},function(e,t){var n=e.getAttribute("aria-labelledby");if(n)return n.split(/\s+/).map((function(t){return function(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}(e,t)})).filter((function(e){return Boolean(e)})).map((function(e){return kr(e,t)})).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e,t){if("options"in e&&e.options.length>0)return kr(e.options[0],t)}],Sr=[function(e,t){return kr(e,t)}],Tr=10;function Cr(e,t,n){for(var r=e,i=0;i<=Tr&&r&&"BODY"!==r.nodeName&&"HTML"!==r.nodeName&&"HEAD"!==r.nodeName;){for(var o=0,a=n;o<a.length;o++){var s=(0,a[o])(r,t);if("string"==typeof s){var u=s.trim();if(u)return Ir(Or(u))}}if("FORM"===r.nodeName)break;r=r.parentElement,i+=1}}function Or(e){return e.replace(/\s+/g," ")}function Ir(e){return e.length>100?"".concat(re(e,100)," [...]"):e}function kr(e,t){if(!e.isContentEditable){if("innerText"in e){var n=e.innerText,r=function(t){for(var r=e.querySelectorAll(t),i=0;i<r.length;i+=1){var o=r[i];if("innerText"in o){var a=o.innerText;a&&a.trim().length>0&&(n=n.replace(a,""))}}};return Boolean(document.documentMode)&&r("script, style"),r("[".concat(yr,"]")),t&&r("[".concat(t,"]")),n}return e.textContent}}var Ar,Pr=[yr,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Rr=[Lr,function(e){if(e.id&&!Dr(e.id))return"#".concat(le(e.id))}],Nr=[Lr,function(e){if("BODY"===e.tagName)return;if(e.classList.length>0)for(var t=0;t<e.classList.length;t+=1){var n=e.classList[t];if(!Dr(n))return"".concat(e.tagName,".").concat(le(n))}},function(e){return e.tagName}];function xr(e,t){for(var n="",r=e;r&&"HTML"!==r.nodeName;){var i=jr(r,Rr,Ur,t,n);if(i)return i;n=jr(r,Nr,Fr,t,n)||Br(Mr(r),n),r=r.parentElement}return n}function Dr(e){return/[0-9]/.test(e)}function Lr(e,t){if(t&&(i=o(t)))return i;for(var n=0,r=Pr;n<r.length;n++){var i;if(i=o(r[n]))return i}function o(t){if(e.hasAttribute(t))return"".concat(e.tagName,"[").concat(t,'="').concat(le(e.getAttribute(t)),'"]')}}function Mr(e){for(var t=e.parentElement.firstElementChild,n=1;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;return"".concat(e.tagName,":nth-of-type(").concat(n,")")}function jr(e,t,n,r,i){for(var o=0,a=t;o<a.length;o++){var s=(0,a[o])(e,r);if(s){var u=Br(s,i);if(n(e,u))return u}}}function Ur(e,t){return 1===e.ownerDocument.querySelectorAll(t).length}function Fr(e,t){return 1===e.parentElement.querySelectorAll(function(){if(void 0===Ar)try{document.querySelector(":scope"),Ar=!0}catch(e){Ar=!1}return Ar}()?Br(":scope",t):t).length}function Br(e,t){return t?"".concat(e,">").concat(t):e}function Vr(){var e=window.getSelection();return!e||e.isCollapsed}function Hr(e){return e.target instanceof Element&&!1!==e.isPrimary}var zr=3;function Gr(e,t){if(function(e){if(e.some((function(e){return e.getUserActivity().selection})))return!1;for(var t=0;t<e.length-(zr-1);t+=1)if(e[t+zr-1].event.timeStamp-e[t].event.timeStamp<=A)return!0;return!1}(e))return t.addFrustration("rage_click"),e.some(qr)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};var n=e.some((function(e){return e.getUserActivity().selection}));return e.forEach((function(e){e.hasError&&e.addFrustration("error_click"),qr(e)&&!n&&e.addFrustration("dead_click")})),{isRage:!1}}var Wr='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function qr(e){return!e.hasPageActivity&&!e.getUserActivity().input&&(t=e.event.target,n=Wr,!(t.matches?t.matches(n):t.msMatchesSelector&&t.msMatchesSelector(n)));var t,n}var $r=10*A,Kr=5*P;function Qr(e,t,n){var r,i=new qn(Kr),o=new Rt;e.subscribe(8,(function(){i.reset()})),e.subscribe(4,u);var a=function(e){var t,n,r=e.onPointerDown,i=e.onPointerUp,o={selection:!1,input:!1},a=[xt(window,"pointerdown",(function(e){Hr(e)&&(t=Vr(),o={selection:!1,input:!1},n=r(e))}),{capture:!0}),xt(window,"selectionchange",(function(){t&&Vr()||(o.selection=!0)}),{capture:!0}),xt(window,"pointerup",(function(e){if(Hr(e)&&n){var t=o;i(n,e,(function(){return t})),n=void 0}}),{capture:!0}),xt(window,"input",(function(){o.input=!0}),{capture:!0})];return{stop:function(){a.forEach((function(e){return e.stop()}))}}}({onPointerDown:function(r){return function(e,t,n,r,i){if(!e.trackFrustrations&&r.find())return;var o=function(e,t){var n,r;if(Be("clickmap")){var i=e.target.getBoundingClientRect();n={width:Math.round(i.width),height:Math.round(i.height),selector:xr(e.target,t)},r={x:Math.round(e.clientX-i.left),y:Math.round(e.clientY-i.top)}}return{type:"click",target:n,position:r,name:gr(e.target,t)}}(i,e.actionNameAttribute);if(!e.trackFrustrations&&!o.name)return;var a=!1;return dr(t,n,e,(function(e){a=e.hadActivity}),lr),{clickActionBase:o,hadActivityOnPointerDown:function(){return a}}}(n,e,t,i,r)},onPointerUp:function(r,a,u){var c=r.clickActionBase,l=r.hadActivityOnPointerDown;return function(e,t,n,r,i,o,a,s,u,c){var l=Yr(t,r,u,a,s);e.trackFrustrations&&o(l);var f=dr(t,n,e,(function(t){t.hadActivity&&t.end<l.startClocks.timeStamp?l.discard():(t.hadActivity?l.stop(t.end):c()?l.stop(l.startClocks.timeStamp):l.stop(),e.trackFrustrations||(t.hadActivity?l.validate():l.discard()))}),$r).stop,d=t.subscribe(4,(function(e){var t=e.endClocks;l.stop(t.timeStamp)})),p=i.subscribe((function(){l.stop()}));l.stopObservable.subscribe((function(){d.unsubscribe(),f(),p.unsubscribe()}))}(n,e,t,i,o,s,c,a,u,l)}}).stop;return{stop:function(){u(),o.notify(),a()},actionContexts:{findActionId:function(e){return n.trackFrustrations?i.findAll(e):i.find(e)}}};function s(e){if(!r||!r.tryAppend(e)){var t=e.clone();r=mr(e,(function(e){!function(e,t){var n=Gr(e,t).isRage;n?(e.forEach((function(e){return e.discard()})),t.stop(_e()),t.validate(e.map((function(e){return e.event})))):(t.discard(),e.forEach((function(e){return e.validate()})))}(e,t)}))}}function u(){r&&r.stop()}}function Yr(e,t,n,r,i){var o,a=U(),s=Ee(),u=t.add(a,s.relative),c=cr({lifeCycle:e,isChildEvent:function(e){return void 0!==e.action&&(Array.isArray(e.action.id)?G(e.action.id,a):e.action.id===a)}}),l=0,f=[],d=new Rt;function p(e){0===l&&(l=1,(o=e)?u.close(Oe(o)):u.remove(),c.stop(),d.notify())}return{event:i,stop:p,stopObservable:d,get hasError(){return c.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==o},getUserActivity:n,addFrustration:function(e){f.push(e)},startClocks:s,isStopped:function(){return 1===l||2===l},clone:function(){return Yr(e,t,n,r,i)},validate:function(t){if(p(),1===l){var n=c.eventCounts,u=n.resourceCount,d=n.errorCount,h=n.longTaskCount,v=M({type:"click",duration:o&&Te(s.timeStamp,o),startClocks:s,id:a,frustrationTypes:f,counts:{resourceCount:u,errorCount:d,longTaskCount:h},events:null!=t?t:[i],event:i},r);e.notify(1,v),l=2}},discard:function(){p(),l=2}}}function Jr(e,t){var n=Zr(e)?{action:{id:e.id,loading_time:ge(e.duration),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position}}}:void 0,r=Zr(e)?void 0:e.context,i=se({action:{id:U(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action"},n),o=t.isInForegroundAt(e.startClocks.relative);return void 0!==o&&(i.view={in_foreground:o}),{customerContext:r,rawRumEvent:i,startTime:e.startClocks.relative,domainContext:Zr(e)?{event:e.event,events:e.events}:{}}}function Zr(e){return"custom"!==e.type}var Xr=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function ei(e){var t=function(e){return Qn(window,"onerror",{before:function(t,n,r,i,o){var a;if(o)a=ze(o),e(a,o);else{var s,u={url:n,column:i,line:r},c=t;if("[object String]"==={}.toString.call(t)){var l=Xr.exec(c);l&&(s=l[1],c=l[2])}e(a={name:s,message:"string"==typeof c?c:void 0,stack:[u]},t)}}})}(e).stop,n=function(e){return Qn(window,"onunhandledrejection",{before:function(t){var n=t.reason||"Empty reason",r=ze(n);e(r,n)}})}(e).stop;return{stop:function(){t(),n()}}}var ti={};function ni(e){var t=e.map((function(e){return ti[e]||(ti[e]=function(e){var t=new Rt((function(){var n=console[e];return console[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(console,r);var o=it();T((function(){t.notify(function(e,t,n){var r,i=e.map((function(e){return function(e){if("string"==typeof e)return e;if(e instanceof Error)return rt(ze(e));return H(e,void 0,2)}(e)})).join(" ");if(t===m.error){var o=q(e,(function(e){return e instanceof Error}));r=o?nt(ze(o)):void 0,i="console error: ".concat(i)}return{api:t,message:i,stack:r,handlingStack:n}}(r,e,o))}))},function(){console[e]=n}}));return t}(e)),ti[e]}));return Nt.apply(void 0,t)}var ri,ii,oi={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function ai(e){var t=[];G(e,oi.cspViolation)&&t.push(function(){var e=new Rt((function(){var t=S((function(t){e.notify(function(e){var t=oi.cspViolation,n="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:oi.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(n),stack:si(e.effectiveDirective,e.originalPolicy?"".concat(n,' of the policy "').concat(re(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)}}(t))}));return xt(document,"securitypolicyviolation",t).stop}));return e}());var n=e.filter((function(e){return e!==oi.cspViolation}));return n.length&&t.push(function(e){var t=new Rt((function(){if(window.ReportingObserver){var n=S((function(e){return e.forEach((function(e){t.notify(function(e){var t=e.type,n=e.body;return{type:t,subtype:n.id,message:"".concat(t,": ").concat(n.message),stack:si(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}));return t}(n)),Nt.apply(void 0,t)}function si(e,t,n,r,i){return n&&nt({name:e,message:t,stack:[{func:"?",url:n,line:r,column:i}]})}function ui(e,t,n){var r=new Rt;return function(e){var t=ni([m.error]).subscribe((function(t){return e.notify({startClocks:Ee(),message:t.message,stack:t.stack,source:et.CONSOLE,handling:"handled",handlingStack:t.handlingStack})}))}(r),function(e){ei((function(t,n){e.notify(tt({stackTrace:t,originalError:n,startClocks:Ee(),nonErrorPrefix:"Uncaught",source:et.SOURCE,handling:"unhandled"}))}))}(r),function(e){var t=ai([oi.cspViolation,oi.intervention]).subscribe((function(t){return e.notify({startClocks:Ee(),message:t.message,stack:t.stack,type:t.subtype,source:et.REPORT,handling:"unhandled"})}))}(r),r.subscribe((function(t){return e.notify(12,{error:t})})),function(e,t,n){return e.subscribe(12,(function(r){var i=r.error,o=r.customerContext,a=r.savedCommonContext;e.notify(10,M({customerContext:o,savedCommonContext:a},function(e,t,n){var r={date:e.startClocks.timeStamp,error:{id:U(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser"},type:"error"},i=t.isInForegroundAt(e.startClocks.relative);i&&(r.view={in_foreground:i});var o=n.findFeatureFlagEvaluations(e.startClocks.relative);o&&!Z(o)&&(r.feature_flags=o);return{rawRumEvent:r,startTime:e.startClocks.relative,domainContext:{error:e.originalError}}}(i,t,n)))})),{addError:function(t,n){var r=t.error,i=t.handlingStack,o=t.startClocks,a=t.context,s=tt({stackTrace:r instanceof Error?ze(r):void 0,originalError:r,handlingStack:i,startClocks:o,nonErrorPrefix:"Provided",source:et.CUSTOM,handling:"handled"});e.notify(12,{customerContext:a,savedCommonContext:n,error:s})}}}(e,t,n)}function ci(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var n=t.map((function(e){return e.toJSON()})).filter(Xt).filter((function(t){return n=t,r=e.startClocks.relative,i=li({startTime:e.startClocks.relative,duration:e.duration}),o=1,n.startTime>=r-o&&li(n)<=Ce(i,o);var n,r,i,o}));return 1===n.length?n[0]:void 0}}}function li(e){return Ce(e.startTime,e.duration)}function fi(e,t,n,r){e.subscribe(6,(function(i){e.notify(10,function(e,t,n,r){var i,o="xhr"===e.type?"xhr":"fetch",a=ci(e),s=a?me(a.startTime):e.startClocks,u=a?pi(a):void 0,c=function(e,t){var n=e.traceSampled&&e.traceId&&e.spanId;if(!n)return;return{_dd:{span_id:e.spanId.toDecimalString(),trace_id:e.traceId.toDecimalString(),rule_psr:hi(t)}}}(e,t),l=vi(n,s),f=ge(e.duration),d=function(e,t){if(!Be("resource_durations"))return;return{_dd:{computed_duration:e,performance_entry_duration:t,override_duration_diff:t?e-t:void 0}}}(f,null==u?void 0:u.resource.duration),p=mi(r,s,null!==(i=null==a?void 0:a.duration)&&void 0!==i?i:e.duration),h=se({date:s.timeStamp,resource:{id:U(),type:o,duration:f,method:e.method,status_code:e.status,url:e.url},type:"resource"},c,u,l,d,p);return{startTime:s.relative,rawRumEvent:h,domainContext:{performanceEntry:a&&a,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error}}}(i,t,n,r))})),e.subscribe(0,(function(i){for(var o=0,a=i;o<a.length;o++){var s=a[o];"resource"===s.entryType&&("xmlhttprequest"!==(u=s).initiatorType&&"fetch"!==u.initiatorType)&&e.notify(10,di(s,t,n,r))}var u}))}function di(e,t,n,r){var i=Yt(e),o=pi(e),a=me(e.startTime),s=function(e,t){var n=e.traceId;if(!n)return;return{_dd:{trace_id:e.traceId,rule_psr:hi(t)}}}(e,t),u=vi(n,a),c=mi(r,a,e.duration),l=se({date:a.timeStamp,resource:{id:U(),type:i,url:e.name},type:"resource"},s,o,u,c);return{startTime:a.relative,rawRumEvent:l,domainContext:{performanceEntry:e}}}function pi(e){return{resource:M({duration:(t=e,n=t.duration,r=t.startTime,i=t.responseEnd,ge(0===n&&r<i?Te(r,i):n)),size:nn(e)},Zt(e))};var t,n,r,i}function hi(e){return Q(e.traceSampleRate)?e.traceSampleRate/100:void 0}function vi(e,t){var n=e.findTrackedSession(t.relative);return{_dd:{discarded:!n||!n.resourceAllowed}}}function mi(e,t,n){if(Be("resource_page_states"))return{_dd:{page_states:e.findAll(t.relative,n),page_was_discarded:String(document.wasDiscarded)}}}function yi(e){return void 0===e&&(e=window),ri||("hidden"===document.visibilityState?ri={timeStamp:0}:(ri={timeStamp:1/0},ii=Dt(e,["pagehide","visibilitychange"],(function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||(ri.timeStamp=e.timeStamp,ii())}),{capture:!0}).stop)),ri}var gi=10*P;function bi(e,t){var n={};function r(e){M(n,e),t(n)}var i=function(e,t){var n=e.subscribe(0,(function(e){for(var n=0,r=e;n<r.length;n++){var i=r[n];"navigation"===i.entryType&&t({domComplete:i.domComplete,domContentLoaded:i.domContentLoadedEventEnd,domInteractive:i.domInteractive,loadEvent:i.loadEventEnd,firstByte:i.responseStart>=0&&i.responseStart<=we()?i.responseStart:void 0})}})).unsubscribe;return{stop:n}}(e,r).stop,o=function(e,t){var n=yi(),r=e.subscribe(0,(function(e){var r=q(e,(function(e){return"paint"===e.entryType&&"first-contentful-paint"===e.name&&e.startTime<n.timeStamp&&e.startTime<gi}));r&&t(r.startTime)})).unsubscribe;return{stop:r}}(e,(function(e){return r({firstContentfulPaint:e})})).stop,a=function(e,t,n){var r=yi(),i=1/0,o=Dt(t,["pointerdown","keydown"],(function(e){i=e.timeStamp}),{capture:!0,once:!0}).stop,a=e.subscribe(0,(function(e){var t=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(e,(function(e){return"largest-contentful-paint"===e.entryType&&e.startTime<i&&e.startTime<r.timeStamp&&e.startTime<gi}));t&&n(t.startTime)})).unsubscribe;return{stop:function(){o(),a()}}}(e,window,(function(e){r({largestContentfulPaint:e})})).stop,s=function(e,t){var n=yi(),r=e.subscribe(0,(function(e){var r=q(e,(function(e){return"first-input"===e.entryType&&e.startTime<n.timeStamp}));if(r){var i=Te(r.startTime,r.processingStart);t({firstInputDelay:i>=0?i:0,firstInputTime:r.startTime})}})).unsubscribe;return{stop:r}}(e,(function(e){r({firstInputDelay:e.firstInputDelay,firstInputTime:e.firstInputTime})})).stop;return{stop:function(){i(),o(),a(),s()}}}function _i(e,t,n,r,i,o){var a,s={},u=function(e,t,n,r,i,o){var a="initial_load"===r,s=!0,u=[];function c(){!s&&!a&&u.length>0&&o(Math.max.apply(Math,u))}var l=dr(e,t,n,(function(e){s&&(s=!1,e.hadActivity&&u.push(Te(i.timeStamp,e.end)),c())})).stop;return{stop:l,setLoadEvent:function(e){a&&(a=!1,u.push(e),c())}}}(e,t,n,i,o,(function(e){s.loadingTime=e,r()})),c=u.stop,l=u.setLoadEvent;return yn("layout-shift")?(s.cumulativeLayoutShift=0,a=function(e,t){var n=0,r=function(){var e,t,n=0;return{update:function(r){void 0===e||r.startTime-t>=A||r.startTime-e>=5*A?(e=t=r.startTime,n=r.value):(n+=r.value,t=r.startTime)},value:function(){return n}}}(),i=e.subscribe(0,(function(e){for(var i=0,o=e;i<o.length;i++){var a=o[i];"layout-shift"!==a.entryType||a.hadRecentInput||(r.update(a),r.value()>n&&(n=r.value(),t(B(n,4))))}})).unsubscribe;return{stop:i}}(e,(function(e){s.cumulativeLayoutShift=e,r()})).stop):a=V,{stop:function(){c(),a()},setLoadEvent:l,viewMetrics:s}}var wi=5*P;var Ei=3e3,Si=5*P;function Ti(e,t,n,r,i,o,a){var s,u=function(i){var o=Ci(t,n,r,e,"initial_load",Se(),i),a=bi(t,(function(e){o.updateTimings(e),o.scheduleUpdate()})).stop;return{initialView:o,stop:a}}(a),c=u.stop,l=u.initialView,f=function(){t.subscribe(8,(function(){l.end(),l=d(void 0,{name:l.name,service:l.service,version:l.version})})),t.subscribe(9,(function(e){e.reason!==Lt.UNLOADING&&e.reason!==Lt.PAGEHIDE||(l.end(),l.triggerUpdate())}));var e=window.setInterval(S((function(){l.triggerUpdate()})),Si);return{stop:function(){clearInterval(e)}}}().stop;function d(i,o){return Ci(t,n,r,e,"route_change",i,o)}return o&&(s=function(e){return e.subscribe((function(e){var t,n,r,i,o=e.oldLocation,a=e.newLocation;if(n=a,(t=o).pathname!==n.pathname||(r=n.hash,i=r.substr(1),!document.getElementById(i)&&Oi(n.hash)!==Oi(t.hash)))return l.end(),l.triggerUpdate(),void(l=d())}))}(i)),{addTiming:function(e,t){void 0===t&&(t=_e()),l.addTiming(e,t),l.scheduleUpdate()},startView:function(e,t){l.end(t),l.triggerUpdate(),l=d(t,e)},stop:function(){null==s||s.unsubscribe(),c(),f(),l.end()}}}function Ci(e,t,n,r,i,o,a){void 0===o&&(o=Ee());var s,u,c,l,f=U(),d={},p={},h=0,v=j(r);a&&(u=a.name,c=a.service,l=a.version),e.notify(2,{id:f,name:u,startClocks:o,service:c,version:l});var m=L(k,Ei,{leading:!1}),g=m.throttled,b=m.cancel,_=_i(e,t,n,g,i,o),w=_.setLoadEvent,E=_.stop,S=_.viewMetrics,T=function(e,t,n){var r=cr({lifeCycle:e,isChildEvent:function(e){return e.view.id===t},onChange:n}),i=r.stop;return{scheduleStop:function(){I(i,wi)},eventCounts:r.eventCounts}}(e,f,g),C=T.scheduleStop,O=T.eventCounts;function k(){h+=1;var t=void 0===s?_e():s.timeStamp;e.notify(3,M({customTimings:p,documentVersion:h,id:f,name:u,service:c,version:l,loadingType:i,location:v,startClocks:o,timings:d,duration:Te(o.timeStamp,t),isActive:void 0===s,eventCounts:O},S))}return k(),{name:u,service:c,version:l,scheduleUpdate:g,end:function(t){void 0===t&&(t=Ee()),s=t,e.notify(4,{endClocks:s}),E(),C()},triggerUpdate:function(){b(),k()},updateTimings:function(e){d=e,void 0!==e.loadEvent&&w(e.loadEvent)},addTiming:function(e,t){var n=function(e){return e<N}(t)?t:Te(o.timeStamp,t);p[function(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");t!==e&&y.warn("Invalid timing name: ".concat(e,", sanitized to: ").concat(t));return t}(e)]=n}}}function Oi(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function Ii(e,t,n,r,i,o,a,s,u){return e.subscribe(3,(function(t){return e.notify(10,function(e,t,n,r){var i=r.getReplayStats(e.id),o=n.findFeatureFlagEvaluations(e.startClocks.relative),a={_dd:{document_version:e.documentVersion,replay_stats:i},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:e.cumulativeLayoutShift,first_byte:ge(e.timings.firstByte),dom_complete:ge(e.timings.domComplete),dom_content_loaded:ge(e.timings.domContentLoaded),dom_interactive:ge(e.timings.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:ge(e.timings.firstContentfulPaint),first_input_delay:ge(e.timings.firstInputDelay),first_input_time:ge(e.timings.firstInputTime),is_active:e.isActive,name:e.name,largest_contentful_paint:ge(e.timings.largestContentfulPaint),load_event:ge(e.timings.loadEvent),loading_time:ki(ge(e.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:ge(e.duration),in_foreground_periods:t.selectInForegroundPeriodsFor(e.startClocks.relative,e.duration)},feature_flags:o&&!Z(o)?o:void 0,session:{has_replay:!!i||void 0}};Z(e.customTimings)||(a.view.custom_timings=function(e,t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];n[o]=t(e[o])}return n}(e.customTimings,ge));return{rawRumEvent:a,startTime:e.startClocks.relative,domainContext:{location:e.location}}}(t,o,a,s))})),Ti(n,e,r,t,i,!t.trackViewsManually,u)}function ki(e){return Q(e)&&e<0?void 0:e}var Ai,Pi=/^([a-z]+)=([a-z0-9-]+)$/,Ri="&",Ni="_dd_s",xi=10,Di=100,Li=[];function Mi(e,t){var n;if(void 0===t&&(t=0),Ai||(Ai=e),e===Ai)if(t>=Di)Fi();else{var r,i=Hi();if(ji()){if(i.lock)return void Ui(e,t);if(r=U(),i.lock=r,Vi(i,e.options),(i=Hi()).lock!==r)return void Ui(e,t)}var o=e.process(i);if(ji()&&(i=Hi()).lock!==r)Ui(e,t);else{if(o&&Bi(o,e.options),ji()&&(!o||!zi(o))){if((i=Hi()).lock!==r)return void Ui(e,t);delete i.lock,Vi(i,e.options),o=i}null===(n=e.after)||void 0===n||n.call(e,o||i),Fi()}}else Li.push(e)}function ji(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}function Ui(e,t){I((function(){Mi(e,t+1)}),xi)}function Fi(){Ai=void 0;var e=Li.shift();e&&Mi(e)}function Bi(e,t){zi(e)?function(e){Pe(Ni,"",0,e)}(t):(e.expire=String(be()+zn),Vi(e,t))}function Vi(e,t){Pe(Ni,function(e){return J(e).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)})).join(Ri)}(e),zn,t)}function Hi(){var e=Re(Ni),t={};return function(e){return void 0!==e&&(-1!==e.indexOf(Ri)||Pi.test(e))}(e)&&e.split(Ri).forEach((function(e){var n=Pi.exec(e);if(null!==n){var r=n[1],i=n[2];t[r]=i}})),t}function zi(e){return Z(e)}var Gi="_dd",Wi="_dd_r",qi="_dd_l",$i="rum",Ki="logs";function Qi(e,t,n){var r=new Rt,i=new Rt,o=setInterval(S((function(){Mi({options:e,process:function(e){return c(e)?void 0:{}},after:s})})),Ae),a=function(){var e=Hi();if(c(e))return e;return{}}();function s(e){return c(e)||(e={}),u()&&(!function(e){return a.id!==e.id||a[t]!==e[t]}(e)?a=e:(a={},i.notify())),e}function u(){return void 0!==a[t]}function c(e){return(void 0===e.created||be()-Number(e.created)<Hn)&&(void 0===e.expire||be()<Number(e.expire))}return{expandOrRenewSession:L((function(){var i;Mi({options:e,process:function(e){var r=s(e);return i=function(e){var r=n(e[t]),i=r.trackingType,o=r.isTracked;e[t]=i,o&&!e.id&&(e.id=U(),e.created=String(be()));return o}(r),r},after:function(e){i&&!u()&&function(e){a=e,r.notify()}(e),a=e}})}),Ae).throttled,expandSession:function(){Mi({options:e,process:function(e){return u()?s(e):void 0}})},getSession:function(){return a},renewObservable:r,expireObservable:i,stop:function(){clearInterval(o)}}}var Yi=P,Ji=Hn,Zi=[];function Xi(e,t,n){!function(e){var t=Re(Ni),n=Re(Gi),r=Re(Wi),i=Re(qi);if(!t){var o={};n&&(o.id=n),i&&/^[01]$/.test(i)&&(o[Ki]=i),r&&/^[012]$/.test(r)&&(o[$i]=r),Bi(o,e)}}(e);var r=Qi(e,t,n);Zi.push((function(){return r.stop()}));var i,o=new qn(Ji);function a(){return{id:r.getSession().id,trackingType:r.getSession()[t]}}return Zi.push((function(){return o.stop()})),r.renewObservable.subscribe((function(){o.add(a(),we())})),r.expireObservable.subscribe((function(){o.closeActive(we())})),r.expandOrRenewSession(),o.add(a(),Se().relative),i=Dt(window,["click","touchstart","keydown","scroll"],(function(){return r.expandOrRenewSession()}),{capture:!0,passive:!0}).stop,Zi.push(i),function(e){var t=S((function(){"visible"===document.visibilityState&&e()})),n=xt(document,"visibilitychange",t).stop;Zi.push(n);var r=setInterval(t,Yi);Zi.push((function(){clearInterval(r)}))}((function(){return r.expandSession()})),{findActiveSession:function(e){return o.find(e)},renewObservable:r.renewObservable,expireObservable:r.expireObservable}}var eo="rum";function to(e,t){var n=Xi(e.cookieOptions,eo,(function(t){return function(e,t){var n;n=function(e){return"0"===e||"1"===e||"2"===e}(t)?t:F(e.sessionSampleRate)?F(e.sessionReplaySampleRate)?"1":"2":"0";return{trackingType:n,isTracked:no(n)}}(e,t)}));return n.expireObservable.subscribe((function(){t.notify(7)})),n.renewObservable.subscribe((function(){t.notify(8)})),{findTrackedSession:function(t){var r=n.findActiveSession(t);if(r&&no(r.trackingType)){var i="1"===r.trackingType?2:1;return{id:r.id,plan:i,sessionReplayAllowed:2===i,longTaskAllowed:void 0!==e.trackLongTasks?e.trackLongTasks:e.oldPlansBehavior&&2===i,resourceAllowed:void 0!==e.trackResources?e.trackResources:e.oldPlansBehavior&&2===i}}}}}function no(e){return"2"===e||"1"===e}var ro=function(){function e(e,t,n,r,i,o){var a=this;this.request=e,this.batchMessagesLimit=t,this.batchBytesLimit=n,this.messageBytesLimit=r,this.flushTimeout=i,this.pageExitObservable=o,this.flushObservable=new Rt,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,o.subscribe((function(e){return a.flush(e.reason,a.request.sendOnExit)})),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(e,t){if(void 0===t&&(t=this.request.send),0!==this.bufferMessagesCount){var n=this.pushOnlyBuffer.concat(Y(this.upsertBuffer)),r=this.bufferBytesCount;this.flushObservable.notify({bufferBytesCount:this.bufferBytesCount,bufferMessagesCount:this.bufferMessagesCount}),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,t({data:n.join("\n"),bytesCount:r,flushReason:e})}},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,i=n.messageBytesCount;i>=this.messageBytesLimit?y.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(i)&&this.flush("batch_bytes_limit"),this.push(r,i,t),this.isFull()&&this.flush("batch_bytes_limit"))},e.prototype.process=function(e){var t=H(e);return{processedMessage:t,messageBytesCount:de(t)}},e.prototype.push=function(e,t,n){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=t,this.bufferMessagesCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=de(t);this.bufferBytesCount-=n,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},e.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},e.prototype.flushPeriodically=function(){var e=this;I((function(){e.flush("batch_duration_limit"),e.flushPeriodically()}),this.flushTimeout)},e}(),io=80*x,oo=32,ao=3*D,so=P,uo=A;function co(e,t,n,r,i){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?fo(e,t,n,{onSuccess:function(){return po(0,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),lo(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function lo(e,t,n,r){2===e.transportStatus&&I((function(){fo(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=uo,po(1,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(so,2*e.currentBackoffTime),lo(e,t,n,r)}})}),e.currentBackoffTime)}function fo(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),!function(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||e.status>=500)}(n)?(t.transportStatus=0,i()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o())}))}function po(e,t,n,r,i){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(r," events size queued for upload: ").concat(ao/D,"MiB"),source:et.AGENT,startClocks:Ee()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=ho();o.size()>0;)co(o.dequeue(),t,n,r,i)}function ho(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=ao}}}function vo(e,t,n){var r={transportStatus:0,currentBackoffTime:uo,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=io&&this.ongoingRequestCount<oo},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:ho(),queueFullReported:!1},i=function(n,r){return function(e,t,n,r){var i=n.data,o=n.bytesCount,a=n.flushReason,s=n.retry,u=function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&o<t;if(u){var c=e.build("fetch",a,s);fetch(c,{method:"POST",body:i,keepalive:!0,mode:"cors"}).then(S((function(e){return null==r?void 0:r({status:e.status,type:e.type})})),S((function(){yo(e.build("xhr",a,s),i,r)})))}else{yo(e.build("xhr",a,s),i,r)}}(e,t,n,r)};return{send:function(t){co(t,r,i,e.endpointType,n)},sendOnExit:function(n){!function(e,t,n){var r=n.data,i=n.bytesCount,o=n.flushReason,a=!!navigator.sendBeacon&&i<t;if(a)try{var s=e.build("beacon",o);if(navigator.sendBeacon(s,r))return}catch(e){!function(e){mo||(mo=!0,zt(e))}(e)}var u=e.build("xhr",o);yo(u,r)}(e,t,n)}}}var mo=!1;function yo(e,t,n){var r=new XMLHttpRequest,i=S((function(){r.removeEventListener("loadend",i),null==n||n({status:r.status})}));r.open("POST",e,!0),r.addEventListener("loadend",i),r.send(t)}function go(e,t,n,r,i){var o=function(e,t,n){var r,i=a(e.rumEndpointBuilder),o=e.replica;void 0!==o&&(r=a(o.rumEndpointBuilder));function a(r){return new ro(vo(r,e.batchBytesLimit,t),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout,n)}function s(e){return se(e,{application:{id:o.applicationId}})}return{flushObservable:i.flushObservable,add:function(e,t){void 0===t&&(t=!0),i.add(e),r&&t&&r.add(s(e))},upsert:function(e,t){i.upsert(e,t),r&&r.upsert(s(e),t)}}}(e,r,i);return t.subscribe(11,(function(e){"view"===e.type?o.upsert(e,e.view.id):o.add(e)})),n.subscribe((function(t){return o.add(t,function(e){return e.site===lt}(e))})),o}var bo=Hn;function _o(e){var t=j(e),n=new Rt((function(){var e,t=function(e){var t=Qn(history,"pushState",{after:e}).stop,n=Qn(history,"replaceState",{after:e}).stop,r=xt(window,"popstate",e).stop;return{stop:function(){t(),n(),r()}}}(r).stop,n=(e=r,xt(window,"hashchange",e)).stop;return function(){t(),n()}}));function r(){if(t.href!==e.href){var r=j(e);n.notify({newLocation:r,oldLocation:t}),t=r}}return n}var wo=Hn;var Eo,So,To,Co=10*A;function Oo(){0!==Eo.batchCount&&(Ht("Customer data measures",Eo),Ao())}function Io(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function ko(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function Ao(){Eo={batchCount:0,batchBytesCount:{min:1/0,max:0,sum:0},batchMessagesCount:{min:1/0,max:0,sum:0},globalContextBytes:{min:1/0,max:0,sum:0},userContextBytes:{min:1/0,max:0,sum:0},featureFlagBytes:{min:1/0,max:0,sum:0}}}function Po(){To=!1,So={globalContextBytes:{min:1/0,max:0,sum:0},userContextBytes:{min:1/0,max:0,sum:0},featureFlagBytes:{min:1/0,max:0,sum:0}}}var Ro,No=500,xo=[];function Do(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}function Lo(e,t){void 0===t&&(t=No),e!==Ro&&(Ro=e,xo.length===t&&xo.shift(),xo.push({state:Ro,startTime:we()}))}var Mo={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},jo={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},Uo={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},Fo={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},Bo={Play:0,Pause:1},Vo={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:_t.ALLOW,MASK:_t.MASK,MASK_USER_INPUT:_t.MASK_USER_INPUT},Ho="data-dd-privacy",zo="allow",Go="mask",Wo="mask-user-input",qo="hidden",$o="dd-privacy-allow",Ko="dd-privacy-mask",Qo="dd-privacy-mask-user-input",Yo="dd-privacy-hidden",Jo="***",Zo="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",Xo={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},ea=1e5;function ta(e,t){var n=cn(e),r=n?ta(n,t):t;return na(ra(e),r)}function na(e,t){switch(t){case Vo.HIDDEN:case Vo.IGNORE:return t}switch(e){case Vo.ALLOW:case Vo.MASK:case Vo.MASK_USER_INPUT:case Vo.HIDDEN:case Vo.IGNORE:return e;default:return t}}function ra(e){if(an(e)){var t=e.getAttribute(Ho);if("BASE"===e.tagName)return Vo.ALLOW;if("INPUT"===e.tagName){var n=e;if("password"===n.type||"email"===n.type||"tel"===n.type)return Vo.MASK;if("hidden"===n.type)return Vo.MASK;var r=n.getAttribute("autocomplete");if(r&&0===r.indexOf("cc-"))return Vo.MASK}return t===qo||e.classList.contains(Yo)?Vo.HIDDEN:t===Go||e.classList.contains(Ko)?Vo.MASK:t===Wo||e.classList.contains(Qo)?Vo.MASK_USER_INPUT:t===zo||e.classList.contains($o)?Vo.ALLOW:function(e){if("SCRIPT"===e.nodeName)return!0;if("LINK"===e.nodeName){var t=i("rel");return/preload|prefetch/i.test(t)&&"script"===i("as")||"shortcut icon"===t||"icon"===t}if("META"===e.nodeName){var n=i("name"),r=(t=i("rel"),i("property"));return/^msapplication-tile(image|color)$/.test(n)||"application-name"===n||"icon"===t||"apple-touch-icon"===t||"shortcut icon"===t||"keywords"===n||"description"===n||/^(og|twitter|fb):/.test(r)||/^(og|twitter):/.test(n)||"pinterest"===n||"robots"===n||"googlebot"===n||"bingbot"===n||e.hasAttribute("http-equiv")||"author"===n||"generator"===n||"framework"===n||"publisher"===n||"progid"===n||/^article:/.test(r)||/^product:/.test(r)||"google-site-verification"===n||"yandex-verification"===n||"csrf-token"===n||"p:domain_verify"===n||"verify-v1"===n||"verification"===n||"shopify-checkout-api-token"===n}function i(t){return(e.getAttribute(t)||"").toLowerCase()}return!1}(e)?Vo.IGNORE:void 0}}function ia(e,t){switch(t){case Vo.MASK:case Vo.HIDDEN:case Vo.IGNORE:return!0;case Vo.MASK_USER_INPUT:return on(e)?oa(e.parentNode):oa(e);default:return!1}}function oa(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;var t=e;if("INPUT"===t.tagName)switch(t.type){case"button":case"color":case"reset":case"submit":return!1}return!!Xo[t.tagName]}var aa=function(e){return e.replace(/\S/g,"x")};function sa(e,t,n){var r,i=null===(r=e.parentElement)||void 0===r?void 0:r.tagName,o=e.textContent||"";if(!t||o.trim()){var a=n,s="STYLE"===i||void 0;if("SCRIPT"===i)o=Jo;else if(a===Vo.HIDDEN)o=Jo;else if(ia(e,a)&&!s)if("DATALIST"===i||"SELECT"===i||"OPTGROUP"===i){if(!o.trim())return}else o="OPTION"===i?Jo:aa(o);return o}}var ua=new WeakMap;function ca(e){return ua.has(e)}function la(e){return ua.get(e)}function fa(e,t){var n=e.tagName,r=e.value;if(ia(e,t)){var i=e.type;if("INPUT"===n&&("button"===i||"submit"===i||"reset"===i))return r;if(!r||"OPTION"===n)return;return Jo}return"OPTION"===n||"SELECT"===n?e.value:"INPUT"===n||"TEXTAREA"===n?r:void 0}var da=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,pa=/^[A-Za-z]+:|^\/\//,ha=/^data:.*,/i;function va(e,t){return e.replace(da,(function(e,n,r,i,o,a){var s=r||o||a;if(!t||!s||pa.test(s)||ha.test(s))return e;var u=n||i||"";return"url(".concat(u).concat(function(e,t){try{return ct(e,t).href}catch(t){return e}}(s,t)).concat(u,")")}))}function ma(e){if(void 0!==e&&0!==e.length)return e.map((function(e){var t=e.cssRules||e.rules;return{cssRules:Array.from(t,(function(e){return e.cssText})),disabled:e.disabled||void 0,media:e.media.length>0?Array.from(e.media):void 0}}))}function ya(e,t,n){return ba(e,{serializationContext:n,parentNodePrivacyLevel:t.defaultPrivacyLevel,configuration:t})}function ba(e,t){var n=function(e,t){switch(e.nodeType){case e.DOCUMENT_NODE:return function(e,t){return{type:jo.Document,childNodes:_a(e,t),adoptedStyleSheets:ma(e.adoptedStyleSheets)}}(e,t);case e.DOCUMENT_FRAGMENT_NODE:return function(e,t){var n=[];e.childNodes.length&&(n=_a(e,t));var r=un(e);r&&t.serializationContext.shadowRootsController.addShadowRoot(e);return{type:jo.DocumentFragment,childNodes:n,isShadowRoot:r,adoptedStyleSheets:r?ma(e.adoptedStyleSheets):void 0}}(e,t);case e.DOCUMENT_TYPE_NODE:return n=e,{type:jo.DocumentType,name:n.name,publicId:n.publicId,systemId:n.systemId};case e.ELEMENT_NODE:return function(e,t){var n,r=Ta(e.tagName),i=(a=e,"svg"===a.tagName||a instanceof SVGElement||void 0),o=na(ra(e),t.parentNodePrivacyLevel);var a;if(o===Vo.HIDDEN){var s=e.getBoundingClientRect(),u=s.width,c=s.height;return{type:jo.Element,tagName:r,attributes:(n={rr_width:"".concat(u,"px"),rr_height:"".concat(c,"px")},n[Ho]=qo,n),childNodes:[],isSVG:i}}if(o===Vo.IGNORE)return;var l=function(e,t,n){var r;if(t===Vo.HIDDEN)return{};for(var i={},o=Ta(e.tagName),a=e.ownerDocument,s=0;s<e.attributes.length;s+=1){var u=e.attributes.item(s).name,c=wa(e,t,u,n.configuration);null!==c&&(i[u]=c)}if(e.value&&("textarea"===o||"select"===o||"option"===o||"input"===o)){var l=fa(e,t);void 0!==l&&(i.value=l)}if("option"===o&&t===Vo.ALLOW){var f=e;f.selected&&(i.selected=f.selected)}if("link"===o){var d=Array.from(a.styleSheets).find((function(t){return t.href===e.href}));(p=Ca(d))&&d&&(i._cssText=p)}if("style"===o&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var p;(p=Ca(e.sheet))&&(i._cssText=p)}var h,v,m=e;"input"!==o||"radio"!==m.type&&"checkbox"!==m.type||(t===Vo.ALLOW?i.checked=!!m.checked:ia(m,t)&&delete i.checked);if("audio"===o||"video"===o){var y=e;i.rr_mediaState=y.paused?"paused":"played"}var g=n.serializationContext;switch(g.status){case 0:h=Math.round(e.scrollTop),v=Math.round(e.scrollLeft),(h||v)&&g.elementsScrollPositions.set(e,{scrollTop:h,scrollLeft:v});break;case 1:g.elementsScrollPositions.has(e)&&(h=(r=g.elementsScrollPositions.get(e)).scrollTop,v=r.scrollLeft)}v&&(i.rr_scrollLeft=v);h&&(i.rr_scrollTop=h);return i}(e,o,t),f=[];if(e.childNodes.length){f=_a(e,t.parentNodePrivacyLevel===o&&t.ignoreWhiteSpace===("head"===r)?t:M({},t,{parentNodePrivacyLevel:o,ignoreWhiteSpace:"head"===r}))}if(sn(e)){var d=ba(e.shadowRoot,t);null!==d&&f.push(d)}return{type:jo.Element,tagName:r,attributes:l,childNodes:f,isSVG:i}}(e,t);case e.TEXT_NODE:return function(e,t){var n,r=null===(n=e.parentElement)||void 0===n?void 0:n.tagName,i=sa(e,t.ignoreWhiteSpace||!1,t.parentNodePrivacyLevel);if(!i)return;return{type:jo.Text,textContent:i,isStyle:"STYLE"===r||void 0}}(e,t);case e.CDATA_SECTION_NODE:return{type:jo.CDATA,textContent:""}}var n}(e,t);if(!n)return null;var r=la(e)||Ea++,i=n;return i.id=r,function(e,t){ua.set(e,t)}(e,r),t.serializedNodeIds&&t.serializedNodeIds.add(r),i}function _a(e,t){var n=[];return e.childNodes.forEach((function(e){var r=ba(e,t);r&&n.push(r)})),n}function wa(e,t,n,r){if(t===Vo.HIDDEN)return null;var i=e.getAttribute(n);if(t===Vo.MASK&&n!==Ho&&!Pr.includes(n)&&n!==r.actionNameAttribute){var o=e.tagName;switch(n){case"title":case"alt":case"placeholder":return Jo}if(!("IMG"!==o&&"SOURCE"!==o||"src"!==n&&"srcset"!==n))return Zo;if("A"===o&&"href"===n)return Jo;if(i&&X(n,"data-"))return Jo}return i&&"string"==typeof i&&i.length>ea&&"data:"===i.slice(0,5)?"data:truncated":i}var Ea=1;var Sa=/[^a-z1-6-_]/;function Ta(e){var t=e.toLowerCase().trim();return Sa.test(t)?"div":t}function Ca(e){if(!e)return null;var t;try{t=e.rules||e.cssRules}catch(e){}return t?va(Array.from(t,Oa).join(""),e.href):null}function Oa(e){return function(e){return"styleSheet"in e}(e)?Ca(e.styleSheet)||"":e.cssText}function Ia(e){return Boolean(e.changedTouches)}function ka(e,t){return{data:M({source:e},t),type:Mo.IncrementalSnapshot,timestamp:_e()}}function Aa(e){for(var t=[],n=e;n.parentRule;){var r=Array.from(n.parentRule.cssRules).indexOf(n);t.unshift(r),n=n.parentRule}if(n.parentStyleSheet){var i=Array.from(n.parentStyleSheet.cssRules).indexOf(n);return t.unshift(i),t}}var Pa=function(e,t){var n=window.visualViewport,r={layoutViewportX:e,layoutViewportY:t,visualViewportX:e,visualViewportY:t};return n?(!function(){var e=window.visualViewport;return Math.abs(e.pageTop-e.offsetTop-window.scrollY)>25||Math.abs(e.pageLeft-e.offsetLeft-window.scrollX)>25}()?(r.visualViewportX=Math.round(e-n.offsetLeft),r.visualViewportY=Math.round(t-n.offsetTop)):(r.layoutViewportX=Math.round(e+n.offsetLeft),r.layoutViewportY=Math.round(t+n.offsetTop)),r):r},Ra=function(){var e=window.visualViewport;return{scale:e.scale,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,pageLeft:e.pageLeft,pageTop:e.pageTop,height:e.height,width:e.width}};function Na(){var e,t=window.visualViewport;return e=t?t.pageLeft-t.offsetLeft:void 0!==window.scrollX?window.scrollX:window.pageXOffset||0,Math.round(e)}function xa(){var e,t=window.visualViewport;return e=t?t.pageTop-t.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0,Math.round(e)}function Da(e){return!0===e.composed&&sn(e.target)?e.composedPath()[0]:e.target}var La=new WeakMap,Ma=1;function ja(e){return La.has(e)||La.set(e,Ma++),La.get(e)}var Ua=50;function Fa(e){var t=Ia(e)?e.changedTouches[0]:e,n=t.clientX,r=t.clientY;if(window.visualViewport){var i=Pa(n,r);n=i.visualViewportX,r=i.visualViewportY}if(Number.isFinite(n)&&Number.isFinite(r))return{x:n,y:r};e.isTrusted&&Ht("mouse/touch event without x/y")}var Ba,Va=100;var Ha=((Ba={}).pointerup=Fo.MouseUp,Ba.mousedown=Fo.MouseDown,Ba.click=Fo.Click,Ba.contextmenu=Fo.ContextMenu,Ba.dblclick=Fo.DblClick,Ba.focus=Fo.Focus,Ba.blur=Fo.Blur,Ba.touchstart=Fo.TouchStart,Ba.touchend=Fo.TouchEnd,Ba);function za(e,t,n){var r=void 0===n?{}:n,i=r.domEvents,o=void 0===i?["input","change"]:i,a=r.target,s=void 0===a?document:a,u=new WeakMap;function c(e){var n=ta(e,t);if(n!==Vo.HIDDEN){var r,i=e.type;if("radio"===i||"checkbox"===i){if(ia(e,n))return;r={isChecked:e.checked}}else{var o=fa(e,n);if(void 0===o)return;r={text:o}}l(e,r);var a,s,u=e.name;"radio"===i&&u&&e.checked&&(a=document.querySelectorAll('input[type="radio"][name="'.concat(u,'"]')),s=function(t){t!==e&&l(t,{isChecked:!1})},Array.prototype.forEach.call(a,s))}}function l(t,n){if(ca(t)){var r=u.get(t);r&&r.text===n.text&&r.isChecked===n.isChecked||(u.set(t,n),e(M({id:la(t)},n)))}}var f=Dt(s,o,(function(e){var t=Da(e);(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)&&c(t)}),{capture:!0,passive:!0}).stop,d=[Yn(HTMLInputElement.prototype,"value",c),Yn(HTMLInputElement.prototype,"checked",c),Yn(HTMLSelectElement.prototype,"value",c),Yn(HTMLTextAreaElement.prototype,"value",c),Yn(HTMLSelectElement.prototype,"selectedIndex",c)];return function(){d.forEach((function(e){return e.stop()})),f()}}var Ga=200;var Wa=100;function qa(e){var t=V,n=[];function r(){t(),e(n),n=[]}return{addMutations:function(e){0===n.length&&(t=function(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var n=window.requestIdleCallback(S(e),t);return function(){return window.cancelIdleCallback(n)}}var r=window.requestAnimationFrame(S(e));return function(){return window.cancelAnimationFrame(r)}}(r,{timeout:Wa})),n.push.apply(n,e)},flush:r,stop:function(){t()}}}function $a(e,t,n,r){var i=qt();if(!i)return{stop:V,flush:V};var o=qa((function(i){!function(e,t,n,r,i){e.filter((function(e){return"childList"===e.type})).forEach((function(e){e.removedNodes.forEach((function(e){Ka(e,r.removeShadowRoot)}))}));var o=e.filter((function(e){return i.contains(e.target)&&function(e){for(var t=e;t;){if(!ca(t)&&!un(t))return!1;t=cn(t)}return!0}(e.target)&&ta(e.target,n.defaultPrivacyLevel)!==Vo.HIDDEN})),a=function(e,t,n){for(var r=new Set,i=new Map,o=function(e){e.addedNodes.forEach((function(e){r.add(e)})),e.removedNodes.forEach((function(t){r.has(t)||i.set(t,e.target),r.delete(t)}))},a=0,s=e;a<s.length;a++){o(s[a])}var u=Array.from(r);c=u,c.sort((function(e,t){var n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0}));var c;for(var l=new Set,f=[],d=0,p=u;d<p.length;d++){var h=p[d];if(!b(h)){var v=ta(h.parentNode,t.defaultPrivacyLevel);if(v!==Vo.HIDDEN&&v!==Vo.IGNORE){var m=ba(h,{serializedNodeIds:l,parentNodePrivacyLevel:v,serializationContext:{status:2,shadowRootsController:n},configuration:t});if(m){var y=cn(h);f.push({nextId:_(h),parentId:la(y),node:m})}}}}var g=[];return i.forEach((function(e,t){ca(t)&&g.push({parentId:la(e),id:la(t)})})),{adds:f,removes:g,hasBeenSerialized:b};function b(e){return ca(e)&&l.has(la(e))}function _(e){for(var t=e.nextSibling;t;){if(ca(t))return la(t);t=t.nextSibling}return null}}(o.filter((function(e){return"childList"===e.type})),n,r),s=a.adds,u=a.removes,c=a.hasBeenSerialized,l=function(e,t){for(var n,r=[],i=new Set,o=e.filter((function(e){return!i.has(e.target)&&(i.add(e.target),!0)})),a=0,s=o;a<s.length;a++){var u=s[a];if(u.target.textContent!==u.oldValue){var c=ta(cn(u.target),t.defaultPrivacyLevel);c!==Vo.HIDDEN&&c!==Vo.IGNORE&&r.push({id:la(u.target),value:null!==(n=sa(u.target,!1,c))&&void 0!==n?n:null})}}return r}(o.filter((function(e){return"characterData"===e.type&&!c(e.target)})),n),f=function(e,t){for(var n=[],r=new Map,i=e.filter((function(e){var t=r.get(e.target);return!(null==t?void 0:t.has(e.attributeName))&&(t?t.add(e.attributeName):r.set(e.target,new Set([e.attributeName])),!0)})),o=new Map,a=0,s=i;a<s.length;a++){var u=s[a];if(u.target.getAttribute(u.attributeName)!==u.oldValue){var c=ta(u.target,t.defaultPrivacyLevel),l=wa(u.target,c,u.attributeName,t),f=void 0;if("value"===u.attributeName){var d=fa(u.target,c);if(void 0===d)continue;f=d}else f="string"==typeof l?l:null;var p=o.get(u.target);p||(p={id:la(u.target),attributes:{}},n.push(p),o.set(u.target,p)),p.attributes[u.attributeName]=f}}return n}(o.filter((function(e){return"attributes"===e.type&&!c(e.target)})),n);if(!(l.length||f.length||u.length||s.length))return;t({adds:s,removes:u,texts:l,attributes:f})}(i.concat(a.takeRecords()),e,t,n,r)})),a=new i(S(o.addMutations));return a.observe(r,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){a.disconnect(),o.stop()},flush:function(){o.flush()}}}function Ka(e,t){sn(e)&&t(e.shadowRoot),function(e){return sn(e)?e.shadowRoot.childNodes:e.childNodes}(e).forEach((function(e){return Ka(e,t)}))}function Qa(e){var t,n,r,i,o,a,s,u=$a(e.mutationCb,e.configuration,e.shadowRootsController,document),c=(t=e.mousemoveCb,n=L((function(e){var n=Da(e);if(ca(n)){var r=Fa(e);if(!r)return;var i={id:la(n),timeOffset:0,x:r.x,y:r.y};t([i],Ia(e)?Uo.TouchMove:Uo.MouseMove)}}),Ua,{trailing:!1}).throttled,Dt(document,["mousemove","touchmove"],n,{capture:!0,passive:!0}).stop),l=function(e,t){return Dt(document,Object.keys(Ha),(function(n){var r=Da(n);if(ta(r,t)!==Vo.HIDDEN&&ca(r)){var i,o=la(r),a=Ha[n.type];if(a!==Fo.Blur&&a!==Fo.Focus){var s=Fa(n);if(!s)return;i={id:o,type:a,x:s.x,y:s.y}}else i={id:o,type:a};var u=M({id:ja(n)},ka(Uo.MouseInteraction,i));e(u)}}),{capture:!0,passive:!0}).stop}(e.mouseInteractionCb,e.configuration.defaultPrivacyLevel),f=function(e,t,n){var r=L((function(r){var i=Da(r);if(i&&ta(i,t)!==Vo.HIDDEN&&ca(i)){var o=la(i),a=i===document?{scrollTop:xa(),scrollLeft:Na()}:{scrollTop:Math.round(i.scrollTop),scrollLeft:Math.round(i.scrollLeft)};n.set(i,a),e({id:o,x:a.scrollLeft,y:a.scrollTop})}}),Va).throttled;return xt(document,"scroll",r,{capture:!0,passive:!0}).stop}(e.scrollCb,e.configuration.defaultPrivacyLevel,e.elementsScrollPositions),d=function(e){return On().subscribe(e).unsubscribe}(e.viewportResizeCb),p=za(e.inputCb,e.configuration.defaultPrivacyLevel),h=(r=e.mediaInteractionCb,i=e.configuration.defaultPrivacyLevel,Dt(document,["play","pause"],(function(e){var t=Da(e);t&&ta(t,i)!==Vo.HIDDEN&&ca(t)&&r({id:la(t),type:"play"===e.type?Bo.Play:Bo.Pause})}),{capture:!0,passive:!0}).stop),v=function(e){function t(e,t){e&&ca(e.ownerNode)&&t(la(e.ownerNode))}var n=[Qn(CSSStyleSheet.prototype,"insertRule",{before:function(n,r){t(this,(function(t){return e({id:t,adds:[{rule:n,index:r}]})}))}}),Qn(CSSStyleSheet.prototype,"deleteRule",{before:function(n){t(this,(function(t){return e({id:t,removes:[{index:n}]})}))}})];function r(r){n.push(Qn(r.prototype,"insertRule",{before:function(n,r){var i=this;t(this.parentStyleSheet,(function(t){var o=Aa(i);o&&(o.push(r||0),e({id:t,adds:[{rule:n,index:o}]}))}))}}),Qn(r.prototype,"deleteRule",{before:function(n){var r=this;t(this.parentStyleSheet,(function(t){var i=Aa(r);i&&(i.push(n),e({id:t,removes:[{index:i}]}))}))}}))}return"undefined"!=typeof CSSGroupingRule?r(CSSGroupingRule):(r(CSSMediaRule),r(CSSSupportsRule)),function(){return n.forEach((function(e){return e.stop()}))}}(e.styleSheetCb),m=(o=e.focusCb,Dt(window,["focus","blur"],(function(){o({has_focus:document.hasFocus()})})).stop),y=function(e){if(!window.visualViewport)return V;var t=L((function(){e(Ra())}),Ga,{trailing:!1}),n=t.throttled,r=t.cancel,i=Dt(window.visualViewport,["resize","scroll"],n,{capture:!0,passive:!0}).stop;return function(){i(),r()}}(e.visualViewportResizeCb),g=(a=e.lifeCycle,s=e.frustrationCb,a.subscribe(10,(function(e){var t,n,r;"action"===e.rawRumEvent.type&&"click"===e.rawRumEvent.action.type&&(null===(n=null===(t=e.rawRumEvent.action.frustration)||void 0===t?void 0:t.type)||void 0===n?void 0:n.length)&&"events"in e.domainContext&&(null===(r=e.domainContext.events)||void 0===r?void 0:r.length)&&s({timestamp:e.rawRumEvent.date,type:Mo.FrustrationRecord,data:{frustrationTypes:e.rawRumEvent.action.frustration.type,recordIds:e.domainContext.events.map((function(e){return ja(e)}))}})})).unsubscribe);return{flush:function(){u.flush()},stop:function(){u.stop(),c(),l(),f(),d(),p(),h(),v(),m(),y(),g()}}}var Ya=function(e,t){var n=t.mutationCb,r=t.inputCb,i=new Map,o={addShadowRoot:function(t){var a=$a(n,e,o,t),s=a.stop,u=a.flush,c=za(r,e.defaultPrivacyLevel,{target:t,domEvents:["change"]});i.set(t,{flush:u,stop:function(){s(),c()}})},removeShadowRoot:function(e){var t=i.get(e);t?(t.stop(),i.delete(e)):Ht("no shadow root in map",{shadowRoot:e?e.nodeName:"no node name",childrenLength:e?e.childElementCount:"-1",controllerByShadowRootSize:i.size,html:e&&Be("shadow_dom_debug")?e.innerHTML.substring(0,2e3):void 0})},stop:function(){i.forEach((function(e){return(0,e.stop)()}))},flush:function(){i.forEach((function(e){return(0,e.flush)()}))}};return o};function Ja(e){var t=e.emit;if(!t)throw new Error("emit function is required");var n,r=(n=new WeakMap,{set:function(e,t){(e!==document||document.scrollingElement)&&n.set(e===document?document.scrollingElement:e,t)},get:function(e){return n.get(e)},has:function(e){return n.has(e)}}),i=function(e){t(ka(Uo.Mutation,e))},o=function(e){return t(ka(Uo.Input,e))},a=Ya(e.configuration,{mutationCb:i,inputCb:o}),s=function(n,i){void 0===n&&(n=_e()),void 0===i&&(i={status:0,elementsScrollPositions:r,shadowRootsController:a});var o=In(),s=o.width,u=o.height;t({data:{height:u,href:window.location.href,width:s},type:Mo.Meta,timestamp:n}),t({data:{has_focus:document.hasFocus()},type:Mo.Focus,timestamp:n}),t({data:{node:ya(document,e.configuration,i),initialOffset:{left:Na(),top:xa()}},type:Mo.FullSnapshot,timestamp:n}),window.visualViewport&&t({data:Ra(),type:Mo.VisualViewport,timestamp:n})};s();var u=Qa({lifeCycle:e.lifeCycle,configuration:e.configuration,elementsScrollPositions:r,inputCb:o,mediaInteractionCb:function(e){return t(ka(Uo.MediaInteraction,e))},mouseInteractionCb:function(e){return t(e)},mousemoveCb:function(e,n){return t(ka(n,{positions:e}))},mutationCb:i,scrollCb:function(e){return t(ka(Uo.Scroll,e))},styleSheetCb:function(e){return t(ka(Uo.StyleSheetRule,e))},viewportResizeCb:function(e){return t(ka(Uo.ViewportResize,e))},frustrationCb:function(e){return t(e)},focusCb:function(e){return t({data:e,type:Mo.Focus,timestamp:_e()})},visualViewportResizeCb:function(e){t({data:e,type:Mo.VisualViewport,timestamp:_e()})},shadowRootsController:a}),c=u.stop,l=u.flush;function f(){a.flush(),l()}return{stop:function(){a.stop(),c()},takeSubsequentFullSnapshot:function(e){f(),s(e,{shadowRootsController:a,status:1,elementsScrollPositions:r})},flushMutations:f,shadowRootsController:a}}function Za(e,t,n){var r=new FormData;return r.append("segment",new Blob([e],{type:"application/octet-stream"}),"".concat(t.session.id,"-").concat(t.start)),Xa(t,(function(e,t){return r.append(e,t)})),r.append("raw_segment_size",n.toString()),{data:r,bytesCount:e.byteLength}}function Xa(e,t,n){void 0===n&&(n=""),J(e).forEach((function(e){var r=e[0],i=e[1];"object"==typeof i&&null!==i?Xa(i,t,"".concat(n).concat(r,".")):t("".concat(n).concat(r),String(i))}))}var es,ts=10;function ns(e){return os(e).segments_count}function rs(e){os(e).records_count+=1}function is(e){return null==es?void 0:es.get(e)}function os(e){var t;return es||(es=new Map),es.has(e)?t=es.get(e):(t={records_count:0,segments_count:0,segments_total_raw_size:0},es.set(e,t),es.size>ts&&function(){if(!es)return;if(es.keys)es.delete(es.keys().next().value);else{var e=!0;es.forEach((function(t,n){e&&(es.delete(n),e=!1)}))}}()),t}var as,ss=0,us=function(){function e(e,t,n,r,i,o){var a=this;this.worker=e,this.id=ss++;var s=t.view.id;this.metadata=M({start:r.timestamp,end:r.timestamp,creation_reason:n,records_count:1,has_full_snapshot:r.type===Mo.FullSnapshot,index_in_view:ns(s),source:"browser"},t),function(e){os(e).segments_count+=1}(s),rs(s);var u=S((function(t){var n=t.data;"errored"!==n.type&&"initialized"!==n.type&&(n.id===a.id?(!function(e,t){os(e).segments_total_raw_size+=t}(s,n.additionalBytesCount),"flushed"===n.type?(o(n.result,n.rawBytesCount),e.removeEventListener("message",u)):i(n.compressedBytesCount)):n.id>a.id&&(e.removeEventListener("message",u),Ht("Segment did not receive a 'flush' response before being replaced.")))}));e.addEventListener("message",u),Pt("record",{record:r,segment:this.metadata}),this.worker.postMessage({data:'{"records":['.concat(JSON.stringify(r)),id:this.id,action:"write"})}return e.prototype.addRecord=function(e){var t;this.metadata.start=Math.min(this.metadata.start,e.timestamp),this.metadata.end=Math.max(this.metadata.end,e.timestamp),this.metadata.records_count+=1,rs(this.metadata.view.id),(t=this.metadata).has_full_snapshot||(t.has_full_snapshot=e.type===Mo.FullSnapshot),Pt("record",{record:e,segment:this.metadata}),this.worker.postMessage({data:",".concat(JSON.stringify(e)),id:this.id,action:"write"})},e.prototype.flush=function(e){this.worker.postMessage({data:"],".concat(JSON.stringify(this.metadata).slice(1),"\n"),id:this.id,action:"flush"}),this.flushReason=e},e}(),cs=30*A,ls=6e4;function fs(e,t,n,r,i,o){return function(e,t,n,r){var i={status:0,nextSegmentCreationReason:"init"},o=e.subscribe(2,(function(){s("view_change")})).unsubscribe,a=e.subscribe(9,(function(e){s(e.reason)})).unsubscribe;function s(e){1===i.status&&(i.segment.flush(e),k(i.expirationTimeoutId)),i="stop"!==e?{status:0,nextSegmentCreationReason:e}:{status:2}}function u(e,o){var a=t();if(a){var u=new us(r,a,e,o,(function(e){!u.flushReason&&e>ls&&s("segment_bytes_limit")}),(function(e,t){var r,i=Za(e,u.metadata,t);r=u.flushReason,G(Y(Lt),r)?n.sendOnExit(i):n.send(i)}));i={status:1,segment:u,expirationTimeoutId:I((function(){s("segment_duration_limit")}),cs)}}}return{addRecord:function(e){switch(i.status){case 0:u(i.nextSegmentCreationReason,e);break;case 1:i.segment.addRecord(e)}},stop:function(){s("stop"),o(),a()}}}(e,(function(){return function(e,t,n){var r=t.findTrackedSession(),i=n.findView();if(!r||!i)return;return{application:{id:e},session:{id:r.id},view:{id:i.id}}}(t,n,r)}),i,o)}function ds(){return as||(as=URL.createObjectURL(new Blob(["(".concat(ps,")(self)")]))),new Worker(as)}function ps(){function e(e){return function(){try{return e.apply(this,arguments)}catch(e){try{self.postMessage({type:"errored",error:e})}catch(t){self.postMessage({type:"errored",error:"".concat(e)})}}}}e((function(){var t=function(){var e=4,t=0,n=1,r=2;function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=0,a=1,s=2,u=3,c=258,l=29,f=256,d=f+1+l,p=30,h=19,v=2*d+1,m=15,y=16,g=7,b=256,_=16,w=17,E=18,S=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),T=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),C=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I=512,k=new Array(2*(d+2));i(k);var A=new Array(2*p);i(A);var P=new Array(I);i(P);var R=new Array(c-u+1);i(R);var N=new Array(l);i(N);var x,D,L,M=new Array(p);function j(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function U(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}i(M);var F=function(e){return e<256?P[e]:P[256+(e>>>7)]},B=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},V=function(e,t,n){e.bi_valid>y-n?(e.bi_buf|=t<<e.bi_valid&65535,B(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=n-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},H=function(e,t,n){V(e,n[2*t],n[2*t+1])},z=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},G=function(e){16===e.bi_valid?(B(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},W=function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,y=0;for(o=0;o<=m;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<v;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>h&&(o=h,y++),u[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=p&&(a=d[r-p]),s=u[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==y){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,y-=2}while(y>0);for(o=h;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>c||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}},q=function(e,t,n){var r,i,o=new Array(m+1),a=0;for(r=1;r<=m;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=z(o[s]++,s))}},$=function(){var e,t,n,r,i,o=new Array(m+1);for(n=0,r=0;r<l-1;r++)for(N[r]=n,e=0;e<1<<S[r];e++)R[n++]=r;for(R[n-1]=r,i=0,r=0;r<16;r++)for(M[r]=i,e=0;e<1<<T[r];e++)P[i++]=r;for(i>>=7;r<p;r++)for(M[r]=i<<7,e=0;e<1<<T[r]-7;e++)P[256+i++]=r;for(t=0;t<=m;t++)o[t]=0;for(e=0;e<=143;)k[2*e+1]=8,e++,o[8]++;for(;e<=255;)k[2*e+1]=9,e++,o[9]++;for(;e<=279;)k[2*e+1]=7,e++,o[7]++;for(;e<=287;)k[2*e+1]=8,e++,o[8]++;for(q(k,d+1,o),e=0;e<p;e++)A[2*e+1]=5,A[2*e]=z(e,5);x=new j(k,S,f+1,d,m),D=new j(A,T,0,p,m),L=new j(new Array(0),C,0,h,g)},K=function(e){var t;for(t=0;t<d;t++)e.dyn_ltree[2*t]=0;for(t=0;t<p;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*b]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Q=function(e){e.bi_valid>8?B(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Y=function(e,t,n,r){Q(e),r&&(B(e,n),B(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},J=function(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},Z=function(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&J(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!J(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},X=function(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?H(e,i,t):(o=R[i],H(e,o+f+1,t),0!==(a=S[o])&&(i-=N[o],V(e,i,a)),r--,o=F(r),H(e,o,n),0!==(a=T[o])&&(r-=M[o],V(e,r,a)))}while(s<e.last_lit);H(e,b,t)},ee=function(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=v,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)Z(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Z(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,Z(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],W(e,t),q(o,c,e.bl_count)},te=function(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*_]++):s<=10?e.bl_tree[2*w]++:e.bl_tree[2*E]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))},ne=function(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<c)do{H(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(H(e,i,e.bl_tree),s--),H(e,_,e.bl_tree),V(e,s-3,2)):s<=10?(H(e,w,e.bl_tree),V(e,s-3,3)):(H(e,E,e.bl_tree),V(e,s-11,7));s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}},re=function(e){var t;for(te(e,e.dyn_ltree,e.l_desc.max_code),te(e,e.dyn_dtree,e.d_desc.max_code),ee(e,e.bl_desc),t=h-1;t>=3&&0===e.bl_tree[2*O[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t},ie=function(e,t,n,r){var i;for(V(e,t-257,5),V(e,n-1,5),V(e,r-4,4),i=0;i<r;i++)V(e,e.bl_tree[2*O[i]+1],3);ne(e,e.dyn_ltree,t-1),ne(e,e.dyn_dtree,n-1)},oe=function(e){var r,i=4093624447;for(r=0;r<=31;r++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*r])return t;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return n;for(r=32;r<f;r++)if(0!==e.dyn_ltree[2*r])return n;return t},ae=!1,se=function(e,t,n,r){V(e,(o<<1)+(r?1:0),3),Y(e,t,n,!0)},ue=function(t,n,i,o){var u,c,l=0;t.level>0?(t.strm.data_type===r&&(t.strm.data_type=oe(t)),ee(t,t.l_desc),ee(t,t.d_desc),l=re(t),u=t.opt_len+3+7>>>3,(c=t.static_len+3+7>>>3)<=u&&(u=c)):u=c=i+5,i+4<=u&&-1!==n?se(t,n,i,o):t.strategy===e||c===u?(V(t,(a<<1)+(o?1:0),3),X(t,k,A)):(V(t,(s<<1)+(o?1:0),3),ie(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),X(t,t.dyn_ltree,t.dyn_dtree)),K(t),o&&Q(t)},ce=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(R[n]+f+1)]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1},le={_tr_init:function(e){ae||($(),ae=!0),e.l_desc=new U(e.dyn_ltree,x),e.d_desc=new U(e.dyn_dtree,D),e.bl_desc=new U(e.bl_tree,L),e.bi_buf=0,e.bi_valid=0,K(e)},_tr_stored_block:se,_tr_flush_block:ue,_tr_tally:ce,_tr_align:function(e){V(e,a<<1,3),H(e,b,k),G(e)}},fe=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0},de=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),pe=function(e,t,n,r){var i=de,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},he=pe,ve={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},me={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ye=le._tr_init,ge=le._tr_stored_block,be=le._tr_flush_block,_e=le._tr_tally,we=le._tr_align,Ee=me.Z_NO_FLUSH,Se=me.Z_PARTIAL_FLUSH,Te=me.Z_FULL_FLUSH,Ce=me.Z_FINISH,Oe=me.Z_BLOCK,Ie=me.Z_OK,ke=me.Z_STREAM_END,Ae=me.Z_STREAM_ERROR,Pe=me.Z_DATA_ERROR,Re=me.Z_BUF_ERROR,Ne=me.Z_DEFAULT_COMPRESSION,xe=me.Z_FILTERED,De=me.Z_HUFFMAN_ONLY,Le=me.Z_RLE,Me=me.Z_FIXED,je=me.Z_DEFAULT_STRATEGY,Ue=me.Z_UNKNOWN,Fe=me.Z_DEFLATED,Be=9,Ve=15,He=8,ze=286,Ge=30,We=19,qe=2*ze+1,$e=15,Ke=3,Qe=258,Ye=Qe+Ke+1,Je=32,Ze=42,Xe=69,et=73,tt=91,nt=103,rt=113,it=666,ot=1,at=2,st=3,ut=4,ct=3,lt=function(e,t){return e.msg=ve[t],t},ft=function(e){return(e<<1)-(e>4?9:0)},dt=function(e){for(var t=e.length;--t>=0;)e[t]=0},pt=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},ht=pt,vt=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},mt=function(e,t){be(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,vt(e.strm)},yt=function(e,t){e.pending_buf[e.pending++]=t},gt=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},bt=function(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=fe(e.adler,t,i,n):2===e.state.wrap&&(e.adler=he(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},_t=function(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-Ye?e.strstart-(e.w_size-Ye):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+Qe,p=c[o+a-1],h=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===h&&c[n+a-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=Qe-(d-o),o=d-Qe,r>a){if(e.match_start=t,a=r,r>=s)break;p=c[o+a-1],h=c[o+a]}}}while((t=f[t&l])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead},wt=function(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-Ye)){e.window.set(e.window.subarray(a,a+a),0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=bt(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=Ke)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=ht(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=ht(e,e.ins_h,e.window[o+Ke-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Ke)););}while(e.lookahead<Ye&&0!==e.strm.avail_in)},Et=function(e,t){for(var n,r;;){if(e.lookahead<Ye){if(wt(e),e.lookahead<Ye&&t===Ee)return ot;if(0===e.lookahead)break}if(n=0,e.lookahead>=Ke&&(e.ins_h=ht(e,e.ins_h,e.window[e.strstart+Ke-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ye&&(e.match_length=_t(e,n)),e.match_length>=Ke)if(r=_e(e,e.strstart-e.match_start,e.match_length-Ke),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ke){e.match_length--;do{e.strstart++,e.ins_h=ht(e,e.ins_h,e.window[e.strstart+Ke-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ht(e,e.ins_h,e.window[e.strstart+1]);else r=_e(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(mt(e,!1),0===e.strm.avail_out))return ot}return e.insert=e.strstart<Ke-1?e.strstart:Ke-1,t===Ce?(mt(e,!0),0===e.strm.avail_out?st:ut):e.last_lit&&(mt(e,!1),0===e.strm.avail_out)?ot:at},St=function(e,t){for(var n,r,i;;){if(e.lookahead<Ye){if(wt(e),e.lookahead<Ye&&t===Ee)return ot;if(0===e.lookahead)break}if(n=0,e.lookahead>=Ke&&(e.ins_h=ht(e,e.ins_h,e.window[e.strstart+Ke-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ke-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ye&&(e.match_length=_t(e,n),e.match_length<=5&&(e.strategy===xe||e.match_length===Ke&&e.strstart-e.match_start>4096)&&(e.match_length=Ke-1)),e.prev_length>=Ke&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ke,r=_e(e,e.strstart-1-e.prev_match,e.prev_length-Ke),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=ht(e,e.ins_h,e.window[e.strstart+Ke-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=Ke-1,e.strstart++,r&&(mt(e,!1),0===e.strm.avail_out))return ot}else if(e.match_available){if((r=_e(e,0,e.window[e.strstart-1]))&&mt(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ot}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=_e(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ke-1?e.strstart:Ke-1,t===Ce?(mt(e,!0),0===e.strm.avail_out?st:ut):e.last_lit&&(mt(e,!1),0===e.strm.avail_out)?ot:at},Tt=function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=Qe){if(wt(e),e.lookahead<=Qe&&t===Ee)return ot;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=Ke&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+Qe;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=Qe-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ke?(n=_e(e,1,e.match_length-Ke),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=_e(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(mt(e,!1),0===e.strm.avail_out))return ot}return e.insert=0,t===Ce?(mt(e,!0),0===e.strm.avail_out?st:ut):e.last_lit&&(mt(e,!1),0===e.strm.avail_out)?ot:at},Ct=function(e,t){for(var n;;){if(0===e.lookahead&&(wt(e),0===e.lookahead)){if(t===Ee)return ot;break}if(e.match_length=0,n=_e(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(mt(e,!1),0===e.strm.avail_out))return ot}return e.insert=0,t===Ce?(mt(e,!0),0===e.strm.avail_out?st:ut):e.last_lit&&(mt(e,!1),0===e.strm.avail_out)?ot:at};function Ot(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var It=[new Ot(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(wt(e),0===e.lookahead&&t===Ee)return ot;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,mt(e,!1),0===e.strm.avail_out))return ot;if(e.strstart-e.block_start>=e.w_size-Ye&&(mt(e,!1),0===e.strm.avail_out))return ot}return e.insert=0,t===Ce?(mt(e,!0),0===e.strm.avail_out?st:ut):(e.strstart>e.block_start&&(mt(e,!1),e.strm.avail_out),ot)})),new Ot(4,4,8,4,Et),new Ot(4,5,16,8,Et),new Ot(4,6,32,32,Et),new Ot(4,4,16,16,St),new Ot(8,16,32,32,St),new Ot(8,16,128,128,St),new Ot(8,32,128,256,St),new Ot(32,128,258,1024,St),new Ot(32,258,258,4096,St)],kt=function(e){e.window_size=2*e.w_size,dt(e.head),e.max_lazy_match=It[e.level].max_lazy,e.good_match=It[e.level].good_length,e.nice_match=It[e.level].nice_length,e.max_chain_length=It[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ke-1,e.match_available=0,e.ins_h=0};function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Fe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*qe),this.dyn_dtree=new Uint16Array(2*(2*Ge+1)),this.bl_tree=new Uint16Array(2*(2*We+1)),dt(this.dyn_ltree),dt(this.dyn_dtree),dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array($e+1),this.heap=new Uint16Array(2*ze+1),dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ze+1),dt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Pt=function(e){if(!e||!e.state)return lt(e,Ae);e.total_in=e.total_out=0,e.data_type=Ue;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Ze:rt,e.adler=2===t.wrap?0:1,t.last_flush=Ee,ye(t),Ie},Rt=function(e){var t=Pt(e);return t===Ie&&kt(e.state),t},Nt=function(e,t){return e&&e.state?2!==e.state.wrap?Ae:(e.state.gzhead=t,Ie):Ae},xt=function(e,t,n,r,i,o){if(!e)return Ae;var a=1;if(t===Ne&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>Be||n!==Fe||r<8||r>15||t<0||t>9||o<0||o>Me)return lt(e,Ae);8===r&&(r=9);var s=new At;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Ke-1)/Ke),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,Rt(e)},Dt=function(e,t){var n,r;if(!e||!e.state||t>Oe||t<0)return e?lt(e,Ae):Ae;var i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===it&&t!==Ce)return lt(e,0===e.avail_out?Re:Ae);i.strm=e;var o=i.last_flush;if(i.last_flush=t,i.status===Ze)if(2===i.wrap)e.adler=0,yt(i,31),yt(i,139),yt(i,8),i.gzhead?(yt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),yt(i,255&i.gzhead.time),yt(i,i.gzhead.time>>8&255),yt(i,i.gzhead.time>>16&255),yt(i,i.gzhead.time>>24&255),yt(i,9===i.level?2:i.strategy>=De||i.level<2?4:0),yt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(yt(i,255&i.gzhead.extra.length),yt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=he(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Xe):(yt(i,0),yt(i,0),yt(i,0),yt(i,0),yt(i,0),yt(i,9===i.level?2:i.strategy>=De||i.level<2?4:0),yt(i,ct),i.status=rt);else{var a=Fe+(i.w_bits-8<<4)<<8;a|=(i.strategy>=De||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=Je),a+=31-a%31,i.status=rt,gt(i,a),0!==i.strstart&&(gt(i,e.adler>>>16),gt(i,65535&e.adler)),e.adler=1}if(i.status===Xe)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=he(e.adler,i.pending_buf,i.pending-n,n)),vt(e),n=i.pending,i.pending!==i.pending_buf_size));)yt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=he(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=et)}else i.status=et;if(i.status===et)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=he(e.adler,i.pending_buf,i.pending-n,n)),vt(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,yt(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=he(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=tt)}else i.status=tt;if(i.status===tt)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=he(e.adler,i.pending_buf,i.pending-n,n)),vt(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,yt(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=he(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=nt)}else i.status=nt;if(i.status===nt&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&vt(e),i.pending+2<=i.pending_buf_size&&(yt(i,255&e.adler),yt(i,e.adler>>8&255),e.adler=0,i.status=rt)):i.status=rt),0!==i.pending){if(vt(e),0===e.avail_out)return i.last_flush=-1,Ie}else if(0===e.avail_in&&ft(t)<=ft(o)&&t!==Ce)return lt(e,Re);if(i.status===it&&0!==e.avail_in)return lt(e,Re);if(0!==e.avail_in||0!==i.lookahead||t!==Ee&&i.status!==it){var s=i.strategy===De?Ct(i,t):i.strategy===Le?Tt(i,t):It[i.level].func(i,t);if(s!==st&&s!==ut||(i.status=it),s===ot||s===st)return 0===e.avail_out&&(i.last_flush=-1),Ie;if(s===at&&(t===Se?we(i):t!==Oe&&(ge(i,0,0,!1),t===Te&&(dt(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),vt(e),0===e.avail_out))return i.last_flush=-1,Ie}return t!==Ce?Ie:i.wrap<=0?ke:(2===i.wrap?(yt(i,255&e.adler),yt(i,e.adler>>8&255),yt(i,e.adler>>16&255),yt(i,e.adler>>24&255),yt(i,255&e.total_in),yt(i,e.total_in>>8&255),yt(i,e.total_in>>16&255),yt(i,e.total_in>>24&255)):(gt(i,e.adler>>>16),gt(i,65535&e.adler)),vt(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Ie:ke)},Lt=function(e,t){var n=t.length;if(!e||!e.state)return Ae;var r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==Ze||r.lookahead)return Ae;if(1===i&&(e.adler=fe(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(dt(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}var a=e.avail_in,s=e.next_in,u=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,wt(r);r.lookahead>=Ke;){var c=r.strstart,l=r.lookahead-(Ke-1);do{r.ins_h=ht(r,r.ins_h,r.window[c+Ke-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++}while(--l);r.strstart=c,r.lookahead=Ke-1,wt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ke-1,r.match_available=0,e.next_in=s,e.input=u,e.avail_in=a,r.wrap=i,Ie},Mt=Dt,jt={deflateInit:function(e,t){return xt(e,t,Fe,Ve,He,je)},deflateInit2:xt,deflateReset:Rt,deflateResetKeep:Pt,deflateSetHeader:Nt,deflate:Mt,deflateEnd:function(e){if(!e||!e.state)return Ae;var t=e.state.status;return t!==Ze&&t!==Xe&&t!==et&&t!==tt&&t!==nt&&t!==rt&&t!==it?lt(e,Ae):(e.state=null,t===rt?lt(e,Pe):Ie)},deflateSetDictionary:Lt,deflateInfo:"pako deflate (from Nodeca project)"};function Ut(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var i=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var u=e[o];i.set(u,a),a+=u.length}return i}for(var Ft=new Uint8Array(256),Bt=0;Bt<256;Bt++)Ft[Bt]=Bt>=252?6:Bt>=248?5:Bt>=240?4:Bt>=224?3:Bt>=192?2:1;function Vt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Ft[254]=Ft[254]=1;var Ht=Vt,zt=Object.prototype.toString,Gt=me.Z_NO_FLUSH,Wt=me.Z_SYNC_FLUSH,qt=me.Z_FULL_FLUSH,$t=me.Z_FINISH,Kt=me.Z_OK,Qt=me.Z_STREAM_END,Yt=me.Z_DEFAULT_COMPRESSION,Jt=me.Z_DEFAULT_STRATEGY,Zt=me.Z_DEFLATED;function Xt(){this.options={level:Yt,method:Zt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Jt};var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ht,this.strm.avail_out=0;var t=jt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Kt)throw new Error(ve[t]);if(e.header&&jt.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="[object ArrayBuffer]"===zt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(t=jt.deflateSetDictionary(this.strm,n))!==Kt)throw new Error(ve[t]);this._dict_set=!0}}function en(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t}return Xt.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?$t:Gt,"[object ArrayBuffer]"===zt.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(r===Wt||r===qt)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((n=jt.deflate(i,r))===Qt)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=jt.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Kt;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},Xt.prototype.onData=function(e){this.chunks.push(e)},Xt.prototype.onEnd=function(e){e===Kt&&(this.result=Ut(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},{Deflate:Xt,constants:me,string2buf:en}}(),n=t.Deflate,r=t.constants,i=t.string2buf,o=new n,a=0;function s(e){var t=i(e);return o.push(t,r.Z_SYNC_FLUSH),a+=t.length,t.length}self.addEventListener("message",e((function(e){var t=e.data;switch(t.action){case"init":self.postMessage({type:"initialized"});break;case"write":var i=s(t.data);self.postMessage({type:"wrote",id:t.id,compressedBytesCount:o.chunks.reduce((function(e,t){return e+t.length}),0),additionalBytesCount:i});break;case"flush":i=t.data?s(t.data):0;o.push("",r.Z_FINISH),self.postMessage({type:"flushed",id:t.id,result:o.result,additionalBytesCount:i,rawBytesCount:a}),o=new n,a=0}})))}))()}var hs={status:0};function vs(e,t){switch(void 0===t&&(t=ds),hs.status){case 0:hs={status:1,callbacks:[e]},function(e){void 0===e&&(e=ds);try{var t=e();return t.addEventListener("error",S(ms)),t.addEventListener("message",S((function(e){var n=e.data;"errored"===n.type?ms(n.error):"initialized"===n.type&&function(e){1===hs.status&&(hs.callbacks.forEach((function(t){return t(e)})),hs={status:3,worker:e})}(t)}))),t.postMessage({action:"init"}),t}catch(e){ms(e)}}(t);break;case 1:hs.callbacks.push(e);break;case 2:e();break;case 3:e(hs.worker)}}function ms(e){var t;1===hs.status?(y.error("Session Replay recording failed to start: an error occurred while creating the Worker:",e),e instanceof Event||e instanceof Error&&(G(t=e.message,"Content Security Policy")||G(t,"requires 'TrustedScriptURL'"))?y.error("Please make sure CSP is correctly configured https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy"):zt(e),hs.callbacks.forEach((function(e){return e()})),hs={status:2}):zt(e)}var ys=function(e,t){if(void 0===t&&(t=vs),Fe()||"function"!=typeof Array.from||"function"!=typeof CSSSupportsRule||!("forEach"in NodeList.prototype))return{start:V,stop:V,getReplayStats:function(){},onRumStart:V,isRecording:function(){return!1}};var n={status:0},r=function(){n={status:1}},i=function(){n={status:0}};return{start:function(){return r()},stop:function(){return i()},getReplayStats:is,onRumStart:function(o,a,s,u){o.subscribe(7,(function(){2!==n.status&&3!==n.status||(i(),n={status:1})})),o.subscribe(8,(function(){1===n.status&&r()})),r=function(){var r=s.findTrackedSession();r&&r.sessionReplayAllowed?2!==n.status&&3!==n.status&&(n={status:2},$t("interactive",(function(){2===n.status&&t((function(t){if(2===n.status)if(t){var r=e(o,a,s,u,t).stop;n={status:3,stopRecording:r}}else n={status:0}}))}))):n={status:1}},i=function(){0!==n.status&&(3===n.status&&n.stopRecording(),n={status:0})},1===n.status&&r()},isRecording:function(){return 3===n.status}}}((function(e,t,n,r,i,o){var a=o||vo(t.sessionReplayEndpointBuilder,ls,(function(t){e.notify(12,{error:t})})),s=fs(e,t.applicationId,n,r,a,i),u=s.addRecord,c=s.stop,l=Ja({emit:u,configuration:t,lifeCycle:e}),f=l.stop,d=l.takeSubsequentFullSnapshot,p=l.flushMutations,h=e.subscribe(4,(function(){p(),u({timestamp:_e(),type:Mo.ViewEnd})})).unsubscribe,v=e.subscribe(2,(function(e){d(e.startClocks.timeStamp)})).unsubscribe;return{stop:function(){h(),v(),f(),c()}}})),gs=function(e,t,n){var r=(void 0===n?{}:n).ignoreInitIfSyntheticsWillInjectRum,i=void 0===r||r,o=!1,a=pe(),s=pe(),u=function(){},c=function(){},l=new ve,f=function(e,t){void 0===t&&(t=_e()),l.add((function(){return f(e,t)}))},d=function(e,t){void 0===t&&(t=Ee()),l.add((function(){return d(e,t)}))},p=function(e,n){void 0===n&&(n=At(a,s,t)),l.add((function(){return p(e,n)}))},h=function(e,n){void 0===n&&(n=At(a,s,t)),l.add((function(){return h(e,n)}))},v=function(e,t){l.add((function(){return v(e,t)}))};function m(n,r,i){var o=e(n,r,t,a,s,i);d=o.startView,p=o.addAction,h=o.addError,f=o.addTiming,v=o.addFeatureFlagEvaluation,u=o.getInternalContext,l.drain(),t.onRumStart(o.lifeCycle,r,o.session,o.viewContexts)}var g,b,_=S((function(e){d("object"==typeof e?e:{name:e})})),w=(g={init:S((function(e){if(c=function(){return ae(e)},!i||!je()){if(Fe())e=function(e){return M({},e,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100})}(e);else if(!function(e){return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(U()),n="test";Pe(t,n,P,e);var r=Re(t)===n;return Ne(t,e),r}catch(e){return y.error(e),!1}}(Et(e))?"file:"!==window.location.protocol||(y.error("Execution is not allowed in the current context."),!1):(y.warn("Cookies are not authorized, we will not send any data."),!1)}(e))return;if(function(e){return!o||(e.silentMultipleInit||y.error("DD_RUM is already initialized."),!1)}(e)){var t=It(e);if(t){if(Be("feature_flags")&&(w.addFeatureFlagEvaluation=S((function(e,t){v(e,t)}))),t.trackViewsManually){var n=l;l=new ve,d=function(n){m(e,t,n)},n.drain()}else m(e,t);o=!0}}}})),addRumGlobalContext:S(a.add),setGlobalContextProperty:S(a.setContextProperty),removeRumGlobalContext:S(a.remove),removeGlobalContextProperty:S(a.removeContextProperty),getRumGlobalContext:S(a.get),getGlobalContext:S(a.getContext),setRumGlobalContext:S(a.set),setGlobalContext:S(a.setContext),clearGlobalContext:S(a.clearContext),getInternalContext:S((function(e){return u(e)})),getInitConfiguration:S((function(){return c()})),addAction:S((function(e,t){p({name:e,context:ae(t),startClocks:Ee(),type:"custom"})})),addError:function(e,t){var n=it();T((function(){h({error:e,handlingStack:n,context:ae(t),startClocks:Ee()})}))},addTiming:S((function(e,t){f(e,t)})),setUser:S((function(e){(function(e){var t="object"===ie(e);return t||y.error("Unsupported user:",e),t})(e)&&s.setContext(at(e))})),getUser:S(s.getContext),setUserProperty:S((function(e,t){var n,r=at((n={},n[e]=t,n))[e];s.setContextProperty(e,r)})),removeUserProperty:S(s.removeContextProperty),removeUser:S(s.clearContext),clearUser:S(s.clearContext),startView:_,startSessionReplayRecording:S(t.start),stopSessionReplayRecording:S(t.stop)},b=M({version:"4.35.0",onReady:function(e){e()}},g),Object.defineProperty(b,"_setDebug",{get:function(){return E},enumerable:!1}),b);return w}((function(e,t,n,r,i,o){var a=new Vn;a.subscribe(11,(function(e){return Pt("rum",e)}));var s=function(e){var t=Vt("browser-rum-sdk",e);if(Fe()){var n=Ue();t.observable.subscribe((function(e){return n.send("internal_telemetry",e)}))}return t}(t);s.setContextProvider((function(){var e,n;return{application:{id:t.applicationId},session:{id:null===(e=d.findTrackedSession())||void 0===e?void 0:e.id},view:{id:null===(n=m.findView())||void 0===n?void 0:n.id},action:{id:b.findActionId()}}}));var u=function(e){a.notify(12,{error:e})},c=function(e,t){if(void 0===t&&(t=de),!Be("feature_flags"))return{findFeatureFlagEvaluations:function(){},getFeatureFlagBytesCount:function(){return 0},addFeatureFlagEvaluation:V};var n,r=new qn(wo);return e.subscribe(4,(function(e){var t=e.endClocks;r.closeActive(t.relative)})),e.subscribe(2,(function(e){var t=e.startClocks;r.add({},t.relative),n=void 0})),{findFeatureFlagEvaluations:function(e){return r.find(e)},getFeatureFlagBytesCount:function(){var e=r.find();return e?(void 0===n&&(n=t(H(e))),n):0},addFeatureFlagEvaluation:function(e,t){var i=r.find();i&&(i[e]=ae(t),n=void 0)}}}(a);if(Fe())!function(e){var t=Ue();e.subscribe(11,(function(e){t.send("rum",e)}))}(a);else{var l=function(){var e=new Rt((function(){var t=Be("pagehide"),n=Dt(window,["visibilitychange","freeze","pagehide"],(function(n){"pagehide"===n.type&&t?e.notify({reason:Lt.PAGEHIDE}):"visibilitychange"===n.type&&"hidden"===document.visibilityState?e.notify({reason:Lt.HIDDEN}):"freeze"===n.type&&e.notify({reason:Lt.FROZEN})}),{capture:!0}).stop,r=V;return t||(r=xt(window,"beforeunload",(function(){e.notify({reason:Lt.UNLOADING})})).stop),function(){n(),r()}}));return e}();l.subscribe((function(e){a.notify(9,e)}));var f=go(t,a,s.observable,u,l);!function(e,t,n,r,i,o,a){t.enabled&&F(e.customerDataTelemetrySampleRate)&&(Ao(),Po(),n.subscribe(11,(function(e){To=!0,Io(So.globalContextBytes,Z(r.get())?0:r.getBytesCount()),Io(So.userContextBytes,Z(i.get())?0:i.getBytesCount());var t=o.findFeatureFlagEvaluations(),n=G(["view","error"],e.type)&&t&&!Z(t);Io(So.featureFlagBytes,n?o.getFeatureFlagBytesCount():0)})),a.subscribe((function(e){var t=e.bufferBytesCount,n=e.bufferMessagesCount;To&&(Eo.batchCount+=1,Io(Eo.batchBytesCount,t),Io(Eo.batchMessagesCount,n),ko(Eo.globalContextBytes,So.globalContextBytes),ko(Eo.userContextBytes,So.userContextBytes),ko(Eo.featureFlagBytes,So.featureFlagBytes),Po())})),setInterval(S(Oo),Co))}(t,s,a,r,i,c,f.flushObservable)}var d=Fe()?function(){var e={id:"00000000-aaaa-0000-aaaa-000000000000",plan:1,sessionReplayAllowed:!1,longTaskAllowed:!0,resourceAllowed:!0};return{findTrackedSession:function(){return e}}}():to(t,a),p=function(){var e=qt(),t=new Rt((function(){if(e){var n=new e(S((function(){return t.notify()})));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return n.disconnect()}}}));return t}(),h=_o(location),v=function(e,t,n,r,i,o,a,s){var u=function(e){var t=new qn($n);return e.subscribe(2,(function(e){t.add(function(e){return{service:e.service,version:e.version,id:e.id,name:e.name}}(e),e.startClocks.relative)})),e.subscribe(4,(function(e){var n=e.endClocks;t.closeActive(n.relative)})),e.subscribe(8,(function(){t.reset()})),{findView:function(e){return t.find(e)},stop:function(){t.stop()}}}(e),c=function(e,t,n){var r,i=new qn(bo);e.subscribe(4,(function(e){var t=e.endClocks;i.closeActive(t.relative)})),e.subscribe(2,(function(e){var t=e.startClocks,o=n.href;i.add(a({url:o,referrer:r||document.referrer}),t.relative),r=o}));var o=t.subscribe((function(e){var t=e.newLocation,n=i.find();if(n){var r=we();i.closeActive(r),i.add(a({url:t.href,referrer:n.referrer}),r)}}));function a(e){return{url:e.url,referrer:e.referrer}}return{findUrl:function(e){return i.find(e)},stop:function(){o.unsubscribe(),i.stop()}}}(e,i,n),l=Ln(),f=function(e,t,n,r){e.subscribe(1,(function(t){return e.notify(10,Jr(t,r))}));var i={findActionId:V};return n.trackUserInteractions&&(i=Qr(e,t,n).actionContexts),{addAction:function(t,n){e.notify(10,M({savedCommonContext:n},Jr(t,r)))},actionContexts:i}}(e,o,t,l),d=f.addAction,p=f.actionContexts;return Rn(t,e,r,u,c,p,a,s),{viewContexts:u,foregroundContexts:l,urlContexts:c,addAction:d,actionContexts:p,stop:function(){u.stop(),l.stop()}}}(a,t,location,d,h,p,(function(){return At(r,i,n)}),u),m=v.viewContexts,y=v.foregroundContexts,g=v.urlContexts,b=v.actionContexts,_=v.addAction;!function(e){Bt.telemetryConfigurationEnabled&&Gt({type:jt.configuration,configuration:e})}(function(e){var t,n,r=function(e){var t,n,r=null!==(t=e.proxy)&&void 0!==t?t:e.proxyUrl;return{session_sample_rate:null!==(n=e.sessionSampleRate)&&void 0!==n?n:e.sampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:void 0!==r?!!r:void 0,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_resources:e.trackResources,track_long_task:e.trackLongTasks}}(e);return M({premium_sample_rate:e.premiumSampleRate,replay_sample_rate:e.replaySampleRate,session_replay_sample_rate:e.sessionReplaySampleRate,trace_sample_rate:null!==(t=e.traceSampleRate)&&void 0!==t?t:e.tracingSampleRate,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_origins:Array.isArray(e.allowedTracingOrigins)&&e.allowedTracingOrigins.length>0,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:kt(e),default_privacy_level:e.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(e.allowedTracingOrigins)&&e.allowedTracingOrigins.length>0,track_frustrations:e.trackFrustrations,track_views_manually:e.trackViewsManually,track_user_interactions:null!==(n=e.trackUserInteractions)&&void 0!==n?n:e.trackInteractions},r)}(e)),function(e,t){e.subscribe(0,(function(n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if("longtask"!==o.entryType)break;var a=t.findTrackedSession(o.startTime);if(!a||!a.longTaskAllowed)break;var s=me(o.startTime),u={date:s.timeStamp,long_task:{id:U(),duration:ge(o.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(10,{rawRumEvent:u,startTime:s.relative,domainContext:{performanceEntry:o.toJSON()}})}}))}(a,d);var w=(Lo(Do()),{findAll:function(e,t){for(var n=[],r=Ce(e,t),i=xo.length-1;i>=0;i--){var o=xo[i].startTime;if(!(o>=r)&&(n.unshift(xo[i]),o<e))break}return n.length?n:void 0},stop:Dt(window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],(function(e){e.isTrusted&&("freeze"===e.type?Lo("frozen"):"pagehide"===e.type?Lo(e.persisted?"frozen":"terminated"):Lo(Do()))}),{capture:!0}).stop});fi(a,t,d,w);var E=Ii(a,t,location,p,h,y,c,n,o),T=E.addTiming,C=E.startView,O=ui(a,y,c).addError;sr(a,t,d),gn(a,t);var I=function(e,t,n,r,i){return{get:function(o){var a=n.findView(o),s=i.findUrl(o),u=t.findTrackedSession(o);if(u&&a&&s){var c=r.findActionId(o);return{application_id:e,session_id:u.id,user_action:c?{id:c}:void 0,view:{id:a.id,name:a.name,referrer:s.referrer,url:s.url}}}}}}(t.applicationId,d,m,b,g);return{addAction:_,addError:O,addTiming:T,addFeatureFlagEvaluation:c.addFeatureFlagEvaluation,startView:C,lifeCycle:a,viewContexts:m,session:d,getInternalContext:I.get}}),ys);!function(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return g(e,"onReady callback threw an error:")()}))}(ee(),"DD_RUM",gs);var bs=c(32859),_s=c(23108),ws=c(82760),Es=c(90470);const Ss=function(){var e=window.assessmentObj,t=e.IS_PROD,n=e.IS_STAGING,r=e.user.ID,i=bs.Ty.dev,o="https://b32f1d5138e74ac192efa976d7972bb9@o557252.ingest.sentry.io/5821477";t?(i=bs.Ty.production,o="https://a30702b545ed4781970511ce58209523@o557252.ingest.sentry.io/5821477"):n&&(i=bs.Ty.staging,o="https://97d149a4c8db4dbb88760190cca57203@o557252.ingest.sentry.io/5821477"),(0,Es.j)({DSN:o,tunnel:t?"https://esp.hackerearth.com/sentry-o557252/api/5821477/envelope/":void 0,environment:i,user:{id:r},ignoreErrors:["Error: ajax error in code player setup","Error: Language client is not ready yet","Error: Connection is disposed","Error: Language Client services has not been installed"]})};var Ts=function(){var e=window.assessmentObj,t=void 0===e?{}:e,n=t.IS_PROD,r=t.user,i=r.EMAIL,o=r.ID,a=r.FIRST_NAME;!function(e){var t=e.applicationId,n=e.clientToken,r=e.site,i=e.service,o=e.userId,a=e.email,s=e.name,u=e.isProd;gs.init({applicationId:t,clientToken:n,site:r,service:i,sessionSampleRate:100,sessionReplaySampleRate:100,trackUserInteractions:!0,trackResources:!0,trackLongTasks:!0,defaultPrivacyLevel:"mask-user-input",trackSessionAcrossSubdomains:!0,env:u?"prod":"staging",proxy:bs.bt}),gs.setUser({id:o,name:s,email:a}),gs.startSessionReplayRecording()}({applicationId:ws.uP,clientToken:ws.Yt,site:ws.Me,service:ws.Jr,userId:o,email:i,name:a,isProd:n})},Cs=c(5661),Os=(c(85680),c(76441)),Is=c(2720),ks=c(82027),As=c(73474),Ps=c(84756),Rs=c(23206);function Ns(e){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(e)}function xs(){xs=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function p(){}function h(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==Ns(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),u(g,s,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ds(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ms(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var js=(0,d.$j)((function(e){var t=e.headerReducer.appReducer.data.is_preview_mode;return{isAdminPreview:void 0!==t&&t,audioProctoringToken:e.duringReducer.proctoringPermissionsReducer.audioProctoringToken,isTestMarkedAsCompleted:e.headerReducer.endTestReducer.isTestMarkedAsCompleted,hasTestTimeEnded:e.headerReducer.timerReducer.ended}}),(function(e){return{hideProblemsContainer:function(){return e(Ps.e.DuringActions.ProctoringPermissionsActions.hideProblemsContainer())},showProblemsContainer:function(){return e(Ps.e.DuringActions.ProctoringPermissionsActions.showProblemsContainer())},getAudioProctoringToken:function(t){return e(Ps.e.DuringActions.ProctoringPermissionsActions.getAudioProctoringToken(t))}}}))((function(e){var n=e.hideProblemsContainer,r=e.showProblemsContainer,i=e.getAudioProctoringToken,o=e.audioProctoringToken,a=e.isAdminPreview,s=e.isTestMarkedAsCompleted,u=e.hasTestTimeEnded,c=Ls((0,t.useState)(!1),2),l=c[0],f=c[1],d=(0,ks.J)({audio:!0,video:!1}),p=d.joinStage,h=d.leaveStage,v=d.isAudioPermissionDenied,m=d.audioTrack,y=(0,As.k)(),g=v||!y||o.isLoading||o.error;(0,t.useEffect)((function(){(s||u)&&h()}),[s,u]);var b=function(){var e,t=(e=xs().mark((function e(){var t,n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.assessmentObj.event,n=(void 0===t?{}:t).SLUG,e.prev=1,e.next=4,i((0,Rs.lk)({eventSlug:n}));case 4:return r=e.sent,e.next=7,p({token:r});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ds(o,r,i,a,s,"next",e)}function s(e){Ds(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,t.useEffect)((function(){!m||l||a||(b(),f(!0))}),[m]),(0,t.useEffect)((function(){a||(v?n():r())}),[v]),(0,t.useEffect)((function(){a||(v||!y||!m?n():r())}),[v,y,m]),(0,t.useEffect)((function(){return function(){return h()}}),[]);return a||s||u?null:t.createElement("div",{className:"flex items-center flex-col"},g&&t.createElement(Is.Z,{color:"blue",size:48,containerStyle:{margin:"20% auto 20px"}}),v?"Provide audio permission":y?null:"Check internet connection")})),Us=(0,t.lazy)((function(){return c.e(5622).then(c.bind(c,15622))}));const Fs=function(){return t.createElement(t.Suspense,{fallback:t.createElement(p.u,null)},t.createElement(o.Z5,null,t.createElement(o.AW,{path:"/:lang?/challenges/:testType/:testSlug/pre/*",element:t.createElement(Us,null)})))};var Bs=c(69348),Vs=c.n(Bs),Hs=c(97328),zs=c(58242),Gs=c(47422),Ws=c(62285);const qs={showWarnMessage:{before:600}};const $s={DOWNLOAD:"download",PRE:"pre",DURING:"during",POST:"post"};var Ks=new Date(864e5);function Qs(){var e=$("#end-test-form");e.length||window.location.reload();var t=e.find("form").attr("ajax"),n=getCookie("csrfToken");$.ajax({url:t,type:"POST",data:{csrfmiddlewaretoken:n},success:function(e){var t=e.url;t?window.location.href=t:window.location.reload()},error:function(){"undefined"!=typeof addAlert&&addAlert(SOMETHING_WENT_WRONG_ERROR_TEXT)}})}var Ys,Js=function(e){var t,n,r=window,i=r.event_admin_preview,o=void 0===i?"":i,a=r.assessmentObj,s=(void 0===a?{}:a).disableTabSwitch,u=void 0!==s&&s;if(!o){var c=new Date;Math.round((c-Ks)/1e3)>5&&((t="blurred",n=document.querySelector("#activity-log-url").textContent,$.ajax({url:n,type:"POST",data:{action:t}})).always((function(){var t,n,r,i,o;u&&(t=e,n=document.querySelector("#get-user-logout-data"),r=$(n).attr("ajax"),i=$(n).attr("event_id"),o=$(n).attr("user_id"),$.ajax({url:r,data:{event_id:i,user_id:o},type:"POST",dataType:"json",success:function(e){e.status==AJAX_OK&&(e.perform_logout?Qs():t(e.last_tab_switch_warning))},error:function(e,t){"undefined"!=typeof addAlert&&addAlert(SOMETHING_WENT_WRONG_ERROR_TEXT)}}))})),Ks=c)}},Zs=c(40530);function Xs(e){return Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(e)}function eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Xs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Xs(o)?o:String(o)),r)}var i,o}function tu(e,t){return tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tu(e,t)}function nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ru(e);if(t){var i=ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Xs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ru(e)}function iu(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var ou=(Ys=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tu(e,t)}(a,e);var n,r,i,o=nu(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={hours:"0",minutes:"0",seconds:"0"},t.updateTimerInterval=1e3,t.syncTimeInterval=12e4,t.timeLeft=e.timeLeft,t.timerInterval=null,t.syncTimerInterval=null,window.onbeforeunload=t.beforeUnload,t}return n=a,r=[{key:"componentDidMount",value:function(){var e=this.props.testState;this.getTimerInHHMMSSFormat(),e===$s.DURING&&this.checkToStartTimer()}},{key:"componentDidUpdate",value:function(){this.props.ended&&this.endTest()}},{key:"componentWillUnmount",value:function(){this.clearAllIntervals()}},{key:"getTimerInHHMMSSFormat",value:function(){if(this.timeLeft&&this.timeLeft>0){var e=(0,_s.fM)(this.timeLeft),t=e.hours,n=e.minutes,r=e.seconds;this.setState({hours:t,minutes:n,seconds:r})}}},{key:"beforeUnload",value:function(e){var t=this.props,n=t.started,r=t.testState,i=window.assessmentObj,o=(void 0===i?{}:i).disableTabSwitch;if(!(!0!==n||void 0!==o&&o||window.CLOSE_BROWSER||r!==$s.DURING)){var a=window.LEAVE_CONFIRM_MESSAGE_1;return void 0===e&&(e=window.event),e&&(e.returnValue=a),a}return null}},{key:"checkToStartTimer",value:function(){(0,this.props.startTimer)(),this.startTimer(),this.syncTimer(),this.syncTimerWithServer(),window.CLOSE_BROWSER=!0}},{key:"showWarnMessage",value:function(){var e=this.props,t=e.showMessage,n=e.show_surprise_question,r=AppTextConstants.candidateExperience.notifications.END_TEST_WARNING,i=r.MESSAGE,o=r.MINUTES,a=r.MINUTE,s=r.ONCE_THE_TIME_IS_OVER,u=Math.floor(this.timeLeft/60),c=i.format({minutes:u,minutesText:1===u?a:o});n&&(c="".concat(c," ").concat(s)),t({message:c,type:Ws.Z.WARN})}},{key:"startTimer",value:function(){var e=this;this.timerInterval=setInterval((function(){var t=e.props.endTestWarning;e.timeLeft-=1,e.getTimerInHHMMSSFormat(),e.timeLeft%60==0&&e.timeLeft<=qs.showWarnMessage.before&&!t.isClosed&&e.showWarnMessage(),0===e.timeLeft&&e.syncTimer()}),this.updateTimerInterval)}},{key:"clearAllIntervals",value:function(){clearInterval(this.timerInterval),clearInterval(this.syncTimerInterval)}},{key:"syncTimer",value:function(){var e=this,t=this.props,n=t.syncTimer;n({url:t.timeCompletedUrl}).then((function(t){var n=t.ended,r=t.left,i=t.alert_message;i&&addAlert(i),n?e.endTest():(e.timeLeft=r,e.getTimerInHHMMSSFormat())})).catch((function(e){(0,Es.R)({origin:"syncTimer- startSync",error:e})}))}},{key:"syncTimerWithServer",value:function(){var e=this;this.props.timeCompletedUrl&&(this.syncTimerInterval=setInterval((function(){e.syncTimer()}),this.syncTimeInterval))}},{key:"endTest",value:function(){(0,this.props.endTimer)(),this.clearAllIntervals(),a.removeTestDOM(),Qs()}},{key:"render",value:function(){var e=this.props,n=e.present,r=e.started,i=e.timeLeft,o=AppTextConstants.candidateExperience.header,a=o.TIMER_PRE_PLACEHOLDER,s=o.TIMER_ATTEMPTED_PLACEHOLDER,u=this.state,c=u.hours,l=u.minutes,f=u.seconds,d=a;return n?(r&&0===i&&(d=s),t.createElement(zs.u,{position:"bottom",ariaLabel:d,klass:Vs()("header-tooltips",{"hide-tool-tip":!0===r&&this.timeLeft>0})},t.createElement(Zs.B,{hours:c,minutes:l,seconds:f,showWarning:this.timeLeft<=qs.showWarnMessage.before}))):null}}],i=[{key:"removeTestDOM",value:function(){$(".left-pane, .right-pane").html("").hide(),$(".test-completed").removeClass("hidden")}}],r&&eu(n.prototype,r),i&&eu(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),iu(Ys.prototype,"getTimerInHHMMSSFormat",[Os.Nj],Object.getOwnPropertyDescriptor(Ys.prototype,"getTimerInHHMMSSFormat"),Ys.prototype),iu(Ys.prototype,"beforeUnload",[Os.Nj],Object.getOwnPropertyDescriptor(Ys.prototype,"beforeUnload"),Ys.prototype),iu(Ys.prototype,"checkToStartTimer",[Os.Nj],Object.getOwnPropertyDescriptor(Ys.prototype,"checkToStartTimer"),Ys.prototype),iu(Ys.prototype,"showWarnMessage",[Os.Nj],Object.getOwnPropertyDescriptor(Ys.prototype,"showWarnMessage"),Ys.prototype),iu(Ys.prototype,"startTimer",[Os.Nj],Object.getOwnPropertyDescriptor(Ys.prototype,"startTimer"),Ys.prototype),iu(Ys.prototype,"clearAllIntervals",[Os.Nj],Object.getOwnPropertyDescriptor(Ys.prototype,"clearAllIntervals"),Ys.prototype),iu(Ys.prototype,"syncTimer",[Os.Nj],Object.getOwnPropertyDescriptor(Ys.prototype,"syncTimer"),Ys.prototype),iu(Ys.prototype,"syncTimerWithServer",[Os.Nj],Object.getOwnPropertyDescriptor(Ys.prototype,"syncTimerWithServer"),Ys.prototype),iu(Ys.prototype,"endTest",[Os.Nj],Object.getOwnPropertyDescriptor(Ys.prototype,"endTest"),Ys.prototype),Ys);ou.propTypes={};var au=(0,d.$j)((function(e){return{show_surprise_question:(e.headerReducer.appReducer.data||{}).show_surprise_question,ended:e.headerReducer.timerReducer.ended,endTestWarning:e.notificationsReducer.endTestWarningReducer}}),(function(e){return{syncTimer:function(t){return e(Ps.e.HeaderActions.TimerActions.syncTimer(t))},startTimer:function(){return e(Ps.e.HeaderActions.TimerActions.startTimer())},endTimer:function(){return e(Ps.e.HeaderActions.TimerActions.endTimer())},showMessage:function(t){return e(Ps.e.NotificationsActions.EndTestWarningActions.showMessage(t))}}}))(ou),su=c(3855),uu=c(84949),cu=c.n(uu),lu=c(7178),fu=c(97004),du=c(70363),pu=c(78252),hu=c(63382),vu=c(50589);function mu(e){return mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(e)}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==mu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===mu(o)?o:String(o)),r)}var i,o}var gu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isImageDark",value:function(t,n){e.getBrightness(t,(function(e){n(e<30)}))}},{key:"getBrightness",value:function(e,t){var n=document.createElement("img");n.src=e,n.crossOrigin="anonymous",n.style.display="none",document.body.appendChild(n);var r=0;n.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height;var n=e.getContext("2d");n.drawImage(this,0,0);for(var i,o,a,s,u=n.getImageData(0,0,e.width,e.height).data,c=0,l=u.length;c<l;c+=4)i=u[c],o=u[c+1],a=u[c+2],s=Math.sqrt(.299*i*i+.587*o*o+.114*a*a),r+=s;var f=Math.floor(r/(this.width*this.height)/255*100);return t(f)}}}],(n=null)&&yu(t.prototype,n),r&&yu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const bu=gu;var _u=c(746);function wu(e){return wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(e)}function Eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==wu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===wu(o)?o:String(o)),r)}var i,o}var Su,Tu,Cu,Ou,Iu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.href,r="    const urlString = ".concat(JSON.stringify(n),"\n    const originURL = new URL(urlString)\n    const originalImportScripts = self.importScripts\n    self.importScripts = (url) => originalImportScripts.call(self, new URL(url, originURL).toString())\n    importScripts(urlString);\n"),i=new Blob([r],{type:"application/javascript"}),o=URL.createObjectURL(i);this.worker=new Worker(o),URL.revokeObjectURL(o)}var t,n,r;return t=e,(n=[{key:"getWorker",value:function(){return this.worker}}])&&Eu(t.prototype,n),r&&Eu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ku(e){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(e)}function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){Ru(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ru(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ku(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ku(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nu,xu,Du,Lu=!1,Mu=!1,ju=!1,Uu=0,Fu=function(){var e;null===(e=Du)||void 0===e||e.terminate(),clearInterval(Tu),clearInterval(Cu)},Bu=function(){clearInterval(Tu),clearInterval(Cu),Mu=!0,vu.Z.snapshotHandler.setInterval((function(){vu.Z.takeSnapshot(Nu,xu)}),1e4)},Vu=function(e){var t=e.data,n=t.currentValue,r=t.boundingBoxes,i=t.toTakeSnap,o=t.base64Img,a=t.modelLoaded;a&&(Lu=!0),i&&a&&function(e){var t=e.currentValue,n=e.base64Img,r=vu.Z.getPresignedUrlReq();r.then((function(e){var r=e.data;if(!(0,_u.xb)(r)){if(!n)return;var i="PUT"===r.method?vu.Z.PUTImageToS3(r.requestData,n):vu.Z.POSTImageToS3(r.requestData,n);i.then((function(){var e,n;$.ajax({url:"/api/hackathon/private/".concat(null===(e=window)||void 0===e||null===(n=e.headerObj)||void 0===n?void 0:n.eventSlug,"/upload-processed-snapshot/"),type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(Pu(Pu({snapshot_key:r.requestData.filename},t),{},{bounding_box:[]}))})})),i.catch((function(e){console.error("Error in uploading image to s3",e)}))}})),r.catch((function(){}))}({currentValue:n,boundingBoxes:r,base64Img:o})};function Hu(e,t){if(xu=e,Nu=t,window.Worker){$u();try{var n=new Iu(new URL(c.p+c.u(1132),c.b));(Du=n.getWorker()).onmessage=Vu,Du.onerror=function(e){throw Error(e)}}catch(e){(0,Es.R)({origin:"worker-file-download-failed",error:"worker file loading error: fallback to previous flow"}),Bu()}}else Bu()}var zu=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=hu.ZP.previousSnap;0!==hu.ZP.snapshotCounter&&e===n&&t&&Lu?(Uu>hu.ZP.logWebcamIssueAfterConsecutiveTries&&((0,Es.R)({origin:"react-webcam-error",error:"prev and current image are same --frontend-image-processing"}),console.log("prev and current image are same --frontend-image-processing"),Nu(),clearInterval(Tu),clearInterval(Cu)),Uu+=1):Uu=0,t&&(hu.ZP.previousSnap=e,hu.ZP.snapshotCounter+=1)},Gu=function(){var e=hu.ZP.snapShotWidth,t=hu.ZP.snapShotHeight,n=hu.ZP.screenshotFormat,r=hu.ZP.screenshotQuality,i=xu.current.getCanvas({width:e,height:e}),o=i.getContext("2d").getImageData(0,0,e,t);return{base64Img:i.toDataURL(n,r),imagePixelData:o}},Wu=function(){var e;if(!Mu){if(!Lu){var t=((new Date).getTime()-Ou)/1e3;if(t>hu.ZP.waitTimeToFallbackToPrevFlow)return Fu(),vu.Z.snapshotHandler.setInterval((function(){vu.Z.takeSnapshot(Nu,xu)}),1e4),void(0,Es.R)({origin:"failed-tensorflow-load",error:"tensorflow failed to load after ".concat(hu.ZP.waitTimeToFallbackToPrevFlow," sec-: fallback to previous flow")});t>hu.ZP.waitTimeToRetryLoadingWorker&&!ju&&(Fu(),ju=!0,(0,Es.R)({origin:"failed-tensorflow-load",error:"tensorflow failed to load after ".concat(hu.ZP.waitTimeToRetryLoadingWorker," sec-: Retry again")}),Hu(xu,Nu))}var n=Gu(),r=n.base64Img,i=n.imagePixelData;zu(r),null===(e=Du)||void 0===e||e.postMessage({base64Img:r,image:i})}},qu=function(){var e,t=Gu(),n=t.base64Img,r=t.imagePixelData;zu(n,!1),null===(e=Du)||void 0===e||e.postMessage({base64Img:n,image:r,takeSnapshot:!0})},$u=function(){Su=document.querySelector(".camera-container video");var e=hu.ZP.snapShotWidth,t=hu.ZP.snapShotHeight;navigator.mediaDevices.getUserMedia({video:{width:e,height:t},audio:!1}).then((function(e){Su.srcObject=e,Su.addEventListener("loadeddata",(function(){if(!Mu){clearInterval(Tu),clearInterval(Cu),Tu=setInterval(Wu,1e4),Ou=Ou||(new Date).getTime();var e=hu.ZP.maxSnapTime;Cu=setInterval(qu,1e3*e)}}))}))};const Ku=Hu;function Qu(e){return Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(e)}var Yu;function Ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Qu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Qu(o)?o:String(o)),r)}var i,o}function Zu(e,t){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zu(e,t)}function Xu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ec(e);if(t){var i=ec(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Qu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ec(e){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ec(e)}function tc(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var nc=((window.AppTextConstants||{}).candidateExperience||{}).headerWebcamModalFAQs||{},rc=(Yu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zu(e,t)}(a,e);var n,r,i,o=Xu(a);function a(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e)).state={working:!0,showModal:!1,showFAQs:!1,isBrightnessLow:!1},n.showFAQsNumber=2,n.webcamRef=t.createRef(null),n}return n=a,i=[{key:"getErrorInstructionsContent",value:function(){var e=nc.webcamModalInstructions.error,n=void 0===e?{}:e,r=n.HEADING,i=n.REFRESH_TEXT,o=n.MESSAGES;return t.createElement("div",{className:"instructions error-instructions"},t.createElement("div",{className:"margin-bottom-4"},r),t.createElement("ul",null,o.map((function(e,n){return t.createElement("li",{key:e},e,0===n&&t.createElement("span",{className:"refresh-page link",onClick:function(){return window.location.reload()},role:"presentation"},t.createElement("i",{className:"icon ui-rotate-left"}),i))}))))}},{key:"getConnectedInstructionsContent",value:function(){var e=nc.webcamModalInstructions,n=(void 0===e?{}:e).connected,r=void 0===n?{}:n,i=r.HEADING,o=r.MESSAGES,a=void 0===o?[]:o;return t.createElement("div",{className:"instructions connected-instuctions"},t.createElement("div",{className:"margin-bottom-4"},i),t.createElement("ul",null,a.map((function(e){return t.createElement("li",{key:e},e)}))))}},{key:"getSupportComponent",value:function(){var e=nc.supportText,n=(window.headerObj||{}).testAdminEmail;return t.createElement("div",{className:"mail-to margin-top-24"},e,t.createElement("a",{className:"margin-left-4",href:"mailto:{testAdminEmail}"},n),".")}}],(r=[{key:"getInstructionsContent",value:function(){return this.state.working?a.getConnectedInstructionsContent():a.getErrorInstructionsContent()}},{key:"getWebcamModal",value:function(){var e=this.state,n=e.working,r=e.showModal,i=e.showFAQs,o=e.isBrightnessLow,s=this.props,u=(s.isLoading,s.fullscreenPermission),c=s.canMountWebcam,l=(window.headerObj||{}).hasFullscreen,f=nc.FAQs,d=void 0===f?{}:f;return d.RELATED_FAQS,d.SEE_ALL,t.createElement(lu.Z,{onClose:this.hideModal,show:!0,trapFocus:r||!l&&u,className:Vs()("webcam-error-modal",{hide:!r||l&&!u}),sm:pu.Z.small.sm,md:pu.Z.small.md,lg:pu.Z.small.lg,xl:pu.Z.small.xl,enableEscKey:!n,hideEsc:!n},t.createElement(fu.Z,null,this.getModalHeaderContent()),t.createElement(du.Z,null,t.createElement("div",{className:Vs()({hidden:i}),"data-working":n,"data-showModal":r,"data-fs":l&&!u},t.createElement("div",{className:"instructions-and-webcam"},this.getInstructionsContent(),t.createElement("div",{className:"camera-container"},c&&t.createElement(cu(),{ref:this.webcamRef,audio:!1,width:hu.ZP.cameraWidth,height:hu.ZP.cameraHeight,screenshotFormat:hu.ZP.screenshotFormat,screenshotQuality:hu.ZP.screenshotQuality,onUserMedia:this.handleWebcamLoad,onUserMediaError:this.showWebcamError}))),o&&t.createElement("div",{className:"fa-red margin-top-8"}),!1),!1,a.getSupportComponent()))}},{key:"setBrightness",value:function(e){this.setState({isBrightnessLow:e})}},{key:"getModalHeaderContent",value:function(){var e=this.state,n=e.working,r=e.showFAQs,i=nc.webcamModalHeadingText,o=void 0===i?{}:i,a=o.CONNECTED,s=o.NOT_CONNECTED,u=o.RELATED_FAQS;return r?t.createElement("div",{className:"faqs-full-page"},t.createElement("button",{type:"button",className:"btn-plain",onClick:this.handleGoBack},t.createElement("i",{className:"icon ui-chevron-arrow-left"})),t.createElement("span",{className:"margin-left-20"},u)):n?t.createElement("div",{className:"webcam-connected-page"},t.createElement("i",{className:"icon ui-check-o brand-green"}),a):t.createElement("div",{className:"webcam-error-page"},t.createElement("i",{className:"icon ui-close-o"}),s)}},{key:"handleWebcamLoad",value:function(){var e=this.props.webcamProctoringPermissionSuccess;this.setState({working:!0}),e(),this.webcamLive()}},{key:"handleAllFAQs",value:function(){this.setState({showFAQs:!0})}},{key:"handleGoBack",value:function(){this.setState({showFAQs:!1})}},{key:"showWebcamError",value:function(){var e=this.props,t=e.handleWebcamError;(0,e.webcamProctoringPermissionFailure)(),t(!0)}},{key:"checkForImageBrightness",value:function(){var e=this;setInterval((function(){var t=e.webcamRef.current.takeSnapshot();bu.isImageDark(t,e.setBrightness)}),1e3)}},{key:"webcamLive",value:function(){var e=this,t=this.props.isAdmin;this.hideModal(),$(".load-javascript-div").removeClass("hidden");var n=$(".view-body");void 0!==n&&n.removeClass("hidden"),$("#problem-detail-wrapper").removeClass("hidden"),t||((window.assessmentObj||{}).toProcessSnapshots?Ku(this.webcamRef,this.showErrorModal):(vu.Z.takeSnapshot(this.showErrorModal,this.webcamRef),vu.Z.snapshotHandler.setInterval((function(){vu.Z.takeSnapshot(e.showErrorModal,e.webcamRef)}),1e4)))}},{key:"webcamError",value:function(){this.showErrorModal()}},{key:"hideModal",value:function(){this.setState({showModal:!1,showFAQs:!1})}},{key:"showModal",value:function(){var e=this.state,t=e.working,n=e.showModal;t&&n?this.hideModal():this.setState({showModal:!0})}},{key:"showErrorModal",value:function(){var e=this;this.setState({working:!1},(function(){e.showModal()}))}},{key:"render",value:function(){var e=this.state.working,n=nc.HEADER_TOOL_TIP,r=nc.headerImageTexts,i=void 0===r?{}:r,o=i.WEBCAM_NOT_WORKING,a=i.WEBCAM_WORKING;return t.createElement(t.Fragment,null,t.createElement(zs.u,{position:"bottom",ariaLabel:n,klass:"header-tooltips"},t.createElement("button",{type:"button",className:"btn-plain",onClick:this.showModal},t.createElement("img",{className:Vs()("webcam",{"cursor-pointer":e}),src:"".concat(STATIC_URL,e?"hackathon/private/test_experience_assets/webcam-working.svg":"hackathon/private/test_experience_assets/webcam-not-working.svg"),alt:e?a:o}))),this.getWebcamModal())}}])&&Ju(n.prototype,r),i&&Ju(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),tc(Yu.prototype,"getInstructionsContent",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"getInstructionsContent"),Yu.prototype),tc(Yu.prototype,"getWebcamModal",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"getWebcamModal"),Yu.prototype),tc(Yu.prototype,"setBrightness",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"setBrightness"),Yu.prototype),tc(Yu.prototype,"getModalHeaderContent",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"getModalHeaderContent"),Yu.prototype),tc(Yu.prototype,"handleWebcamLoad",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"handleWebcamLoad"),Yu.prototype),tc(Yu.prototype,"handleAllFAQs",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"handleAllFAQs"),Yu.prototype),tc(Yu.prototype,"handleGoBack",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"handleGoBack"),Yu.prototype),tc(Yu.prototype,"showWebcamError",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"showWebcamError"),Yu.prototype),tc(Yu.prototype,"checkForImageBrightness",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"checkForImageBrightness"),Yu.prototype),tc(Yu.prototype,"webcamLive",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"webcamLive"),Yu.prototype),tc(Yu.prototype,"webcamError",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"webcamError"),Yu.prototype),tc(Yu.prototype,"hideModal",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"hideModal"),Yu.prototype),tc(Yu.prototype,"showModal",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"showModal"),Yu.prototype),tc(Yu.prototype,"showErrorModal",[Os.Nj],Object.getOwnPropertyDescriptor(Yu.prototype,"showErrorModal"),Yu.prototype),Yu);rc.propTypes={};const ic=(0,d.$j)((function(e){return{isLoading:e.headerReducer.FAQReducer.isLoading,fullscreenPermission:e.duringReducer.proctoringPermissionsReducer.fullscreenPermission,webcamPermission:e.duringReducer.proctoringPermissionsReducer.webcamPermission,canMountWebcam:e.duringReducer.proctoringPermissionsReducer.canMountWebcam}}),(function(e){return{handleWebcamError:function(t){return e(Ps.e.DuringActions.ProctoringPermissionsActions.handleWebcamError(t))},webcamProctoringPermissionSuccess:function(){return e(Ps.e.DuringActions.ProctoringPermissionsActions.webcamProctoringPermissionSuccess())},webcamProctoringPermissionFailure:function(){return e(Ps.e.DuringActions.ProctoringPermissionsActions.webcamProctoringPermissionFailure())}}}))(rc);var oc=c(73847),ac=c(92833);function sc(e){return sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(e)}function uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lc(r.key),r)}}function cc(e,t,n){return(t=lc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e){var t=function(e,t){if("object"!==sc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sc(t)?t:String(t)}var fc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"fetchProblemsData",value:function(e){var t="/AJAX/get-event-problems-json_v2/".concat(window.headerObj.eventId,"/?response_type=encrypted"),n="assessment-problems-".concat(window.headerObj.eventSlug);return sessionStorage.getItem(n)?null:e({url:t,isEncrypted:1}).then((function(e){sessionStorage.setItem(n,JSON.stringify(e))}))}},{key:"fetchProblemsFiles",value:function(){$.ajax({url:"".concat(window.getCurrentLanguageCodeURL(),"/AJAX/").concat(window.headerObj.eventSlug,"/preload-problem-files/"),type:"GET",success:function(t){try{$("body").append(e.formHTML(t))}catch(e){$("body").append(t)}}})}},{key:"formHTML",value:function(t){var n=document.createElement("div");n.innerHTML=t;for(var r=$(n),i=[],o=r.find("link"),a=r.find("script"),s=0,u=o.length;s<u;s+=1)i.push(e.formLinks({type:e.link,url:o[s].getAttribute("href")}));for(var c=0,l=a.length;c<l;c+=1)i.push(e.formLinks({type:e.script,url:a[c].getAttribute("src")}));return i}},{key:"formLinks",value:function(e){var t=e.type,n=void 0===t?"":t,r=e.url,i=void 0===r?"":r;if(!n||!i)return"";var o=document.createElement("link");return o.setAttribute("rel","prefetch"),o.setAttribute("as",n),o.setAttribute("href",i),o}},{key:"decode",value:function(t,n){for(var r=[],i=0,o=t.length,a=n.length;i<o;i+=1){var s=n.charCodeAt(i%a),u=t.charCodeAt(i),c=String.fromCharCode(e.mod(u-s,127));r.push(c)}return r.join("")}},{key:"mod",value:function(e,t){return(e%t+t)%t}}],(n=null)&&uc(t.prototype,n),r&&uc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();cc(fc,"link","link"),cc(fc,"script","script");var dc=c(94752),pc=c(72007),hc=c(68855),vc=c(48980),mc=(0,d.$j)((function(e){return{show_surprise_question:(e.headerReducer.appReducer.data||{}).show_surprise_question,attemptedProb:e.duringReducer.problemsListReducer.attemptedProb,problems:e.duringReducer.problemsListReducer.problems}}),null)((function(e){var n=e.problems.totalProblems,r=e.attemptedProb,i=e.show_surprise_question,o=window.COMPLETED_TEXT,a=void 0===o?"":o,s=(window.AppTextConstants||{}).candidateExperience.header.PART_1,u=r.length/n*100;return Number.isNaN(u)?null:t.createElement(vc.k,{progress:u,label:t.createElement(t.Fragment,null,i&&"".concat(s," - "),t.createElement("span",{className:"semi-bold margin-right-4"},r.length," / ",n),a)})})),yc=c(66631),gc=c(92027),bc=c(91223),_c=c(57192);const wc=function(e){var n=e.openEndTestModal,r=AppTextConstants.candidateExperience,i=(void 0===r?{}:r).header,o=(void 0===i?{}:i).ENDTEST;return t.createElement(_c.z,{color:"red ",onClick:n},o)};var Ec=function(e){var n=e.openEndTestModal,r=window.AppTextConstants.candidateExperience,i=(void 0===r?{}:r).header.SUBMIT_AND_NEXT;return t.createElement(_c.z,{color:"green",onClick:n},i)},Sc=c(91166),Tc=c(1310);function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cc.apply(this,arguments)}var Oc=function(e){var n,r,i,o,a,s,u,c,l,f,d,h=e.data,v=void 0===h?{}:h,m=e.isLoading,y=e.error,g=e.getEndTestData,b=e.clearEndTestData,_=e.endTest,w=e.closeEndTestModal,E=e.isLabPractice,S=e.show_surprise_question,T=window.AppTextConstants.candidateExperience,C=(void 0===T?{}:T).header.SOMETHING_WENT_WRONG,O=null,I=function(){window.location.reload()},k=function(){var e=(v||{}).end_test_url;_({url:e})},A=function(){w(),b()};return(0,t.useEffect)((function(){var e=window.headerObj.eventId;return g({url:"".concat(window.getCurrentLanguageCodeURL(),"/AJAX/end_test_modal/").concat(e,"/")}),function(){b()}}),[]),O=m?t.createElement(du.Z,null,t.createElement(p.u,null)):y?t.createElement(du.Z,null,t.createElement("div",null,C)):v.no_participation?(n=window.AppTextConstants.candidateExperience,r=(void 0===n?{}:n).endTestModal,o=(i=void 0===r?{}:r).buttonsText,s=(a=void 0===o?{}:o).REFRESH,u=a.CANCEL,c=i.error,f=(l=void 0===c?{}:c).TITLE,d=l.MESSAGE,t.createElement(t.Fragment,null,t.createElement(fu.Z,null,f),t.createElement(du.Z,null,t.createElement("div",{className:"margin-bottom-16"},d),t.createElement("div",null,t.createElement(_c.z,{color:"red",klass:"margin-right-16",onClick:I},s),t.createElement(_c.z,{color:"link-blue",onClick:A},u))))):function(){var e=window.AppTextConstants.candidateExperience,n=void 0===e?{}:e,r=n.endTestModal,i=void 0===r?{}:r,o=i.buttonsText,a=void 0===o?{}:o,s=a.END_TEST,u=a.END_LAB,c=a.CANCEL,l=a.NEXT,f=i.TITLE,d=i.TITLE_LAB,p=i.SURPRISE_QUESTION_TITLE,h=i.MESSAGE,m=i.WARNING_MESSAGE,y=i.WARNING_MESSAGE_LAB,g=i.ONCE_YOU_END_THE_TEST_YOU_CANT_ACCESS,b=i.DAY,_=i.DAYS,w=i.HOUR,T=i.HOURS,C=i.MINUTE,O=i.MINUTES,I=i.SUBHEADING,P=n.problemsTypeVerbose,R=void 0===P?{}:P,N=v.show_unattempted_problems,x=v.time_left_days,D=void 0===x?0:x,L=v.time_left_hours,M=void 0===L?0:L,j=v.time_left_minutes,U=void 0===j?0:j,F=v.unattempted_problems,B=void 0===F?{}:F,V=null,H=null,z=null,G=null;if(N){var W="",q="",$="";if(D>0&&(W="".concat(D," ").concat(1===D?b:_)),M>0&&(q="".concat(M," ").concat(1===M?w:T)),U>0&&($="".concat(U," ").concat(1===U?C:O)),B){var K=Object.keys(B);K&&K.length&&(G=t.createElement(t.Fragment,null,t.createElement("div",{className:"margin-top-20 margin-bottom-10 semi-bold"},I),t.createElement("ul",{className:"unattempted-problems"},K.map((function(e){return t.createElement("li",{key:e},B[e]," ",R[Tc.Z[e].verbose])})))))}var Q=t.createElement("div",null,t.createElement("i",{className:"icon ui-clock margin-right-4 clock-icon"}),t.createElement("span",{dangerouslySetInnerHTML:{__html:h.format({daysText:W,hoursText:q,minutesText:$})}}));S?(H=p,z=l,V=t.createElement(t.Fragment,null,t.createElement("div",null,Q,G,t.createElement("div",{className:"margin-top-20"},g)))):E?(H=d,z=u,V=t.createElement(t.Fragment,null,t.createElement("div",null,Q,G,t.createElement("div",{className:"margin-top-20"},y)))):(H=f,z=s,V=t.createElement(t.Fragment,null,t.createElement("div",null,Q,G,t.createElement("div",{className:"margin-top-20"},m))))}return S?(H=p,z=l):E?(H=d,z=u):(H=f,z=s),t.createElement(t.Fragment,null,t.createElement(fu.Z,null,H),t.createElement(du.Z,null,V,t.createElement("div",{className:"margin-top-16"},t.createElement(_c.z,{color:S?"blue":"red",klass:"margin-right-16",onClick:k},z),t.createElement(_c.z,{color:"outline-blue",onClick:A},c))))}(),t.createElement(lu.Z,Cc({onClose:w,show:!0,className:"end-test-modal"},(0,Sc.T)(11)),O)};Oc.defaultProps={data:{no_participation:!1,show_unattempted_problems:!1,time_left_days:0,time_left_hours:0,time_left_minutes:0,unattempted_problems:{}}},Oc.propTypes={};const Ic=(0,d.$j)((function(e){var t=(e.headerReducer.appReducer.data||{}).show_surprise_question;return{isLoading:e.headerReducer.endTestReducer.isLoading,error:e.headerReducer.endTestReducer.error,data:e.headerReducer.endTestReducer.data,show_surprise_question:t}}),(function(e){return{getEndTestData:function(t){return e(Ps.e.HeaderActions.EndTestActions.getEndTestData(t))},clearEndTestData:function(){return e(Ps.e.HeaderActions.EndTestActions.clearEndTestData())},endTest:function(t){return e(Ps.e.HeaderActions.EndTestActions.endTest(t))}}}))(Oc);function kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ac(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Pc=(0,d.$j)((function(e){return{show_surprise_question:(e.headerReducer.appReducer.data||{}).show_surprise_question}}))((function(e){var n=e.show_surprise_question,r=kc((0,t.useState)(!1),2),i=r[0],o=r[1];return t.createElement(t.Fragment,null,n?t.createElement(Ec,{openEndTestModal:function(){return o(!0)}}):t.createElement(wc,{openEndTestModal:function(){return o(!0)}}),i&&t.createElement(Ic,{closeEndTestModal:function(){return o(!1)}}))}));var Rc=c(77882);function Nc(e){return Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(e)}function xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Nc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Nc(o)?o:String(o)),r)}var i,o}function Dc(e,t){return Dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dc(e,t)}function Lc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mc(e);if(t){var i=Mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Nc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Mc(e){return Mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mc(e)}var jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dc(e,t)}(a,e);var n,r,i,o=Lc(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(){var e=this.props,n=e.headingText,r=e.subHeadingText,i=e.className,o=e.resetText,a=e.cancelText,s=e.backIconHoverText,u=e.onCancel,c=e.onBack,l=e.onReset,f=e.showGoBack,d=e.resetButtonClass,p=t.createElement(Rc.Z,{name:"arrow-left",klass:"go-back cursor-pointer",onClick:c});return t.createElement("div",{className:Vs()("n-reset-container",i)},f&&(s?t.createElement(zs.u,{position:"top",ariaLabel:s,klass:"tooltip-wrapper"},p):{IconComp:p}),t.createElement("div",{className:"title"},n),r&&t.createElement("div",{className:"message-text"},r),t.createElement("div",{className:"margin-top-24"},t.createElement("button",{type:"button",className:Vs()(d,"margin-right-20"),onClick:l},o),t.createElement("button",{type:"button",className:"link cursor-pointer inline-block vertical-align-middle btn-plain",onClick:u},a)))}}])&&xc(n.prototype,r),i&&xc(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.PureComponent);jc.propTypes={},jc.defaultProps={subHeadingText:"",className:"",backIconHoverText:"",onBack:function(){},showGoBack:!1,resetButtonClass:"btn btn-blue btn-large"};const Uc=jc;var Fc=c(44509);function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(this,arguments)}function Vc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const zc=function(e){var n,r,i,o,a,s,u,c=e.openEndTestModal,l=Vc((0,t.useState)(!1),2),f=l[0],d=l[1],p=Vc((0,t.useState)(!1),2),h=p[0],v=p[1],m=function(){v((function(e){return!e}))},y=AppTextConstants.candidateExperience,g=(void 0===y?{}:y).labPracticeConstant,b=g.CLOSE_TEXT,_=g.SAVE_TEXT,w=g.CHANGES_SAVED,E=g.SAVE_AND_EXIT_MESSAGE;return t.createElement(t.Fragment,null,t.createElement(_c.z,{color:"red ",onClick:function(){d((function(e){return!e}))}},t.createElement("span",{className:"margin-right-8"},_),t.createElement(Fc.oe,{name:"chevron-down",size:14}),f&&t.createElement(Hs.S,{closePopup:function(){d(!1)},show_popup:f,hideIfInsideClick:!0,klass:"end-lab-dropdown-wrapper",top:40,right:22,pointer:"none"},t.createElement(su.Z,{list:(n=AppTextConstants.candidateExperience,r=(void 0===n?{}:n).labPracticeConstant,i=r.SUBMIT_TEXT,o=r.SAVE_PROGRESS,a=[],s=t.createElement("button",{type:"button",className:"btn-plain width-100 dropwdown-btn"},o),u=t.createElement("button",{type:"button",className:"btn-plain width-100 dropwdown-btn"},i),a.push({html:s,onClick:m},{html:u,onClick:c}),a)}))),h&&t.createElement(lu.Z,Bc({onClose:m,show:!0,className:"end-lab-modal"},pu.Z.small),t.createElement(du.Z,null,t.createElement(Uc,{headingText:w,subHeadingText:E,resetText:b,backIconHoverText:null,onBack:m,onReset:m,showGoBack:!1,resetClass:"btn btn-red btn-large"}))))};function Gc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const qc=function(){var e=Gc((0,t.useState)(!1),2),n=e[0],r=e[1];return t.createElement(t.Fragment,null,t.createElement(zc,{openEndTestModal:function(){return r(!0)}}),n&&t.createElement(Ic,{closeEndTestModal:function(){return r(!1)},isLabPractice:!0}))};var $c=c(94098);const Kc=function(){return t.createElement($c.M,null,t.createElement("button",{type:"button",className:"help-wrapper btn-plain"},t.createElement("i",{className:"icon ui-question-mark-o"})))};function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}var Yc;function Jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Qc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Qc(o)?o:String(o)),r)}var i,o}function Zc(e,t){return Zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zc(e,t)}function Xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tl(e);if(t){var i=tl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Qc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return el(e)}(this,n)}}function el(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tl(e){return tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tl(e)}function nl(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var rl=(Yc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zc(e,t)}(a,e);var n,r,i,o=Xc(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={showUserActions:!1,showLanguages:!1},t.worker=!1,t.headerObj=window.headerObj,window.assessmentObj&&(window.assessmentObj.preLoadData=t.preLoadData.bind(el(t))),t}return n=a,r=[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){this.worker&&this.worker.terminate()}},{key:"getData",value:function(){var e=this,t=this.props.fetchHeaderData,n=this.headerObj,r=n.eventSlug,i=n.testState;t({url:(0,Rs.XD)({slug:r,state:i})}).then((function(){window.headerObj.testState===$s.PRE&&window.headerObj.preload&&$(document).ready(e.preLoadData())}))}},{key:"getEndTestComponent",value:function(){var e=this.props.data,n=e.is_try_question_event,r=e.is_interview_sharable_test,i=void 0!==r&&r,o=e.is_lab_practice;return this.headerObj.testState!==$s.DURING||n||i?null:t.createElement(t.Fragment,null,t.createElement(ac.G,null),o?t.createElement(qc,null):t.createElement(Pc,null))}},{key:"getEmailComponent",value:function(){var e=this.headerObj.testState,n=this.props.data,r=n.is_preview_mode,i=n.email,o=n.logout_url,a=this.state.showUserActions,s=(window.AppTextConstants||{}).candidateExperience.header.LOGOUT;if(r)return null;if(i){var u=e===$s.DURING,c=!u;return t.createElement(t.Fragment,null,t.createElement(ac.G,null),t.createElement("button",{type:"button",className:Vs()("user-email","btn-plain",{"cursor-pointer":!u}),onClick:this.openUserActions},t.createElement(zs.u,{position:"bottom",ariaLabel:i,klass:Vs()("header-tooltips he-tooltip-multiline",{"hide-tool-tip":a,"is-last-child":c})},t.createElement("span",{className:"ellipsis inline-block email"},i),!u&&t.createElement("i",{className:"icon ui-chevron-arrow-bottom drop-down-icon"})),a&&!u&&t.createElement(Hs.S,{show_popup:a,closePopup:this.closeUserActions,hideIfInsideClick:!0,pointer:"right",klass:Vs()("user-drop-down",{"is-last-child":c})},t.createElement(su.Z,{list:[{link:o,title:s}]}))))}return null}},{key:"getLeaderboardComponent",value:function(){var e=this.props.data.leaderboard,n=e.is_present,r=e.url,i=(window.AppTextConstants||{}).candidateExperience.header,o=i.LEADERBOARD,a=i.LEADERBOARD_TOOLTIP_TEXT;return n&&r?t.createElement(zs.u,{position:"bottom",ariaLabel:a,klass:"leaderboard-container header-tooltips"},t.createElement("button",{type:"button",className:"leaderboard btn-plain"},t.createElement("i",{className:"icon ui-bar-chart"}),t.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},o))):null}},{key:"getLanguageOptions",value:function(){var e=this.state.showLanguages,n=this.headerObj.testState,r=this.props.data,i=r.languages,o=i.multiple_langs_present,a=void 0!==o&&o,s=i.selected,u=void 0===s?"":s,c=i.locales,l=void 0===c?[]:c,f=r.is_preview_mode,d=r.email,p=n!==$s.DURING&&(f||!d);if(!a)return null;var h=[];return l&&l.length?(h=l.map((function(e){var t=e.title;return{title:t,link:e.url,isSelected:u===t}})),t.createElement(t.Fragment,null,t.createElement(ac.G,null),t.createElement("button",{type:"button",className:"languages cursor-pointer btn-plain",onClick:this.openLanguageOptions},t.createElement("span",null,u),t.createElement("i",{className:"icon ui-chevron-arrow-bottom drop-down-icon"}),e&&t.createElement(Gs.i,{isFocusTrapActive:e},t.createElement(Hs.S,{show_popup:e,closePopup:this.closeLanguageOptions,hideIfInsideClick:!0,pointer:"right",klass:Vs()("language-drop-down",{"is-last-child":p})},t.createElement(su.Z,{list:h})))))):null}},{key:"getWebcamComponent",value:function(){var e=this.headerObj.testState,n=this.props.data,r=n.is_preview_mode,i=n.take_candidate_snapshot,o=void 0!==i&&i;return e===$s.DURING&&o?t.createElement(t.Fragment,null,t.createElement(ac.G,null),t.createElement(ic,{present:o,isAdmin:r})):null}},{key:"getHelpComponent",value:function(){var e=this.headerObj,n=e.eventSlug,r=e.testState;return this.props.data.is_lab_practice&&r===$s.DURING?t.createElement(t.Fragment,null,t.createElement(ac.G,null),t.createElement(Kc,null)):r===$s.DURING?t.createElement(t.Fragment,null,t.createElement(ac.G,null),t.createElement(oc.Z,{eventSlug:n})):void 0}},{key:"loadProcessSnapshotWorker",value:function(){try{this.worker=new Iu(new URL(c.p+c.u(5421),c.b))}catch(e){}}},{key:"preLoadData",value:function(){var e,t,n=this.props.getProblemsData;(null===(e=window.assessmentObj)||void 0===e?void 0:e.candidateSnapshot)&&(null===(t=window.assessmentObj)||void 0===t?void 0:t.toProcessSnapshots)&&this.loadProcessSnapshotWorker(),fc.fetchProblemsData(n),fc.fetchProblemsFiles()}},{key:"openLanguageOptions",value:function(){this.setState({showLanguages:!0})}},{key:"closeLanguageOptions",value:function(){this.setState({showLanguages:!1})}},{key:"openUserActions",value:function(){this.setState({showUserActions:!0})}},{key:"closeUserActions",value:function(){this.setState({showUserActions:!1})}},{key:"render",value:function(){var e=this.props,n=e.isLoading,r=e.data,i=e.error,o=this.headerObj.testState,a=r.company_logo,s=r.timer,u=r.is_interview_sharable_test,c=void 0!==u&&u,l=r.is_preview_mode;return n||0===Object.keys(r).length?t.createElement("div",{className:"header-blue-bg"},t.createElement(p.u,null)):i?window.addAlert(window.AppTextConstants.candidateExperience.header.RENDER_ISSUE_ALERT):t.createElement(dc.g,null,t.createElement(pc.T,null,t.createElement(hc.D,{title:null==a?void 0:a.title,url:null==a?void 0:a.url}),t.createElement(ac.G,null),t.createElement(mc,null),this.getLeaderboardComponent(),l&&t.createElement(yc.R,null)),!c&&t.createElement(gc.X,null,t.createElement(au,{present:s.is_present,timeLeft:s.time_left,started:s.participation_started,timeCompletedUrl:s.time_completed_url,testState:o})),t.createElement(bc.a,null,this.getLanguageOptions(),this.getEmailComponent(),this.getWebcamComponent(),this.getHelpComponent(),this.getEndTestComponent()))}}],i=[{key:"getSeparator",value:function(){return t.createElement("span",{className:"border-seperator"})}}],r&&Jc(n.prototype,r),i&&Jc(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),nl(Yc.prototype,"getData",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"getData"),Yc.prototype),nl(Yc.prototype,"getEndTestComponent",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"getEndTestComponent"),Yc.prototype),nl(Yc.prototype,"getEmailComponent",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"getEmailComponent"),Yc.prototype),nl(Yc.prototype,"getLeaderboardComponent",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"getLeaderboardComponent"),Yc.prototype),nl(Yc.prototype,"getLanguageOptions",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"getLanguageOptions"),Yc.prototype),nl(Yc.prototype,"getWebcamComponent",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"getWebcamComponent"),Yc.prototype),nl(Yc.prototype,"getHelpComponent",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"getHelpComponent"),Yc.prototype),nl(Yc.prototype,"preLoadData",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"preLoadData"),Yc.prototype),nl(Yc.prototype,"openLanguageOptions",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"openLanguageOptions"),Yc.prototype),nl(Yc.prototype,"closeLanguageOptions",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"closeLanguageOptions"),Yc.prototype),nl(Yc.prototype,"openUserActions",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"openUserActions"),Yc.prototype),nl(Yc.prototype,"closeUserActions",[Os.Nj],Object.getOwnPropertyDescriptor(Yc.prototype,"closeUserActions"),Yc.prototype),Yc);const il=(0,d.$j)((function(e){return{isLoading:e.headerReducer.appReducer.isLoading,error:e.headerReducer.appReducer.error,data:e.headerReducer.appReducer.data}}),(function(e){return{fetchHeaderData:function(t){return e(Ps.e.HeaderActions.AppActions.fetchHeaderData(t))},getProblemsData:function(t){return e(Ps.e.DuringActions.ProblemsListActions.getProblemsData(t))}}}))(rl);var ol=(0,t.lazy)((function(){return c.e(1583).then(c.bind(c,41583))}));const al=function(){return t.createElement(t.Suspense,{fallback:t.createElement(p.u,null)},t.createElement(o.Z5,null,t.createElement(o.AW,{path:"/:lang?/challenges/smart-browser/:testSlug/",element:t.createElement(ol,null)})))};var sl=c(99387),ul=c(18436),cl=(window.AppTextConstants||{}).offlineTextConstants||{},ll=cl.STATUS,fl=void 0===ll?{}:ll,dl=fl.DOWN,pl=fl.UP,hl=fl.RECONNECT_CONNECTING,vl=fl.RECONNECT_FAILURE,ml=fl.RECONNECT_TICK,yl=fl.RECONNECT_STOPPED,gl=cl.UNITS,bl=void 0===gl?{}:gl,_l=bl.DAYS,wl=bl.DAY,El=bl.HOURS,Sl=bl.HOUR,Tl=bl.MINUTES,Cl=bl.MINUTE,Ol=bl.SECONDS,Il=bl.SECOND,kl="down",Al="up",Pl="reconnect:connecting",Rl="reconnect:failure",Nl="reconnect:tick",xl="reconnect:stopped",Dl={down:{type:Ws.Z.ERROR,title:dl},up:{type:Ws.Z.INFO,title:pl},"reconnect:connecting":{type:Ws.Z.WARN,title:hl},"reconnect:failure":{type:Ws.Z.WARN,title:vl},"reconnect:tick":{type:Ws.Z.WARN,title:ml},"reconnect:stopped":{type:Ws.Z.WARN,title:yl}},Ll=86400,Ml=3600,jl=60,Ul=1,Fl={days:_l,day:wl,hours:El,hour:Sl,minutes:Tl,minute:Cl,seconds:Ol,second:Il};function Bl(e){return Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(e)}var Vl;function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zl(e,t,n){return(t=Wl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wl(r.key),r)}}function Wl(e){var t=function(e,t){if("object"!==Bl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bl(t)?t:String(t)}function ql(e,t){return ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ql(e,t)}function $l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kl(e);if(t){var i=Kl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Bl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Kl(e){return Kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kl(e)}function Ql(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Yl=(Vl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ql(e,t)}(a,e);var n,r,i,o=$l(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={isOffline:!1,status:null},window.Offline&&(window.Offline.options={interceptRequests:!1,requests:!1,checkOnLoad:!1}),t}return n=a,r=[{key:"componentDidMount",value:function(){var e=window.Offline;e&&(e.on(kl,this.showOfflineMessage),e.on(Al,this.showOnlineMessage),e.on(Pl,this.showReconnectConnectingComponent),e.on(Nl,this.showReconnectTickComponent),e.on(xl,this.showReconnectStoppedComponent),e.on(Rl,this.showReconnectFailureComponent))}},{key:"showReconnectConnectingComponent",value:function(){this.setState({status:Dl[Pl]})}},{key:"showReconnectTickComponent",value:function(){var e=((window.AppTextConstants||{}).offlineTextConstants||{}).OTHER,n=(void 0===e?{}:e).CONNECT_NOW,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hl(Object(n),!0).forEach((function(t){zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Dl[Nl]),i=window.Offline,o=(void 0===i?{}:i).reconnect,s=void 0===o?{}:o,u=s.remaining,c=s.tryNow,l=void 0===c?function(){}:c,f=a.getTimeWithUnit(u),d=f.time,p=f.unit,h=t.createElement("span",{className:"connect-now link cursor-pointer semi-bold float-right",onClick:function(){l()},role:"presentation"},n);r.title=t.createElement("span",null,r.title," ",d," ",p," ",h),this.setState({status:r})}},{key:"showReconnectStoppedComponent",value:function(){this.setState({status:Dl[xl]})}},{key:"showReconnectFailureComponent",value:function(){this.setState({status:Dl[Rl]})}},{key:"showOfflineMessage",value:function(){this.setState({isOffline:!0,status:Dl[kl]})}},{key:"showOnlineMessage",value:function(){var e=this;this.setState({status:Dl[Al]}),setTimeout((function(){e.setState({isOffline:!1})}),2e3)}},{key:"render",value:function(){var e=this.state,n=e.isOffline,r=e.status,i=this.props,o=i.detailsText,a=i.bodyComponent,s=i.toShowDetails;if(n&&r&&window.Offline){var u=r.type,c=r.title;return t.createElement("div",{className:"offline-container"},t.createElement(sl.Z,{className:Vs()("offline-message",{"spinner-icon-container":u===Ws.Z.WARN}),type:u,hideCloseIcon:!0,headerComponent:t.createElement("div",null,c),bodyComponent:u===Ws.Z.WARN&&s?a:null,detailsText:o,infoIcon:u===Ws.Z.WARN?"spinner-loader":null}))}return null}}],i=[{key:"getTimeWithUnit",value:function(e){var t=Ml,n=jl,r=null;if(e>=Ll){var i=Fl.days,o=Fl.day,a=Math.floor(e/Ll);r={time:a,unit:1===a?o:i}}else if(e>=t){var s=Fl.hours,u=Fl.hour,c=Math.floor(e/Ml);r={time:c,unit:1===c?u:s}}else if(e>=n){var l=Fl.minutes,f=Fl.minute,d=Math.floor(e/jl);r={time:d,unit:1===d?f:l}}else{var p=Fl.seconds,h=Fl.second,v=Math.floor(e/Ul);r={time:v,unit:1===v?h:p}}return r}}],r&&Gl(n.prototype,r),i&&Gl(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),Ql(Vl.prototype,"showReconnectConnectingComponent",[Os.Nj],Object.getOwnPropertyDescriptor(Vl.prototype,"showReconnectConnectingComponent"),Vl.prototype),Ql(Vl.prototype,"showReconnectTickComponent",[Os.Nj],Object.getOwnPropertyDescriptor(Vl.prototype,"showReconnectTickComponent"),Vl.prototype),Ql(Vl.prototype,"showReconnectStoppedComponent",[Os.Nj],Object.getOwnPropertyDescriptor(Vl.prototype,"showReconnectStoppedComponent"),Vl.prototype),Ql(Vl.prototype,"showReconnectFailureComponent",[Os.Nj],Object.getOwnPropertyDescriptor(Vl.prototype,"showReconnectFailureComponent"),Vl.prototype),Ql(Vl.prototype,"showOfflineMessage",[Os.Nj],Object.getOwnPropertyDescriptor(Vl.prototype,"showOfflineMessage"),Vl.prototype),Ql(Vl.prototype,"showOnlineMessage",[Os.Nj],Object.getOwnPropertyDescriptor(Vl.prototype,"showOnlineMessage"),Vl.prototype),Vl);const Jl=Yl;function Zl(e){return Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(e)}var Xl;function ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Zl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Zl(o)?o:String(o)),r)}var i,o}function tf(e,t){return tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tf(e,t)}function nf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rf(e);if(t){var i=rf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rf(e)}var of=(Xl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tf(e,t)}(a,e);var n,r,i,o=nf(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return n=a,r=[{key:"getTestEndNotification",value:function(){var e=this.props,n=e.endTestWarning,r=n.message,i=n.type,o=n.selfClose,a=n.isClosed,s=e.hideMessage;return r&&!a?t.createElement(sl.Z,{className:"test-experience-notifications",type:i||Ws.Z.WARN,headerComponent:r,selfClose:o,onClose:s}):null}},{key:"render",value:function(){var e,n,r=(window.AppTextConstants||{}).offlineTextConstants,i=(void 0===r?{}:r).OTHER,o=(void 0===i?{}:i).KNOW_MORE,s=void 0===o?"":o,u=this.props,c=u.notificationData,l=u.hideNotification;return t.createElement(t.Fragment,null,t.createElement("div",{className:"test-experience-notifications-wrapper"},t.createElement(Jl,{toShowDetails:(null===(e=window)||void 0===e||null===(n=e.headerObj)||void 0===n?void 0:n.testState)===$s.DURING,detailsText:s,bodyComponent:a.getOfflineDescriptionMessages()}),this.getTestEndNotification()),t.createElement(ul.b,{top:"52px",type:c.type,isVisible:c.isVisible,onHide:l,selfClose:c.selfClose},c.content))}}],i=[{key:"getOfflineDescriptionMessages",value:function(){var e=AppTextConstants.offlineTextConstants,n=(void 0===e?{}:e).OFFLINE_HELP_MESSAGES,r=void 0===n?{}:n,i=Object.keys(r);return i&&i.length?t.createElement("ul",{className:"extra-info"},i.map((function(e){return t.createElement("li",{className:"margin-bottom-8",key:r[e]},t.createElement("span",{className:"icon ui-arrow-right margin-right-16 vertical-align-middle"}),r[e])}))):null}}],r&&ef(n.prototype,r),i&&ef(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.PureComponent),function(e,t,n,r,i){var o={};Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}(Xl.prototype,"getTestEndNotification",[Os.Nj],Object.getOwnPropertyDescriptor(Xl.prototype,"getTestEndNotification"),Xl.prototype),Xl);of.propTypes={};const af=(0,d.$j)((function(e){return{endTestWarning:e.notificationsReducer.endTestWarningReducer,notificationData:e.notificationsReducer.commonActionReducer.notificationData}}),(function(e){return{hideMessage:function(){return e(Ps.e.NotificationsActions.EndTestWarningActions.hideMessage())},hideNotification:function(){return e(Ps.e.NotificationsActions.commonActions.hideNotification())}}}))(of);function sf(e){return sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(e)}var uf;function cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==sf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===sf(o)?o:String(o)),r)}var i,o}function lf(e,t){return lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lf(e,t)}function ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=df(e);if(t){var i=df(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===sf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},df(e)}function pf(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var hf=(uf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lf(e,t)}(a,e);var n,r,i,o=ff(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return n=a,i=[{key:"isDocumentInFullscreen",value:function(){return!(null==(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))}}],(r=[{key:"componentDidMount",value:function(){document.addEventListener("fullscreenchange",this.handleFullscreenChange,!1),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange,!1),document.addEventListener("mozfullscreenchange",this.handleFullscreenChange,!1),document.addEventListener("MSFullscreenChange",this.handleFullscreenChange,!1)}},{key:"handleFullscreenChange",value:function(){var e=this.props,t=e.fullscreenProctoringPermissionSuccess,n=e.fullscreenProctoringPermissionFailure,r=e.onFullscreen,i=e.onNotInFullscreen;a.isDocumentInFullscreen()?(t(),r()):(n(),i())}},{key:"enableFullscreen",value:function(){var e=this.props.onClick,t=document.documentElement,n=t.requestFullscreen||t.webkitRequestFullScreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen;void 0!==n&&n&&(n.call(t),e())}},{key:"render",value:function(){var e=this.props.onClick,n=((window.AppTextConstants||{}).candidateExperience||{}).proctoringSettings,r=void 0===n?{}:n,i=r.fullscreen,o=void 0===i?{}:i,a=r.buttonTexts,s=void 0===a?{}:a;return t.createElement(lu.Z,{onClose:e,show:!0,className:"align-center",sm:pu.Z.small.sm,md:pu.Z.small.md,lg:pu.Z.small.lg,xl:pu.Z.small.xl,enableEscKey:!0,hideEsc:!0},t.createElement(fu.Z,null,o.TITLE_2),t.createElement(du.Z,null,t.createElement("button",{type:"button",className:"button btn-large btn-blue semi-bold",onClick:this.enableFullscreen},s.TEXT_3)))}}])&&cf(n.prototype,r),i&&cf(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),pf(uf.prototype,"handleFullscreenChange",[Os.Nj],Object.getOwnPropertyDescriptor(uf.prototype,"handleFullscreenChange"),uf.prototype),pf(uf.prototype,"enableFullscreen",[Os.Nj],Object.getOwnPropertyDescriptor(uf.prototype,"enableFullscreen"),uf.prototype),uf);hf.propTypes={},hf.defaultProps={onClick:function(){},onFullscreen:function(){},onNotInFullscreen:function(){}};const vf=(0,d.$j)(null,(function(e){return{fullscreenProctoringPermissionSuccess:function(){return e(Ps.e.DuringActions.ProctoringPermissionsActions.fullscreenProctoringPermissionSuccess())},fullscreenProctoringPermissionFailure:function(){return e(Ps.e.DuringActions.ProctoringPermissionsActions.fullscreenProctoringPermissionFailure())}}}))(hf);function mf(e){return mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(e)}var yf;function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf.apply(this,arguments)}function bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==mf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===mf(o)?o:String(o)),r)}var i,o}function _f(e,t){return _f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_f(e,t)}function wf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ef(e);if(t){var i=Ef(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===mf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ef(e)}function Sf(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Tf=(yf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_f(e,t)}(a,e);var n,r,i,o=wf(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={showFullScreenPermission:!1,showFullScreenError:!1},t}return n=a,r=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.webcamPermission,r=t.hasFullscreen;e.webcamPermission!==n&&n&&r&&this.setState({showFullScreenPermission:!0})}},{key:"handleAllowPermission",value:function(){var e=this.props,t=e.webcamPermission,n=e.takeSnapshot,r=e.hasFullscreen,i=e.loadWebcam;n&&!t?i():r&&this.setState({showFullScreenPermission:!0})}},{key:"handleNotInFullscreen",value:function(){this.setState({showFullScreenError:!0})}},{key:"handleInFullscreen",value:function(){this.setState({showFullScreenError:!1})}},{key:"hideModal",value:function(){this.setState({showFullScreenPermission:!1})}},{key:"renderPermissionComponent",value:function(){var e=this.props,n=e.email,r=void 0===n?"":n,i=e.takeSnapshot,o=e.hasFullscreen,a=e.data,s=e.canShowWebcamError,u=this.state.showFullScreenError,c=((window.AppTextConstants||{}).candidateExperience||{}).proctoringSettings,l=void 0===c?{}:c,f=l.TITLE_1,d=l.TITLE_2,p=l.webcam,h=void 0===p?{}:p,v=l.fullscreen,m=void 0===v?{}:v,y=l.ISSUE_TEXT,g=l.buttonTexts,b=void 0===g?{}:g;return t.createElement("div",{className:Vs()("permission-container lighter-background-color dark align-center",{"darker-background-overlay":u})},t.createElement("div",{className:Vs()({"permission-container-modal":u})},t.createElement("div",{className:"heading align-center margin-16"},u?d:f),t.createElement("div",{className:"permission-item-container inline-block"},i&&t.createElement("div",{className:"permission-item inline-block"},t.createElement("div",{className:"heading"},h.TITLE),t.createElement("div",{className:"margin-top-12",dangerouslySetInnerHTML:{__html:h.DESCRIPTION}})),o&&t.createElement("div",{className:"permission-item inline-block"},t.createElement("div",{className:"heading"},m.TITLE),t.createElement("div",{className:"margin-top-12"},m.DESCRIPTION)),u&&t.createElement("div",{className:"padding-20 align-left"},m.ERROR),s&&t.createElement("div",{className:"webcam-issues padding-20 align-left"},t.createElement("div",{className:"wc-issue-header semi-bold"},h.error.TITLE),t.createElement("div",{className:"no-margin light"},h.error.REASON_1),t.createElement("div",{className:"no-margin light"},h.error.REASON_2)),t.createElement("div",{className:"regular margin-16 align-left"},y," ",t.createElement("a",{href:"mailto:".concat(r),target:"_blank",rel:"noopener noreferrer"},r),".")),t.createElement("div",{className:"align-center-div large-margin-top"},a&&Object.keys(a).length?t.createElement("button",{type:"button",className:"button btn-green btn-large",onClick:this.handleAllowPermission},u?b.TEXT_2:b.TEXT_1):t.createElement("button",{type:"button",className:"button btn-large disabled"},b.LOADING_TEXT))))}},{key:"render",value:function(){var e=this.state.showFullScreenPermission,n=this.props,r=n.takeSnapshot,i=n.hasFullscreen,o=n.webcamPermission,a=n.fullscreenPermission;if(r&&o){if(i&&a)return null;if(!i)return null}else if(i&&a)return null;return t.createElement(lu.Z,gf({show:!0,hideEsc:!0},pu.Z.compact14Size),t.createElement(du.Z,null,t.createElement("div",{className:"permission-wrapper"},this.renderPermissionComponent(),e&&t.createElement(vf,{onClick:this.hideModal,onFullscreen:this.handleInFullscreen,onNotInFullscreen:this.handleNotInFullscreen}))))}}],r&&bf(n.prototype,r),i&&bf(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),Sf(yf.prototype,"handleAllowPermission",[Os.Nj],Object.getOwnPropertyDescriptor(yf.prototype,"handleAllowPermission"),yf.prototype),Sf(yf.prototype,"handleNotInFullscreen",[Os.Nj],Object.getOwnPropertyDescriptor(yf.prototype,"handleNotInFullscreen"),yf.prototype),Sf(yf.prototype,"handleInFullscreen",[Os.Nj],Object.getOwnPropertyDescriptor(yf.prototype,"handleInFullscreen"),yf.prototype),Sf(yf.prototype,"hideModal",[Os.Nj],Object.getOwnPropertyDescriptor(yf.prototype,"hideModal"),yf.prototype),Sf(yf.prototype,"renderPermissionComponent",[Os.Nj],Object.getOwnPropertyDescriptor(yf.prototype,"renderPermissionComponent"),yf.prototype),yf);Tf.propTypes={};const Cf=(0,d.$j)((function(e){return{webcamPermission:e.duringReducer.proctoringPermissionsReducer.webcamPermission,canShowWebcamError:e.duringReducer.proctoringPermissionsReducer.canShowWebcamError,canMountWebcam:e.duringReducer.proctoringPermissionsReducer.canMountWebcam,fullscreenPermission:e.duringReducer.proctoringPermissionsReducer.fullscreenPermission,data:e.headerReducer.appReducer.data}}),(function(e){return{loadWebcam:function(){return e(Ps.e.DuringActions.ProctoringPermissionsActions.loadWebcam())}}}))(Tf);var Of=c(38025),If=c(64173),kf=c(61175),Af=c.n(kf);c(1123),c(39745);var Pf;!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"}(Pf||(Pf={}));const Rf={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class Nf{constructor(e,t=Pf.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e,...t){let n=this.level;Nf.LOG_LEVEL&&(n=Nf.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);if(!(Rf[e]>=Rf[n]))return;let r=console.log.bind(console);e===Pf.ERROR&&console.error&&(r=console.error.bind(console)),e===Pf.WARN&&console.warn&&(r=console.warn.bind(console)),Nf.BIND_ALL_LOG_LEVELS&&(e===Pf.INFO&&console.info&&(r=console.info.bind(console)),e===Pf.DEBUG&&console.debug&&(r=console.debug.bind(console)));const i=`[${e}] ${this._ts()} ${this.name}`;let o="";if(1===t.length&&"string"==typeof t[0])o=`${i} - ${t[0]}`,r(o);else if(1===t.length)o=`${i} ${t[0]}`,r(i,t[0]);else if("string"==typeof t[0]){let e=t.slice(1);1===e.length&&(e=e[0]),o=`${i} - ${t[0]} ${e}`,r(`${i} - ${t[0]}`,e)}else o=`${i} ${t}`,r(i,t);for(const e of this._pluggables){const t={message:o,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(Pf.INFO,...e)}info(...e){this._log(Pf.INFO,...e)}warn(...e){this._log(Pf.WARN,...e)}error(...e){this._log(Pf.ERROR,...e)}debug(...e){this._log(Pf.DEBUG,...e)}verbose(...e){this._log(Pf.VERBOSE,...e)}addPluggable(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}Nf.LOG_LEVEL=null,Nf.BIND_ALL_LOG_LEVELS=!1;class xf extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:r}){super(e),this.name=t,this.underlyingError=r,this.recoverySuggestion=n,this.constructor=xf,Object.setPrototypeOf(this,xf.prototype)}}const Df="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",Lf=new Nf("Hub");class Mf{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){const n=this.listeners.get(e);n?this.listeners.set(e,[...n.filter((({callback:e})=>e!==t))]):Lf.warn(`No listeners for ${e}`)}dispatch(e,t,n,r){if("string"==typeof e&&this.protectedChannels.indexOf(e)>-1){r===Df||Lf.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`)}const i={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){Lf.error(e)}}listen(e,t,n="noname"){let r;if("function"!=typeof t)throw new xf({name:"NoHubcallbackProvidedException",message:"No callback supplied to Hub"});r=t;let i=this.listeners.get(e);return i||(i=[],this.listeners.set(e,i)),i.push({name:n,callback:r}),()=>{this._remove(e,r)}}_toListeners(e){const{channel:t,payload:n}=e,r=this.listeners.get(t);r&&r.forEach((r=>{Lf.debug(`Dispatching to ${t} with `,n);try{r.callback(e)}catch(e){Lf.error(e)}}))}}const jf=new Mf("__default__"),Uf=(new Mf("internal-hub"),e=>{const t=Reflect.ownKeys(e);for(const n of t){const t=e[n];(t&&"object"==typeof t||"function"==typeof t)&&Uf(t)}return Object.freeze(e)}),Ff=Symbol("oauth-listener"),Bf=new Nf("parseAWSExports"),Vf={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},Hf=e=>e?.split(",")??[],zf=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:r,responseType:i})=>({domain:e,scopes:t,redirectSignIn:Hf(n),redirectSignOut:Hf(r),responseType:i}),Gf=e=>e.map((e=>{const t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}));function Wf(e){const t={};return e.storage&&(t.Storage=function(e){if(!e)return;const{bucket_name:t,aws_region:n}=e;return{S3:{bucket:t,region:n}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:r,password_policy:i,mfa_configuration:o,mfa_methods:a,unauthenticated_identities_enabled:s,oauth:u,username_attributes:c,standard_required_attributes:l}=e,f={Cognito:{userPoolId:t,userPoolClientId:n}};return r&&(f.Cognito={...f.Cognito,identityPoolId:r}),i&&(f.Cognito.passwordFormat={requireLowercase:i.require_lowercase,requireNumbers:i.require_numbers,requireUppercase:i.require_uppercase,requireSpecialCharacters:i.require_symbols,minLength:i.min_length??6}),o&&(f.Cognito.mfa={status:Qf(o),smsEnabled:a?.includes("SMS"),totpEnabled:a?.includes("TOTP")}),s&&(f.Cognito.allowGuestAccess=s),u&&(f.Cognito.loginWith={oauth:{domain:u.domain,redirectSignIn:u.redirect_sign_in_uri,redirectSignOut:u.redirect_sign_out_uri,responseType:"token"===u.response_type?"token":"code",scopes:u.scopes,providers:Kf(u.identity_providers)}}),c&&(f.Cognito.loginWith={...f.Cognito.loginWith,email:c.includes("email"),phone:c.includes("phone_number"),username:c.includes("username")}),l&&(f.Cognito.userAttributes=l.reduce(((e,t)=>({...e,[t]:{required:!0}})),{})),f}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!e?.amazon_pinpoint)return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:r,search_indices:i}=e;return{LocationService:{region:t,searchIndices:i,geofenceCollections:n,maps:r}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:r,api_key:i,model_introspection:o}=e;var a;return{GraphQL:{endpoint:r,defaultAuthMode:(a=n,qf[a]),region:t,apiKey:i,modelIntrospection:o}}}(e.data)),e.notifications&&(t.Notifications=function(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:r}=e,i=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!i&&!o)return;const a={};return i&&(a.InAppMessaging={Pinpoint:{appId:r,region:t}}),o&&(a.PushNotification={Pinpoint:{appId:r,region:t}}),a}(e.notifications)),t}const qf={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};const $f={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function Kf(e=[]){return e.reduce(((e,t)=>(void 0!==$f[t]&&e.push($f[t]),e)),[])}function Qf(e){return"OPTIONAL"===e?"optional":"REQUIRED"===e?"on":"off"}const Yf=e=>Object.keys(e).some((e=>e.startsWith("aws_")))?((e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new xf({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:i,aws_bots_config:o,aws_cognito_identity_pool_id:a,aws_cognito_sign_up_verification_method:s,aws_cognito_mfa_configuration:u,aws_cognito_mfa_types:c,aws_cognito_password_protection_settings:l,aws_cognito_verification_mechanisms:f,aws_cognito_signup_attributes:d,aws_cognito_social_providers:p,aws_cognito_username_attributes:h,aws_mandatory_sign_in:v,aws_mobile_analytics_app_id:m,aws_mobile_analytics_app_region:y,aws_user_files_s3_bucket:g,aws_user_files_s3_bucket_region:b,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:_,aws_user_pools_id:w,aws_user_pools_web_client_id:E,geo:S,oauth:T,predictions:C,aws_cloud_logic_custom:O,Notifications:I,modelIntrospection:k}=e,A={};m&&(A.Analytics={Pinpoint:{appId:m,region:y}});const{InAppMessaging:P,Push:R}=I??{};if(P?.AWSPinpoint||R?.AWSPinpoint){if(P?.AWSPinpoint){const{appId:e,region:t}=P.AWSPinpoint;A.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(R?.AWSPinpoint){const{appId:e,region:t}=R.AWSPinpoint;A.Notifications={...A.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(o)&&(A.Interactions={LexV1:Object.fromEntries(o.map((e=>[e.name,e])))}),r){const e=Vf[n];e||Bf.debug(`Invalid authentication type ${n}. Falling back to IAM.`),A.API={GraphQL:{endpoint:r,apiKey:t,region:i,defaultAuthMode:e??"iam"}},k&&(A.API.GraphQL.modelIntrospection=k)}const N=u?{status:u&&u.toLowerCase(),totpEnabled:c?.includes("TOTP")??!1,smsEnabled:c?.includes("SMS")??!1}:void 0,x=l?{minLength:l.passwordPolicyMinLength,requireLowercase:l.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:l.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:l.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:l.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,D=Array.from(new Set([...f??[],...d??[]])).reduce(((e,t)=>({...e,[t.toLowerCase()]:{required:!0}})),{}),L=h?.includes("EMAIL")??!1,M=h?.includes("PHONE_NUMBER")??!1;(a||w)&&(A.Auth={Cognito:{identityPoolId:a,allowGuestAccess:"enable"!==v,signUpVerificationMethod:s,userAttributes:D,userPoolClientId:E,userPoolId:w,mfa:N,passwordFormat:x,loginWith:{username:!(L||M),email:L,phone:M}}});const j=!!T&&Object.keys(T).length>0,U=!!p&&p.length>0;if(A.Auth&&j&&(A.Auth.Cognito.loginWith={...A.Auth.Cognito.loginWith,oauth:{...zf(T),...U&&{providers:Gf(p)}}}),g&&(A.Storage={S3:{bucket:g,region:b,dangerouslyConnectToHttpEndpointForTesting:_}}),S){const{amazon_location_service:e}=S;A.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(O&&(A.API={...A.API,REST:O.reduce(((e,t)=>{const{name:n,endpoint:r,region:i,service:o}=t;return{...e,[n]:{endpoint:r,...o?{service:o}:void 0,...i?{region:i}:void 0}}}),{})}),C){const{VoiceId:e}=C?.convert?.speechGenerator?.defaults??{};A.Predictions=e?{...C,convert:{...C.convert,speechGenerator:{...C.convert.speechGenerator,defaults:{voiceId:e}}}}:C}return A})(e):function(e){const{version:t}=e;return!!t&&t.startsWith("1")}(e)?Wf(e):e;function Jf({expiresAt:e,clockDrift:t}){return Date.now()+t>e}class Zf{configure(e,t){this.authConfig=e,this.authOptions=t}async fetchAuthSession(e={}){let t,n;const r=await this.getTokens(e);return r?(n=r.accessToken?.payload?.sub,t=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:r,authenticated:!0,forceRefresh:e.forceRefresh}))):t=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh})),{tokens:r,credentials:t?.credentials,identityId:t?.identityId,userSub:n}}async clearCredentials(){await(this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId())}async getTokens(e){return await(this.authOptions?.tokenProvider?.getTokens(e))??void 0}}var Xf=c(66989),ed=64,td=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nd=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],rd=Math.pow(2,53)-1,id=function(){function e(){this.state=Int32Array.from(nd),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>rd)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===ed&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%ed>=56){for(var r=this.bufferLength;r<ed;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<56;r++)t.setUint8(r,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(32);for(r=0;r<8;r++)i[4*r]=this.state[r]>>>24&255,i[4*r+1]=this.state[r]>>>16&255,i[4*r+2]=this.state[r]>>>8&255,i[4*r+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=0;l<ed;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var f=this.temp[l-2],d=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,p=((f=this.temp[l-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[l]=(d+this.temp[l-7]|0)+(p+this.temp[l-16]|0)}var h=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&s^~a&u)|0)+(c+(td[l]+this.temp[l]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&i^r&i)|0;c=u,u=s,s=a,a=o+h|0,o=i,i=r,r=n,n=h+v|0}t[0]+=n,t[1]+=r,t[2]+=i,t[3]+=o,t[4]+=a,t[5]+=s,t[6]+=u,t[7]+=c},e}();var od=c(90778).lW,ad=void 0!==od&&od.from?function(e){return od.from(e,"utf8")}:e=>(new TextEncoder).encode(e);function sd(e){return e instanceof Uint8Array?e:"string"==typeof e?ad(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var ud=function(){function e(e){this.secret=e,this.hash=new id,this.reset()}return e.prototype.update=function(e){if(!function(e){return"string"==typeof e?0===e.length:0===e.byteLength}(e)&&!this.error)try{this.hash.update(sd(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,Xf.mG)(this,void 0,void 0,(function(){return(0,Xf.Jh)(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new id,this.secret){this.outer=new id;var e=function(e){var t=sd(e);if(t.byteLength>ed){var n=new id;n.update(t),t=n.digest()}var r=new Uint8Array(ed);return r.set(t),r}(this.secret),t=new Uint8Array(ed);t.set(e);for(var n=0;n<ed;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(n=0;n<e.byteLength;n++)e[n]=0}},e}();const cd={},ld={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),cd[e]=t,ld[t]=e}const fd=new class{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new Zf}configure(e,t){const n=Yf(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=Uf(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),jf.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",Df),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[Ff](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}};function dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var pd,hd=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=dd({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)i[a]&&(o+="; "+a,!0!==i[a]&&(o+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",dd({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,dd({},this.attributes,t))},withConverter:function(t){return e(dd({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class vd{constructor(e={}){const{path:t,domain:n,expires:r,sameSite:i,secure:o}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?r:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||o,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!i||!["strict","lax","none"].includes(i))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===i&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=i}}async setItem(e,t){hd.set(e,t,this.getData())}async getItem(e){return hd.get(e)??null}async removeItem(e){hd.remove(e,this.getData())}async clear(){const e=hd.get(),t=Object.keys(e).map((e=>this.removeItem(e)));await Promise.all(t)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}!function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown"}(pd||(pd={}));class md extends xf{constructor(){super({name:pd.PlatformNotSupported,message:"Function not supported on current platform"})}}class yd{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new md;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new md;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new md;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new md;this.storage.clear()}}class gd{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const bd=new class extends yd{constructor(){super("undefined"!=typeof window&&window.localStorage?window.localStorage:new gd)}},_d=(new class extends yd{constructor(){super("undefined"!=typeof window&&window.sessionStorage?window.sessionStorage:new gd)}},new yd(new gd),{convert:e=>(()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new xf({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})})()(e)}),wd=(e,t=xf)=>(n,r,i)=>{const{message:o,recoverySuggestion:a}=e[r];if(!n)throw new t({name:r,message:i?`${o} ${i}`:o,recoverySuggestion:a})};var Ed;!function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"}(Ed||(Ed={}));const Sd=wd({[Ed.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[Ed.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[Ed.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[Ed.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[Ed.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}});function Td(e){let t=!0;t=!!e&&(!!e.userPoolId&&!!e.userPoolClientId),Sd(t,Ed.AuthUserPoolException)}function Cd(e){Sd(!!e?.identityPoolId,Ed.InvalidIdentityPoolIdException)}function Od(e){const t=e.split(".");if(3!==t.length)throw new Error("Invalid token");try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(_d.convert(n).split("").map((e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`)).join(""));return{toString:()=>e,payload:JSON.parse(r)}}catch(e){throw new Error("Invalid token payload")}}const Id=(e,t,n,r)=>async(i,o)=>{const a={...r,...i},s=await a.endpointResolver(a,o),u=await t(o,s),c=await e(u,{...a});return n(c)},kd=e=>{const{headers:t,statusCode:n}=e;return{...Ad(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},Ad=e=>"object"==typeof e?.$metadata,Pd=async e=>{if(!e||e.statusCode<300)return;const t=await Rd(e),n=(e=>{const[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),r=t.message??t.Message??"Unknown error",i=new Error(r);return Object.assign(i,{name:n,$metadata:kd(e)})},Rd=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:kd(e)})};class Nd extends xf{constructor(e){super(e),this.constructor=Nd,Object.setPrototypeOf(this,Nd.prototype)}}function xd(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new Nd({name:pd.Unknown,message:"An unknown error has occurred.",underlyingError:e})}const Dd={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},Ld={partitions:[Dd,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},Md=e=>{const{partitions:t}=Ld;for(const{regions:n,outputs:r,regionRegex:i}of t){const t=new RegExp(i);if(n.includes(e)||t.test(e))return r.dnsSuffix}return Dd.outputs.dnsSuffix},jd=({maxAttempts:e=3,retryDecider:t,computeDelay:n,abortSignal:r})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(i,o)=>async function(a){let s,u,c=o.attemptsCount??0;const l=()=>{if(u)return Fd(u,c),u;throw Fd(s,c),s};for(;!r?.aborted&&c<e;){try{u=await i(a),s=void 0}catch(e){s=e,u=void 0}if(c=(o.attemptsCount??0)>c?o.attemptsCount??0:c+1,o.attemptsCount=c,!await t(u,s))return l();if(!r?.aborted&&c<e){const e=n(c);await Ud(e,r)}}if(r?.aborted)throw new Error("Request aborted.");return l()}},Ud=(e,t)=>{if(t?.aborted)return Promise.resolve();let n,r;const i=new Promise((t=>{r=t,n=setTimeout(t,e)}));return t?.addEventListener("abort",(function e(i){clearTimeout(n),t?.removeEventListener("abort",e),r()})),i},Fd=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})},Bd=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(r){if(0===t.trim().length){return await n(r)}{const i=e.toLowerCase();r.headers[i]=r.headers[i]?`${r.headers[i]} ${t}`:t;return await n(r)}},Vd=(e,t)=>(n,r)=>{const i={};let o=t=>e(t,r);for(let e=t.length-1;e>=0;e--){o=(0,t[e])(r)(o,i)}return o(n)},Hd=e=>{let t;return()=>(t||(t=e()),t)},zd=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),Gd=async({url:e,method:t,headers:n,body:r},{abortSignal:i,cache:o,withCrossDomainCredentials:a})=>{let s;try{s=await fetch(e,{method:t,headers:n,body:zd(t)?r:void 0,signal:i,cache:o,credentials:a?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new Error("Network error");throw e}const u={};s.headers?.forEach(((e,t)=>{u[t.toLowerCase()]=e}));return{...{statusCode:s.status,headers:u,body:null},body:Object.assign(s.body??{},{text:Hd((()=>s.text())),blob:Hd((()=>s.blob())),json:Hd((()=>s.json()))})}},Wd=Vd(Gd,[Bd,jd]),qd=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],$d=e=>async(t,n)=>{const r=n??await e(t)??void 0,i=r?.code||r?.name,o=t?.statusCode;return Jd(n)||Yd(o,i)||(e=>!!e&&qd.includes(e))(i)||Zd(o,i)},Kd=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],Qd=["TimeoutError","RequestTimeout","RequestTimeoutException"],Yd=(e,t)=>429===e||!!t&&Kd.includes(t),Jd=e=>"Network error"===e?.name,Zd=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&Qd.includes(t);function Xd(e=3e5){return t=>{const n=2**t*100+100*Math.random();return!(n>e)&&n}}const ep=3e5,tp=e=>{const t=Xd(ep)(e);return!1===t?ep:t},np=URL;URLSearchParams;var rp,ip,op,ap,sp,up,cp,lp,fp,dp,pp,hp,vp;!function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"}(rp||(rp={})),function(e){e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"}(ip||(ip={})),function(e){e.Record="1",e.IdentifyUser="2"}(op||(op={})),function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"}(ap||(ap={})),function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36"}(sp||(sp={})),function(e){e.Subscribe="1",e.GraphQl="2"}(up||(up={})),function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"}(cp||(cp={})),function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"}(lp||(lp={})),function(e){e.None="0"}(fp||(fp={})),function(e){e.Convert="1",e.Identify="2",e.Interpret="3"}(dp||(dp={})),function(e){e.Subscribe="1"}(pp||(pp={})),function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"}(hp||(hp={})),function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7"}(vp||(vp={}));const mp="6.3.8";var yp=c(5806);const gp=()=>"undefined"!=typeof global,bp=()=>"undefined"!=typeof window,_p=()=>"undefined"!=typeof document,wp=()=>void 0!==yp,Ep=(e,t)=>!!Object.keys(e).find((e=>e.startsWith(t)));const Sp=[{platform:rp.Expo,detectionMethod:function(){return gp()&&void 0!==global.expo}},{platform:rp.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:rp.NextJs,detectionMethod:function(){return bp()&&window.next&&"object"==typeof window.next}},{platform:rp.Nuxt,detectionMethod:function(){return bp()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:rp.Angular,detectionMethod:function(){const e=Boolean(_p()&&document.querySelector("[ng-version]")),t=Boolean(bp()&&void 0!==window.ng);return e||t}},{platform:rp.React,detectionMethod:function(){const e=e=>e.startsWith("_react")||e.startsWith("__react");return _p()&&Array.from(document.querySelectorAll("[id]")).some((t=>Object.keys(t).find(e)))}},{platform:rp.VueJs,detectionMethod:function(){return bp()&&Ep(window,"__VUE")}},{platform:rp.Svelte,detectionMethod:function(){return bp()&&Ep(window,"__SVELTE")}},{platform:rp.WebUnknown,detectionMethod:function(){return bp()}},{platform:rp.NextJsSSR,detectionMethod:function(){return gp()&&(Ep(global,"__next")||Ep(global,"__NEXT"))}},{platform:rp.NuxtSSR,detectionMethod:function(){return gp()&&void 0!==global.__NUXT_PATHS__}},{platform:rp.ReactSSR,detectionMethod:function(){return wp()&&!!Object.keys({DJANGO_PROD:!0,NODE_ENV:"production",STATIC_PATH:"https://cdn.hackerearth.com/static/"}).find((e=>e.includes("react")))}},{platform:rp.VueJsSSR,detectionMethod:function(){return gp()&&Ep(global,"__VUE")}},{platform:rp.AngularSSR,detectionMethod:function(){return wp()&&{DJANGO_PROD:!0,NODE_ENV:"production",STATIC_PATH:"https://cdn.hackerearth.com/static/"}.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:rp.SvelteSSR,detectionMethod:function(){return wp()&&!!Object.keys({DJANGO_PROD:!0,NODE_ENV:"production",STATIC_PATH:"https://cdn.hackerearth.com/static/"}).find((e=>e.includes("svelte")))}}];let Tp;const Cp=[];let Op=!1;const Ip=()=>{if(!Tp){if(Tp=Sp.find((e=>e.detectionMethod()))?.platform||rp.ServerSideUnknown,Op)for(;Cp.length;)Cp.pop()?.();else Cp.forEach((e=>{e()}));Ap(rp.ServerSideUnknown,10),Ap(rp.WebUnknown,10)}return Tp},kp=e=>{Op||Cp.push(e)};function Ap(e,t){Tp!==e||Op||setTimeout((()=>{Tp=void 0,Op=!0,setTimeout(Ip,1e3)}),t)}const Pp={},Rp="aws-amplify";new class{constructor(){this.userAgent=`${Rp}/${mp}`}get framework(){return Ip()}get isReactNative(){return this.framework===rp.ReactNative||this.framework===rp.Expo}observeFrameworkChanges(e){kp(e)}};const Np=({category:e,action:t}={})=>{const n=[[Rp,mp]];if(e&&n.push([e,t]),n.push(["framework",Ip()]),e&&t){const r=((e,t)=>Pp[e]?.[t]?.additionalDetails)(e,t);r&&r.forEach((e=>{n.push(e)}))}return n},xp=e=>Np(e).map((([e,t])=>e&&t?`${e}/${t}`:e)).join(" "),Dp="cognito-idp",Lp=Vd(Wd,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),Mp={service:Dp,endpointResolver:({region:e})=>{const t=fd.getConfig().Auth?.Cognito,n=t?.userPoolEndpoint,r=new np(`https://${Dp}.${e}.${Md(e)}`);return{url:n?new np(n):r}},retryDecider:$d(Pd),computeDelay:tp,userAgentValue:xp(),cache:"no-store"},jp=e=>(t,n)=>{const r=(e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}))(e);return(({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}))(n,r,JSON.stringify(t))},Up=()=>async e=>{if(e.statusCode>=300){const t=await Pd(e);throw xd(t),new Nd({name:t.name,message:t.message})}return await Rd(e)},Fp=()=>async e=>{if(e.statusCode>=300){const t=await Pd(e);throw xd(t),new Nd({name:t.name,message:t.message})}},Bp=Id(Lp,jp("InitiateAuth"),Up(),Mp);Id(Lp,jp("RevokeToken"),Up(),Mp),Id(Lp,jp("SignUp"),Up(),Mp),Id(Lp,jp("ConfirmSignUp"),Up(),Mp),Id(Lp,jp("ForgotPassword"),Up(),Mp),Id(Lp,jp("ConfirmForgotPassword"),Up(),Mp),Id(Lp,jp("RespondToAuthChallenge"),Up(),Mp),Id(Lp,jp("ResendConfirmationCode"),Up(),Mp),Id(Lp,jp("VerifySoftwareToken"),Up(),Mp),Id(Lp,jp("AssociateSoftwareToken"),Up(),Mp),Id(Lp,jp("SetUserMFAPreference"),Up(),Mp),Id(Lp,jp("GetUser"),Up(),Mp),Id(Lp,jp("ChangePassword"),Up(),Mp),Id(Lp,jp("ConfirmDevice"),Up(),Mp),Id(Lp,jp("ForgetDevice"),Fp(),Mp),Id(Lp,jp("DeleteUser"),Fp(),Mp),Id(Lp,jp("GetUserAttributeVerificationCode"),Up(),Mp),Id(Lp,jp("GlobalSignOut"),Up(),Mp),Id(Lp,jp("UpdateUserAttributes"),Up(),Mp),Id(Lp,jp("VerifyUserAttribute"),Up(),Mp),Id(Lp,jp("UpdateDeviceStatus"),Up(),Mp),Id(Lp,jp("ListDevices"),Up(),Mp),Id(Lp,jp("DeleteUserAttributes"),Up(),Mp);function Vp(e){if(!e||!e.includes(":"))throw new Nd({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}const Hp="UserUnAuthenticatedException";new Nd({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new Nd({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const zp=new Nd({name:"TokenRefreshException",message:"Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n\tPlease change your oauth configuration to use 'code grant' flow.",recoverySuggestion:"Please logout and change your Amplify configuration to use \"code grant\" flow. \n\tE.g { responseType: 'code' }"}),Gp=new Nd({name:Hp,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function Wp(e){if(function(e){return $p(e)&&!e?.refreshToken}(e))throw zp;if(!function(e){return $p(e)&&e?.refreshToken}(e))throw Gp}const qp={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function $p(e){return e?.accessToken||e?.idToken}const Kp=async({tokens:e,authConfig:t,username:n})=>{Td(t?.Cognito);const r=function(e){const t=e?.split("_")[0];if(!e||e.indexOf("_")<0||!t||"string"!=typeof t)throw new Nd({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}(t.Cognito.userPoolId);Wp(e);const i=e.refreshToken,o={REFRESH_TOKEN:i};e.deviceMetadata?.deviceKey&&(o.DEVICE_KEY=e.deviceMetadata.deviceKey);const a=function({username:e,userPoolId:t,userPoolClientId:n}){if("undefined"==typeof window)return;const r=window.AmazonCognitoAdvancedSecurityData;if(void 0===r)return;const i=r.getData(e,t,n);if(i)return{EncodedData:i};return{}}({username:n,userPoolId:t.Cognito.userPoolId,userPoolClientId:t.Cognito.userPoolClientId}),{AuthenticationResult:s}=await Bp({region:r},{ClientId:t?.Cognito?.userPoolClientId,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,UserContextData:a}),u=Od(s?.AccessToken??""),c=s?.IdToken?Od(s.IdToken):void 0,{iat:l}=u.payload;if(!l)throw new Nd({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:u,idToken:c,clockDrift:1e3*l-(new Date).getTime(),refreshToken:i,username:n}},Qp=(e=>{let t;return async(...n)=>t||(t=new Promise(((r,i)=>{e(...n).then((e=>{r(e)})).catch((e=>{i(e)})).finally((()=>{t=void 0}))})),t)})(Kp),Yp={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails"};var Jp;!function(e){e.InvalidAuthTokens="InvalidAuthTokens"}(Jp||(Jp={}));const Zp=wd({[Jp.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}});class Xp{constructor(){this.name="CognitoIdentityServiceProvider"}getKeyValueStorage(){if(!this.keyValueStorage)throw new Nd({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{const e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new Nd({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const n=Od(t),r=await this.getKeyValueStorage().getItem(e.idToken),i=r?Od(r):void 0,o=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,a=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",s=Number.parseInt(a),u=await this.getKeyValueStorage().getItem(e.signInDetails),c={accessToken:n,idToken:i,refreshToken:o,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:s,username:await this.getLastAuthUser()};return u&&(c.signInDetails=JSON.parse(u)),c}catch(e){return null}}async storeTokens(e){Zp(void 0!==e,Jp.InvalidAuthTokens),await this.clearTokens();const t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);const n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken&&await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()),e.refreshToken&&await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails&&await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey())])}async getDeviceMetadata(e){const t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),r=await this.getKeyValueStorage().getItem(t.deviceGroupKey),i=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return i&&r&&n?{deviceKey:n,deviceGroupKey:r,randomPassword:i}:null}async clearDeviceMetadata(e){const t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){Td(this.authConfig?.Cognito);const t=e??await this.getLastAuthUser();return eh(this.name,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){Td(this.authConfig?.Cognito);const e=this.authConfig.Cognito.userPoolClientId;return`${this.name}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}}const eh=(e,t)=>th(Yp)(`${e}`,t);function th(e){const t=Object.values({...e});return(e,n)=>t.reduce(((t,r)=>({...t,[r]:`${e}.${n}.${r}`})),{})}const nh="amplify-signin-with-hostedUI",rh="CognitoIdentityServiceProvider";const ih=(e,t)=>th(qp)(e,t),oh=new class{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){Td(this.cognitoConfig);const e=ih(rh,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){Td(this.cognitoConfig);const e=ih(rh,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(nh),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){Td(this.cognitoConfig);const e=ih(rh,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){Td(this.cognitoConfig);const t=ih(rh,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){Td(this.cognitoConfig);const e=ih(rh,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){Td(this.cognitoConfig);const t=ih(rh,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){Td(this.cognitoConfig);const e=ih(rh,this.cognitoConfig.userPoolClientId);return"true"===await this.keyValueStorage.getItem(e.inflightOAuth)}async storeOAuthInFlight(e){Td(this.cognitoConfig);const t=ih(rh,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){Td(this.cognitoConfig);const e=ih(rh,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(nh),[n,r]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===r}}async storeOAuthSignIn(e,t=!1){Td(this.cognitoConfig);const n=ih(rh,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}(bd),ah=[];class sh{constructor(){this.waitForInflightOAuth="undefined"!=typeof window&&void 0!==window.document?async()=>{if(await oh.loadOAuthInFlight())return this.inflightPromise||(this.inflightPromise=new Promise(((e,t)=>{var n;n=e,ah.push(n)}))),this.inflightPromise}:async()=>{}}setAuthConfig(e){oh.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new Nd({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new Nd({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{Td(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();const n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;const r=!!t?.idToken&&Jf({expiresAt:1e3*(t.idToken?.payload?.exp??0),clockDrift:t.clockDrift??0}),i=Jf({expiresAt:1e3*(t.accessToken?.payload?.exp??0),clockDrift:t.clockDrift??0});return(e?.forceRefresh||r||i)&&(t=await this.refreshTokens({tokens:t,username:n}),null===t)?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{const{signInDetails:n}=e,r=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return r.signInDetails=n,await this.setTokens({tokens:r}),jf.dispatch("auth",{event:"tokenRefresh"},"Auth",Df),r}catch(e){return this.handleErrors(e)}}handleErrors(e){if(xd(e),"Network error"!==e.message&&this.clearTokens(),jf.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",Df),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}}const uh=new class{constructor(){this.authTokenStore=new Xp,this.authTokenStore.setKeyValueStorage(bd),this.tokenOrchestrator=new sh,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(Qp)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}},{tokenOrchestrator:ch}=uh,lh={identityId:"identityId"},fh=new Nf("DefaultIdentityIdStore");const dh=(e,t)=>th(lh)(`com.amplify.${e}`,t),ph=Vd(Wd,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),hh={service:"cognito-identity",endpointResolver:({region:e})=>({url:new np(`https://cognito-identity.${e}.${Md(e)}`)}),retryDecider:$d(Pd),computeDelay:tp,userAgentValue:xp(),cache:"no-store"};kp((()=>{hh.userAgentValue=xp()}));const vh=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),mh=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),yh=({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r}={})=>({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r&&new Date(1e3*r)}),gh=Id(ph,((e,t)=>{const n=vh("GetCredentialsForIdentity"),r=JSON.stringify(e);return mh(t,n,r)}),(async e=>{if(e.statusCode>=300){throw await Pd(e)}{const t=await Rd(e);return{IdentityId:t.IdentityId,Credentials:yh(t.Credentials),$metadata:kd(e)}}}),hh),bh=Id(ph,((e,t)=>{const n=vh("GetId"),r=JSON.stringify(e);return mh(t,n,r)}),(async e=>{if(e.statusCode>=300){throw await Pd(e)}return{IdentityId:(await Rd(e)).IdentityId,$metadata:kd(e)}}),hh);function _h(e){const t=Od(e).payload.iss,n={};if(!t)throw new Nd({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}const wh=new Nf("CognitoIdentityIdProvider");async function Eh(e,t){const n=t?.identityPoolId,r=Vp(n),i=(await bh({region:r},{IdentityPoolId:n,Logins:e})).IdentityId;if(!i)throw new Nd({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}const Sh=new Nf("CognitoCredentialsProvider"),Th=3e6;const Ch=new class{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){Sh.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){Sh.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const t=e.authenticated,{tokens:n}=e,{authConfig:r}=e;try{Cd(r?.Cognito)}catch{return}if(!t&&!r.Cognito.allowGuestAccess)return;const{forceRefresh:i}=e,o=this.hasTokenChanged(n),a=await async function({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});let r=await n.loadIdentityId();if(e){if(r&&"primary"===r.type)return r.id;{const n=e.idToken?_h(e.idToken.toString()):{},i=await Eh(n,t);r&&r.id===i&&wh.debug(`The guest identity ${r.id} has become the primary identity.`),r={id:i,type:"primary"}}}else{if(r&&"guest"===r.type)return r.id;r={id:await Eh({},t),type:"guest"}}return n.storeIdentityId(r),r.id}({tokens:n,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return(i||o)&&this.clearCredentials(),t?(function(e){if(!e||!e.idToken)throw new Nd({name:Hp,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}(n),this.credsForOIDCTokens(r.Cognito,n,a)):this.getGuestCredentials(a,r.Cognito)}async getGuestCredentials(e,t){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return Sh.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const n=Vp(t.identityPoolId),r=await gh({region:n},{IdentityId:e});if(r.Credentials&&r.Credentials.AccessKeyId&&r.Credentials.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+Th;const t={credentials:{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration},identityId:e},n=r.IdentityId;return n&&(t.identityId=n,this._identityIdStore.storeIdentityId({id:n,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new Nd({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return Sh.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const r=t.idToken?_h(t.idToken.toString()):{},i=Vp(e.identityPoolId),o=await gh({region:i},{IdentityId:n,Logins:r});if(o.Credentials&&o.Credentials.AccessKeyId&&o.Credentials.SecretKey){const e={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:n};this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},this._nextCredentialsRefresh=(new Date).getTime()+Th;const r=o.IdentityId;return r&&(e.identityId=r,this._identityIdStore.storeIdentityId({id:r,type:"primary"})),e}throw new Nd({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}(new class{setAuthConfig(e){Cd(e.Cognito),this.authConfig=e,this._authKeys=dh("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this.keyValueStorage=e}async loadIdentityId(){Cd(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?{id:e,type:"guest"}:null}}catch(e){return fh.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){Cd(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0):(this._primaryIdentityId=e.id,this.keyValueStorage.removeItem(this._authKeys.identityId))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}(bd)),Oh={configure(e,t){const n=Yf(e);if(n.Auth){if(!t?.Auth)return fd.libraryOptions.Auth?t?(void 0!==t.ssr&&uh.setKeyValueStorage(t.ssr?new vd({sameSite:"lax"}):bd),void fd.configure(n,{Auth:fd.libraryOptions.Auth,...t})):void fd.configure(n):(uh.setAuthConfig(n.Auth),uh.setKeyValueStorage(t?.ssr?new vd({sameSite:"lax"}):bd),void fd.configure(n,{...t,Auth:{tokenProvider:uh,credentialsProvider:Ch}}));fd.configure(n,t)}else fd.configure(n,t)},getConfig:()=>fd.getConfig()};Symbol();function Ih(e){return"function"==typeof e}function kh(e){return function(t){if(function(e){return Ih(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Ah,Ph,Rh=(Ah=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}},(Ph=Ah((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),Ph.prototype.constructor=Ph,Ph);function Nh(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var xh=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=(0,Xf.XA)(o),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(Ih(u))try{u()}catch(e){i=e instanceof Rh?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=(0,Xf.XA)(c),f=l.next();!f.done;f=l.next()){var d=f.value;try{Lh(d)}catch(e){i=null!=i?i:[],e instanceof Rh?i=(0,Xf.ev)((0,Xf.ev)([],(0,Xf.CR)(i)),(0,Xf.CR)(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new Rh(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Lh(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Nh(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Nh(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();xh.EMPTY;function Dh(e){return e instanceof xh||e&&"closed"in e&&Ih(e.remove)&&Ih(e.add)&&Ih(e.unsubscribe)}function Lh(e){Ih(e)?e():e.unsubscribe()}var Mh={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},jh={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=jh.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,Xf.ev)([e,t],(0,Xf.CR)(n))):setTimeout.apply(void 0,(0,Xf.ev)([e,t],(0,Xf.CR)(n)))},clearTimeout:function(e){var t=jh.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Uh(e){jh.setTimeout((function(){var t=Mh.onUnhandledError;if(!t)throw e;t(e)}))}function Fh(){}var Bh=Vh("C",void 0,void 0);function Vh(e,t,n){return{kind:e,value:t,error:n}}var Hh=null;var zh=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Dh(t)&&t.add(n)):n.destination=Yh,n}return(0,Xf.ZT)(t,e),t.create=function(e,t,n){return new $h(e,t,n)},t.prototype.next=function(e){this.isStopped?Qh(function(e){return Vh("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Qh(Vh("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Qh(Bh,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(xh),Gh=Function.prototype.bind;function Wh(e,t){return Gh.call(e,t)}var qh=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Kh(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Kh(e)}else Kh(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Kh(e)}},e}(),$h=function(e){function t(t,n,r){var i,o,a=e.call(this)||this;Ih(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&Mh.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&Wh(t.next,o),error:t.error&&Wh(t.error,o),complete:t.complete&&Wh(t.complete,o)}):i=t;return a.destination=new qh(i),a}return(0,Xf.ZT)(t,e),t}(zh);function Kh(e){var t;Mh.useDeprecatedSynchronousErrorHandling?(t=e,Mh.useDeprecatedSynchronousErrorHandling&&Hh&&(Hh.errorThrown=!0,Hh.error=t)):Uh(e)}function Qh(e,t){var n=Mh.onStoppedNotification;n&&jh.setTimeout((function(){return n(e,t)}))}var Yh={closed:!0,next:Fh,error:function(e){throw e},complete:Fh};function Jh(e,t,n,r,i){return new Zh(e,t,n,r,i)}var Zh=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,Xf.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(zh);function Xh(e,t){return kh((function(n,r){var i=0;n.subscribe(Jh(r,(function(n){r.next(e.call(t,n,i++))})))}))}function ev(e){const t=new Set;for(const n of e.attributes||[])if(tv(n))for(const e of n.properties.rules)"owner"===e.allow?t.add(e.ownerField||"owner"):"groups"===e.allow&&void 0!==e.groupsField&&t.add(e.groupsField);return Array.from(t)}function tv(e){return!("auth"!==e?.type||"object"!=typeof e?.properties||!Array.isArray(e?.properties?.rules))&&(e?.properties?.rules).every((e=>!!e.allow))}function nv(e){return`${e[0].toUpperCase()}${e.slice(1)}`}const rv={HAS_ONE:"HAS_ONE",HAS_MANY:"HAS_MANY",BELONGS_TO:"BELONGS_TO"},iv={ID:"ID",String:"String",AWSDate:"String",AWSTime:"String",AWSDateTime:"String",AWSTimestamp:"String",AWSEmail:"String",AWSPhone:"String",AWSURL:"String",AWSIPAddress:"String",AWSJSON:"String",Boolean:"Boolean",Int:"Int",Float:"Float"},ov=e=>1===e.length?e[0]:e.reduce(((e,t,n)=>0===n?t:e+nv(t)),""),av=(e,t,n)=>{if(!n)return null;const r={};for(const[o,a]of Object.entries(n)){const n=t?e.models[t]?.fields[o]:void 0,s={fieldDef:n,value:a};i=s,"object"==typeof i.fieldDef?.type&&"model"in i.fieldDef.type&&"string"==typeof i.fieldDef.type.model&&i.fieldDef.isArray&&Array.isArray(i.value?.items)?r[o]=s.value.items.map((t=>av(e,s.fieldDef.type.model,t))):sv(n)?r[o]=av(e,n.type.model,a):r[o]=a}var i;return r};function sv(e){return"object"==typeof e?.type&&"model"in e.type&&"string"==typeof e.type.model}function uv(e,t,n,r,i,o,a=!1){const s=r.models[t],u=s.fields,c=Object.entries(u).filter((([e,t])=>void 0!==t?.type?.model)).map((([e])=>e));return n.map((t=>{const n={};for(const l of c){const c=u[l],f=c?.type,d=f.model,p=r.models[d],h=p.primaryKeyInfo.primaryKeyFieldName,v=p.primaryKeyInfo.sortKeyFieldNames,m=c.association?.connectionType;let y=[];c.association&&"associatedWith"in c.association&&(y=c.association.associatedWith);const g=[];switch(c.association&&"targetNames"in c.association&&g.push(...c.association.targetNames),m){case rv.BELONGS_TO:{const r=v.reduce(((e,n)=>{if(t[n])return e[n]=t[n]}),{});n[l]=a?(n,a)=>t[g[0]]?e.models[d].get(n,{[h]:t[g[0]],...r},{authMode:a?.authMode||i,authToken:a?.authToken||o}):{data:null}:n=>t[g[0]]?e.models[d].get({[h]:t[g[0]],...r},{authMode:n?.authMode||i,authToken:n?.authToken||o}):{data:null};break}case rv.HAS_ONE:case rv.HAS_MANY:{const r=m===rv.HAS_ONE?e=>({data:e?.data.shift()||null,errors:e.errors,extensions:e.extensions}):e=>e,u=s.primaryKeyInfo.primaryKeyFieldName,c=s.primaryKeyInfo.sortKeyFieldNames,f=p.fields[y[0]];if(f.type.model){let s=[];f.association&&"targetNames"in f.association&&(s=f.association?.targetNames);const p=s.map(((e,n)=>0===n?{[e]:{eq:t[u]}}:{[e]:{eq:t[c[n-1]]}}));n[l]=a?(n,a)=>t[u]?e.models[d].list(n,{filter:{and:p},limit:a?.limit,nextToken:a?.nextToken,authMode:a?.authMode||i,authToken:a?.authToken||o}).then(r):[]:n=>t[u]?e.models[d].list({filter:{and:p},limit:n?.limit,nextToken:n?.nextToken,authMode:n?.authMode||i,authToken:n?.authToken||o}).then(r):[];break}const h=y.map(((e,n)=>0===n?{[e]:{eq:t[u]}}:{[e]:{eq:t[c[n-1]]}}));n[l]=a?(n,a)=>t[u]?e.models[d].list(n,{filter:{and:h},limit:a?.limit,nextToken:a?.nextToken,authMode:a?.authMode||i,authToken:a?.authToken||o}).then(r):[]:n=>t[u]?e.models[d].list({filter:{and:h},limit:n?.limit,nextToken:n?.nextToken,authMode:n?.authMode||i,authToken:n?.authToken||o}).then(r):[];break}}}return{...t,...n}}))}const cv={CREATE:{operationPrefix:"create",usePlural:!1},READ:{operationPrefix:"get",usePlural:!1},UPDATE:{operationPrefix:"update",usePlural:!1},DELETE:{operationPrefix:"delete",usePlural:!1},LIST:{operationPrefix:"list",usePlural:!0},INDEX_QUERY:{operationPrefix:"",usePlural:!1},ONCREATE:{operationPrefix:"onCreate",usePlural:!1},ONUPDATE:{operationPrefix:"onUpdate",usePlural:!1},ONDELETE:{operationPrefix:"onDelete",usePlural:!1},OBSERVE_QUERY:{operationPrefix:"observeQuery",usePlural:!1}},lv="*",fv=(e,t)=>{const{fields:n}=e,r=Object.values(n).map((({type:e,name:n})=>"string"==typeof e.enum?[n,pv]:"string"==typeof e.nonModel?[n,fv(t.nonModels[e.nonModel],t)]:"string"==typeof e?[n,pv]:void 0)).filter((e=>void 0!==e));return Object.fromEntries(r)},dv=(e,t)=>{const{fields:n}=e,r=Object.values(n).map((({type:e,name:n})=>"string"==typeof e.enum||"string"==typeof e?[n,pv]:"string"==typeof e.nonModel?[n,fv(t.nonModels[e.nonModel],t)]:void 0)).filter((e=>void 0!==e)),i=ev(e).map((e=>[e,pv]));return Object.fromEntries(r.concat(i))};const pv="";function hv(e,t,n){const r=(t,n)=>{const[i,...o]=t.split("."),a=o[0],s=e.models[n]??e.nonModels[n],u=s?.fields,c=u?.[i]?.type?.model,l=e.models[c],f=u?.[i]?.type?.nonModel,d=e.nonModels[f],p=l?"model":d?"nonModel":"field";if("nonModel"===p){let t={};if(!a)throw Error(`${i} must declare a wildcard (*) or a field of custom type ${f}`);return t=a===lv?{[i]:fv(d,e)}:{[i]:r(o.join("."),f)},t}if("model"===p){let t={};if(!a)throw Error(`${i} must declare a wildcard (*) or a field of model ${c}`);if(a===lv){const n=e.models[c];t={[i]:dv(n,e)}}else t={[i]:r(o.join("."),c)};return u[i]?.isArray&&(t={[i]:{items:t[i]}}),t}{const t=u?.[i],r=e.nonModels[n],o=r?.fields?.[i];if(r){if(!o)throw Error(`${i} is not a field of custom type ${n}`)}else{const e=ev(s).includes(i);if(!t&&!e)throw Error(`${i} is not a field of model ${n}`)}return{[i]:pv}}};return n.reduce(((e,n)=>mv(r(n,t),e)),{})}function vv(e){const t=[];return Object.entries(e).forEach((([e,n])=>{n===pv?t.push(e):"object"==typeof n&&null!==n&&(n?.items?t.push(e,"{","items","{",vv(n.items),"}","}"):t.push(e,"{",vv(n),"}"))})),t.join(" ")}function mv(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Object.prototype.hasOwnProperty.call(t,r)&&((n=t[r])&&"object"==typeof n)?mv(e[r],t[r]):t[r]=e[r]);var n;return t}function yv(e,t,n){const r=e.models[t],i=hv(e,t,n??function(e){const{fields:t}=e,n=Object.values(t).map((({type:e,name:t})=>{if("string"==typeof e)return t;if("object"==typeof e){if("string"==typeof e?.enum)return t;if("string"==typeof e?.nonModel)return`${t}.${lv}`}})).filter(Boolean),r=ev(e);return Array.from(new Set(n.concat(r)))}(r));return vv(i)}function gv(e,t,n,r,i){const o=e.models[t],{name:a,pluralName:s,fields:u,primaryKeyInfo:{isCustomPrimaryKey:c,primaryKeyFieldName:l,sortKeyFieldNames:f},attributes:d}=o,p=a.charAt(0).toUpperCase()+a.slice(1),h=s.charAt(0).toUpperCase()+s.slice(1),{operationPrefix:v,usePlural:m}=cv[n],{selectionSet:y}=r||{};let g,b,_,w,E;if(v)g=`${v}${m?h:p}`;else{if(!i)throw new Error("Error generating GraphQL Document - invalid operation name");{const{queryField:e,pk:n,sk:r=[]}=i;g=e;let o={};if(1===r.length){const[e]=r,t="string"==typeof u[e].type?u[e].type:"String";o={[e]:`Model${iv[t]}KeyConditionInput`}}else if(r.length>1){const n=ov(r),i=d?.find((t=>t?.properties?.queryField===e))?.properties?.name;o={[n]:`Model${nv(t)}${nv(i)}CompositeKeyConditionInput`}}b={[n]:`${Object.prototype.hasOwnProperty.call(u[n].type,"enum")?u[n].type.enum:u[n].type}!`,...o}}}const S=yv(e,t,y),T={[l]:`${u[l].type}!`},C={},O=e=>{if(0===f.length)return{};if("get"===e)return f.reduce(((t,n)=>{const r=u[n].type;return"get"===e&&(t[n]=`${r}!`),t}),{});if(1===f.length){const[e]=f,t="string"==typeof u[e].type?u[e].type:"String";return{[e]:`Model${iv[t]}KeyConditionInput`}}return{[ov(f)]:`Model${nv(t)}PrimaryCompositeKeyConditionInput`}};switch(c&&(Object.assign(T,O("get")),Object.assign(C,{[l]:`${u[l].type}`,sortDirection:"ModelSortDirection"},O("list"))),n){case"CREATE":case"UPDATE":case"DELETE":E??(E={input:`${v.charAt(0).toLocaleUpperCase()+v.slice(1)}${p}Input!`}),_??(_="mutation");case"READ":E??(E=T),w??(w=S);case"LIST":E??(E={...C,filter:`Model${p}FilterInput`,limit:"Int",nextToken:"String"}),_??(_="query"),w??(w=`items { ${S} } nextToken __typename`);case"INDEX_QUERY":E??(E={...b,filter:`Model${p}FilterInput`,sortDirection:"ModelSortDirection",limit:"Int",nextToken:"String"}),_??(_="query"),w??(w=`items { ${S} } nextToken __typename`);case"ONCREATE":case"ONUPDATE":case"ONDELETE":E??(E={filter:`ModelSubscription${p}FilterInput`}),_??(_="subscription"),w??(w=S);break;default:throw new Error("Internal error: Attempted to generate graphql document for observeQuery. Please report this error.")}return`${_}${E?`(${Object.entries(E).map((([e,t])=>`$${e}: ${t}`))})`:""} { ${g}${E?`(${Object.keys(E).map((e=>`${e}: $${e}`))})`:""} { ${w} } }`}function bv(e,t,n,r,i){const{fields:o,primaryKeyInfo:{isCustomPrimaryKey:a,primaryKeyFieldName:s,sortKeyFieldNames:u}}=e,c=u?.length&&ov(u);let l={};switch(t){case"CREATE":l={input:n?_v(n,e,r):{}};break;case"UPDATE":l={input:n?Object.fromEntries(Object.entries(_v(n,e,r)).filter((([e])=>{const{isReadOnly:t}=o[e];return!t}))):{}};break;case"READ":case"DELETE":n&&(l=a?[s,...u].reduce(((e,t)=>(e[t]=n[t],e)),{}):{[s]:n[s]}),"DELETE"===t&&(l={input:l});break;case"LIST":n?.filter&&(l.filter=n.filter),n?.sortDirection&&(l.sortDirection=n.sortDirection),n&&n[s]&&(l[s]=n[s]),c&&n&&n[c]&&(l[c]=n[c]),n?.nextToken&&(l.nextToken=n.nextToken),n?.limit&&(l.limit=n.limit);break;case"INDEX_QUERY":{const{pk:e,sk:t=[]}=i,r=t?.length&&ov(t);l[e]=n[e],r&&n&&n[r]&&(l[r]=n[r]),n?.filter&&(l.filter=n.filter),n?.sortDirection&&(l.sortDirection=n.sortDirection),n?.nextToken&&(l.nextToken=n.nextToken),n?.limit&&(l.limit=n.limit);break}case"ONCREATE":case"ONUPDATE":case"ONDELETE":n?.filter&&(l={filter:n.filter});break;case"OBSERVE_QUERY":throw new Error("Internal error: Attempted to build variables for observeQuery. Please report this error.");default:throw new Error(`Unhandled operation case: ${t}`)}return l}function _v(e,t,n){const{fields:r}=t,i={};return Object.entries(e).forEach((([e,t])=>{const o=r[e]?.type,a=o?.model;if(a){const o=r[e]?.association,s=n.models[a].primaryKeyInfo;if(o?.connectionType===rv.HAS_ONE){const e=o;e.targetNames.forEach(((n,r)=>{const o=e.associatedWith[r];i[n]=t[o]}))}if(o?.connectionType===rv.BELONGS_TO){o.targetNames.forEach(((e,n)=>{if(0===n){const n=s.primaryKeyFieldName;i[e]=t[n]}else{const r=s.sortKeyFieldNames[n-1];i[e]=t[r]}}))}}else i[e]=t})),i}function wv(e,t,n={}){const r=t(e);return{authMode:n.authMode||r.authMode,authToken:n.authToken||r.authToken}}function Ev(e,t,n){let r=t(e).headers||{};return n&&(r=n),r}function Sv(e){if(e?.errors)return{...e,data:[]};throw e}function Tv(e){if(e.errors)return{...e,data:null};throw e}const Cv=e=>"symbol"==typeof e?.token?.value;function Ov(e,t,n,r,i,o){const a=void 0!==r.arguments;return(...s)=>{const u=s[s.length-1];let c,l;if(i){if(!Cv(s[0]))throw new Error(`Invalid first argument passed to ${r.name}. Expected contextSpec`);c=s[0]}return a&&(l=i?s[1]:s[0]),"subscription"===n?function(e,t,n,r,i,o){const a="subscription",{name:s}=n,u=wv(e,r,o),c=Ev(e,r,o?.headers),l=kv(n),f=Av(n),d=Pv(t,n),p=Iv(n.type,"model")?n.type.model:void 0,h=`\n    ${a.toLocaleLowerCase()}${l} {\n      ${s}${f} ${d}\n    }\n  `,v=Rv(n,i),m=e.graphql({...u,query:h,variables:v},c);return m.pipe(Xh((n=>{const[r]=Object.keys(n.data),i=n.data[r],[o]=p?uv(e,p,[i],t,u.authMode,u.authToken):[i];return o})))}(e,t,r,o,l,u):async function(e,t,n,r,i,o,a,s){const{name:u}=r,c=wv(e,i,a),l=Ev(e,i,a?.headers),f=kv(r),d=Av(r),p=Pv(t,r),h=Iv(r.type,"model")?r.type.model:void 0,v=`\n    ${n.toLocaleLowerCase()}${f} {\n      ${u}${d} ${p}\n    }\n  `,m=Rv(r,o);try{const{data:n,extensions:r}=s?await e.graphql(s,{...c,query:v,variables:m},l):await e.graphql({...c,query:v,variables:m},l);if(n){const[i]=Object.keys(n),o=Array.isArray(n[i]),a=o?n[i].filter((e=>e)):n[i],u=h?uv(e,h,o?a:[a],t,c.authMode,c.authToken,!!s):a;return{data:!o&&Array.isArray(u)?u.shift():u,extensions:r}}return{data:null,extensions:r}}catch(n){const{data:r,errors:i}=n;if(r&&0!==Object.keys(r).length&&i){const[o]=Object.keys(r),a=Array.isArray(r[o]),u=a?r[o].filter((e=>e)):r[o];if(u){const n=h?uv(e,h,a?u:[u],t,c.authMode,c.authToken,!!s):u;return{data:!a&&Array.isArray(n)?n.shift():n,errors:i}}return Tv(n)}return Tv(n)}}(e,t,n,r,o,l,u,c)}}function Iv(e,t){return"string"==typeof e[t]}function kv(e){if(void 0===e.arguments)return"";const t=Object.entries(e.arguments).map((([e,t])=>{const n=t.type+(t.isRequired?"!":"");return`$${e}: ${t.isArray?`[${n}]${t.isArrayNullable?"":"!"}`:n}`})).join(", ");return t.length>0?`(${t})`:""}function Av(e){if(void 0===e.arguments)return"";const t=Object.keys(e.arguments).map((e=>`${e}: $${e}`)).join(", ");return t.length>0?`(${t})`:""}function Pv(e,t){if(Iv(t,"type")||Iv(t.type,"enum"))return"";if(Iv(t.type,"nonModel")){const n=e.nonModels[t.type.nonModel];return`{${vv(fv(n,e))}}`}return Iv(t.type,"model")?`{${yv(e,t.type.model)}}`:""}function Rv(e,t={}){const n={};if(void 0===e.arguments)return n;for(const r of Object.values(e.arguments))if(void 0!==t[r.name])n[r.name]=t[r.name];else if(r.isRequired)throw new Error(`${e.name} requires arguments '${r.name}'`);return n}const Nv={queries:"query",mutations:"mutation",subscriptions:"subscription"};function xv(e,t,n,r){if(!t)return{};const i=t.modelIntrospection;if(!i)return{};const o=i[n];if(!o)return{};const a={},s=null===r(e).amplify;for(const t of Object.values(o))a[t.name]=Ov(e,i,Nv[n],t,s,r);return a}const Dv=e=>{const t=e.modelIntrospection;if(!t)return{};const n={};for(const[e,r]of Object.entries(t.enums))n[r.name]={values:()=>r.values};return n};function Lv(e,t,n,r,i=!1){return i?async(i,o)=>Mv(e,t,n,r,o,i):async i=>Mv(e,t,n,r,i)}async function Mv(e,t,n,r,i,o){const{name:a}=n,s=gv(t,a,"LIST",i),u=bv(n,"LIST",i,t),c=wv(e,r,i);try{const n=Ev(e,r,i?.headers),{data:l,extensions:f}=o?await e.graphql(o,{...c,query:s,variables:u},n):await e.graphql({...c,query:s,variables:u},n);if(void 0!==l){const[n]=Object.keys(l);if(l[n].items){const r=l[n].items.map((e=>av(t,a,e)));if(i?.selectionSet)return{data:r,nextToken:l[n].nextToken,extensions:f};return{data:uv(e,a,r,t,c.authMode,c.authToken,!!o),nextToken:l[n].nextToken,extensions:f}}return{data:l[n],nextToken:l[n].nextToken,extensions:f}}}catch(n){const{data:r,errors:s}=n;if(null!=r&&0!==Object.keys(r).length&&s){const[u]=Object.keys(r);if(r[u]?.items){const n=r[u].items.map((e=>av(t,a,e)));if(n){if(i?.selectionSet)return{data:n,nextToken:r[u]?.nextToken,errors:s};return{data:uv(e,a,n,t,c.authMode,c.authToken,!!o),nextToken:r[u]?.nextToken,errors:s}}return{data:r[u],nextToken:r[u]?.nextToken,errors:s}}return Sv(n)}return Sv(n)}}function jv(e,t,n,r,i,o=!1){return o?async(o,a,s)=>Uv(e,t,n,r,i,{...a,...s},o):async(o,a)=>Uv(e,t,n,r,i,{...o,...a})}async function Uv(e,t,n,r,i,o,a){const{name:s}=n,u=gv(t,s,"INDEX_QUERY",o,r),c=bv(n,"INDEX_QUERY",o,t,r),l=wv(e,i,o),f=n=>uv(e,s,n,t,l.authMode,l.authToken,!!a);try{const n=Ev(e,i,o?.headers),r=[{...l,query:u,variables:c},n];void 0!==a&&r.unshift(a);const d=await e.graphql(...r);if(void 0!==d.data)return function(e,t,n,r,i){const{data:o,extensions:a}=n,[s]=Object.keys(o);if(o[s].items){const n=o[s].items.map((n=>av(e,t,n)));return{data:r?n:i(n),nextToken:o[s].nextToken,extensions:a}}return{data:o[s],nextToken:o[s].nextToken,extensions:a}}(t,s,d,o?.selectionSet,f)}catch(e){const{data:n,errors:r}=e;if(void 0!==n&&0!==Object.keys(n).length&&r){const[e]=Object.keys(n);if(n[e]?.items){const r=n[e]?.items.map((e=>av(t,s,e)));if(r)return{data:o?.selectionSet?r:f(r),nextToken:n[e]?.nextToken}}return{data:n[e],nextToken:n[e]?.nextToken}}return Sv(e)}}function Fv(e,t,n,r,i,o=!1){return o?async(o,a,s)=>Bv(e,t,n,a,s,r,i,o):async(o,a)=>Bv(e,t,n,o,a,r,i)}async function Bv(e,t,n,r,i,o,a,s){const{name:u}=n,c=gv(t,u,o,i),l=bv(n,o,r,t),f=wv(e,a,i);try{const n=Ev(e,a,i?.headers),{data:r,extensions:o}=s?await e.graphql(s,{...f,query:c,variables:l},n):await e.graphql({...f,query:c,variables:l},n);if(r){const[n]=Object.keys(r),a=av(t,u,r[n]);if(null===a)return{data:null,extensions:o};if(i?.selectionSet)return{data:a,extensions:o};{const[n]=uv(e,u,[a],t,f.authMode,f.authToken,!!s);return{data:n,extensions:o}}}return{data:null,extensions:o}}catch(n){const{data:r,errors:o}=n;if(r&&0!==Object.keys(r).length&&o){const[a]=Object.keys(r),c=av(t,u,r[a]);if(c){if(i?.selectionSet)return{data:c,errors:o};{const[n]=uv(e,u,[c],t,f.authMode,f.authToken,!!s);return{data:n,errors:o}}}return Tv(n)}return Tv(n)}}function Vv(e,t,n,r,i){const{name:o}=n;return a=>{const s=gv(t,o,r,a),u=bv(n,r,a,t),c=wv(e,i,a),l=Ev(e,i,a?.headers);return e.graphql({...c,query:s,variables:u},l).pipe(Xh((n=>{const[r]=Object.keys(n.data),i=n.data[r],[a]=uv(e,o,[i],t,c.authMode,c.authToken);return a})))}}var Hv="function"==typeof Symbol&&Symbol.observable||"@@observable";function zv(e){return e}function Gv(e){return 0===e.length?zv:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Wv=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,o=(r=e)&&r instanceof zh||function(e){return e&&Ih(e.next)&&Ih(e.error)&&Ih(e.complete)}(r)&&Dh(r)?e:new $h(e,t,n);return function(e){if(Mh.useDeprecatedSynchronousErrorHandling){var t=!Hh;if(t&&(Hh={errorThrown:!1,error:null}),e(),t){var n=Hh,r=n.errorThrown,i=n.error;if(Hh=null,r)throw i}}else e()}((function(){var e=i,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=qv(t))((function(t,r){var i=new $h({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Hv]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Gv(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=qv(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function qv(e){var t;return null!==(t=null!=e?e:Mh.Promise)&&void 0!==t?t:Promise}function $v(e,t,n){const r=Object.fromEntries(n.map((t=>[t,e[t]])));for(let e=0;e<t.length;e++)if(Object.keys(r).every((n=>r[n]===t[e][n])))return e;return-1}function Kv(e,t){const{name:n}=t;return r=>new Wv((i=>{const o=[],a=[];let s=(...e)=>a.push(...e);const u=e[n].onCreate(r).subscribe({next(e){s({item:e,type:"create"})},error(e){i.error({type:"onCreate",error:e})}}),c=e[n].onUpdate(r).subscribe({next(e){s({item:e,type:"update"})},error(e){i.error({type:"onUpdate",error:e})}}),l=e[n].onDelete(r).subscribe({next(e){s({item:e,type:"delete"})},error(e){i.error({type:"onDelete",error:e})}});function f(e){for(const t of e){const e=$v(t.item,o,d);switch(t.type){case"create":e<0&&o.push(t.item);break;case"update":e>=0&&(o[e]=t.item);break;case"delete":e>=0&&o.splice(e,1);break;default:console.error("Unrecognized message in observeQuery.",t)}}i.next({items:o,isSynced:!0})}const d=function(e){const{primaryKeyFieldName:t,sortKeyFieldNames:n}=e.primaryKeyInfo;return[t,...n]}(t);return(async()=>{let t=!0,u=null;for(;!i.closed&&(t||u);){t=!1;const{data:s,errors:c,nextToken:l}=await e[n].list({...r,nextToken:u});u=l,o.push(...s);const f=0===a.length&&null==u;if(i.next({items:o,isSynced:f}),Array.isArray(c))for(const e of c)i.error(e)}a.length>0&&f(a),s=(...e)=>(f(e),o.length)})(),()=>{u.unsubscribe(),c.unsubscribe(),l.unsubscribe()}}))}const Qv=e=>"key"===e.type&&e.properties?.name&&e.properties?.queryField&&e.properties?.fields.length>0,Yv=e=>{const t=e.attributes?.filter(Qv).map((e=>{const t=e.properties.queryField,[n,...r]=e.properties.fields;return{queryField:t,pk:n,sk:r}}));return t||[]};function Jv(e,t,n){return e.models=function(e,t,n){const r={},i=t.modelIntrospection;if(!i)return{};const o=["ONCREATE","ONUPDATE","ONDELETE"];for(const t of Object.values(i.models)){const{name:a}=t;r[a]={},Object.entries(cv).forEach((([s,{operationPrefix:u}])=>{const c=s;"LIST"===c?r[a][u]=Lv(e,i,t,n):o.includes(c)?r[a][u]=Vv(e,i,t,c,n):r[a][u]="OBSERVE_QUERY"===c?Kv(r,t):Fv(e,i,t,c,n)}));const s=Yv(t);for(const o of s)r[a][o.queryField]=jv(e,i,t,o,n)}return r}(e,t,n),e.enums=Dv(t),e.queries=function(e,t,n){return xv(e,t,"queries",n)}(e,t,n),e.mutations=function(e,t,n){return xv(e,t,"mutations",n)}(e,t,n),e.subscriptions=function(e,t,n){return xv(e,t,"subscriptions",n)}(e,t,n),e}var Zv;!function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(Zv||(Zv={}));const Xv=Symbol("amplify"),em=Symbol("authMode"),tm=Symbol("authToken"),nm=Symbol("headers");function rm(e){const t=e;return{amplify:t[Xv],authMode:t[em],authToken:t[tm],headers:t[nm]}}function im(e){return void 0!==e}function om(e){return om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var am="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function sm(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function um(e){return cm(e.source,sm(e.source,e.start))}function cm(e,t){var n=e.locationOffset.column-1,r=fm(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var d=Math.floor(u/80),p=u%80,h=[],v=0;v<f.length;v+=80)h.push(f.slice(v,v+80));return c+lm([["".concat(a),h[0]]].concat(h.slice(1,d+1).map((function(e){return["",e]})),[[" ",fm(p-1)+"^"],["",h[d+1]]]))}return c+lm([["".concat(a-1),l[i-1]],["".concat(a),f],["",fm(u-1)+"^"],["".concat(a+1),l[i+1]]])}function lm(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return fm(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function fm(e){return Array(e+1).join(" ")}function dm(e){return dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(e)}function pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mm(e,t){return!t||"object"!==dm(t)&&"function"!=typeof t?ym(e):t}function ym(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gm(e){var t="function"==typeof Map?new Map:void 0;return gm=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return bm(e,arguments,Em(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),wm(r,e)},gm(e)}function bm(e,t,n){return bm=_m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&wm(i,n.prototype),i},bm.apply(null,arguments)}function _m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function wm(e,t){return wm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wm(e,t)}function Em(e){return Em=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Em(e)}var Sm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wm(e,t)}(s,e);var t,n,r,i,o,a=(t=s,n=_m(),function(){var e,r=Em(t);if(n){var i=Em(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return mm(this,e)});function s(e,t,n,r,i,o,u){var c,l,f,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(d=a.call(this,e)).name="GraphQLError",d.originalError=null!=o?o:void 0,d.nodes=Tm(Array.isArray(t)?t:t?[t]:void 0);for(var p=[],h=0,v=null!==(m=d.nodes)&&void 0!==m?m:[];h<v.length;h++){var m,y=v[h].loc;null!=y&&p.push(y)}p=Tm(p),d.source=null!=n?n:null===(c=p)||void 0===c?void 0:c[0].source,d.positions=null!=r?r:null===(l=p)||void 0===l?void 0:l.map((function(e){return e.start})),d.locations=r&&n?r.map((function(e){return sm(n,e)})):null===(f=p)||void 0===f?void 0:f.map((function(e){return sm(e.source,e.start)})),d.path=null!=i?i:void 0;var g,b=null==o?void 0:o.extensions;return null==u&&("object"==om(g=b)&&null!==g)?d.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pm(Object(n),!0).forEach((function(t){hm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b):d.extensions=null!=u?u:{},Object.defineProperties(ym(d),{message:{enumerable:!0},locations:{enumerable:null!=d.locations},path:{enumerable:null!=d.path},extensions:{enumerable:null!=d.extensions&&Object.keys(d.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=o&&o.stack?(Object.defineProperty(ym(d),"stack",{value:o.stack,writable:!0,configurable:!0}),mm(d)):(Error.captureStackTrace?Error.captureStackTrace(ym(d),s):Object.defineProperty(ym(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return r=s,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+um(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+cm(e.source,s)}return t}(this)}},{key:am,get:function(){return"Object"}}])&&vm(r.prototype,i),o&&vm(r,o),s}(gm(Error));function Tm(e){return void 0===e||0===e.length?void 0:e}function Cm(e,t,n){return new Sm("Syntax Error: ".concat(n),void 0,e,[t])}var Om=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});const Im="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function km(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,Im&&(e.prototype[Im]=t)}var Am=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();km(Am);var Pm=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function Rm(e){return null!=e&&"string"==typeof e.kind}km(Pm);var Nm=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function xm(e){return xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(e)}var Dm=10,Lm=2;function Mm(e){return jm(e,[])}function jm(e,t){switch(xm(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(Im)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:jm(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>Lm)return"[Array]";for(var n=Math.min(Dm,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(jm(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>Lm)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var r=n.map((function(n){return n+": "+jm(e[n],t)}));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function Um(e,t){if(!Boolean(e))throw new Error(t)}const Fm=function(e,t){return e instanceof t};function Bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vm=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||Um(0,"Body must be a string. Received: ".concat(Mm(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||Um(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Um(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:am,get:function(){return"Source"}}])&&Bm(t.prototype,n),r&&Bm(t,r),e}();var Hm=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function zm(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&Gm(t[i]);)++i;for(var o=t.length;o>i&&Gm(t[o-1]);)--o;return t.slice(i,o).join("\n")}function Gm(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var Wm=function(){function e(e){var t=new Pm(Nm.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==Nm.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=$m(this,e)}while(e.kind===Nm.COMMENT);return e},e}();function qm(e){return isNaN(e)?Nm.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function $m(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,u=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Pm(Nm.BANG,o,o+1,s,u,t);case 35:return Qm(n,o,s,u,t);case 36:return new Pm(Nm.DOLLAR,o,o+1,s,u,t);case 38:return new Pm(Nm.AMP,o,o+1,s,u,t);case 40:return new Pm(Nm.PAREN_L,o,o+1,s,u,t);case 41:return new Pm(Nm.PAREN_R,o,o+1,s,u,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new Pm(Nm.SPREAD,o,o+3,s,u,t);break;case 58:return new Pm(Nm.COLON,o,o+1,s,u,t);case 61:return new Pm(Nm.EQUALS,o,o+1,s,u,t);case 64:return new Pm(Nm.AT,o,o+1,s,u,t);case 91:return new Pm(Nm.BRACKET_L,o,o+1,s,u,t);case 93:return new Pm(Nm.BRACKET_R,o,o+1,s,u,t);case 123:return new Pm(Nm.BRACE_L,o,o+1,s,u,t);case 124:return new Pm(Nm.PIPE,o,o+1,s,u,t);case 125:return new Pm(Nm.BRACE_R,o,o+1,s,u,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?Xm(n,o,s,u,t,e):Zm(n,o,s,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ym(n,o,a,s,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return ty(n,o,s,u,t)}throw Cm(n,o,Km(a))}var c=e.line,l=1+o-e.lineStart;return new Pm(Nm.EOF,i,i,c,l,t)}function Km(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(qm(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(qm(e),".")}function Qm(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new Pm(Nm.COMMENT,t,s,n,r,i,a.slice(t+1,s))}function Ym(e,t,n,r,i,o){var a=e.body,s=n,u=t,c=!1;if(45===s&&(s=a.charCodeAt(++u)),48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw Cm(e,u,"Invalid number, unexpected digit after 0: ".concat(qm(s),"."))}else u=Jm(e,u,s),s=a.charCodeAt(u);if(46===s&&(c=!0,s=a.charCodeAt(++u),u=Jm(e,u,s),s=a.charCodeAt(u)),69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=Jm(e,u,s),s=a.charCodeAt(u)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw Cm(e,u,"Invalid number, expected digit but got: ".concat(qm(s),"."));return new Pm(c?Nm.FLOAT:Nm.INT,t,u,r,i,o,a.slice(t,u))}function Jm(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw Cm(e,i,"Invalid number, expected digit but got: ".concat(qm(o),"."))}function Zm(e,t,n,r,i){for(var o,a,s,u,c=e.body,l=t+1,f=l,d=0,p="";l<c.length&&!isNaN(d=c.charCodeAt(l))&&10!==d&&13!==d;){if(34===d)return p+=c.slice(f,l),new Pm(Nm.STRING,t,l+1,n,r,i,p);if(d<32&&9!==d)throw Cm(e,l,"Invalid character within String: ".concat(qm(d),"."));if(++l,92===d){switch(p+=c.slice(f,l-1),d=c.charCodeAt(l)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var h=(o=c.charCodeAt(l+1),a=c.charCodeAt(l+2),s=c.charCodeAt(l+3),u=c.charCodeAt(l+4),ey(o)<<12|ey(a)<<8|ey(s)<<4|ey(u));if(h<0){var v=c.slice(l+1,l+5);throw Cm(e,l,"Invalid character escape sequence: \\u".concat(v,"."))}p+=String.fromCharCode(h),l+=4;break;default:throw Cm(e,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(d),"."))}f=++l}}throw Cm(e,l,"Unterminated string.")}function Xm(e,t,n,r,i,o){for(var a=e.body,s=t+3,u=s,c=0,l="";s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new Pm(Nm.BLOCK_STRING,t,s+3,n,r,i,zm(l));if(c<32&&9!==c&&10!==c&&13!==c)throw Cm(e,s,"Invalid character within String: ".concat(qm(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw Cm(e,s,"Unterminated string.")}function ey(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function ty(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,u=0;s!==a&&!isNaN(u=o.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new Pm(Nm.NAME,t,s,n,r,i,o.slice(t,s))}function ny(e,t){return new ry(e,t).parseDocument()}var ry=function(){function e(e,t){var n=function(e){return Fm(e,Vm)}(e)?e:new Vm(e);this._lexer=new Wm(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(Nm.NAME);return{kind:Om.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:Om.DOCUMENT,definitions:this.many(Nm.SOF,this.parseDefinition,Nm.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(Nm.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Nm.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(Nm.BRACE_L))return{kind:Om.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(Nm.NAME)&&(t=this.parseName()),{kind:Om.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(Nm.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(Nm.PAREN_L,this.parseVariableDefinition,Nm.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Om.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Nm.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Nm.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(Nm.DOLLAR),{kind:Om.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Om.SELECTION_SET,selections:this.many(Nm.BRACE_L,this.parseSelection,Nm.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(Nm.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(Nm.COLON)?(e=r,t=this.parseName()):t=r,{kind:Om.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Nm.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Nm.PAREN_L,t,Nm.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(Nm.COLON),{kind:Om.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:Om.ARGUMENT,name:this.parseName(),value:(this.expectToken(Nm.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(Nm.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Nm.NAME)?{kind:Om.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Om.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:Om.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:Om.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case Nm.BRACKET_L:return this.parseList(e);case Nm.BRACE_L:return this.parseObject(e);case Nm.INT:return this._lexer.advance(),{kind:Om.INT,value:t.value,loc:this.loc(t)};case Nm.FLOAT:return this._lexer.advance(),{kind:Om.FLOAT,value:t.value,loc:this.loc(t)};case Nm.STRING:case Nm.BLOCK_STRING:return this.parseStringLiteral();case Nm.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:Om.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:Om.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:Om.NULL,loc:this.loc(t)};default:return{kind:Om.ENUM,value:t.value,loc:this.loc(t)}}case Nm.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Om.STRING,value:e.value,block:e.kind===Nm.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:Om.LIST,values:this.any(Nm.BRACKET_L,(function(){return t.parseValueLiteral(e)}),Nm.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:Om.OBJECT,fields:this.any(Nm.BRACE_L,(function(){return t.parseObjectField(e)}),Nm.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(Nm.COLON),{kind:Om.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(Nm.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(Nm.AT),{kind:Om.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(Nm.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(Nm.BRACKET_R),e={kind:Om.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(Nm.BANG)?{kind:Om.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:Om.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===Nm.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(Nm.STRING)||this.peek(Nm.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(Nm.BRACE_L,this.parseOperationTypeDefinition,Nm.BRACE_R);return{kind:Om.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Nm.COLON);var n=this.parseNamedType();return{kind:Om.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:Om.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Om.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(Nm.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(Nm.AMP)||this.peek(Nm.NAME));return t}return this.delimitedMany(Nm.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(Nm.BRACE_L)&&this._lexer.lookahead().kind===Nm.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Nm.BRACE_L,this.parseFieldDefinition,Nm.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Nm.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:Om.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(Nm.PAREN_L,this.parseInputValueDef,Nm.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Nm.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(Nm.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:Om.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Om.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:Om.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Nm.EQUALS)?this.delimitedMany(Nm.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:Om.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Nm.BRACE_L,this.parseEnumValueDefinition,Nm.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:Om.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:Om.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Nm.BRACE_L,this.parseInputValueDef,Nm.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===Nm.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(Nm.BRACE_L,this.parseOperationTypeDefinition,Nm.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:Om.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:Om.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Om.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Om.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Om.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Om.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Om.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Nm.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:Om.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Nm.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==Hm[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new Am(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Cm(this._lexer.source,t.start,"Expected ".concat(oy(e),", found ").concat(iy(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==Nm.NAME||t.value!==e)throw Cm(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(iy(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===Nm.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return Cm(this._lexer.source,t.start,"Unexpected ".concat(iy(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function iy(e){var t=e.value;return oy(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function oy(e){return function(e){return e===Nm.BANG||e===Nm.DOLLAR||e===Nm.AMP||e===Nm.PAREN_L||e===Nm.PAREN_R||e===Nm.SPREAD||e===Nm.COLON||e===Nm.EQUALS||e===Nm.AT||e===Nm.BRACKET_L||e===Nm.BRACKET_R||e===Nm.BRACE_L||e===Nm.PIPE||e===Nm.BRACE_R}(e)?'"'.concat(e,'"'):e}var ay={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},sy=Object.freeze({});function uy(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}function cy(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ay,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],u=void 0,c=void 0,l=void 0,f=[],d=[],p=e;do{var h=++a===o.length,v=h&&0!==s.length;if(h){if(c=0===d.length?void 0:f[f.length-1],u=l,l=d.pop(),v){if(i)u=u.slice();else{for(var m={},y=0,g=Object.keys(u);y<g.length;y++){var b=g[y];m[b]=u[b]}u=m}for(var _=0,w=0;w<s.length;w++){var E=s[w][0],S=s[w][1];i&&(E-=_),i&&null===S?(u.splice(E,1),_++):u[E]=S}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(c=l?i?a:o[a]:void 0,null==(u=l?l[c]:p))continue;l&&f.push(c)}var T,C=void 0;if(!Array.isArray(u)){if(!Rm(u))throw new Error("Invalid AST Node: ".concat(Mm(u),"."));var O=uy(t,u.kind,h);if(O){if((C=O.call(t,u,c,l,f,d))===sy)break;if(!1===C){if(!h){f.pop();continue}}else if(void 0!==C&&(s.push([c,C]),!h)){if(!Rm(C)){f.pop();continue}u=C}}}void 0===C&&v&&s.push([c,u]),h?f.pop():(r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(u))?u:null!==(T=n[u.kind])&&void 0!==T?T:[],a=-1,s=[],l&&d.push(l),l=u)}while(void 0!==r);return 0!==s.length&&(p=s[s.length-1][1]),p}(e,{leave:ly})}var ly={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return dy(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=hy("(",dy(e.variableDefinitions,", "),")"),i=dy(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?dy([t,dy([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+hy(" = ",r)+hy(" ",dy(i," "))},SelectionSet:function(e){return py(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=hy("",t,": ")+n,s=a+hy("(",dy(r,", "),")");return s.length>80&&(s=a+hy("(\n",vy(dy(r,"\n")),"\n)")),dy([s,dy(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+hy(" ",dy(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return dy(["...",hy("on ",t),dy(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(hy("(",dy(r,", "),")")," ")+"on ".concat(n," ").concat(hy("",dy(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,u="";return!s||r&&i||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+dy(e.values,", ")+"]"},ObjectValue:function(e){return"{"+dy(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+hy("(",dy(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:fy((function(e){var t=e.directives,n=e.operationTypes;return dy(["schema",dy(t," "),py(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:fy((function(e){return dy(["scalar",e.name,dy(e.directives," ")]," ")})),ObjectTypeDefinition:fy((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dy(["type",t,hy("implements ",dy(n," & ")),dy(r," "),py(i)]," ")})),FieldDefinition:fy((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(yy(n)?hy("(\n",vy(dy(n,"\n")),"\n)"):hy("(",dy(n,", "),")"))+": "+r+hy(" ",dy(i," "))})),InputValueDefinition:fy((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return dy([t+": "+n,hy("= ",r),dy(i," ")]," ")})),InterfaceTypeDefinition:fy((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dy(["interface",t,hy("implements ",dy(n," & ")),dy(r," "),py(i)]," ")})),UnionTypeDefinition:fy((function(e){var t=e.name,n=e.directives,r=e.types;return dy(["union",t,dy(n," "),r&&0!==r.length?"= "+dy(r," | "):""]," ")})),EnumTypeDefinition:fy((function(e){var t=e.name,n=e.directives,r=e.values;return dy(["enum",t,dy(n," "),py(r)]," ")})),EnumValueDefinition:fy((function(e){return dy([e.name,dy(e.directives," ")]," ")})),InputObjectTypeDefinition:fy((function(e){var t=e.name,n=e.directives,r=e.fields;return dy(["input",t,dy(n," "),py(r)]," ")})),DirectiveDefinition:fy((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(yy(n)?hy("(\n",vy(dy(n,"\n")),"\n)"):hy("(",dy(n,", "),")"))+(r?" repeatable":"")+" on "+dy(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return dy(["extend schema",dy(t," "),py(n)]," ")},ScalarTypeExtension:function(e){return dy(["extend scalar",e.name,dy(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dy(["extend type",t,hy("implements ",dy(n," & ")),dy(r," "),py(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return dy(["extend interface",t,hy("implements ",dy(n," & ")),dy(r," "),py(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return dy(["extend union",t,dy(n," "),r&&0!==r.length?"= "+dy(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return dy(["extend enum",t,dy(n," "),py(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return dy(["extend input",t,dy(n," "),py(r)]," ")}};function fy(e){return function(t){return dy([t.description,e(t)],"\n")}}function dy(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function py(e){return hy("{\n",vy(dy(e,"\n")),"\n}")}function hy(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function vy(e){return hy("  ",e.replace(/\n/g,"\n  "))}function my(e){return-1!==e.indexOf("\n")}function yy(e){return null!=e&&e.some(my)}var gy=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function by(e){return Ih(null==e?void 0:e.then)}function _y(e){return Ih(e[Hv])}function wy(e){return Symbol.asyncIterator&&Ih(null==e?void 0:e[Symbol.asyncIterator])}function Ey(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Sy="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ty(e){return Ih(null==e?void 0:e[Sy])}function Cy(e){return(0,Xf.FC)(this,arguments,(function(){var t,n,r;return(0,Xf.Jh)(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,Xf.qq)(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,(0,Xf.qq)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,Xf.qq)(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Oy(e){return Ih(null==e?void 0:e.getReader)}function Iy(e){if(e instanceof Wv)return e;if(null!=e){if(_y(e))return i=e,new Wv((function(e){var t=i[Hv]();if(Ih(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(gy(e))return r=e,new Wv((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(by(e))return n=e,new Wv((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Uh)}));if(wy(e))return ky(e);if(Ty(e))return t=e,new Wv((function(e){var n,r;try{for(var i=(0,Xf.XA)(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(Oy(e))return ky(Cy(e))}var t,n,r,i;throw Ey(e)}function ky(e){return new Wv((function(t){(function(e,t){var n,r,i,o;return(0,Xf.mG)(this,void 0,void 0,(function(){var a,s;return(0,Xf.Jh)(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=(0,Xf.KL)(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function Ay(e){return kh((function(t,n){var r,i=null,o=!1;i=t.subscribe(Jh(n,void 0,void 0,(function(a){r=Iy(e(a,Ay(e)(t))),i?(i.unsubscribe(),i=null,r.subscribe(n)):o=!0}))),o&&(i.unsubscribe(),i=null,r.subscribe(n))}))}class Py extends xf{get response(){return this._response?Ry(this._response):void 0}constructor(e){super(e),this.constructor=Py,Object.setPrototypeOf(this,Py.prototype),e.response&&(this._response=e.response)}}const Ry=e=>({...e,headers:{...e.headers}});class Ny extends Py{constructor(e){super(e),this.constructor=Ny,Object.setPrototypeOf(this,Ny.prototype)}}class xy extends Ny{constructor(e={}){super({name:"CanceledError",message:"Request is canceled by user",...e}),this.constructor=xy,Object.setPrototypeOf(this,xy.prototype)}}const Dy=e=>!!e&&e instanceof xy;var Ly;!function(e){e.InvalidApiName="InvalidApiName"}(Ly||(Ly={}));Ly.InvalidApiName;const My=async e=>{if(!e)return;const t=await Pd(jy(e));if(t){const n=await(e.body?.text());return Uy(t,{statusCode:e.statusCode,headers:e.headers,body:n})}},jy=e=>{let t;const n=new Proxy(e.body,{get:(e,n,r)=>"json"===n?async()=>{t||(t=e.text());try{return JSON.parse(await t)}catch(e){return{}}}:"text"===n?async()=>(t||(t=e.text()),t):Reflect.get(e,n,r)});return new Proxy(e,{get:(e,t,r)=>"body"===t?n:Reflect.get(e,t,r)})},Uy=(e,t)=>{const n=new Ny({name:e?.name,message:e.message,underlyingError:e,response:t});return Object.assign(n,{$metadata:e.$metadata})},Fy=new Nf("RestApis");const By=e=>Object.keys(e).map((e=>e.toLowerCase())).sort().join(";"),Vy="X-Amz-Date".toLowerCase(),Hy="X-Amz-Security-Token".toLowerCase(),zy="aws4_request",Gy="AWS4-HMAC-SHA256",Wy=({credentials:e,signingDate:t=new Date,signingRegion:n,signingService:r,uriEscapePath:i=!0})=>{const{accessKeyId:o,secretAccessKey:a,sessionToken:s}=e,{longDate:u,shortDate:c}=(e=>{const t=e.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}})(t);return{accessKeyId:o,credentialScope:`${c}/${n}/${r}/${zy}`,longDate:u,secretAccessKey:a,sessionToken:s,shortDate:c,signingRegion:n,signingService:r,uriEscapePath:i}},qy=(e,t)=>{const n=new ud(e??void 0);n.update(t);return n.digestSync()},$y=(e,t)=>function(e){let t="";for(let n=0;n<e.byteLength;n++)t+=cd[e[n]];return t}(qy(e,t)),Ky=e=>Object.entries(e).map((([e,t])=>({key:e.toLowerCase(),value:t?.trim().replace(/\s+/g," ")??""}))).sort(((e,t)=>e.key<t.key?-1:1)).map((e=>`${e.key}:${e.value}\n`)).join(""),Qy=e=>encodeURIComponent(e).replace(/[!'()*]/g,Yy),Yy=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,Jy=(e,t=!0)=>e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/",Zy=e=>{if(null==e)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(Xy(e)){return $y(null,e)}return"UNSIGNED-PAYLOAD"},Xy=e=>"string"==typeof e||ArrayBuffer.isView(e)||eg(e),eg=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),tg=(e,{credentialScope:t,longDate:n,secretAccessKey:r,shortDate:i,signingRegion:o,signingService:a,uriEscapePath:s})=>{const u=(({body:e,headers:t,method:n,url:r},i=!0)=>{return[n,Jy(r.pathname,i),(o=r.searchParams,Array.from(o).sort((([e,t],[n,r])=>e===n?t<r?-1:1:e<n?-1:1)).map((([e,t])=>`${Qy(e)}=${Qy(t)}`)).join("&")),Ky(t),By(t),Zy(e)].join("\n");var o})(e,s),c=((e,t,n)=>[Gy,e,t,n].join("\n"))(n,t,$y(null,u)),l=$y(((e,t,n,r)=>{const i=qy(`AWS4${e}`,t),o=qy(i,n),a=qy(o,r);return qy(a,zy)})(r,i,o,a),c);return l},ng=(e,t)=>{const n=Wy(t),{accessKeyId:r,credentialScope:i,longDate:o,sessionToken:a}=n,s={...e.headers};s.host=e.url.host,s[Vy]=o,a&&(s[Hy]=a);const u={...e,headers:s},c=tg(u,n),l=`Credential=${r}/${i}`,f=`SignedHeaders=${By(s)}`,d=`Signature=${c}`;return s.authorization=`${Gy} ${l}, ${f}, ${d}`,u},rg=e=>new Date(Date.now()+e),ig=(e,t)=>((e,t)=>Math.abs(rg(t).getTime()-e)>=3e5)(e,t)?e-Date.now():t,og=({headers:e}={})=>e?.date??e?.Date??e?.["x-amz-date"],ag=Vd(Gd,[Bd,jd,({credentials:e,region:t,service:n,uriEscapePath:r=!0})=>{let i;return o=>async function(a){i=i??0;const s={credentials:"function"==typeof e?await e():e,signingDate:rg(i),signingRegion:t,signingService:n,uriEscapePath:r},u=await ng(a,s),c=await o(u),l=og(c);return l&&(i=ig(Date.parse(l),i)),c}}]),sg="execute-api",ug="us-east-1",cg=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,lg=async(e,t,n)=>{const{url:r,method:i,headers:o,body:a,withCredentials:s,abortSignal:u}=t,c=a?a instanceof FormData?a:JSON.stringify(a??""):void 0,l=((e,t)=>{const n={};for(const t in e)n[t.toLowerCase()]=e[t];return t&&(n["content-type"]="application/json; charset=UTF-8",t instanceof FormData&&delete n["content-type"]),n})(o,a),f={url:r,headers:l,method:i,body:c},d={retryDecider:$d(My),computeDelay:tp,withCrossDomainCredentials:s,abortSignal:u},p=fg(f,n);let h;const v=await dg(e);if(p&&v){const e=((e,t)=>{const{service:n=sg,region:r=ug}=t?.amplify.getConfig()?.API?.REST?.[t?.apiName]??{},{hostname:i}=e,[,o,a]=cg.exec(i)??[];return o===sg?{service:o,region:a??r}:"appsync-api"===o?{service:"appsync",region:a??r}:{service:n,region:r}})(r),t=n?.service??e.service,i=n?.region??e.region;h=await ag(f,{...d,credentials:v,region:i,service:t})}else h=await Wd(f,{...d});return{statusCode:h.statusCode,headers:h.headers,body:h.body}},fg=({headers:e},t)=>!e.authorization&&!e["x-api-key"]&&!!t,dg=async e=>{try{const{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch(e){Fy.debug("No credentials available, the request will be unsigned.")}return null},pg=new WeakMap,hg=(e,{url:t,options:n,abortController:r})=>{const i=r??new AbortController,o=function(e,t){const n=e=>!!t,r=new AbortController,i=r.signal,o=t?.signal;let a;const s=async()=>{try{const t=await(n()?e():e(i));if(t.statusCode>=300)throw await My(t);return t}catch(e){const t=o??i,n=a??t.reason;if("AbortError"===e.name||!0===t?.aborted){const t=new xy({...n&&{message:n},underlyingError:e,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw Fy.debug(e),t}throw Fy.debug(e),e}};if(n())return s();{const e=e=>{!0!==i.aborted&&(r.abort(e),e&&i.reason!==e&&(a=e))};return{response:s(),cancel:e}}}((async()=>lg(e,{url:t,method:"POST",...n,abortSignal:i.signal},n?.signingServiceInfo)),i),a=o.finally((()=>{pg.delete(a)}));return a},vg=(e,t)=>{const n=pg.get(e);return!!n&&(n.abort(t),t&&n.signal.reason!==t&&(n.signal.reason=t),!0)},mg=(e,t)=>{pg.set(e,t)},yg=e=>((e,t)=>e.Auth.fetchAuthSession(t))(fd,e),gg={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let bg;const _g=new Uint8Array(16);function wg(){if(!bg&&(bg="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bg(_g)}const Eg=[];for(let e=0;e<256;++e)Eg.push((e+256).toString(16).slice(1));function Sg(e,t=0){return Eg[e[t+0]]+Eg[e[t+1]]+Eg[e[t+2]]+Eg[e[t+3]]+"-"+Eg[e[t+4]]+Eg[e[t+5]]+"-"+Eg[e[t+6]]+Eg[e[t+7]]+"-"+Eg[e[t+8]]+Eg[e[t+9]]+"-"+Eg[e[t+10]]+Eg[e[t+11]]+Eg[e[t+12]]+Eg[e[t+13]]+Eg[e[t+14]]+Eg[e[t+15]]}const Tg=function(e,t,n){if(gg.randomUUID&&!t&&!e)return gg.randomUUID();const r=(e=e||{}).random||(e.rng||wg)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return Sg(r)},Cg=Tg,Og=e=>e&&e.nonRetryable;const Ig={convert(e,{urlSafe:t}={urlSafe:!1}){const n="string"==typeof e?e:function(e){return Array.from(e,(e=>String.fromCodePoint(e))).join("")}(e),r=(()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new xf({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})})()(n);return t?r.replace(/\+/g,"-").replace(/\//g,"_"):r}},kg=new Nf("retryUtil");const Ag=(e,t,n=3e5,r)=>async function(e,t,n,r){if("function"!=typeof e)throw Error("functionToRetry must be a function");return new Promise((async(i,o)=>{let a,s,u=0,c=!1,l=()=>{};for(r&&r.then((()=>{c=!0,clearTimeout(a),l()}));!c;){u++,kg.debug(`${e.name} attempt #${u} with this vars: ${JSON.stringify(t)}`);try{return void i(await e(...t))}catch(r){if(s=r,kg.debug(`error on ${e.name}`,r),Og(r))return kg.debug(`${e.name} non retryable error`,r),void o(r);const i=n(u,t,r);if(kg.debug(`${e.name} retrying in ${i} ms`),!1===i||c)return void o(r);await new Promise((e=>{l=e,a=setTimeout(l,i)}))}}o(s)}))}(e,t,Xd(n),r);class Pg extends Error{constructor(){super(...arguments),this.nonRetryable=!0}}var Rg,Ng;!function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(Rg||(Rg={})),function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"}(Ng||(Ng={}));const xg=[400,401,403];var Dg,Lg,Mg;!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(Dg||(Dg={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(Lg||(Lg={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(Mg||(Mg={}));const jg={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Ug=3e5;function Fg(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}function Bg(e,t){return void 0===t&&(t=0),kh((function(n,r){n.subscribe(Jh(r,(function(n){return Fg(r,e,(function(){return r.next(n)}),t)}),(function(){return Fg(r,e,(function(){return r.complete()}),t)}),(function(n){return Fg(r,e,(function(){return r.error(n)}),t)})))}))}function Vg(e,t){return void 0===t&&(t=0),kh((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Hg(e,t){if(!e)throw new Error("Iterable cannot be null");return new Wv((function(n){Fg(n,t,(function(){var r=e[Symbol.asyncIterator]();Fg(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function zg(e,t){if(null!=e){if(_y(e))return function(e,t){return Iy(e).pipe(Vg(t),Bg(t))}(e,t);if(gy(e))return function(e,t){return new Wv((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(by(e))return function(e,t){return Iy(e).pipe(Vg(t),Bg(t))}(e,t);if(wy(e))return Hg(e,t);if(Ty(e))return function(e,t){return new Wv((function(n){var r;return Fg(n,t,(function(){r=e[Sy](),Fg(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return Ih(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(Oy(e))return function(e,t){return Hg(Cy(e),t)}(e,t)}throw Ey(e)}class Gg{networkMonitor(e){const t=(()=>{if("undefined"==typeof self)return!1;const e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope})()?self:"undefined"!=typeof window&&window;return t?new Wv((e=>{e.next({online:t.navigator.onLine});const n=()=>{e.next({online:!0})},r=()=>{e.next({online:!1})};return t.addEventListener("online",n),t.addEventListener("offline",r),Gg._observers.push(e),()=>{t.removeEventListener("online",n),t.removeEventListener("offline",r),Gg._observers=Gg._observers.filter((t=>t!==e))}})):(n=[{online:!0}],r?zg(n,r):Iy(n));var n,r}static _observerOverride(e){for(const t of this._observers)t.closed?this._observers=this._observers.filter((e=>e!==t)):t?.next&&t.next(e)}}Gg._observers=[];const Wg=()=>(new Gg).networkMonitor(),qg={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class $g{constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=Wg().subscribe((({online:e})=>{this.record(e?qg.ONLINE:qg.OFFLINE),this._initialNetworkStateSubscription?.unsubscribe()})),this._linkedConnectionStateObservable=new Wv((e=>{e.next(this._linkedConnectionState),this._linkedConnectionStateObserver=e}))}enableNetworkMonitoring(){this._initialNetworkStateSubscription?.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=Wg().subscribe((({online:e})=>{this.record(e?qg.ONLINE:qg.OFFLINE)})))}disableNetworkMonitoring(){this._networkMonitoringSubscription?.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){let e;return this._linkedConnectionStateObservable.pipe(Xh((e=>this.connectionStatesTranslator(e)))).pipe((t=t=>{const n=t!==e;return e=t,n},kh((function(e,r){var i=0;e.subscribe(Jh(r,(function(e){return t.call(n,e,i++)&&r.next(e)})))}))));var t,n}record(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();const t={...this._linkedConnectionState,...e};this._linkedConnectionState={...t},this._linkedConnectionStateObserver?.next(this._linkedConnectionState)}connectionStatesTranslator({connectionState:e,networkState:t,intendedConnectionState:n,keepAliveState:r}){return"connected"===e&&"disconnected"===t?Ng.ConnectedPendingNetwork:"connected"===e&&"disconnected"===n?Ng.ConnectedPendingDisconnect:"disconnected"===e&&"connected"===n&&"disconnected"===t?Ng.ConnectionDisruptedPendingNetwork:"disconnected"===e&&"connected"===n?Ng.ConnectionDisrupted:"connected"===e&&"unhealthy"===r?Ng.ConnectedPendingKeepAlive:"connecting"===e?Ng.Connecting:"disconnected"===e?Ng.Disconnected:Ng.Connected}}var Kg;!function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"}(Kg||(Kg={}));class Qg{constructor(){this.reconnectObservers=[]}addObserver(e){this.reconnectObservers.push(e)}record(e){e===Kg.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout((()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval((()=>{this._triggerReconnect()}),6e4)}),5e3)),e===Kg.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach((e=>{e.complete?.()}))}_triggerReconnect(){this.reconnectObservers.forEach((e=>{e.next?.()}))}}const Yg=new Nf("AWSAppSyncRealTimeProvider"),Jg=e=>{jf.dispatch("api",e,"PubSub",Df)},Zg=/^https:\/\/\w{26}\.appsync-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/graphql$/i;class Xg{constructor(){this.socketStatus=Mg.CLOSED,this.keepAliveTimeout=Ug,this.subscriptionObserverMap=new Map,this.promiseArray=[],this.connectionStateMonitor=new $g,this.reconnectionMonitor=new Qg,this.connectionStateMonitorSubscription=this.connectionStateMonitor.connectionStateObservable.subscribe((e=>{Jg({event:"ConnectionStateChange",data:{provider:this,connectionState:e},message:`Connection state is ${e}`}),this.connectionState=e,e===Ng.ConnectionDisrupted&&this.reconnectionMonitor.record(Kg.START_RECONNECT),[Ng.Connected,Ng.ConnectedPendingDisconnect,Ng.ConnectedPendingKeepAlive,Ng.ConnectedPendingNetwork,Ng.ConnectionDisruptedPendingNetwork,Ng.Disconnected].includes(e)&&this.reconnectionMonitor.record(Kg.HALT_RECONNECT)}))}close(){this.socketStatus=Mg.CLOSED,this.connectionStateMonitor.record(qg.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()}getNewWebSocket(e,t){return new WebSocket(e,t)}getProviderName(){return"AWSAppSyncRealTimeProvider"}isCustomDomain(e){return null===e.match(Zg)}subscribe(e,t){const{appSyncGraphqlEndpoint:n,region:r,query:i,variables:o,authenticationType:a,additionalHeaders:s,apiKey:u,authToken:c,libraryConfigHeaders:l}=e||{};return new Wv((f=>{if(e&&n){let e=!1;const d=Cg(),p=()=>{if(!e){e=!0;this._startSubscriptionWithAWSAppSyncRealTime({options:{query:i,variables:o,region:r,authenticationType:a,appSyncGraphqlEndpoint:n,additionalHeaders:s,apiKey:u,authToken:c,libraryConfigHeaders:l},observer:f,subscriptionId:d,customUserAgentDetails:t}).catch((e=>{Yg.debug(`${Rg.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${e}`),this.connectionStateMonitor.record(qg.CLOSED)})).finally((()=>{e=!1}))}},h=new Wv((e=>{this.reconnectionMonitor.addObserver(e)})).subscribe((()=>{p()}));return p(),async()=>{h?.unsubscribe();try{await this._waitForSubscriptionToBeConnected(d);const{subscriptionState:e}=this.subscriptionObserverMap.get(d)||{};if(!e)return;if(e!==Lg.CONNECTED)throw new Error("Subscription never connected");this._sendUnsubscriptionMessage(d)}catch(e){Yg.debug(`Error while unsubscribing ${e}`)}finally{this._removeSubscriptionObserver(d)}}}f.error({errors:[{...new Sm("Subscribe only available for AWS AppSync endpoint")}]}),f.complete()}))}async _startSubscriptionWithAWSAppSyncRealTime({options:e,observer:t,subscriptionId:n,customUserAgentDetails:r}){const{appSyncGraphqlEndpoint:i,authenticationType:o,query:a,variables:s,apiKey:u,region:c,libraryConfigHeaders:l=(()=>({})),additionalHeaders:f={},authToken:d}=e;let p={};if("function"==typeof f){const e={url:i||"",queryString:a||""};p=await f(e)}else p=f;d&&(p={...p,Authorization:d});const h=Lg.PENDING,v={query:a,variables:s};this.subscriptionObserverMap.set(n,{observer:t,query:a??"",variables:s??{},subscriptionState:h,startAckTimeoutId:void 0});const m=JSON.stringify(v),y={...await this._awsRealTimeHeaderBasedAuth({apiKey:u,appSyncGraphqlEndpoint:i,authenticationType:o,payload:m,canonicalUri:"",region:c,additionalCustomHeaders:p}),...await l(),...p,"x-amz-user-agent":xp(r)},g={id:n,payload:{data:m,extensions:{authorization:{...y}}},type:Dg.GQL_START},b=JSON.stringify(g);try{this.connectionStateMonitor.record(qg.OPENING_CONNECTION),await this._initializeWebSocketConnection({apiKey:u,appSyncGraphqlEndpoint:i,authenticationType:o,region:c,additionalCustomHeaders:p})}catch(e){return void this._logStartSubscriptionError(n,t,e)}const{subscriptionFailedCallback:_,subscriptionReadyCallback:w}=this.subscriptionObserverMap.get(n)??{};this.subscriptionObserverMap.set(n,{observer:t,subscriptionState:h,query:a??"",variables:s??{},subscriptionReadyCallback:w,subscriptionFailedCallback:_,startAckTimeoutId:setTimeout((()=>{this._timeoutStartSubscriptionAck(n)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(b)}_logStartSubscriptionError(e,t,n){Yg.debug({err:n});const r=String(n.message??"");if(this.connectionStateMonitor.record(qg.CLOSED),this.connectionState!==Ng.ConnectionDisruptedPendingNetwork){Og(n)?t.error({errors:[{...new Sm(`${Rg.CONNECTION_FAILED}: ${r}`)}]}):Yg.debug(`${Rg.CONNECTION_FAILED}: ${r}`);const{subscriptionFailedCallback:i}=this.subscriptionObserverMap.get(e)||{};"function"==typeof i&&i()}}async _waitForSubscriptionToBeConnected(e){const t=this.subscriptionObserverMap.get(e);if(t){const{subscriptionState:n}=t;if(n===Lg.PENDING)return new Promise(((n,r)=>{const{observer:i,subscriptionState:o,variables:a,query:s}=t;this.subscriptionObserverMap.set(e,{observer:i,subscriptionState:o,variables:a,query:s,subscriptionReadyCallback:n,subscriptionFailedCallback:r})}))}}_sendUnsubscriptionMessage(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===Mg.READY){const t={id:e,type:Dg.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){Yg.debug({err:e})}}_removeSubscriptionObserver(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.connectionStateMonitor.record(qg.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{Yg.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);const e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=Mg.CLOSED,this.connectionStateMonitor.record(qg.CLOSED)}else this.socketStatus=Mg.CLOSED}_handleIncomingSubscriptionMessage(e){if("string"!=typeof e.data)return;Yg.debug(`subscription message from AWS AppSync RealTime: ${e.data}`);const{id:t="",payload:n,type:r}=JSON.parse(String(e.data)),{observer:i=null,query:o="",variables:a={},startAckTimeoutId:s,subscriptionReadyCallback:u,subscriptionFailedCallback:c}=this.subscriptionObserverMap.get(t)||{};if(Yg.debug({id:t,observer:i,query:o,variables:a}),r===Dg.GQL_DATA&&n&&n.data)i?i.next(n):Yg.debug(`observer not found for id: ${t}`);else{if(r===Dg.GQL_START_ACK){Yg.debug(`subscription ready for ${JSON.stringify({query:o,variables:a})}`),"function"==typeof u&&u(),s&&clearTimeout(s),Jg({event:Rg.SUBSCRIPTION_ACK,data:{query:o,variables:a},message:"Connection established for subscription"});const e=Lg.CONNECTED;return i&&this.subscriptionObserverMap.set(t,{observer:i,query:o,variables:a,startAckTimeoutId:void 0,subscriptionState:e,subscriptionReadyCallback:u,subscriptionFailedCallback:c}),void this.connectionStateMonitor.record(qg.CONNECTION_ESTABLISHED)}if(r===Dg.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout((()=>{this._errorDisconnect(Rg.TIMEOUT_DISCONNECT)}),this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout((()=>{this.connectionStateMonitor.record(qg.KEEP_ALIVE_MISSED)}),65e3),void this.connectionStateMonitor.record(qg.KEEP_ALIVE);if(r===Dg.GQL_ERROR){const e=Lg.FAILED;i&&(this.subscriptionObserverMap.set(t,{observer:i,query:o,variables:a,startAckTimeoutId:s,subscriptionReadyCallback:u,subscriptionFailedCallback:c,subscriptionState:e}),Yg.debug(`${Rg.CONNECTION_FAILED}: ${JSON.stringify(n)}`),i.error({errors:[{...new Sm(`${Rg.CONNECTION_FAILED}: ${JSON.stringify(n)}`)}]}),s&&clearTimeout(s),"function"==typeof c&&c())}}}_errorDisconnect(e){Yg.debug(`Disconnect error: ${e}`),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(qg.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=Mg.CLOSED}_timeoutStartSubscriptionAck(e){const t=this.subscriptionObserverMap.get(e);if(t){const{observer:n,query:r,variables:i}=t;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:Lg.FAILED}),this.connectionStateMonitor.record(qg.CLOSED),Yg.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:e,authenticationType:t,apiKey:n,region:r,additionalCustomHeaders:i}){if(this.socketStatus!==Mg.READY)return new Promise((async(o,a)=>{if(this.promiseArray.push({res:o,rej:a}),this.socketStatus===Mg.CLOSED)try{this.socketStatus=Mg.CONNECTING;const o="{}",a=await this._awsRealTimeHeaderBasedAuth({authenticationType:t,payload:o,canonicalUri:"/connect",apiKey:n,appSyncGraphqlEndpoint:e,region:r,additionalCustomHeaders:i}),s=a?JSON.stringify(a):"",u=Ig.convert(s),c=Ig.convert(o);let l=e??"";l=this.isCustomDomain(l)?l.concat("/realtime"):l.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta");const f="wss://";l=l.replace("https://",f).replace("http://",f);const d=`${l}?header=${u}&payload=${c}`;await this._initializeRetryableHandshake(d),this.promiseArray.forEach((({res:e})=>{Yg.debug("Notifying connection successful"),e()})),this.socketStatus=Mg.READY,this.promiseArray=[]}catch(e){Yg.debug("Connection exited with",e),this.promiseArray.forEach((({rej:t})=>{t(e)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=Mg.CLOSED}}))}async _initializeRetryableHandshake(e){Yg.debug("Initializaling retryable Handshake"),await Ag(this._initializeHandshake.bind(this),[e],5e3)}async _initializeHandshake(e){Yg.debug(`Initializing handshake ${e}`);try{await(()=>new Promise(((t,n)=>{const r=this.getNewWebSocket(e,"graphql-ws");r.onerror=()=>{Yg.debug("WebSocket connection error")},r.onclose=()=>{n(new Error("Connection handshake error"))},r.onopen=()=>{this.awsRealTimeSocket=r,t()}})))(),await(()=>new Promise(((e,t)=>{if(this.awsRealTimeSocket){let n=!1;this.awsRealTimeSocket.onerror=e=>{Yg.debug(`WebSocket error ${JSON.stringify(e)}`)},this.awsRealTimeSocket.onclose=e=>{Yg.debug(`WebSocket closed ${e.reason}`),t(new Error(JSON.stringify(e)))},this.awsRealTimeSocket.onmessage=r=>{if("string"!=typeof r.data)return;Yg.debug(`subscription message from AWS AppSyncRealTime: ${r.data} `);const i=JSON.parse(r.data),{type:o,payload:{connectionTimeoutMs:a=Ug}={}}=i;if(o===Dg.GQL_CONNECTION_ACK)return n=!0,this.awsRealTimeSocket&&(this.keepAliveTimeout=a,this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=e=>{Yg.debug(e),this._errorDisconnect(Rg.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=e=>{Yg.debug(`WebSocket closed ${e.reason}`),this._errorDisconnect(Rg.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(o===Dg.GQL_CONNECTION_ERROR){const{payload:{errors:[{errorType:e="",errorCode:n=0}={}]=[]}={}}=i;t({errorType:e,errorCode:n})}};const r={type:Dg.GQL_CONNECTION_INIT};this.awsRealTimeSocket.send(JSON.stringify(r));const i=e=>{e||(this.connectionStateMonitor.record(qg.CONNECTION_FAILED),t(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))};setTimeout((()=>{i(n)}),15e3)}})))()}catch(e){const{errorType:t,errorCode:n}=e;throw xg.includes(n)?new Pg(t):t?new Error(t):e}}async _awsRealTimeHeaderBasedAuth({apiKey:e,authenticationType:t,payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,region:o,additionalCustomHeaders:a}){const s={apiKey:this._awsRealTimeApiKeyHeader.bind(this),iam:this._awsRealTimeIAMHeader.bind(this),oidc:this._awsAuthTokenHeader.bind(this),userPool:this._awsAuthTokenHeader.bind(this),lambda:this._customAuthHeader,none:this._customAuthHeader};if(t&&s[t]){const u=s[t],c=i?new np(i).host:void 0;let l;Yg.debug(`Authenticating with ${JSON.stringify(t)}`),"apiKey"===t&&(l=e);return await u({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:l,region:o,host:c,additionalCustomHeaders:a})}Yg.debug(`Authentication type ${t} not supported`)}async _awsAuthTokenHeader({host:e}){const t=await yg();return{Authorization:t?.tokens?.accessToken?.toString(),host:e}}async _awsRealTimeApiKeyHeader({apiKey:e,host:t}){return{host:t,"x-amz-date":(new Date).toISOString().replace(/[:-]|\.\d{3}/g,""),"x-api-key":e}}async _awsRealTimeIAMHeader({payload:e,canonicalUri:t,appSyncGraphqlEndpoint:n,region:r}){const i={region:r,service:"appsync"},o=(await yg()).credentials,a={url:`${n}${t}`,data:e,method:"POST",headers:{...jg}};return ng({headers:a.headers,method:a.method,url:new np(a.url),body:a.data},{credentials:o,signingRegion:i.region,signingService:i.service}).headers}_customAuthHeader({host:e,additionalCustomHeaders:t}){if(!t?.Authorization)throw new Error("No auth token specified");return{Authorization:t.Authorization,host:e}}}class eb extends xf{constructor(e){super(e),this.constructor=eb,Object.setPrototypeOf(this,eb.prototype)}}var tb;!function(e){e.NoAuthSession="NoAuthSession",e.NoRegion="NoRegion",e.NoCustomEndpoint="NoCustomEndpoint"}(tb||(tb={}));const nb={[tb.NoAuthSession]:{message:"Auth session should not be empty."},[tb.NoRegion]:{message:"Missing region."},[tb.NoCustomEndpoint]:{message:"Custom endpoint region is present without custom endpoint."}};const rb=new Nf("GraphQLAPI resolveConfig"),ib=e=>{const t=e.getConfig();t.API?.GraphQL||rb.warn("The API configuration is missing. This is likely due to Amplify.configure() not being called prior to generateClient().");const{apiKey:n,customEndpoint:r,customEndpointRegion:i,defaultAuthMode:o,endpoint:a,region:s}=t.API?.GraphQL??{};return function(e,t){const{message:n,recoverySuggestion:r}=nb[t];if(!e)throw new eb({name:t,message:n,recoverySuggestion:r})}(!(!r&&i),tb.NoCustomEndpoint),{apiKey:n,customEndpoint:r,customEndpointRegion:i,defaultAuthMode:o,endpoint:a,region:s}},ob=e=>{const t=e.libraryOptions?.API?.GraphQL?.headers,n=e.libraryOptions?.API?.GraphQL?.withCredentials;return{headers:t,withCredentials:n}};function ab(e){return e.errors&&Array.isArray(e.errors)&&e.errors.forEach((e=>{(function(e){if(e?.originalError?.name?.startsWith("UnauthorizedException"))return!0;if(e.message?.startsWith("Connection failed:")&&e.message?.includes("Permission denied"))return!0;return!1})(e)&&(e.message="Unauthorized",e.recoverySuggestion="If you're calling an Amplify-generated API, make sure to set the \"authMode\" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')")})),e}const sb={name:"NoApiKey",message:Zv.NO_API_KEY,recoverySuggestion:'The API request was made with `authMode: "apiKey"` but no API Key was passed into `Amplify.configure()`. Review if your API key is passed into the `Amplify.configure()` function.'},ub={name:"NoCredentials",message:Zv.NO_CREDENTIALS,recoverySuggestion:'The API request was made with `authMode: "iam"` but no authentication credentials are available.\n\nIf you intended to make a request using an authenticated role, review if your user is signed in before making the request.\n\nIf you intend to make a request using an unauthenticated role or also known as "guest access", verify if "Auth.Cognito.allowGuestAccess" is set to "true" in the `Amplify.configure()` function.'},cb={name:"NoValidAuthTokens",message:Zv.NO_FEDERATED_JWT,recoverySuggestion:"If you intended to make an authenticated API request, review if the current user is signed in."},lb={name:"NoSignedUser",message:Zv.NO_CURRENT_USER,recoverySuggestion:"Review the underlying exception field for more details. If you intended to make an authenticated API request, review if the current user is signed in."},fb={name:"NoAuthorizationHeader",message:Zv.NO_AUTH_TOKEN,recoverySuggestion:'The API request was made with `authMode: "lambda"` but no `authToken` is set. Review if a valid authToken is passed into the request options or in the `Amplify.configure()` function.'},db={name:"NoEndpoint",message:"No GraphQL endpoint configured in `Amplify.configure()`.",recoverySuggestion:"Review if the GraphQL API endpoint is set in the `Amplify.configure()` function."},pb=e=>({data:{},errors:[new Sm(e.message,null,null,null,null,e)]});class hb{constructor(){this.appSyncRealTime=new Xg,this._api={post:hg,cancelREST:vg,isCancelErrorREST:Dy,updateRequestToBeCancellable:mg}}getModuleName(){return"InternalGraphQLAPI"}async _headerBasedAuth(e,t,n={}){const{apiKey:r}=ib(e);let i={};switch(t){case"apiKey":if(!r)throw new eb(sb);i={"X-Api-Key":r};break;case"iam":if(void 0===(await e.Auth.fetchAuthSession()).credentials)throw new eb(ub);break;case"oidc":case"userPool":{let t;try{t=(await e.Auth.fetchAuthSession()).tokens?.accessToken.toString()}catch(e){throw new eb({...lb,underlyingError:e})}if(!t)throw new eb(cb);i={Authorization:t};break}case"lambda":if("object"==typeof n&&!n.Authorization)throw new eb(fb);i={Authorization:n.Authorization}}return i}getGraphqlOperationType(e){const t=ny(e).definitions,[{operation:n}]=t;return n}graphql(e,{query:t,variables:n={},authMode:r,authToken:i},o,a){const s=ny("string"==typeof t?t:cy(t)),[u={}]=s.definitions.filter((e=>"OperationDefinition"===e.kind)),{operation:c}=u,l=o||{};switch(c){case"query":case"mutation":{const t=new AbortController;let o;if((e=>"function"!=typeof e)(e))o=this._graphql(e,{query:s,variables:n,authMode:r},l,t,a,i);else{o=e((async e=>await this._graphql(e,{query:s,variables:n,authMode:r},l,t,a,i)))}return this._api.updateRequestToBeCancellable(o,t),o}case"subscription":return this._graphqlSubscribe(e,{query:s,variables:n,authMode:r},l,a,i);default:throw new Error(`invalid operation type: ${c}`)}}async _graphql(e,{query:t,variables:n,authMode:r},i={},o,a,s){const{region:u,endpoint:c,customEndpoint:l,customEndpointRegion:f,defaultAuthMode:d}=ib(e),p=r||d||"iam",h="identityPool"===p?"iam":p,{headers:v,withCredentials:m}=ob(e);let y;if("function"==typeof i){const e={method:"POST",url:new np(l||c||"").toString(),queryString:cy(t)};y=await i(e)}else y=i;s&&(y={...y,Authorization:s});const g={...!l&&await this._headerBasedAuth(e,h,y),...l&&(f?await this._headerBasedAuth(e,h,y):{})||{},...v&&await v({query:cy(t),variables:n}),...y,...!l&&{"x-amz-user-agent":xp(a)}},b={query:cy(t),variables:n||null};let _;_=l&&!f||"oidc"!==h&&"userPool"!==h&&"iam"!==h&&"lambda"!==h?void 0:{service:f?"execute-api":"appsync",region:f||u};const w=l||c;if(!w)throw pb(new eb(db));let E;try{const{body:t}=await this._api.post(e,{url:new np(w),options:{headers:g,body:b,signingServiceInfo:_,withCredentials:m},abortController:o});E=await t.json()}catch(e){if(this.isCancelError(e))throw e;E=pb(e)}if(function(e){if(!e)return!1;const t=e;return Array.isArray(t.errors)&&t.errors.length>0}(E))throw ab(E);return E}isCancelError(e){return this._api.isCancelErrorREST(e)}cancel(e,t){return this._api.cancelREST(e,t)}_graphqlSubscribe(e,{query:t,variables:n,authMode:r},i={},o,a){const s=ib(e),u=r||s?.defaultAuthMode||"iam",c="identityPool"===u?"iam":u,{headers:l}=ob(e);return this.appSyncRealTime.subscribe({query:cy(t),variables:n,appSyncGraphqlEndpoint:s?.endpoint,region:s?.region,authenticationType:c,apiKey:s?.apiKey,additionalHeaders:i,authToken:a,libraryConfigHeaders:l},o).pipe(Ay((e=>{if(e.errors)throw ab(e);throw e})))}}new hb;const vb=new class extends hb{getModuleName(){return"GraphQLAPI"}graphql(e,t,n){return super.graphql(e,t,n,{category:ip.API,action:ap.GraphQl})}isCancelError(e){return super.isCancelError(e)}cancel(e,t){return super.cancel(e,t)}};function mb(e,t){const n=rm(this);e.authMode=e.authMode||n.authMode,e.authToken=e.authToken||n.authToken;return vb.graphql(n.amplify,e,t)}function yb(e,t){return vb.cancel(e,t)}function gb(e){return vb.isCancelError(e)}const bb=e=>{jf.listen("core",(t=>{if("configure"!==t.payload.event)return;const n=t.payload.data.API?.GraphQL;im(n)&&Jv(e,n,rm)}))},_b=new Proxy({},{get(){throw new Error("Client could not be generated. This is likely due to `Amplify.configure()` not being called prior to `generateClient()` or because the configuration passed to `Amplify.configure()` is missing GraphQL provider configuration.")}});function wb(e={}){return function(e){const t={[Xv]:e.amplify,[em]:e.authMode,[tm]:e.authToken,[nm]:e.headers,graphql:mb,cancel:yb,isCancelError:gb,models:_b,enums:_b,queries:_b,mutations:_b,subscriptions:_b},n=e.amplify.getConfig().API?.GraphQL;return im(n)?Jv(t,n,rm):bb(t),t}({...e,amplify:fd})}c(73011);var Eb=null,Sb=null,Tb=function(e){var t=e.source,n=e.userID,r=null,i=function(){var e;null===(e=Eb)||void 0===e||e.unsubscribe(),clearTimeout(r)},o=function(e,t){if(e&&t){var n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}},a=function(){if(Sb&&n){var e="".concat(Sb,"__").concat(n);o(e,{action:"logout"})}},s=function(e,t,n){if(null!=e&&null!=n){Oh.configure({API:{GraphQL:{endpoint:t,region:"ap-southeast-1",authMode:"lambda"}}});var s=0;!function t(){i();var u=wb();Eb=u.graphql({query:"\n  subscription event_subscription($channel: String!) {\n    on_new_event(channel: $channel) {\n      channel\n      data\n    }\n  }\n",variables:{channel:e},authMode:"lambda",authToken:n}).subscribe({next:function(e){var t,n=null===(t=e.data.on_new_event)||void 0===t?void 0:t.data;if(null!=n){var r=JSON.parse(n),i=r.event_type,a=r.event_data;o(i,a)}else console.error("Got null data from AppSync")},error:function(e){var n,i;if(((null===(n=e.errors)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.message)||"").toLowerCase().includes("unauthorized"))window.ssEnabled&&a();else if(s<3){s+=1;var o=.2*Math.pow(2,s)*1e3;r=setTimeout(t,o)}else console.error(e)}})}()}},u=(0,Of.uL)(function(e){return"/appsync/data/?source=".concat(e)}(t));return u.then((function(e){var t=e.data,n=void 0===t?{}:t,r=n.channel,o=n.appsync_endpoint,a=n.group,u=n.session_key;Sb=a,s(r,o,u),window.addEventListener("offline",(function(){i()})),window.addEventListener("online",(function(){s(r,o,u)}))}),(function(e){var t;if(403!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status))throw new Error(e);a()})),{removeAppSyncListener:i,appGroup:Sb}},Cb=function(){var e,t,n=null;function r(){n&&e.auth().currentUser.getIdToken(!0),n=window.setTimeout(r,bs.Nu)}function i(){window.CLOSE_BROWSER=!0,addAlert("Another session has become active"),window.location.reload(!0)}function o(e,t){e.on("child_added",(function(e){e.val()&&(e.val().session_key!==t&&i())}))}return{init:function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0,d=$("#ss-ping-url"),p=c||d.data("group"),h=l||d.data("user-id"),v=d.data("session-key");if(a||!u){var m,y=d.data("firebase-auth-token");(e=a?s:Af()).auth().onAuthStateChanged((function(e){n&&(clearTimeout(n),n=null),e&&r()})),"string"==typeof y&&e.auth().signInWithCustomToken(y).then((function(){t=e.database();var n="".concat(p,"__").concat(h);o(m=t.ref("userSingleSession/".concat(n)),v),window.addEventListener("offline",(function(){t.goOffline()}),!1),window.addEventListener("online",(function(){t.goOnline(),o(m,v)}),!1)})).catch((function(e){a?(0,Es.R)({origin:bs.Zs,error:e}):(0,Es.R)({origin:bs.Ie,error:e})}))}else!function(e,t,n){document.addEventListener(e,(function(e){var r,o=null===(r=e.detail)||void 0===r?void 0:r.action;"refresh"===o?Tb({source:t,userID:n}):"logout"===o?i():console.error("Invalid single session action: ".concat(o))}))}("".concat(p,"__").concat(h),f,l)}}}();const Ob=Cb;var Ib=function(){var e,t,n=null;function r(){n&&t.auth().currentUser.getIdToken(!0),n=window.setTimeout(r,bs.Nu)}function i(n){var r;"string"==typeof(null==n?void 0:n.firebase_auth_token)&&t.auth().signInWithCustomToken(n.firebase_auth_token).then((function(){e=t.database(),r=e.ref("candidateSessionLog/".concat(n.participation_id)),e.ref(".info/connected").on("value",(function(e){0!=e.val()&&r.child((new Date).getTime()).onDisconnect().set({timestamp:Af().database.ServerValue.TIMESTAMP,state:bs.$B,senderID:n.user_id}).then((function(){r.push({timestamp:Af().database.ServerValue.TIMESTAMP,state:bs.X8,senderID:n.user_id})}))}))})).catch((function(e){(0,Es.R)({origin:bs.Ie,error:e})}))}function o(){var n,r=$("#ss-ping-url"),i=r.data("user-id").toString(),o=r.data("firebase-auth-token"),a=r.data("session-key"),s=$("#interview-uuid").text();t.auth().signInWithCustomToken(o).then((function(){e=t.database(),n=e.ref("InterviewSessionLog/".concat(s,"/").concat(i)),e.ref(".info/connected").on("value",(function(e){0!=e.val()&&n.onDisconnect().set({timestamp:Af().database.ServerValue.TIMESTAMP,session_key:a,state:bs.$B,senderID:i}).then((function(){n.set({timestamp:Af().database.ServerValue.TIMESTAMP,session_key:a,state:bs.X8,senderID:i})}))}))})).catch((function(e){(0,Es.R)({origin:bs.Zs,error:e})}))}return{init:function(a){var s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((t=a?Af():u).auth().onAuthStateChanged((function(e){n&&(clearTimeout(n),n=null),e&&r()})),a){var c=$("#ghost-payload");c&&void 0!==c.data("body")&&(s=c.data("body"))&&s.participation_id&&i(s)}else o();window.addEventListener("online",(function(){e.goOnline(),a?i(s):o()})),window.addEventListener("offline",(function(){e.goOffline()}),!1)}}}();const kb=Ib;var Ab,Pb=c(15297);function Rb(e){return Rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rb(e)}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Rb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Rb(o)?o:String(o)),r)}var i,o}function xb(e,t){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xb(e,t)}function Db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lb(e);if(t){var i=Lb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Rb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lb(e)}function Mb(e){return function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xb(e,t)}(s,n);var r,i,o,a=Db(s);function s(n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=a.call(this,n)).retryCount=0;return r.state={Lazy:function n(){return(0,t.lazy)((function(){return e().catch((function(){r.retryCount<=5?(setTimeout((function(){r.retryCount+=1,r.setState({Lazy:n()})}),2e3),r.setState({Lazy:function(){return t.createElement(p.u,null)}})):r.setState({Lazy:function(){return t.createElement("div",{className:"margin-top-8"},t.createElement(sl.Z,{type:Ws.Z.ERROR,selfClose:!1,hideCloseIcon:!0,headerComponent:"Not able to load files, please reload and try again."}))}})}))}))}()},r}return r=s,(i=[{key:"render",value:function(){var e=this.state.Lazy;return t.createElement(t.Suspense,{fallback:t.createElement(p.u,null)},t.createElement(e,this.props))}}])&&Nb(r.prototype,i),o&&Nb(r,o),Object.defineProperty(r,"prototype",{writable:!1}),s}(t.Component)}function jb(e){return jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(e)}function Ub(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==jb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fb=(0,t.lazy)((function(){return c.e(6138).then(c.bind(c,30291))})),Bb=(0,t.lazy)((function(){return c.e(2541).then(c.bind(c,99821))})),Vb=(0,t.lazy)((function(){return c.e(7682).then(c.bind(c,42539))})),Hb=Mb((function(){return Promise.all([c.e(9547),c.e(6207),c.e(9903),c.e(2468)]).then(c.bind(c,93263))})),zb=(0,t.lazy)((function(){return Promise.all([c.e(9547),c.e(6207),c.e(8495)]).then(c.bind(c,39208))})),Gb=(0,t.lazy)((function(){return c.e(8465).then(c.bind(c,94498))})),Wb=Mb((function(){return Promise.all([c.e(9547),c.e(6207),c.e(9903),c.e(9630)]).then(c.bind(c,56650))})),qb=Mb((function(){return Promise.all([c.e(9547),c.e(6207),c.e(9903),c.e(3012)]).then(c.bind(c,37074))})),$b=(0,t.lazy)((function(){return c.e(4745).then(c.bind(c,98559))})),Kb=(0,t.lazy)((function(){return c.e(6242).then(c.bind(c,91339))})),Qb=(0,t.lazy)((function(){return c.e(5287).then(c.bind(c,10248))})),Yb=(0,t.lazy)((function(){return c.e(8867).then(c.bind(c,61620))})),Jb=(0,t.lazy)((function(){return c.e(2105).then(c.bind(c,19215))}));const Zb=(Ub(Ab={},If.jd.OBJECTIVE,Fb),Ub(Ab,If.jd.SUBJECTIVE,Vb),Ub(Ab,If.jd.PROGRAMMING,Hb),Ub(Ab,If.jd.APPROXIMATE,Hb),Ub(Ab,If.jd.GOLF,Hb),Ub(Ab,If.jd.SQL,qb),Ub(Ab,If.jd.FRONTEND,zb),Ub(Ab,If.jd.DIAGRAM,Gb),Ub(Ab,If.jd.DATASCIENCE,Wb),Ub(Ab,If.jd.MACHINE_LEARNING,Qb),Ub(Ab,If.jd.FILE,$b),Ub(Ab,If.jd.JAVA_PROJECT,Kb),Ub(Ab,If.jd.CSHARP_PROJECT,Kb),Ub(Ab,If.jd.PYTHON_PROJECT,Kb),Ub(Ab,If.jd.FULLSTACK,Kb),Ub(Ab,If.jd.SELENIUM,Kb),Ub(Ab,If.jd.ANDROID,Yb),Ub(Ab,If.jd.RAPIDFIRE,Jb),Ub(Ab,If.jd.DEVOPS,Bb),Ab);function Xb(e){return Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(e)}function e_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Xb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Xb(o)?o:String(o)),r)}var i,o}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t_(e,t)}function n_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=r_(e);if(t){var i=r_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Xb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function r_(e){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r_(e)}var i_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}(a,e);var n,r,i,o=n_(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={hasError:!1},t}return n=a,i=[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}],(r=[{key:"componentDidCatch",value:function(e,t){console.error("Error caught by ErrorBoundary:",e),console.error("Error details:",t)}},{key:"render",value:function(){var e=this.state.hasError,n=this.props.children;return e?t.createElement("div",{className:"assessment-error-boundary"},t.createElement("div",{className:"error-heading body-font-18"},window.SOMETHING_WENT_WRONG_ERROR_TEXT),t.createElement(_c.z,{color:"blue",onClick:function(){window.location.reload()}},"Reload")):n}}])&&e_(n.prototype,r),i&&e_(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component);const o_=i_;function a_(e){return a_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(e)}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(this,arguments)}function u_(e){return function(e){if(Array.isArray(e))return c_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v_(r.key),r)}}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f_(e,t)}function d_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h_(e);if(t){var i=h_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p_(e)}(this,n)}}function p_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h_(e){return h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h_(e)}function v_(e){var t=function(e,t){if("object"!==a_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a_(t)?t:String(t)}var m_=function(e){return e===If.jd.PROGRAMMING||e===If.jd.APPROXIMATE||e===If.jd.GOLF||e===If.jd.SQL||e===If.jd.DATASCIENCE||e===If.jd.OBJECTIVE||e===If.jd.FULLSTACK||e===If.jd.CSHARP_PROJECT||e===If.jd.PYTHON_PROJECT||e===If.jd.JAVA_PROJECT||e===If.jd.SELENIUM||e===If.jd.FRONTEND||e===If.jd.SUBJECTIVE},y_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}(a,e);var n,r,i,o=d_(a);function a(e,n){var r,i,s,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=o.call(this,e,n),i=p_(r),u=function(e,t){(0,r.props.onClick)(t,!0)},(s=v_(s="onNextClick"))in i?Object.defineProperty(i,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[s]=u,r.state={data:e.problems},r.allProblemsRef=t.createRef(null),r.removeAppSyncListener=null,r}return n=a,r=[{key:"componentDidMount",value:function(){if(window.isAppSyncEnabled){var e=window.assessmentObj.user.ID,t=Tb({source:If.mx,userID:e}),n=t.removeAppSyncListener,r=t.appGroup;this.removeAppSyncListener=n,window.ssEnabled&&Ob.init(!1,null,!0,r,e,If.mx)}else void 0!==window.firebaseConfig&&(Af().initializeApp(window.firebaseConfig),window.ssEnabled&&Ob.init(!1),window.LoggingEnabled&&kb.init(!0));window.isCopyPasteDisabled&&((0,Pb.TS)(),(0,Pb.OS)(this.allProblemsRef.current)),window.fetch_pagelets=_s.oK}},{key:"componentWillUnmount",value:function(){var e;(0,Pb.Lt)(this.allProblemsRef.current),null===(e=this.removeAppSyncListener)||void 0===e||e.call(this)}},{key:"getQuestionDetails",value:function(e,t,n){var r=this.state.data,i=this.props.currentHash;switch(e){case If.jd.SUBJECTIVE:return{type:e,data:t,currentHash:i,fileUploadSizeLimit:n,onNextClick:this.onNextClick};case If.jd.OBJECTIVE:case If.jd.ANDROID:case If.jd.FILE:case If.jd.MACHINE_LEARNING:case If.jd.DIAGRAM:case If.jd.RAPIDFIRE:case If.jd.DEVOPS:return{type:e,data:t,currentHash:i,onNextClick:this.onNextClick};case If.jd.FRONTEND:return{type:e,data:t,currentHash:i,onNextClick:this.onNextClick,uiFrameworksEnabled:r.uiFrameworksEnabled};case If.jd.PROGRAMMING:case If.jd.GOLF:case If.jd.APPROXIMATE:case If.jd.SQL:case If.jd.DATASCIENCE:return{type:e,data:t,currentHash:i,onNextClick:this.onNextClick};case If.jd.JAVA_PROJECT:case If.jd.CSHARP_PROJECT:case If.jd.PYTHON_PROJECT:case If.jd.FULLSTACK:case If.jd.SELENIUM:return{type:e,data:t,isFullStack:e===If.jd.FULLSTACK,problemType:e,currentHash:i,onNextClick:this.onNextClick,isSelenium:e===If.jd.SELENIUM};default:return null}}},{key:"loadGlobalConfig",value:function(e){this.setState({data:e})}},{key:"render",value:function(){var e,n,r=this,i=this.state.data,o=this.props,a=o.currentPType,s=o.currentHash;if(!i)return t.createElement("div",{className:"align-center larg-18 dark weight-700"},t.createElement(p.u,null));var u=(null==i||null===(e=i.timed_sections)||void 0===e?void 0:e.map((function(e){var t=e.p_type,n=e.sections,i=e.file_upload_size_limit,o=void 0===i?null:i,a=n.map((function(e){return e.problems})).flat();return r.getQuestionDetails(t,a,o)})))||[],c=(null==i||null===(n=i.other_sections)||void 0===n?void 0:n.map((function(e){var t=e.p_type,n=e.sections,i=e.non_section_problems,o=e.file_upload_size_limit,a=void 0===o?null:o,s=n.map((function(e){return e.problems})).flat(),u=[];if(s.length){var c=r.getQuestionDetails(t,s,a);u.push(c)}if(i.length){var l=r.getQuestionDetails(t,i,a);u.push(l)}return u})).flat())||[],l=[].concat(u_(u),u_(c)).map((function(e,n){if(!e)return null;var r=e.type;if(m_(r)&&r!==a)return null;var i=Zb[e.type],o=m_(e.type)?"".concat(e.type,"-").concat(n,"-").concat(s):"".concat(e.type,"-").concat(n);return t.createElement(i,s_({key:o},e))}));return t.createElement("div",{className:"all-problems",ref:this.allProblemsRef},t.createElement(o_,null,t.createElement(t.Suspense,{fallback:t.createElement(p.u,null)},l)))}}],r&&l_(n.prototype,r),i&&l_(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component);y_.propTypes={};var g_=(0,d.$j)((function(e,t){var n=(0,_s.ro)(t.currentHash,e.duringReducer.problemsListReducer.problems).problem;return{currentPType:null==n?void 0:n.p_type}}),null)(y_),b_=c(23698),__=c.n(b_),w_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),E_=new Uint8Array(16);function S_(){if(!w_)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w_(E_)}for(var T_=[],C_=0;C_<256;++C_)T_[C_]=(C_+256).toString(16).substr(1);const O_=function(e,t){var n=t||0,r=T_;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};const I_=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||S_)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||O_(i)};function k_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A_(e,t,n){return t&&k_(e.prototype,t),n&&k_(e,n),e}function P_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R_(){return R_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R_.apply(this,arguments)}function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N_(Object(n),!0).forEach((function(t){P_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D_(e){return D_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D_(e)}function L_(e,t){return L_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L_(e,t)}function M_(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var j_={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},U_=function(e,t){var n;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("Event")).initEvent(e,!1,!0,t),window.dispatchEvent(n)};var F_=function(e,t){var n=this.state.show,r=this.props.id,i=this.isCapture(t.currentTarget),o=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),n&&"true"===o?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),B_(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},B_=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},V_={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:P_({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}};var H_=function(e,t,n){var r=t.respectEffect,i=void 0!==r&&r,o=t.customEvent,a=void 0!==o&&o,s=this.props.id,u=n.target.getAttribute("data-tip")||null,c=n.target.getAttribute("data-for")||null,l=n.target;if(!this.isCustomEvent(l)||a){var f=null==s&&null==c||c===s;if(null!=u&&(!i||"float"===this.getEffect(l))&&f){var d=function(e){var t={};for(var n in e)"function"==typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);d.currentTarget=l,e(d)}}},z_=function(e,t){var n={};return e.forEach((function(e){var r=e.getAttribute(t);r&&r.split(" ").forEach((function(e){return n[e]=!0}))})),n},G_=function(){return document.getElementsByTagName("body")[0]};function W_(e,t,n,r,i,o,a){for(var s=q_(n),u=s.width,c=s.height,l=q_(t),f=l.width,d=l.height,p=$_(e,t,o),h=p.mouseX,v=p.mouseY,m=K_(o,f,d,u,c),y=Q_(a),g=y.extraOffsetX,b=y.extraOffsetY,_=window.innerWidth,w=window.innerHeight,E=Y_(n),S=E.parentTop,T=E.parentLeft,C=function(e){var t=m[e].l;return h+t+g},O=function(e){var t=m[e].t;return v+t+b},I=function(e){return function(e){var t=m[e].r;return h+t+g}(e)>_},k=function(e){return function(e){var t=m[e].b;return v+t+b}(e)>w},A=function(e){return function(e){return C(e)<0}(e)||I(e)||function(e){return O(e)<0}(e)||k(e)},P=function(e){return!A(e)},R=["top","bottom","left","right"],N=[],x=0;x<4;x++){var D=R[x];P(D)&&N.push(D)}var L,M=!1,j=i!==r;return P(i)&&j?(M=!0,L=i):N.length>0&&A(i)&&A(r)&&(M=!0,L=N[0]),M?{isNewState:!0,newState:{place:L}}:{isNewState:!1,position:{left:parseInt(C(r)-T,10),top:parseInt(O(r)-S,10)}}}var q_=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},$_=function(e,t,n){var r=t.getBoundingClientRect(),i=r.top,o=r.left,a=q_(t),s=a.width,u=a.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:o+s/2,mouseY:i+u/2}},K_=function(e,t,n,r,i){var o,a,s,u;return"float"===e?(o={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},u={l:-(r+3+2),r:-3,t:-i/2,b:i/2},a={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===e&&(o={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},u={l:-(r+t/2+2),r:-t/2,t:-i/2,b:i/2},a={l:t/2,r:r+t/2+2,t:-i/2,b:i/2}),{top:o,bottom:s,left:u,right:a}},Q_=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffsetX:t,extraOffsetY:n}},Y_=function(e){for(var t=e;t;){var n=window.getComputedStyle(t);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;t=t.parentElement}return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function J_(e,n,r,i){if(n)return n;if(null!=r)return r;if(null===r)return null;var o=/<br\s*\/?>/;return i&&"false"!==i&&o.test(e)?e.split(o).map((function(e,n){return t.createElement("span",{key:n,className:"multi-line"},e)})):e}function Z_(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function X_(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}var ew={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function tw(e,t,n,r){return function(e,t){var n=t.text,r=t.background,i=t.border,o=t.arrow;return"\n  \t.".concat(e," {\n\t    color: ").concat(n,";\n\t    background: ").concat(r,";\n\t    border: 1px solid ").concat(i,";\n  \t}\n\n  \t.").concat(e,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(e,".place-top::before {\n        border-top: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-top::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-top-color: ").concat(o,";\n        border-top-style: solid;\n        border-top-width: 6px;\n    }\n\n    .").concat(e,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(e,".place-bottom::before {\n        border-bottom: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-bottom::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        top: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-bottom-color: ").concat(o,";\n        border-bottom-style: solid;\n        border-bottom-width: 6px;\n    }\n\n    .").concat(e,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(e,".place-left::before {\n        border-left: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-left::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        right: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-left-color: ").concat(o,";\n        border-left-style: solid;\n        border-left-width: 6px;\n    }\n\n    .").concat(e,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(e,".place-right::before {\n        border-right: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-right::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        left: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-right-color: ").concat(o,";\n        border-right-style: solid;\n        border-right-width: 6px;\n    }\n  ")}(e,function(e,t,n){var r=e.text,i=e.background,o=e.border,a=e.arrow?e.arrow:e.background,s=function(e){return ew[e]?x_({},ew[e]):void 0}(t);r&&(s.text=r);i&&(s.background=i);n&&(s.border=o||("light"===t?"black":"white"));a&&(s.arrow=a);return s}(t,n,r))}var nw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==c.g?c.g:"undefined"!=typeof self?self:{};function rw(e,t){return e(t={exports:{}},t.exports),t.exports}var iw=function(e){return e&&e.Math==Math&&e},ow=iw("object"==typeof globalThis&&globalThis)||iw("object"==typeof window&&window)||iw("object"==typeof self&&self)||iw("object"==typeof nw&&nw)||function(){return this}()||Function("return this")(),aw=function(e){try{return!!e()}catch(e){return!0}},sw=!aw((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),uw={}.propertyIsEnumerable,cw=Object.getOwnPropertyDescriptor,lw={f:cw&&!uw.call({1:2},1)?function(e){var t=cw(this,e);return!!t&&t.enumerable}:uw},fw=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},dw={}.toString,pw=function(e){return dw.call(e).slice(8,-1)},hw="".split,vw=aw((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==pw(e)?hw.call(e,""):Object(e)}:Object,mw=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},yw=function(e){return vw(mw(e))},gw=function(e){return"object"==typeof e?null!==e:"function"==typeof e},bw=function(e,t){if(!gw(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!gw(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!gw(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!gw(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},_w=function(e){return Object(mw(e))},ww={}.hasOwnProperty,Ew=function(e,t){return ww.call(_w(e),t)},Sw=ow.document,Tw=gw(Sw)&&gw(Sw.createElement),Cw=function(e){return Tw?Sw.createElement(e):{}},Ow=!sw&&!aw((function(){return 7!=Object.defineProperty(Cw("div"),"a",{get:function(){return 7}}).a})),Iw=Object.getOwnPropertyDescriptor,kw={f:sw?Iw:function(e,t){if(e=yw(e),t=bw(t,!0),Ow)try{return Iw(e,t)}catch(e){}if(Ew(e,t))return fw(!lw.f.call(e,t),e[t])}},Aw=function(e){if(!gw(e))throw TypeError(String(e)+" is not an object");return e},Pw=Object.defineProperty,Rw={f:sw?Pw:function(e,t,n){if(Aw(e),t=bw(t,!0),Aw(n),Ow)try{return Pw(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Nw=sw?function(e,t,n){return Rw.f(e,t,fw(1,n))}:function(e,t,n){return e[t]=n,e},xw=function(e,t){try{Nw(ow,e,t)}catch(n){ow[e]=t}return t},Dw="__core-js_shared__",Lw=ow[Dw]||xw(Dw,{}),Mw=Function.toString;"function"!=typeof Lw.inspectSource&&(Lw.inspectSource=function(e){return Mw.call(e)});var jw,Uw,Fw,Bw=Lw.inspectSource,Vw=ow.WeakMap,Hw="function"==typeof Vw&&/native code/.test(Bw(Vw)),zw=rw((function(e){(e.exports=function(e,t){return Lw[e]||(Lw[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})})),Gw=0,Ww=Math.random(),qw=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Gw+Ww).toString(36)},$w=zw("keys"),Kw=function(e){return $w[e]||($w[e]=qw(e))},Qw={},Yw="Object already initialized",Jw=ow.WeakMap;if(Hw||Lw.state){var Zw=Lw.state||(Lw.state=new Jw),Xw=Zw.get,eE=Zw.has,tE=Zw.set;jw=function(e,t){if(eE.call(Zw,e))throw new TypeError(Yw);return t.facade=e,tE.call(Zw,e,t),t},Uw=function(e){return Xw.call(Zw,e)||{}},Fw=function(e){return eE.call(Zw,e)}}else{var nE=Kw("state");Qw[nE]=!0,jw=function(e,t){if(Ew(e,nE))throw new TypeError(Yw);return t.facade=e,Nw(e,nE,t),t},Uw=function(e){return Ew(e,nE)?e[nE]:{}},Fw=function(e){return Ew(e,nE)}}var rE,iE,oE={set:jw,get:Uw,has:Fw,enforce:function(e){return Fw(e)?Uw(e):jw(e,{})},getterFor:function(e){return function(t){var n;if(!gw(t)||(n=Uw(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},aE=rw((function(e){var t=oE.get,n=oE.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a,s=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||Ew(i,"name")||Nw(i,"name",t),(a=n(i)).source||(a.source=r.join("string"==typeof t?t:""))),e!==ow?(s?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=i:Nw(e,t,i)):u?e[t]=i:xw(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||Bw(this)}))})),sE=ow,uE=function(e){return"function"==typeof e?e:void 0},cE=function(e,t){return arguments.length<2?uE(sE[e])||uE(ow[e]):sE[e]&&sE[e][t]||ow[e]&&ow[e][t]},lE=Math.ceil,fE=Math.floor,dE=function(e){return isNaN(e=+e)?0:(e>0?fE:lE)(e)},pE=Math.min,hE=function(e){return e>0?pE(dE(e),9007199254740991):0},vE=Math.max,mE=Math.min,yE=function(e){return function(t,n,r){var i,o=yw(t),a=hE(o.length),s=function(e,t){var n=dE(e);return n<0?vE(n+t,0):mE(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},gE={includes:yE(!0),indexOf:yE(!1)}.indexOf,bE=function(e,t){var n,r=yw(e),i=0,o=[];for(n in r)!Ew(Qw,n)&&Ew(r,n)&&o.push(n);for(;t.length>i;)Ew(r,n=t[i++])&&(~gE(o,n)||o.push(n));return o},_E=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],wE=_E.concat("length","prototype"),EE={f:Object.getOwnPropertyNames||function(e){return bE(e,wE)}},SE={f:Object.getOwnPropertySymbols},TE=cE("Reflect","ownKeys")||function(e){var t=EE.f(Aw(e)),n=SE.f;return n?t.concat(n(e)):t},CE=function(e,t){for(var n=TE(t),r=Rw.f,i=kw.f,o=0;o<n.length;o++){var a=n[o];Ew(e,a)||r(e,a,i(t,a))}},OE=/#|\.prototype\./,IE=function(e,t){var n=AE[kE(e)];return n==RE||n!=PE&&("function"==typeof t?aw(t):!!t)},kE=IE.normalize=function(e){return String(e).replace(OE,".").toLowerCase()},AE=IE.data={},PE=IE.NATIVE="N",RE=IE.POLYFILL="P",NE=IE,xE=kw.f,DE=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},LE=Array.isArray||function(e){return"Array"==pw(e)},ME=cE("navigator","userAgent")||"",jE=ow.process,UE=jE&&jE.versions,FE=UE&&UE.v8;FE?iE=(rE=FE.split("."))[0]<4?1:rE[0]+rE[1]:ME&&(!(rE=ME.match(/Edge\/(\d+)/))||rE[1]>=74)&&(rE=ME.match(/Chrome\/(\d+)/))&&(iE=rE[1]);var BE,VE=iE&&+iE,HE=!!Object.getOwnPropertySymbols&&!aw((function(){return!String(Symbol())||!Symbol.sham&&VE&&VE<41})),zE=HE&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,GE=zw("wks"),WE=ow.Symbol,qE=zE?WE:WE&&WE.withoutSetter||qw,$E=function(e){return Ew(GE,e)&&(HE||"string"==typeof GE[e])||(HE&&Ew(WE,e)?GE[e]=WE[e]:GE[e]=qE("Symbol."+e)),GE[e]},KE=$E("species"),QE=function(e,t){var n;return LE(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!LE(n.prototype)?gw(n)&&null===(n=n[KE])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},YE=[].push,JE=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,c,l,f){for(var d,p,h=_w(u),v=vw(h),m=DE(c,l,3),y=hE(v.length),g=0,b=f||QE,_=t?b(u,y):n||a?b(u,0):void 0;y>g;g++)if((s||g in v)&&(p=m(d=v[g],g,h),e))if(t)_[g]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return g;case 2:YE.call(_,d)}else switch(e){case 4:return!1;case 7:YE.call(_,d)}return o?-1:r||i?i:_}},ZE={forEach:JE(0),map:JE(1),filter:JE(2),some:JE(3),every:JE(4),find:JE(5),findIndex:JE(6),filterOut:JE(7)},XE=Object.keys||function(e){return bE(e,_E)},eS=sw?Object.defineProperties:function(e,t){Aw(e);for(var n,r=XE(t),i=r.length,o=0;i>o;)Rw.f(e,n=r[o++],t[n]);return e},tS=cE("document","documentElement"),nS="prototype",rS="script",iS=Kw("IE_PROTO"),oS=function(){},aS=function(e){return"<"+rS+">"+e+"</"+rS+">"},sS=function(){try{BE=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,n;sS=BE?function(e){e.write(aS("")),e.close();var t=e.parentWindow.Object;return e=null,t}(BE):(t=Cw("iframe"),n="java"+rS+":",t.style.display="none",tS.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(aS("document.F=Object")),e.close(),e.F);for(var r=_E.length;r--;)delete sS[nS][_E[r]];return sS()};Qw[iS]=!0;var uS=Object.create||function(e,t){var n;return null!==e?(oS[nS]=Aw(e),n=new oS,oS[nS]=null,n[iS]=e):n=sS(),void 0===t?n:eS(n,t)},cS=$E("unscopables"),lS=Array.prototype;null==lS[cS]&&Rw.f(lS,cS,{configurable:!0,value:uS(null)});var fS,dS,pS,hS,vS=ZE.find,mS="find",yS=!0;mS in[]&&Array(1)[mS]((function(){yS=!1})),function(e,t){var n,r,i,o,a,s=e.target,u=e.global,c=e.stat;if(n=u?ow:c?ow[s]||xw(s,{}):(ow[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=xE(n,r))&&a.value:n[r],!NE(u?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;CE(o,i)}(e.sham||i&&i.sham)&&Nw(o,"sham",!0),aE(n,r,o,e)}}({target:"Array",proto:!0,forced:yS},{find:function(e){return vS(this,e,arguments.length>1?arguments[1]:void 0)}}),fS=mS,lS[cS][fS]=!0;var gS,bS=function(e){e.hide=function(e){U_(j_.HIDE,{target:e})},e.rebuild=function(){U_(j_.REBUILD)},e.show=function(e){U_(j_.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.showTooltip({currentTarget:t&&e.detail.target},!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(dS=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(j_.HIDE,this.globalHide),window.addEventListener(j_.HIDE,this.globalHide,!1),window.removeEventListener(j_.REBUILD,this.globalRebuild),window.addEventListener(j_.REBUILD,this.globalRebuild,!1),window.removeEventListener(j_.SHOW,this.globalShow),window.addEventListener(j_.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(j_.HIDE,this.globalHide),window.removeEventListener(j_.REBUILD,this.globalRebuild),window.removeEventListener(j_.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(dS=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=e.getAttribute("data-event")||r,a=e.getAttribute("data-event-off")||i;o.split(" ").forEach((function(n){e.removeEventListener(n,V_.get(e,n));var r=F_.bind(t,a);V_.set(e,n,r),e.addEventListener(n,r,!1)})),a&&a.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),o=r||e.getAttribute("data-event-off");e.removeEventListener(i,V_.get(e,n)),o&&e.removeEventListener(o,this.hideTooltip)}}(dS=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(dS=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(dS=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=G_(),u=z_(e,"data-event"),c=z_(e,"data-event-off");null!=r&&(u[r]=!0),null!=i&&(c[i]=!0),o.split(" ").forEach((function(e){return u[e]=!0})),a.split(" ").forEach((function(e){return c[e]=!0})),this.unbindBodyListener(s);var l=this.bodyModeListeners={};for(var f in null==r&&(l.mouseover=H_.bind(this,this.showTooltip,{}),l.mousemove=H_.bind(this,this.updateTooltip,{respectEffect:!0}),l.mouseout=H_.bind(this,this.hideTooltip,{})),u)l[f]=H_.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||i;F_.call(t,n,e)}),{customEvent:!0});for(var d in c)l[d]=H_.bind(this,this.hideTooltip,{customEvent:!0});for(var p in l)s.addEventListener(p,l[p])},e.prototype.unbindBodyListener=function(e){e=e||G_();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((hS=pS=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=M_(this,D_(n).call(this,e))).state={uuid:e.uuid||"t"+I_(),place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:Z_(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},t.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),t.mount=!0,t.delayShowLoop=null,t.delayHideLoop=null,t.delayReshow=null,t.intervalUpdateContent=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L_(e,t)}(n,e),A_(n,null,[{key:"propTypes",get:function(){return{uuid:__().string,children:__().any,place:__().string,type:__().string,effect:__().string,offset:__().object,multiline:__().bool,border:__().bool,textColor:__().string,backgroundColor:__().string,borderColor:__().string,arrowColor:__().string,insecure:__().bool,class:__().string,className:__().string,id:__().string,html:__().bool,delayHide:__().number,delayUpdate:__().number,delayShow:__().number,event:__().string,eventOff:__().string,isCapture:__().bool,globalEventOff:__().string,getContent:__().any,afterShow:__().func,afterHide:__().func,overridePosition:__().func,disable:__().bool,scrollHide:__().bool,resizeHide:__().bool,wrapper:__().string,bodyMode:__().bool,possibleCustomEvents:__().string,possibleCustomEventsOff:__().string,clickable:__().bool}}}]),A_(n,[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.insecure,e.resizeHide);this.bindListener(),this.bindWindowEvents(t),this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var e=this.tooltipRef;if(e){for(var t,n=e.parentNode;n.parentNode;)n=n.parentNode;switch(n.constructor.name){case"Document":case"HTMLDocument":case void 0:t=n.head;break;default:t=n}if(!t.querySelector("style[data-react-tooltip]")){var r=document.createElement("style");r.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',r.setAttribute("data-react-tooltip","true"),t.appendChild(r)}}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var r=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(r,'"]')}else t="[data-tip]:not([data-for])";return X_(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(X_(e.shadowRoot.querySelectorAll(t)))})),n.concat(X_(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,i=t.isCapture,o=this.getTargetArray(n);o.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),t.addEventListener("focus",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n),t.addEventListener("blur",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,r=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),J_(this.state.originTooltip,r,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"==typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(this.tooltipRef){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,o=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,u=!0;e.currentTarget.getAttribute("data-scroll-hide")?u="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide),e&&e.currentTarget&&e.currentTarget.setAttribute&&e.currentTarget.setAttribute("aria-describedby",this.state.uuid);var c=e.currentTarget.getAttribute("data-place")||this.props.place||"top",l=s?"solid":this.getEffect(e.currentTarget),f=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},d=W_(e,e.currentTarget,this.tooltipRef,c,c,l,f);d.position&&this.props.overridePosition&&(d.position=this.props.overridePosition(d.position,e,e.currentTarget,this.tooltipRef,c,c,l,f));var p=d.isNewState?d.newState.place:c;this.clearTimer();var h=e.currentTarget,v=this.state.show?h.getAttribute("data-delay-update")||this.props.delayUpdate:0,m=this,y=function(){m.setState({originTooltip:o,isMultiline:a,desiredPlace:c,place:p,type:h.getAttribute("data-type")||m.props.type||"dark",customColors:{text:h.getAttribute("data-text-color")||m.props.textColor||null,background:h.getAttribute("data-background-color")||m.props.backgroundColor||null,border:h.getAttribute("data-border-color")||m.props.borderColor||null,arrow:h.getAttribute("data-arrow-color")||m.props.arrowColor||null},effect:l,offset:f,html:(h.getAttribute("data-html")?"true"===h.getAttribute("data-html"):m.props.html)||!1,delayShow:h.getAttribute("data-delay-show")||m.props.delayShow||0,delayHide:h.getAttribute("data-delay-hide")||m.props.delayHide||0,delayUpdate:h.getAttribute("data-delay-update")||m.props.delayUpdate||0,border:(h.getAttribute("data-border")?"true"===h.getAttribute("data-border"):m.props.border)||!1,extraClass:h.getAttribute("data-class")||m.props.class||m.props.className||"",disable:(h.getAttribute("data-tip-disable")?"true"===h.getAttribute("data-tip-disable"):m.props.disable)||!1,currentTarget:h},(function(){u&&m.addScrollListener(m.state.currentTarget),m.updateTooltip(e),i&&Array.isArray(i)&&(m.intervalUpdateContent=setInterval((function(){if(m.mount){var e=m.props.getContent,t=J_(o,"",e[0](),a),n=m.isEmptyTip(t);m.setState({isEmptyTip:n}),m.updatePosition()}}),i[1]))}))};v?this.delayReshow=setTimeout(y,v):y()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,i=n.disable,o=this.props.afterShow,a=this.getTooltipContent(),s=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!i){var u=this.state.show?0:parseInt(r,10),c=function(){if(Array.isArray(a)&&a.length>0||a){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:s,show:!0},(function(){t.updatePosition(),n&&o&&o(e)}))}};clearTimeout(this.delayShowLoop),u?this.delayShowLoop=setTimeout(c,u):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,o=r.isScroll?0:this.state.delayHide,a=this.props.afterHide,s=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(s)&&!i){if(t&&(!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget}))||!this.state.show))return;e&&e.currentTarget&&e.currentTarget.removeAttribute&&e.currentTarget.removeAttribute("aria-describedby");var u=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),t&&a&&a(e)})))};this.clearTimer(),o?this.delayHideLoop=setTimeout(u,parseInt(o,10)):u()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(e){var t=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,r=t.currentTarget,i=t.place,o=t.desiredPlace,a=t.effect,s=t.offset,u=this.tooltipRef,c=W_(n,r,u,i,o,a,s);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,r,u,i,o,a,s)),c.isNewState)return this.setState(c.newState,(function(){e.updatePosition()}));u.style.left=c.position.left+"px",u.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find((function(t){return"border"!==t&&e.state.customColors[t]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var e=this,r=this.state,i=r.extraClass,o=r.html,a=r.ariaProps,s=r.disable,u=r.uuid,c=this.getTooltipContent(),l=this.isEmptyTip(c),f=tw(this.state.uuid,this.state.customColors,this.state.type,this.state.border),d="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||s||l?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),p=this.props.wrapper;n.supportedWrappers.indexOf(p)<0&&(p=n.defaultProps.wrapper);var h=[d,i].filter(Boolean).join(" ");if(o){var v="".concat(c,'\n<style aria-hidden="true">').concat(f,"</style>");return t.createElement(p,R_({className:"".concat(h),id:this.props.id||u,ref:function(t){return e.tooltipRef=t}},a,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:v}}))}return t.createElement(p,R_({className:"".concat(h),id:this.props.id||u},a,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),t.createElement("style",{dangerouslySetInnerHTML:{__html:f},"aria-hidden":"true"}),c)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=Z_(e);return Object.keys(r).some((function(e){return r[e]!==n[e]}))?x_({},t,{ariaProps:r}):null}}]),n}(t.Component),P_(pS,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),P_(pS,"supportedWrappers",["div","span"]),P_(pS,"displayName","ReactTooltip"),(gS=dS=hS).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},dS=void(gS.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||dS))||dS)||dS)||dS)||dS)||dS)||dS;const _S=bS;var wS=c(55956);var ES=function(e){var n=e.content,r=e.showTooltip,i=e.styles,o=(0,t.useRef)(null);return(0,t.useEffect)((function(){setTimeout((function(){o.current&&o.current.classList.remove("slide-out")}),5e3)}),[r]),t.createElement("div",{ref:o,className:Vs()("one-time-tooltip",{"slide-out":r}),style:i},t.createElement("div",{className:"tooltip"},n))};const SS=ES;ES.propTypes={},ES.defaultProps={content:"",showTooltip:!1,styles:{}};var TS=function(e){var n=e.currentHash,r=e.showChat,i=(0,o.s0)(),a=(0,o.TH)().pathname;return t.createElement("button",{type:"button",style:{borderBottom:"1px solid #d8dde6"},className:"btn-plain",onClick:function(){n&&!r&&i("".concat(a,"chatgpt/"))}},t.createElement("img",{style:{width:"30px",height:"30px",margin:"12px"},src:"".concat(window.STATIC_URL,"images/chatgpt.png"),alt:"chatgpt"}))};TS.propTypes={},TS.defaultProps={currentHash:""};var CS=c(38498),OS=c(36057);function IS(e){return IS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IS(e)}var kS;function AS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PS(r.key),r)}}function PS(e){var t=function(e,t){if("object"!==IS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==IS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===IS(t)?t:String(t)}function RS(e,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RS(e,t)}function NS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xS(e);if(t){var i=xS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===IS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function xS(e){return xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xS(e)}function DS(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var LS=window.AppTextConstants.candidateExperience||{},MS=(kS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}(a,e);var n,r,i,o=NS(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return n=a,r=[{key:"handleClick",value:function(e,t){var n=this.props,r=n.onClick,i=n.updateCurrentSectionId;t!==n.currentSectionId&&i(t),r(e)}},{key:"renderSection",value:function(e,n){var r=this;return t.createElement(t.Fragment,null,e.map((function(e,i){var o=e.p_type,a=e.sections,s=void 0===a?[]:a,u=e.non_section_problems,c=void 0===u?[]:u;return t.createElement("div",{className:"collapsed-section",key:"".concat(e,"-").concat(i+1)},t.createElement("div",{className:"collapsed-section-content"},s.map((function(e){return t.createElement("div",{className:"section"},n?t.createElement("div",{className:"locked-section-icon"},t.createElement("div",{"data-tip":!0,"data-for":"timer-tooltip"},t.createElement(Fc.$H,{classNames:"fill-blue"}))):null,null==e?void 0:e.problems.map((function(e){return r.renderProblem(e,o)})))})),c.map((function(e){return r.renderProblem(e,o)}))))})))}},{key:"renderProblem",value:function(e,n){var r=this,i=this.props,o=i.hash,a=i.attemptedProb,s=i.currentSectionId,u=i.completedTimedSections,c=i.timedSectionIds,l=i.isExpandedNavVisible,f=window.getCurrentLanguageCodeURL(),d=e.problem_private_url_hash,p=e.section_id,h=wS.p[n],v=p!==s&&(0,_s.VL)(s,c)||!(0,_s.VL)(s,c)&&u.includes(p);return h.submissionUrl&&(submission_url_map[d]="".concat(f).concat(h.submissionUrl).concat(e.id,"/").concat(h.key,"/")),t.createElement(CS.v,{id:d,onClick:function(){return r.handleClick(d,p)},selected:d===o,attempted:a.indexOf(d)>-1&&d!==o,disabled:v,"problem-id":e.id,"p-type":e.p_type_v,tabIndex:l?"-1":"0"},e.indx)}},{key:"render",value:function(){var e=LS.LOCKED_SECTION_TOOLTIP,n=LS.problemsCollapsedLeftNav.OPEN_EXPANDED_NAV,r=this.props,i=r.problems,o=void 0===i?{}:i,a=r.showFlyout,s=r.isExpandedNavVisible,u=r.showExpandedNavTooltip,c=r.onClick,l=r.hash,f=r.showChat,d=(null==o?void 0:o.timed_sections)||[],p=(null==o?void 0:o.other_sections)||[];return o&&Object.keys(o).length?t.createElement(OS.u,null,t.createElement(_S,{id:"timer-tooltip",className:"timer-tooltip",place:"right",type:"dark",effect:"solid"},e),t.createElement("div",{className:"expand-nav"},t.createElement("button",{type:"button",className:"btn-plain expand-nav-btn flex","aria-label":n,onClick:a,tabIndex:s?"-1":"0"},t.createElement(Fc.Qq,{classNames:"fill-blue"}))),t.createElement(SS,{content:"Test overview",showTooltip:u,styles:{top:"65px",position:"fixed"}}),o.isChatGptEnabled&&t.createElement(TS,{onClick:c,currentHash:l,showChat:f}),t.createElement("div",{className:"collapsed-problem-list"},this.renderSection(d,!0),this.renderSection(p,!1))):null}}],r&&AS(n.prototype,r),i&&AS(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),DS(kS.prototype,"handleClick",[Os.Nj],Object.getOwnPropertyDescriptor(kS.prototype,"handleClick"),kS.prototype),DS(kS.prototype,"renderSection",[Os.Nj],Object.getOwnPropertyDescriptor(kS.prototype,"renderSection"),kS.prototype),DS(kS.prototype,"renderProblem",[Os.Nj],Object.getOwnPropertyDescriptor(kS.prototype,"renderProblem"),kS.prototype),kS);const jS=(0,d.$j)((function(e){return{attemptedProb:e.duringReducer.problemsListReducer.attemptedProb,currentSectionId:e.duringReducer.problemsListReducer.currentSectionId,completedTimedSections:e.duringReducer.problemsListReducer.completedTimedSections,timedSectionIds:e.duringReducer.problemsListReducer.timedSectionIds}}),(function(e){return{updateCurrentSectionId:function(t){return e(Ps.e.DuringActions.ProblemsListActions.updateCurrentSectionId(t))}}}))(MS);MS.propTypes={},MS.defaultProps={onClick:function(){},showFlyout:!1};var US=c(98643);function FS(e){return FS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FS(e)}var BS;function VS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HS(r.key),r)}}function HS(e){var t=function(e,t){if("object"!==FS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==FS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===FS(t)?t:String(t)}function zS(e,t){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zS(e,t)}function GS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=WS(e);if(t){var i=WS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===FS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function WS(e){return WS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WS(e)}function qS(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var $S=(BS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zS(e,t)}(a,e);var n,r,i,o=GS(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={isFullDescriptionVisible:!t.props.shouldTruncate,isMoreButtonVisible:!0},t}return n=a,r=[{key:"showFullDescription",value:function(e){var t=this;e.stopPropagation(),this.setState({isFullDescriptionVisible:!0,isMoreButtonVisible:!1},(function(){(0,t.props.onExpandCollapseLinkClick)({isExpanded:!0},e)}))}},{key:"hideFullDescription",value:function(e){var t=this;e.stopPropagation(),this.setState({isFullDescriptionVisible:!1,isMoreButtonVisible:!0},(function(){(0,t.props.onExpandCollapseLinkClick)({isExpanded:!1},e)}))}},{key:"displayMoreLessButton",value:function(e,n,r){return t.createElement("a",{className:"show-hide-cta primary-link",onClick:r},e,"",t.createElement(Rc.Z,{klass:"vertical-align-middle show-hide-cta-icon",name:n,size:"9px",color:"blue"}))}},{key:"render",value:function(){var e=this,n=e.state,r=n.isFullDescriptionVisible,i=n.isMoreButtonVisible,o=e.props,a=o.html,s=o.maxLengthToShow,u=o.moreBtnLabel,c=o.lessBtnLabel,l=o.noButtons,f=o.className,d=o.latexify,p=(0,_u.vX)(a,s),h=p.html,v=p.textCount;return t.createElement(t.Fragment,null,t.createElement(US.M,{className:f,content:r?a:h,latexify:d}),!l&&!r&&v>=s&&e.displayMoreLessButton(u,"chevron-arrow-bottom",e.showFullDescription),!l&&r&&!i&&e.displayMoreLessButton(c,"chevron-arrow-top",e.hideFullDescription))}}],r&&VS(n.prototype,r),i&&VS(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.PureComponent),qS(BS.prototype,"showFullDescription",[Os.Nj],Object.getOwnPropertyDescriptor(BS.prototype,"showFullDescription"),BS.prototype),qS(BS.prototype,"hideFullDescription",[Os.Nj],Object.getOwnPropertyDescriptor(BS.prototype,"hideFullDescription"),BS.prototype),qS(BS.prototype,"displayMoreLessButton",[Os.Nj],Object.getOwnPropertyDescriptor(BS.prototype,"displayMoreLessButton"),BS.prototype),BS);$S.defaultProps={maxLengthToShow:175,moreBtnLabel:"More",lessBtnLabel:"Less",noButtons:!1,onExpandCollapseLinkClick:function(){},className:"",latexify:!1},$S.propTypes={};const KS=$S;var QS=c(39781);function YS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[" ","Enter"],n=this;return function(r){t.includes(null==r?void 0:r.key)&&e.call(n,r)}}function JS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ZS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var XS=function(e){var n=JS((0,t.useState)(!0),2),r=n[0],i=n[1],o=e.sectionHeader,a=e.sectionContent,s=e.isExpandedNavVisible;return t.createElement("div",{className:"collapsible-menu"},t.createElement("div",{className:"header-dropdown-container cursor-pointer",role:"button",tabIndex:s?"0":"-1",onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||i(!r)},onClick:function(){return i(!r)}},t.createElement("button",{type:"button",className:"drop-icon btn-plain flex justify-center items-center padding-4 flex-gap-12",tabIndex:"-1"},t.createElement(Rc.Z,{color:"blue",name:r?"chevron-arrow-top":"chevron-arrow-bottom",size:10,klass:"collapse-icon"})),t.createElement("div",{className:"header"},o)),r?t.createElement("div",{className:"content"},a):null)};XS.propTypes={};const eT=XS;function tT(e){return tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tT(e)}var nT;function rT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iT(r.key),r)}}function iT(e){var t=function(e,t){if("object"!==tT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tT(t)?t:String(t)}function oT(e,t){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oT(e,t)}function aT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sT(e);if(t){var i=sT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===tT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function sT(e){return sT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sT(e)}function uT(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var cT=(nT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oT(e,t)}(a,e);var n,r,i,o=aT(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return n=a,r=[{key:"getExpandedNavHeader",value:function(){var e=this.props,n=e.problems,r=void 0===n?{}:n,i=r.totalProblems,o=r.sumOfMarks,a=e.hideFlyout,s=e.isExpandedNavVisible,u=window||{},c=u.AppTextConstants.candidateExperience.problemsLeftNav,l=c.CLOSE_EXPANDED_NAV,f=c.QUESTION_TEXT,d=c.QUESTIONS_TEXT,p=c.TOTAL_SCORE,h=u.headerObj.testTitle;return t.createElement("div",{className:"left-nav-header"},t.createElement("div",{className:"flex items-center"},t.createElement("button",{type:"button",className:"btn-plain left-arrow flex justify-center items-center","aria-label":l,onClick:a,tabIndex:s?"0":"-1"},t.createElement(Rc.Z,{klass:"left-arrow-icon",name:"arrow-left",color:"blue",size:14})),t.createElement(zs.u,{position:"bottom",ariaLabel:h},t.createElement("div",{className:"test-title ellipsis semi-bold"},h))),t.createElement("div",{className:"test-details semi-bold"},t.createElement("div",{className:"total-questions margin-right-20"},1===i?"".concat(i," ").concat(f):"".concat(i," ").concat(d)),t.createElement("div",{className:"total-score margin-right-16"},p,": ",o)))}},{key:"handleClick",value:function(e,t){var n=this.props,r=n.onClick,i=n.updateCurrentSectionId,o=n.currentSectionId,a=n.hideFlyout;t!==o&&i(t),r(e),a()}},{key:"renderSection",value:function(e,n){var r,i=this,o=this.props.problems,s=null==o||null===(r=o.timed_sections)||void 0===r?void 0:r.length,u=(window.AppTextConstants||{}).candidateExperience.problemsLeftNav,c=u.TIMED_SECTION,l=u.OTHER_SECTION;return t.createElement(t.Fragment,null,t.createElement("div",{className:"section-type margin-bottom-12 semi-bold"},n&&!!e.length&&t.createElement("div",{className:"flex sec-type-header items-center margin-bottom-16"},t.createElement(Fc.$H,{classNames:"fill-dark-grey margin-right-4"}),c),!n&&!!e.length&&!!s&&t.createElement("div",{className:"margin-bottom-16 sec-type-header"},l),e.map((function(e,r){var o=e.p_type,s=e.problems_count,u=e.sections,c=void 0===u?[]:u,l=e.non_section_problems,f=void 0===l?[]:l,d=e.max_marks;return t.createElement("div",{className:"p-type-sec margin-bottom-28",key:"".concat(e,"-").concat(r+1)},a.getPTypeHeader(o,s,d),c.map((function(e){return i.renderPTypeSection(e,n,!1,e.sectionId)})),f.map((function(e){return i.renderPTypeSection([e],n,!0,null)})))}))))}},{key:"renderPTypeSection",value:function(e,n,r,i){var o,s=this.props,u=s.timedSectionIds,c=s.currentSectionId,l=s.completedTimedSections,f=s.isExpandedNavVisible,d=i!==c&&(0,_s.VL)(c,u)||!(0,_s.VL)(c,u)&&l.includes(i);return t.createElement(t.Fragment,null,(null==e||null===(o=e.problems)||void 0===o?void 0:o.length)||e.length?t.createElement("div",{className:Vs()("section margin-bottom-16",{"yellow-bg":(0,_s.VL)(i,u)})},r?t.createElement(t.Fragment,null,this.renderProblem(e)):t.createElement(eT,{sectionHeader:a.renderPTypeSectionHeader(e,n,d),isExpandedNavVisible:f,sectionContent:this.renderProblem(e.problems)})):null)}},{key:"renderProblem",value:function(e){var n=this,r=this.props,i=r.currentSectionId,o=r.timedSectionIds,a=r.completedTimedSections,s=r.hash,u=r.attemptedProb,c=r.isExpandedNavVisible,l=(window.AppTextConstants||{}).candidateExperience.problemsLeftNav,f=l.ATTEMPT_QUESTION,d=l.SCORE_TEXT,p=l.TIME_QUESTION,h=l.TIME_QUESTION_TOOLTIP;return t.createElement(t.Fragment,null,e.map((function(e){var r=e.problem_private_url_hash,l=e.section_id,v=l!==i&&(0,_s.VL)(i,o)||!(0,_s.VL)(i,o)&&a.includes(l),m=u.indexOf(r)>-1&&r!==s,y=r===s,g=(0,_s.VL)(l,o);return t.createElement("button",{className:Vs()("prob-statement flex items-center justify-between btn-plain width-100",{"cursor-pointer":!v,"not-allowed":v,"padding-top-16 padding-bottom-16":e.remaining_time||0===e.remaining_time,selected:y}),type:"button",onClick:v?void 0:function(){return n.handleClick(r,l)},tabIndex:c&&!v?"0":"-1",onKeyDown:v?void 0:YS((function(){return n.handleClick(r,l)})),disabled:v},t.createElement("div",{className:Vs()("problem-wrapper flex items-center w-65",{"overflow-problem-wrapper":!(e.remaining_time||e.remaining_time)})},t.createElement("span",{className:Vs()("problem-title-index margin-right-12",{selected:y,attempted:m})},e.indx),e.remaining_time||0===e.remaining_time?t.createElement(t.Fragment,null,t.createElement("p",{className:"flex"},p,t.createElement(zs.u,{position:"top",klass:"margin-left-4 margin-right-12",ariaLabel:h.format({remainingTime:e.remaining_time}),multiline:!0},t.createElement(Rc.Z,{name:"more-info",size:12,klass:"timed-ques-icon"})),t.createElement("div",{className:"question-timer-color countdown-".concat(e.id," countdown-left-").concat(e.id),id:"question-".concat(e.id)},String(Math.trunc(e.remaining_time/60)).padStart(2,"0"),":",String(e.remaining_time%60).padStart(2,"0"))),t.createElement("span",{id:"timer-icon-".concat(e.id),className:"hidden question-timer-color"},t.createElement(Rc.Z,{name:"data-usage",klass:"obj-timer-icon margin-left-12"}))):e.p_type===Tc.Z.o.key?t.createElement(KS,{className:"description w-80",html:e.problem_description,noButtons:!0,shouldTruncate:!0,maxLengthToShow:120,latexify:!0}):e.problem_title?t.createElement(QS.t,{text:e.problem_title,className:"margin-top-15 margin-bottom-15 text-renderer"}):t.createElement(KS,{className:"description w-80",html:e.problem_description,noButtons:!0,shouldTruncate:!0,maxLengthToShow:120,latexify:!0})),t.createElement("div",{className:"flex items-center justify-center"},v||y?null:t.createElement("div",{className:"attempt-ques margin-right-40 semi-bold"},f,t.createElement(Rc.Z,{name:"arrow-right",klass:"margin-left-8"})),t.createElement("div",{className:Vs()("score flex justify-center semi-bold margin-right-16",{"yellow-bg":g,"gray-bg":!g})},t.createElement("span",{className:"margin-right-4"},d,":"),t.createElement("span",null,e.max_marks&&t.createElement(t.Fragment,null,"+ ",Number(e.max_marks).toFixed(1))),e.negative_marks&&t.createElement("span",{className:"margin-left-8"},t.createElement(t.Fragment,null,"| - ",Number(e.negative_marks).toFixed(1))))))})))}},{key:"render",value:function(){var e=this.props,n=e.problems,r=e.hasProblems,i=e.hideFlyout,o=e.headerData,a=(null==n?void 0:n.timed_sections)||[],s=(null==n?void 0:n.other_sections)||[],u=(window.AppTextConstants||{}).candidateExperience.problemsLeftNav,c=u.GO_BACK_TO_TEST,l=u.GO_BACK_TO_LAB,f=(o||{}).is_lab_practice,d=void 0!==f&&f;return t.createElement(t.Fragment,null,t.createElement("div",{className:"expanded-left-nav"},r?this.getExpandedNavHeader():t.createElement(p.u,null),t.createElement("div",{className:"expanded-nav-content"},r?t.createElement(t.Fragment,null,t.createElement(_c.z,{klass:"float-right flex items-center",color:"blue",onClick:i},t.createElement("div",{className:"go-back-btn flex items-center justify-center margin-right-8"},t.createElement(Rc.Z,{klass:"back-btn flex items-center justify-center",name:"arrow-left",size:10,color:"white"})),d?l:c),t.createElement("div",{className:"clear"}),this.renderSection(a,!0),this.renderSection(s,!1)):t.createElement(p.u,null))))}}],i=[{key:"getPTypeHeader",value:function(e,n,r){var i,o=(window.AppTextConstants||{}).candidateExperience,a=o.problemsLeftNav,s=o.problemsLeftNav.MAX_SCORE,u=a[null===(i=wS.p[e])||void 0===i?void 0:i.title]||"";return t.createElement("div",{className:"flex justify-between items-center semi-bold margin-bottom-16"},t.createElement("div",{className:"p-type-details"},"".concat(n," ").concat(u)),t.createElement("div",{className:"p-type-score"},s,": ",r))}},{key:"renderPTypeSectionHeader",value:function(e,n,r){var i=window,o=i.AppTextConstants.candidateExperience,a=o.problemsLeftNav,s=a.SECTION_TEXT,u=a.DISABLED_SECTION_TOOLTIP,c=o.TOTAL_TIME,l=i.MIN_SHORT_TEXT;return t.createElement("div",{className:"section-header flex justify-between"},t.createElement("div",{className:"section-name flex items-center"},s,": ",e.name,n?t.createElement("div",{className:"section-time flex justify-center margin-left-12"},t.createElement(Fc.$H,{classNames:"fill-dark-grey margin-right-4"}),t.createElement("span",null,c,": ",Math.floor(e.sectionTime/60)," ",l)):null,r?t.createElement(Rc.Z,{klass:"he-tooltip he-tooltip-right margin-left-8",ariaLabel:u,name:"block",size:15}):null))}}],r&&rT(n.prototype,r),i&&rT(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),uT(nT.prototype,"getExpandedNavHeader",[Os.Nj],Object.getOwnPropertyDescriptor(nT.prototype,"getExpandedNavHeader"),nT.prototype),uT(nT.prototype,"handleClick",[Os.Nj],Object.getOwnPropertyDescriptor(nT.prototype,"handleClick"),nT.prototype),uT(nT.prototype,"renderSection",[Os.Nj],Object.getOwnPropertyDescriptor(nT.prototype,"renderSection"),nT.prototype),uT(nT.prototype,"renderPTypeSection",[Os.Nj],Object.getOwnPropertyDescriptor(nT.prototype,"renderPTypeSection"),nT.prototype),uT(nT.prototype,"renderProblem",[Os.Nj],Object.getOwnPropertyDescriptor(nT.prototype,"renderProblem"),nT.prototype),nT);const lT=(0,d.$j)((function(e){return{attemptedProb:e.duringReducer.problemsListReducer.attemptedProb,currentSectionId:e.duringReducer.problemsListReducer.currentSectionId,completedTimedSections:e.duringReducer.problemsListReducer.completedTimedSections,timedSectionIds:e.duringReducer.problemsListReducer.timedSectionIds,headerData:e.headerReducer.appReducer.data}}),(function(e){return{updateCurrentSectionId:function(t){return e(Ps.e.DuringActions.ProblemsListActions.updateCurrentSectionId(t))}}}))(cT);cT.propTypes={},cT.defaultProps={onClick:function(){},hideFlyout:function(){}};function fT(){return fT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fT.apply(this,arguments)}function dT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const hT=function(){var e=dT((0,t.useState)(!1),2),n=e[0],r=e[1],i=dT((0,t.useState)(""),2),o=i[0],a=i[1],s=dT((0,t.useState)(!1),2),u=s[0],c=s[1],l=function(e,t){e&&(a(""),r(!0),c(!1),"POST"===t?(c(!0),(0,Of.e$)(e).then((function(e){var t=e.data;return a(t.data)})).catch((function(){return a(window.SOMETHING_WENT_WRONG_ERROR_TEXT)}))):"GET"===t&&fetch(e).then((function(e){return e.text()||""})).then((function(e){return a(e)})).catch((function(){return a(window.SOMETHING_WENT_WRONG_ERROR_TEXT)})))},f=function(e,t){return e.preventDefault(),{url:t.attr("ajax")||t.attr("href")}};return(0,t.useEffect)((function(){$("body").on("click",".load-external-url",(function(e){var t=f(e,$(this)).url;l(t,"GET")})),$("body").on("click",".ajax-modal",(function(e){var t=f(e,$(this)).url;l(t,"POST")}))}),[]),t.createElement(lu.Z,fT({onClose:function(){return r(!1)},className:"submission-table-tabs",show:n},pu.Z.compact14Size),t.createElement(du.Z,null,t.createElement("div",{className:"".concat(u?"":"pre-wrap"),dangerouslySetInnerHTML:{__html:o}})))};function vT(e){return e.first_name?e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.first_name:e.email||""}function mT(e){var t=function(e){for(var t=0,n=0;n<e.length;n+=1)t=e.charCodeAt(n)+31*t,t|=0;return t}(e),n=function(e){var t=e%359,n=Math.floor(e/358),r="".concat(40+n%100*.1,"%");return"hsl(".concat(t,", ").concat("75%",", ").concat(r,")")}(t);return n}function yT(e){return e.deleted_b&&0!==e.deleted_by||e.email&&e.email.indexOf("deleted_user")>-1}function gT(e){return gT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gT(e)}function bT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_T(r.key),r)}}function _T(e){var t=function(e,t){if("object"!==gT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gT(t)?t:String(t)}function wT(e,t){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wT(e,t)}function ET(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ST(e);if(t){var i=ST(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===gT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ST(e){return ST=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ST(e)}var TT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wT(e,t)}(a,e);var n,r,i,o=ET(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return n=a,(r=[{key:"render",value:function(){var e=this.props,n=e.size,r=e.klass,i=e.onClick,o=e.avatar_url,a=e.color,s=e.fontSize,u=e.user,c=e.overrideName,l=e.allNames,f=mT(u.uuid),d={};return o||u.avatar?d.backgroundImage="url(".concat(o||u.avatar,")"):(d.backgroundColor=f,a&&(d.color=a),s&&(d.fontSize=s),u.deleted_by&&0!==u.deleted_by&&(d.backgroundColor="")),t.createElement("div",{className:Vs()("user-avatar",n,r,{deleted_user:yT(u)}),title:c?l:vT(u),style:d,onClick:i},o||u.avatar?null:yT(u)?t.createElement("i",{className:"ui-block",style:{display:"flex",fontSize:"inherit"}}):t.createElement(t.Fragment,null,u.first_name?t.createElement("span",null,c||function(e){var t=vT(e);return t&&t.length>0?t.charAt(0).toUpperCase():""}(u)):t.createElement(Rc.Z,{name:"envelope",size:18})))}}])&&bT(n.prototype,r),i&&bT(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component);function CT(e){return CT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CT(e)}var OT=["type","name","placeholder","onChange","value","disabled","className","size","isFullWidth","error","onBlur","onFocus","autoComplete","min","max","width","style"];function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IT.apply(this,arguments)}function kT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kT(Object(n),!0).forEach((function(t){PT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==CT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==CT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===CT(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var NT={sm:"28px",md:"34px"},xT=t.forwardRef((function(e,n){var r=e.type,i=e.name,o=e.placeholder,a=e.onChange,s=e.value,u=e.disabled,c=e.className,l=e.size,f=e.isFullWidth,d=e.error,p=e.onBlur,h=e.onFocus,v=e.autoComplete,m=e.min,y=e.max,g=e.width,b=e.style,_=void 0===b?{}:b,w=RT(e,OT);return t.createElement("input",IT({},w,{style:AT({height:NT[l],width:f?"100%":g},_),className:Vs()("n-input",c,{error:d}),type:r,name:i,value:s,ref:n,placeholder:o,onChange:a,disabled:u,onBlur:p,onFocus:h,autoComplete:v,min:m,max:y}))}));xT.defaultProps={type:"text",size:"md",autoComplete:"off"};const DT=xT;var LT=["className","hasRightIcon"];function MT(){return MT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MT.apply(this,arguments)}function jT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const UT=t.forwardRef((function(e,n){var r=e.className,i=e.hasRightIcon,o=jT(e,LT);return t.createElement(DT,MT({},o,{ref:n,className:Vs()("n-input-outline",r,{"has-right-icon":i})}))}));var FT=["className"];function BT(){return BT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BT.apply(this,arguments)}function VT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const HT=t.forwardRef((function(e,n){var r=e.className,i=VT(e,FT);return t.createElement(DT,BT({},i,{ref:n,className:Vs()("n-input-standard",r)}))}));var zT=["className"];function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GT.apply(this,arguments)}function WT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const qT=t.forwardRef((function(e,n){var r=e.className,i=WT(e,zT);return t.createElement(DT,GT({},i,{ref:n,className:Vs()("n-input-unstyle",r)}))}));var $T=c(33353);var KT=["variant","type","name","placeholder","disabled","className","onChange","isFullWidth","error","size","onBlur","onFocus","rightIcon","suggestions","onClickSuggestions","width","defaultValue"];function QT(){return QT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QT.apply(this,arguments)}function YT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return JT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var XT={outline:UT,standard:HT,unstyle:qT},eC=t.forwardRef((function(e,n){var r=e.variant,i=e.type,o=e.name,a=e.placeholder,s=e.disabled,u=e.className,c=e.onChange,l=e.isFullWidth,f=e.error,d=e.size,p=e.onBlur,h=e.onFocus,v=e.rightIcon,m=(e.suggestions,e.onClickSuggestions,e.width),y=e.defaultValue,g=ZT(e,KT),b=YT((0,t.useState)(y),2),_=b[0],w=b[1],E=YT((0,$T.Z)(e.value,_),2),S=E[0],T=E[1],C=t.createRef(),O=XT[r]||UT,I=(0,t.useCallback)((function(e){var t=e.target,n=t.value,r=t.name;S||w(e.target.value),c&&c(n,{name:r})}),[w,c]);return t.createElement("div",{ref:C,className:Vs()("n-input-wrapper",{"full-width":l,"inline-flex":!l})},t.createElement(O,QT({},g,{width:m,type:i,name:o,ref:n,value:T,size:d,placeholder:a,onChange:I,disabled:s,isFullWidth:l,className:u,error:f,onBlur:p,onFocus:h,hasRightIcon:v})),v&&t.createElement("div",{className:"n-right-icon"},v))}));eC.propTypes={},eC.defaultProps={variant:"outline",type:"text",disabled:!1,isFullWidth:!1,size:"sm",className:"",placeholder:"",suggestions:[],onClickSuggestions:function(){}};c(53054);function tC(e){return tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tC(e)}function nC(){nC=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function p(){}function h(){}var v={};u(v,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(v=y);var g=h.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==tC(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=h,r(g,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),u(g,s,"Generator"),u(g,o,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function rC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return iC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oC(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}var aC,sC,uC,cC=[],lC=function(e,t){var n="".concat(e,"/").concat(t);return cC.find((function(e){return e.path===n}))},fC=function(){var e,t=(e=nC().mark((function e(t,n,r,i,o){var a,s,u,c,l,f;return nC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lC(t,n)){e.next=2;break}return e.abrupt("return");case 2:a="".concat(t,"/").concat(n),s=null,r&&(0===Af().apps.length?s=Af().initializeApp(r):(u=rC(Af().apps,1),s=u[0]),(c=Af().firestore(s)).settings(bs.tT),l=c.collection(t).doc(n),f=l.onSnapshot((function(e){var t=e.data();(null==t?void 0:t.timestamp.toDate().getTime())>=o&&i(t)})),cC.push({path:a,listener:f}));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){oC(o,r,i,a,s,"next",e)}function s(e){oC(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n,r,i,o){return t.apply(this,arguments)}}(),dC={uuid:1,first_name:"ChatGPT",isChatGpt:!0,avatar:"".concat(window.STATIC_URL,"images/chatgpt.png")},pC={uuid:2,first_name:null===(aC=window)||void 0===aC||null===(sC=aC.assessmentObj)||void 0===sC||null===(uC=sC.user)||void 0===uC?void 0:uC.FIRST_NAME,isChatGpt:!1};function hC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mC=(0,d.$j)((function(e){return{chatList:e.duringReducer.chatReducer.chatData,conversationCount:e.duringReducer.chatReducer.conversationCount}}),(function(e){return{updateChat:function(t){return e(Ps.e.DuringActions.ChatActions.updateChat(t))},getQueryResponse:function(t){return e(Ps.e.DuringActions.ChatActions.getQueryResponse(t))},getConversationCount:function(){return e(Ps.e.DuringActions.ChatActions.getConversationCount())},updateConversationCount:function(t){return e(Ps.e.DuringActions.ChatActions.updateConversationCount(t))}}}))((function(e){var n=e.chatList,r=e.updateChat,i=e.getQueryResponse,o=e.conversationCount,a=e.getConversationCount,s=e.updateConversationCount,u=hC((0,t.useState)(""),2),c=u[0],l=u[1],f=hC((0,t.useState)(!1),2),d=f[0],h=f[1],v=(0,t.useRef)(null),m=(0,t.useRef)(null),y=(0,t.useRef)(null),g=(0,t.useRef)(null);y.current=o,(0,t.useEffect)((function(){return a(),function(){window.isAppSyncEnabled?g.current&&document.removeEventListener(g.current.event_type,g.current.event_listener):m.current&&function(e,t){var n="".concat(e,"/").concat(t),r=cC.findIndex((function(e){return e.path===n}));-1!==r&&(cC[r].listener(),cC.splice(r,1))}(m.current.collectionName,m.current.documentId)}}),[]),(0,t.useEffect)((function(){v.current&&(v.current.scrollTop=v.current.scrollHeight)}),[n.data]);var b=function(e){h(!1),r({user:dC,text:null==e?void 0:e.response,count:y.current.count+1}),s(y.current.count+1)};return t.createElement(t.Fragment,null,o.isLoading?t.createElement(Is.Z,{color:"blue",size:48,containerStyle:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}):t.createElement(t.Fragment,null,t.createElement("div",{className:"chat-container",ref:v},n.data.map((function(e){return t.createElement("div",{className:"flex chat-item items-center ".concat(e.user.isChatGpt?"justify-between chat-gpt-bg":"")},t.createElement("div",{className:"flex items-center"},t.createElement(TT,{user:e.user,size:"small",klass:"ci-user-avatar margin-right-20"}),t.createElement("div",{className:"chat margin-right-20 ",dangerouslySetInnerHTML:{__html:e.text}})),e.user.isChatGpt&&t.createElement("div",{className:"semi-bold",style:{backgroundColor:"#EAF3FE",padding:"4px 8px",fontSize:"12px"}},"".concat(e.count,"/").concat(30)))})),d?t.createElement("div",{className:"flex chat-item items-center justify-between chat-gpt-bg"},t.createElement("div",{className:"flex items-center"},t.createElement(TT,{user:dC,size:"small",klass:"ci-user-avatar margin-right-20"}),t.createElement(p.u,null))):null),t.createElement("div",{className:"flex items-center justify-center margin-top-40 chat-input"},t.createElement("div",{className:"text-input-container"},t.createElement(eC,{className:"margin-right-20",value:c,onKeyDown:function(e){if(!(c.length<1)&&"Enter"===e.key){var t=Date.now();h(!0),i(c).then((function(e){window.isAppSyncEnabled?g.current||(g.current={event_type:e.doc_id,event_listener:function(e){return b(e.detail)}},document.addEventListener(e.doc_id,g.current.event_listener)):(m.current||(m.current={collectionName:e.collection_name,documentId:e.doc_id}),fC(e.collection_name,e.doc_id,e.client_credentials,b,t)),l("")})),r({user:pC,text:c})}},onChange:function(e){l(e)},placeholder:"Ask anything...",size:"md",maxLength:500,isFullWidth:!0,disabled:d||o.count>=30})),t.createElement("div",{className:"text-len"},"".concat(c.length,"/").concat(500)))))}));function yC(e){var n=e.children,r=e.show,i=e.onClose,o=e.showClose;return t.createElement("div",{className:Vs()("left-nav-flyout",{"slide-out":r})},t.createElement("div",{className:"flyout-content"},n),o?t.createElement("button",{type:"button",className:"close-btn",onClick:i},t.createElement("i",{className:"icon ui-close"})):null)}yC.propTypes={},yC.defaultProps={onClose:function(){},showClose:!1};const gC=yC;var bC=c(30536),_C=c(44269),wC=window.TIME_COMPLETED_MESSAGE,EC=function(){return(0,t.useEffect)((function(){var e=setTimeout((function(){alert(wC)}),100);return function(){return clearTimeout(e)}}),[]),t.createElement(t.Fragment,null,wC)};function SC(e){return SC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SC(e)}var TC;function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CC.apply(this,arguments)}function OC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IC(r.key),r)}}function IC(e){var t=function(e,t){if("object"!==SC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==SC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===SC(t)?t:String(t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kC(e,t)}function AC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=PC(e);if(t){var i=PC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===SC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function PC(e){return PC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PC(e)}function RC(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var NC=(TC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}(a,e);var n,r,i,o=AC(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={hash:null,showExpandedNav:!1,showExpandedNavTooltip:!1},window.submission_url_map={},t}return n=a,r=[{key:"componentDidMount",value:function(){window.problemRealtime&&(0,bC.Lv)(window.problemRealtime),(0,bC.A4)(),window.addAlert=bC.V_;try{this.loadProblemsFromServer()}catch(e){(0,Es.R)({origin:"loadProblemsFromServer-test-experience",error:e})}}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.hash;t.hash!==n&&$("#load-editor-button-".concat(n)).length&&!$("#load-editor-button-".concat(n)).parent().is(":hidden")&&(0,_s.$r)(n)}},{key:"getAttemptedQuestions",value:function(){var e,t,n=this.props.problems,r=void 0===n?{}:n,i=(0,Rs.d0)(null===(e=window)||void 0===e||null===(t=e.headerObj)||void 0===t?void 0:t.eventSlug);(0,Of.uL)(i).then((function(e){var t=e.data;$("body").append(t),(0,bC.mU)(r)})).catch((function(e){return console.log(e)}))}},{key:"handleClick",value:function(e,t){var n=this;e&&this.setState({hash:e},(function(){var r=n.props,i=r.headerData,o=r.navigate,a=r.location.pathname,s=r.params.problemHash;if(Object.keys(i).length){if(s){var u=a.split(s)[0];o("".concat(u+e,"/"))}else o("".concat(a+e,"/"));var c=document.querySelector(".right-pane");c&&(c.scrollTop=0),t&&n.scrollToSelectedQues(),(0,_s.$9)(document.getElementById(e))}}))}},{key:"loadFirstProblem",value:function(){var e=this.props.problems;(null==e?void 0:e.currentProblemHash)&&this.handleClick(e.currentProblemHash)}},{key:"hideFlyout",value:function(){var e=this;this.state.showExpandedNavTooltip?this.setState({showExpandedNav:!1},(function(){return e.scrollToSelectedQues()})):this.setState({showExpandedNav:!1,showExpandedNavTooltip:!0},(function(){return e.scrollToSelectedQues()}))}},{key:"lazyLoadOtherData",value:function(){this.scrollToSelectedQues(),this.getAttemptedQuestions()}},{key:"scrollToSelectedQues",value:function(){var e=this.state.showExpandedNav,t=document.querySelector(".collapsed-problem-list .selected"),n=document.querySelector(".expanded-nav-content .selected");e?a.scrollItem(n):a.scrollItem(t)}},{key:"showFlyout",value:function(){var e=this;this.setState({showExpandedNav:!0},(function(){return e.scrollToSelectedQues()}))}},{key:"loadProblemsFromServer",value:function(){var e=this;return(0,this.props.getProblemsData)({url:"".concat(window.getCurrentLanguageCodeURL(),"/AJAX/get-event-problems-json_v2/").concat(window.headerObj.eventId,"/")}).then((function(t){var n;(null==t||null===(n=t.timed_sections)||void 0===n?void 0:n.length)?e.setState({showExpandedNavTooltip:!0}):e.setState({showExpandedNav:!0}),t.hasMayDayError?(void 0!==bC.V_&&(0,bC.V_)(MAYDAY_ERROR_TEXT),window.location.href=t.redirectUrl):(sessionStorage.setItem("assessment-problems-".concat(window.headerObj.eventSlug),JSON.stringify(t)),e.lazyLoadOtherData())}),(function(e){throw new Error(e)}))}},{key:"checkIfThereAreProblems",value:function(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.props.problems,a=o;return 0===Object.keys(o).length&&(a=i),!(a&&Object.keys(a).length&&!(null===(e=a)||void 0===e||null===(t=e.timed_sections)||void 0===t?void 0:t.length)&&!(null===(n=a)||void 0===n||null===(r=n.other_sections)||void 0===r?void 0:r.length))}},{key:"render",value:function(){var e=this.props,n=e.problems,r=void 0===n?{}:n,i=e.fullscreenPermission,o=e.params.chats,a=e.isWebcamProctoringEnabled,s=e.webcamPermission,u=e.hasTestEnded,c=e.showProblemsContainer,l=this.state,f=l.hash,d=l.showExpandedNav,h=l.showExpandedNavTooltip,v=r;if(0===Object.keys(r).length)try{(v=JSON.parse(sessionStorage.getItem("assessment-problems-".concat(window.headerObj.eventSlug))))&&"string"==typeof v&&(v=JSON.parse(fc.decode(v,String(window.PROBLEMS_DECRYPTION_KEY))),v=_C.Z.modifyJSONAndSetIndexAndNext(v),sessionStorage.setItem("assessment-problems-".concat(window.headerObj.eventSlug),JSON.stringify(v)))}catch(e){v={}}!f&&Object.keys(r).length&&this.loadFirstProblem();var m=(window.headerObj||{}).hasFullscreen,y=r&&Object.keys(r).length?1:0,g=this.checkIfThereAreProblems(),b=o===If.pY;return c?u?t.createElement(EC,null):g?t.createElement("div",{className:Vs()("test-experience-body",{hidden:m&&!i||a&&!s})},t.createElement("div",{className:"view-body"},t.createElement(jS,{problems:v,onClick:this.handleClick,showFlyout:this.showFlyout,hash:f,isExpandedNavVisible:d,showExpandedNavTooltip:h,showChat:b}),t.createElement(gC,{show:d,onClose:this.hideFlyout},t.createElement(Gs.i,{isFocusTrapActive:d},t.createElement(lT,{problems:v,onClick:this.handleClick,hideFlyout:this.hideFlyout,hash:f,hasProblems:y,isExpandedNavVisible:d,showExpandedNavTooltip:h}))),t.createElement("div",{className:"right-pane transition collapsednav"},t.createElement("div",{id:"right-pane-question-content",className:b?"hidden":"right-pane-content"},t.createElement("div",{id:"problem-detail-wrapper",className:"problem-detail-wrapper"},t.createElement("div",{id:"problem-detail",className:"problem-detail assessment-side"},y?t.createElement(g_,{problems:r,currentHash:f,onClick:this.handleClick}):t.createElement(p.u,null)))),b&&t.createElement(mC,null)),t.createElement(hT,null))):t.createElement("div",{className:"test-experience-body padding-20 body-font-20 light align-center"},window.NO_QUESTIONS_FOUND):null}}],i=[{key:"scrollItem",value:function(e){e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}],r&&OC(n.prototype,r),i&&OC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component),RC(TC.prototype,"getAttemptedQuestions",[Os.Nj],Object.getOwnPropertyDescriptor(TC.prototype,"getAttemptedQuestions"),TC.prototype),RC(TC.prototype,"handleClick",[Os.Nj],Object.getOwnPropertyDescriptor(TC.prototype,"handleClick"),TC.prototype),RC(TC.prototype,"loadFirstProblem",[Os.Nj],Object.getOwnPropertyDescriptor(TC.prototype,"loadFirstProblem"),TC.prototype),RC(TC.prototype,"hideFlyout",[Os.Nj],Object.getOwnPropertyDescriptor(TC.prototype,"hideFlyout"),TC.prototype),RC(TC.prototype,"scrollToSelectedQues",[Os.Nj],Object.getOwnPropertyDescriptor(TC.prototype,"scrollToSelectedQues"),TC.prototype),RC(TC.prototype,"showFlyout",[Os.Nj],Object.getOwnPropertyDescriptor(TC.prototype,"showFlyout"),TC.prototype),RC(TC.prototype,"loadProblemsFromServer",[Os.Nj],Object.getOwnPropertyDescriptor(TC.prototype,"loadProblemsFromServer"),TC.prototype),RC(TC.prototype,"checkIfThereAreProblems",[Os.Nj],Object.getOwnPropertyDescriptor(TC.prototype,"checkIfThereAreProblems"),TC.prototype),TC);NC.propTypes={},NC.defaultProps={};var xC=(0,d.$j)((function(e){return{problems:e.duringReducer.problemsListReducer.problems,attemptedProb:e.duringReducer.problemsListReducer.attemptedProb,fullscreenPermission:e.duringReducer.proctoringPermissionsReducer.fullscreenPermission,headerData:e.headerReducer.appReducer.data,webcamPermission:e.duringReducer.proctoringPermissionsReducer.webcamPermission,isWebcamProctoringEnabled:e.headerReducer.appReducer.data.take_candidate_snapshot,hasTestEnded:e.headerReducer.timerReducer.ended,showProblemsContainer:e.duringReducer.proctoringPermissionsReducer.showProblemsContainer}}),(function(e){return{getProblemsData:function(t){return e(Ps.e.DuringActions.ProblemsListActions.getProblemsData(t))},getProblemsDataSuccess:function(t){return e(Ps.e.DuringActions.ProblemsListActions.getProblemsDataSuccess(t))},resetSectionTimer:function(){return e(Ps.e.DuringActions.sectionTimerActions.resetSectionTimer())}}}))(NC);const DC=function(e){var n=(0,o.s0)(),r=(0,o.UO)(),i=(0,o.TH)();return t.createElement(xC,CC({},e,{navigate:n,params:r,location:i}))};function LC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return MC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const jC=function(){var e=LC((0,t.useState)(!0),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){r("undefined"!=typeof document&&document.hasFocus()&&"visible"===document.visibilityState);var e=function(){r(!0)},t=function(){setTimeout((function(){var e=document.activeElement,t=$(".tox-tinymce-aux");t&&t.find(e).length||("IFRAME"!==e.tagName?r(!1):"true"!==e.getAttribute("listener")&&e.addEventListener("mouseout",(function(e){var t;e.target.setAttribute("listener","true"),null===(t=Array.from(document.querySelectorAll("a[href], button, input, select, textarea, [tabindex]:not([tabindex='-1'])"))[0])||void 0===t||t.focus()})))}),0)};return window.addEventListener("focus",e),window.addEventListener("blur",t),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}),[]),n};function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UC.apply(this,arguments)}function FC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return BC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const VC=function(){var e=FC((0,t.useState)(!1),2),n=e[0],r=e[1],i=FC((0,t.useState)(!1),2),o=i[0],a=i[1],s=jC(),u=window.assessmentObj,c=(void 0===u?{}:u).disableTabSwitch,l=void 0!==c&&c,f=function(e){r(e)};(0,t.useEffect)((function(){s||Js((function(e){l&&(a(e),f(!0))}))}),[s]);var d,p,h,v,m,y,g,b;return t.createElement(t.Fragment,null,l?t.createElement(lu.Z,UC({onClose:function(){return f(!1)},show:n},(0,Sc.T)(14)),t.createElement(du.Z,null,(h=(null===(d=window.AppTextConstants)||void 0===d||null===(p=d.PROCTORING_CONSTANTS)||void 0===p?void 0:p.TAB_SWITCHING)||{},v=h.WARNING_HEADING,m=h.GENERIC_WARNING_SUBHEADING,y=h.FINAL_WARNING_SUBHEADING,g=h.ACTION_BUTTON_TEXT,b=o?y:m,t.createElement("div",{className:"n-reset-container tab-switching-container"},t.createElement("div",{className:"title"},o&&t.createElement(Rc.Z,{name:"exclamation-t",klass:"warning-icon"})," ",v),b&&t.createElement("div",{className:"message-text"},b),t.createElement("div",{className:"margin-top-24"},t.createElement("button",{className:"btn btn-blue btn-large",type:"button",onClick:function(){return f(!1)}},g)))))):null)};var HC={G2:{logo:"".concat(window.STATIC_URL,"images/company_logos/g2.png"),containerId:"g2-write-a-review-container",loadScript:function(e){!function(t,n,r,i,o,a,s){t.G2WriteAReview=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},a=n.createElement(r),s=n.getElementsByTagName(r)[0],a.async=1,a.src="https://www.g2.com/assets/write_a_review_entry.js",a.defer=1,a.onload=function(){return e()},s.parentNode.insertBefore(a,s)}(window,document,"script",0,"g2"),g2("write-a-review",{productSlug:"hackerearth-assessments",host:"https://www.g2.com",element:document.getElementById("g2-write-a-review-container"),buttonText:"Write a G2 Review",buttonColor:"#116de3",buttonHoverColor:"#2a7be2",buttonTextColor:"#fff"})}}};function zC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WC=(0,t.lazy)((function(){return c.e(3245).then(c.bind(c,83245))})),qC=function(){return t.createElement(Is.Z,{color:"blue",size:48,containerStyle:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})};const $C=function(){var e=zC((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){var e=function(e){e.detail.allAboveFour&&r(!0)};return document.addEventListener("externalRatingEvent",e),function(){return document.removeEventListener("externalRatingEvent",e)}}),[]),t.createElement("div",{className:"feedback-container"},n&&t.createElement(t.Suspense,{fallback:t.createElement(qC,null)},t.createElement(WC,{platform:HC.G2})))};var KC=["/:lang?/challenges/:testType/:eventSlug/problems/:problemHash?/:chats?/","/:lang?/recruiter/problem/:pTypeV/:pTypeId/:problemHash?/:chats?/","/:lang?/interview/:interviewuuid/problems/:problemHash?/:chats?/"];function QC(e){return QC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QC(e)}var YC;function JC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZC(r.key),r)}}function ZC(e){var t=function(e,t){if("object"!==QC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==QC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===QC(t)?t:String(t)}function XC(e,t){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XC(e,t)}function eO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tO(e);if(t){var i=tO(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===QC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function tO(e){return tO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tO(e)}function nO(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}!function(){var e=window.MathJax;if(e){e.Hub.Config({messageStyle:"none",jax:["input/TeX","output/SVG","output/HTML-CSS"],tex2jax:{inlineMath:[["$$","$$"],["\\(","\\)"]],displayMath:[["$$$","$$$"],["\\[","\\]"]],preview:"none"},SVG:{useGlobalCache:!1,minScaleAdjust:100},"HTML-CSS":{minScaleAdjust:100},CommonHTML:{minScaleAdjust:100}}),window.addEventListener("load",(function(){e.Hub.Queue(["Typeset",e.Hub])}))}else console.log("MathJax not found")}();var rO=(YC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XC(e,t)}(s,e);var n,r,i,a=eO(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={loaded:!1,partialLoaded:!1},t}return n=s,r=[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.loaded,n=e.partialLoaded,r=this.props,i=r.data,o=r.problems;if(t||i&&Object.keys(i).length&&o&&Object.keys(o).length&&(this.setState({loaded:!0}),this.setPartialLoaded(),this.whenFullyLoaded()),!n){var a=window.headerObj||{},s=a.takeSnapshot,u=a.hasFullscreen;i&&Object.keys(i).length&&JSON.parse(sessionStorage.getItem("assessment-problems-".concat(window.headerObj.eventSlug)))&&this.setPartialLoaded(),(s||u)&&this.setPartialLoaded()}}},{key:"setPartialLoaded",value:function(){$("#loader-logo").remove(),this.setState({partialLoaded:!0})}},{key:"whenFullyLoaded",value:function(){this.setState({loaded:!0})}},{key:"render",value:function(){var e=this.state.loaded,n=window.headerObj||{},r=n.takeSnapshot,i=n.hasFullscreen,a=n.testAdminEmail,s=this.props.audioProctoringEnabled;return t.createElement(t.Fragment,null,(r||i)&&t.createElement(Cf,{takeSnapshot:r,hasFullscreen:i,email:a}),t.createElement(il,null),(headerObj.testState===$s.PRE||headerObj.testState===$s.POST||e)&&t.createElement(af,null),headerObj.testState===$s.PRE&&t.createElement(Fs,null),headerObj.testState===$s.DURING?t.createElement(o.Z5,null,t.createElement(t.Fragment,null,KC.map((function(e){return t.createElement(o.AW,{exact:!0,path:e,element:t.createElement(DC,null)})})))):null,headerObj.testState===$s.DOWNLOAD&&t.createElement(al,null),headerObj.testState===$s.DURING&&t.createElement(t.Fragment,null,t.createElement(VC,null),s&&t.createElement(js,null)),headerObj.testState===$s.POST&&t.createElement($C,null))}}],r&&JC(n.prototype,r),i&&JC(n,i),Object.defineProperty(n,"prototype",{writable:!1}),s}(t.Component),nO(YC.prototype,"setPartialLoaded",[Os.Nj],Object.getOwnPropertyDescriptor(YC.prototype,"setPartialLoaded"),YC.prototype),nO(YC.prototype,"whenFullyLoaded",[Os.Nj],Object.getOwnPropertyDescriptor(YC.prototype,"whenFullyLoaded"),YC.prototype),YC);rO.propTypes={};var iO=(0,d.$j)((function(e){return{isLoading:e.headerReducer.appReducer.isLoading,error:e.headerReducer.appReducer.error,data:e.headerReducer.appReducer.data,problems:e.duringReducer.problemsListReducer.problems,audioProctoringEnabled:e.headerReducer.appReducer.data.audio_proctoring_enabled}}),(function(e){return{fetchHeaderData:function(t){return e(Ps.e.HeaderActions.AppActions.fetchHeaderData(t))},getProblemsData:function(t){return e(Ps.e.DuringActions.ProblemsListActions.getProblemsData(t))}}}))(rO);var oO=(0,t.lazy)((function(){return Promise.all([c.e(9547),c.e(6207),c.e(1729)]).then(c.bind(c,23791)).then((function(e){return{default:e.SurpriseQuestion}}))}));!function(){var e=window.assessmentObj,t=e.IS_PROD,n=e.IS_DESKTOP_APP;Ss(),t&&((0,_s.x4)()&&Ts(),n&&(window.google_tag_manager||function(e,t,n,r,i){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(n)[0],a=t.createElement(n),s="dataLayer"!=r?"&l="+r:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+i+s,o.parentNode.insertBefore(a,o)}(window,document,"script","dataLayer","GTM-KNLBBHC")))}();window.renderBluebook=function(){window.getCurrentLanguageCodeURL=_s._n,(0,e.s)(document.getElementById("testExperienceApp")).render(t.createElement(t.Suspense,{fallback:t.createElement(p.u,null)},t.createElement(h.uZ,null,t.createElement(d.zt,{store:Cs.G},t.createElement(u,null,t.createElement(o.Z5,null,t.createElement(o.AW,{path:"/:lang?/challenges/:testType/:eventSlug/follow-up-questions/",element:t.createElement(oO,null)}),t.createElement(o.AW,{path:"/*",element:t.createElement(iO,null)}))))))),v()}})()})();